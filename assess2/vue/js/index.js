(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],l=0,b=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&b.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){var o=s[i];0!==a[o]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=s[0]))}return e}var n={},i={index:0},a={index:0},r=[];function o(e){return c.p+"js/"+({"lang-de-json":"lang-de-json",special:"special"}[e]||e)+".js"}function c(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.e=function(e){var t=[],s={special:1};i[e]?t.push(i[e]):0!==i[e]&&s[e]&&t.push(i[e]=new Promise((function(t,s){for(var n="css/"+({"lang-de-json":"lang-de-json",special:"special"}[e]||e)+".css",a=c.p+n,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var u=r[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===a))return t()}var b=document.getElementsByTagName("style");for(o=0;o<b.length;o++){u=b[o],l=u.getAttribute("data-href");if(l===n||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[e],d.parentNode.removeChild(d),s(r)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){i[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,s){n=a[e]=[t,s]}));t.push(n[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var b=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;b.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",b.name="ChunkLoadError",b.type=n,b.request=i,s[1](b)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(s,n,function(t){return e[t]}.bind(null,n));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="vue/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var b=0;b<u.length;b++)t(u[b]);var d=l;r.push([0,"chunk-vendors","chunk-common"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"05fd":function(e,t,s){},"098e":function(e,t,s){"use strict";s("9911");var n=s("7a23"),i={key:0,id:"resource-pane"},a={class:"pane-header"},r=Object(n["h"])(" Resources "),o={class:"pane-body"},c={style:{"flex-grow":"1","margin-right":"12px"}};function u(e,t,s,u,l,b){var d=Object(n["A"])("icons");return b.assessResources.length>0?(Object(n["u"])(),Object(n["f"])("div",i,[Object(n["i"])("div",a,[s.showicon?(Object(n["u"])(),Object(n["f"])(d,{key:0,name:"file"})):Object(n["g"])("",!0),r]),Object(n["i"])("div",o,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(b.assessResources,(function(t,s){return Object(n["u"])(),Object(n["f"])("div",{key:s,class:"flexrow"},[Object(n["i"])("span",c,Object(n["D"])(t.label),1),Object(n["i"])("button",{onClick:function(e){return b.popout(t)},class:"min1000",title:e.$t("resource.sidebar"),"aria-label":e.$t("resource.sidebar")+" "+t.label},[Object(n["i"])(d,{name:"sidebar",alt:""})],8,["onClick","title","aria-label"]),Object(n["i"])("a",{class:"abutton",href:t.link,target:"res"+s,title:e.$t("resource.newtab"),"aria-label":e.$t("resource.newtab")+" "+t.label},[Object(n["i"])(d,{name:"extlink",alt:""})],8,["href","target","title","aria-label"])])})),128))])])):Object(n["g"])("",!0)}var l=s("6081"),b=s("f05b"),d={name:"ResourcePane",props:["showicon"],components:{Icons:b["a"]},computed:{assessResources:function(){return l["b"].assessInfo.resources},docEl:function(){return window.document.documentElement}},methods:{popout:function(e){window.GB_show(e.label,e.link,760,"auto",!1,"left",["skip-question-header","assess-header","resource-dropdown"])}}};s("5964");d.render=u;t["a"]=d},"0ed6":function(e,t,s){},1238:function(e,t,s){},1389:function(e,t,s){},"170c":function(e,t,s){},"1b75":function(e,t,s){"use strict";s("ef85")},"1d45":function(e,t,s){"use strict";s("5ca9")},"1dac":function(e,t,s){"use strict";s("249c")},"249c":function(e,t,s){},"26c5":function(e,t,s){"use strict";s("3bc1")},"2d0d":function(e,t,s){},"3bc1":function(e,t,s){},"3e1a":function(e,t,s){"use strict";s("d402")},"41cb":function(e,t,s){"use strict";s("d3b7"),s("ac1f"),s("466d"),s("5319"),s("841c");var n=s("7a23"),i=s("6c02"),a=s("6081"),r=(s("b0c0"),{class:"home flexpanes"}),o={style:{"flex-grow":"1"}},c={class:"settings-list"},u={key:0,class:"flexrow"},l={key:1,class:"flexrow"},b={key:0,class:"noticetext"},d={key:1,class:"noticetext"},p=Object(n["i"])("br",null,null,-1),f={key:0},h={key:1},m={key:2,class:"noticetext"},O={key:3},j=Object(n["i"])("br",null,null,-1),w={key:4},g=Object(n["i"])("br",null,null,-1),y={key:5},v=Object(n["h"])("   "),_={key:6,class:"noticetext"},q={key:0};function k(e,t,s,i,a,k){var I=Object(n["A"])("settings-list"),x=Object(n["A"])("icons"),$=Object(n["A"])("password-entry"),D=Object(n["A"])("group-entry"),A=Object(n["A"])("summary-gb-score"),P=Object(n["A"])("previous-attempts");return Object(n["u"])(),Object(n["f"])("div",r,[Object(n["i"])("div",o,[Object(n["i"])("h1",null,Object(n["D"])(k.aInfo.name),1),Object(n["i"])("div",{class:"med-below",innerHTML:k.aInfo.summary,ref:"summary"},null,8,["innerHTML"]),Object(n["i"])(I),Object(n["i"])("div",c,[k.aInfo.has_password?(Object(n["u"])(),Object(n["f"])("div",u,[Object(n["i"])("div",null,[Object(n["i"])(x,{name:"lock",size:"small"})]),Object(n["i"])($,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),onOnenter:k.startAssess},null,8,["modelValue","onOnenter"])])):Object(n["g"])("",!0),k.aInfo.isgroup>0?(Object(n["u"])(),Object(n["f"])("div",l,[Object(n["i"])("div",null,[Object(n["i"])(x,{name:"group",size:"small"})]),Object(n["i"])(D,{onUpdateNewGroup:k.updateNewGroup},null,8,["onUpdateNewGroup"])])):Object(n["g"])("",!0)]),null!==k.errorMsg?(Object(n["u"])(),Object(n["f"])("p",b,Object(n["D"])(k.errorMsg),1)):Object(n["g"])("",!0),""!==k.timeLimitExpired?(Object(n["u"])(),Object(n["f"])("p",d,[Object(n["i"])(x,{name:"alert"}),Object(n["h"])(" "+Object(n["D"])(k.timeLimitExpired)+" ",1),p,""!==k.timeLimitExt?(Object(n["u"])(),Object(n["f"])("span",f,[Object(n["i"])(x,{name:"alert"}),Object(n["h"])(" "+Object(n["D"])(k.timeLimitExt),1)])):(Object(n["u"])(),Object(n["f"])("span",h,[Object(n["i"])("button",{type:"button",class:"primary",onClick:t[2]||(t[2]=function(){return k.endAssess&&k.endAssess.apply(k,arguments)})},Object(n["D"])(e.$t("closed.submit_now")),1)]))])):""!==k.timeLimitExt?(Object(n["u"])(),Object(n["f"])("p",m,[Object(n["i"])(x,{name:"alert"}),Object(n["h"])(" "+Object(n["D"])(k.timeLimitExt),1)])):Object(n["g"])("",!0),k.canAddWork?(Object(n["u"])(),Object(n["f"])("p",O,[Object(n["h"])(Object(n["D"])(e.$t("work.add_prev")),1),j,Object(n["i"])("button",{type:"button",class:"secondary",onClick:t[3]||(t[3]=function(t){return e.$router.push("/showwork")})},Object(n["D"])(e.$t("work.add")),1)])):Object(n["g"])("",!0),k.showReset?(Object(n["u"])(),Object(n["f"])("p",w,[Object(n["h"])(Object(n["D"])(e.$t("launch.resetmsg"))+" ",1),g,Object(n["i"])("button",{type:"button",class:"secondary",onClick:t[4]||(t[4]=function(){return k.doReset&&k.doReset.apply(k,arguments)})},Object(n["D"])(e.$t("launch.doreset")),1)])):Object(n["g"])("",!0),k.showTutorLinks?(Object(n["u"])(),Object(n["f"])("p",y,[Object(n["h"])(Object(n["D"])(e.$t("launch.gblinks"))+": ",1),Object(n["i"])("a",{href:k.aInfo.tutor_gblinks[0],target:"_blank"},Object(n["D"])(e.$t("launch.scorelist")),9,["href"]),v,Object(n["i"])("a",{href:k.aInfo.tutor_gblinks[1],target:"_blank"},Object(n["D"])(e.$t("launch.itemanalysis")),9,["href"])])):Object(n["g"])("",!0),k.aInfo.view_as_stu?(Object(n["u"])(),Object(n["f"])("p",_,Object(n["D"])(e.$t("launch.view_as_stu",{name:k.aInfo.stu_fullname})),1)):Object(n["g"])("",!0),Object(n["i"])("p",null,[k.okToLaunch?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",class:"primary",onClick:t[5]||(t[5]=function(){return k.startAssess&&k.startAssess.apply(k,arguments)})},Object(n["D"])(k.startLabel),1)):Object(n["g"])("",!0),Object(n["i"])("input",{type:"submit",style:{display:"none"},onClick:t[6]||(t[6]=function(){return k.startAssess&&k.startAssess.apply(k,arguments)}),value:"Submit"}),k.showPreviewAll?(Object(n["u"])(),Object(n["f"])("button",{key:1,class:"secondary",onClick:t[7]||(t[7]=function(){return k.teacherPreviewAll&&k.teacherPreviewAll.apply(k,arguments)})},Object(n["D"])(e.$t("closed.teacher_previewall_button")),1)):Object(n["g"])("",!0),k.hasExit?(Object(n["u"])(),Object(n["f"])("button",{key:2,type:"button",class:"secondary",onClick:t[8]||(t[8]=function(){return k.exitAssess&&k.exitAssess.apply(k,arguments)})},Object(n["D"])(e.$t("closed.exit")),1)):Object(n["g"])("",!0)])]),k.aInfo.hasOwnProperty("prev_attempts")&&k.aInfo.prev_attempts.length>0?(Object(n["u"])(),Object(n["f"])("div",q,[Object(n["i"])(A),Object(n["i"])(P,{caption:e.$t("prev.previous_attempts")},null,8,["caption"])])):Object(n["g"])("",!0)])}s("4c53");var I={class:"settings-list"},x={key:0,class:"noticetext"},$={key:1,class:"small subdued"},D={key:2,class:"small subdued"},A={key:3,class:"small subdued"};function P(e,t,s,i,a,r){var o=Object(n["A"])("icons");return Object(n["u"])(),Object(n["f"])("div",I,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.settingRows,(function(e,s){return Object(n["u"])(),Object(n["f"])("div",{class:"flexrow",key:s},[Object(n["i"])("div",null,[Object(n["i"])(o,{name:e.icon,size:"small"},null,8,["name"])]),Object(n["i"])("div",null,[Object(n["i"])("div",{class:{strikethrough:!!e.altstr}},Object(n["D"])(e.str),3),e.altstr?(Object(n["u"])(),Object(n["f"])("div",x,Object(n["D"])(e.altstr),1)):Object(n["g"])("",!0),e.sub?(Object(n["u"])(),Object(n["f"])("div",$,Object(n["D"])(e.sub),1)):Object(n["g"])("",!0),e.alert?(Object(n["u"])(),Object(n["f"])("div",D,[Object(n["i"])(o,{name:"alert",size:"micro"}),Object(n["h"])(" "+Object(n["D"])(e.alert),1)])):Object(n["g"])("",!0),e.latepass?(Object(n["u"])(),Object(n["f"])("div",A,[Object(n["h"])(Object(n["D"])(e.latepass)+" ",1),Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return r.redeemLatePass&&r.redeemLatePass.apply(r,arguments)}),class:"slim secondary"},Object(n["D"])(e.latepass_label),1)])):Object(n["g"])("",!0)])])})),128))])}var T=s("f05b"),S={name:"SettingsList",components:{Icons:T["a"]},data:function(){return{now:new Date}},computed:{settingRows:function(){var e=[],t=a["b"].assessInfo;return t.in_practice?e.push({icon:"alert",str:this.$t("setlist.practice")}):(e.push(this.getPointsObj()),t.enddate<2e9&&e.push(this.getDateObj()),"by_assessment"===t.submitby&&t.allowed_attempts>1&&e.push(this.getAttemptsObj()),t.timelimit>0&&e.push(this.getTimelimitObj())),e}},methods:{getPointsObj:function(){var e=a["b"].assessInfo,t={icon:"square-check",str:this.$t("setlist.points_possible",{pts:e.points_possible})};return a["b"].assessInfo.hasOwnProperty("excused")&&(t.alert=this.$t("setlist.excused")),t},getDateObj:function(){var e=a["b"].assessInfo,t=e.enddate_disp,s={icon:"calendar",str:this.$t("setlist.due_at",{date:t})};if(e.hasOwnProperty("original_enddate")){var n=e.original_enddate_disp;s.sub=this.$t("setlist.originally_due",{date:n}),"latepass"===e.extended_with.type?s.sub+=" "+this.$tc("setlist.latepass_used",e.extended_with.n):s.sub+=" "+this.$t("setlist.extension"),e.exceptionpenalty>0&&(s.alert=this.$t("setlist.penalty",{p:e.exceptionpenalty}))}return e.can_use_latepass>0&&(s.latepass=this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),s.latepass_label=this.$tc("closed.use_latepass",e.can_use_latepass)),s},getAttemptsObj:function(){var e,t,s,n,i=a["b"].assessInfo,r=i.allowed_attempts-i.prev_attempts.length,o="";i.hasOwnProperty("attemptext")&&(o=0===i.prev_attempts.length?this.$tc("setlist.take",r):this.$tc("setlist.take_more",r),r=Math.max(0,r-i.attemptext)),t=0===i.prev_attempts.length?this.$tc("setlist.take",r):this.$tc("setlist.take_more",r),i.has_active_attempt?(e=this.$t("setlist.attempt_inprogress"),s=this.$t("setlist.cur_attempt_n_of",{n:i.prev_attempts.length+1,nmax:i.allowed_attempts})):(e=t,s=""),"best"===i.keepscore?s+=this.$t("setlist.keep_highest"):"average"===i.keepscore?s+=this.$t("setlist.keep_average"):"last"===i.keepscore&&(s+=this.$t("setlist.keep_last"));var c=i.prev_attempts.length+1;if(c>i.retake_penalty.n&&i.retake_penalty.penalty>0){var u=i.retake_penalty.penalty*(c-i.retake_penalty.n);n=this.$t("setlist.retake_penalty",{p:u})}return{icon:"retake",str:e,altstr:o,sub:s,alert:n}},getTimelimitObj:function(){var e=a["b"].assessInfo,t={icon:"timer"};if(e.has_active_attempt&&e.timelimit_ext&&e.timelimit_ext<0)t.str=this.$t("setlist.timelimit_ext_used",{n:Math.abs(e.timelimit_ext)});else{var s=e.timelimit*e.timelimit_multiplier;e.overtime_grace>0?t.str=this.$t("setlist.timelimit_wgrace",{time:this.formatTimeLimit(s),grace:this.formatTimeLimit(e.overtime_grace*e.timelimit_multiplier),penalty:e.overtime_penalty}):t.str=this.$t("setlist.timelimit",{time:this.formatTimeLimit(s)}),1===a["b"].timelimit_restricted?t.altstr=this.$t("setlist.timelimit_restricted",{due:e.enddate_disp}):2===a["b"].timelimit_restricted&&(t.altstr=this.$t("setlist.timelimit_wgrace_restricted",{time:this.formatTimeLimit(s),due:e.enddate_disp,penalty:e.overtime_penalty})),e.timelimit_multiplier>1&&(t.sub=this.$t("setlist.timelimit_extend",{time:this.formatTimeLimit(e.timelimit)}))}if(e.has_active_attempt)if(a["b"].timelimit_expired)a["b"].timelimit_grace_expired?e.timelimit_ext&&e.timelimit_ext>0&&(t.str=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext})):t.alert=this.$t("setlist.time_grace_expires",{date:e.timelimit_expires_disp,grace:e.timelimit_grace_disp});else{var n=e.timelimit_expires_disp;e.overtime_grace>0&&e.timelimit_grace>e.timelimit_expires?t.alert=this.$t("setlist.time_expires_wgrace",{date:n,grace:e.timelimit_grace_disp}):t.alert=this.$t("setlist.time_expires",{date:n})}else e.timelimit_ext&&e.timelimit_ext>0&&(t.alert=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext}));return t},formatTimeLimit:function(e){var t=Math.floor(e/3600),s=Math.floor(e/60)-60*t,n=e-60*s-3600*t,i="";return t>0&&(i+=this.$tc("hours",t)),s>0&&(""!==i&&(i+=" "),i+=this.$tc("minutes",s)),n>0&&(""!==i&&(i+=" "),i+=this.$tc("seconds",n)),i},redeemLatePass:function(){var e=a["b"].assessInfo;a["b"].confirmObj={body:this.$tc("closed.latepassn",e.latepasses_avail)+" "+this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),ok:this.$tc("closed.use_latepass",e.can_use_latepass),action:function(){return a["a"].redeemLatePass()}}}}};s("3e1a");S.render=P;var Q=S,C={for:"password"};function M(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])("label",C,Object(n["D"])(e.$t("password.label")),1),Object(n["i"])("input",{value:s.value,id:"password",name:"password",type:"password",autocomplete:"off",onInput:t[1]||(t[1]=function(){return r.handleInput&&r.handleInput.apply(r,arguments)}),onKeyup:t[2]||(t[2]=Object(n["N"])((function(t){return e.$emit("onenter")}),["enter"]))},null,40,["value"])])}var L={name:"PasswordEntry",props:["value"],methods:{handleInput:function(e){this.$emit("input",e.target.value)}}};L.render=M;var E=L,V={key:0},N={key:1},F={key:0},R={class:"no-margin-top"},H={key:2},B={key:3},U={for:"addtogroup"},G={value:"0"};function W(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])("div",null,Object(n["D"])(e.$t("group.isgroup")),1),r.canViewAll?(Object(n["u"])(),Object(n["f"])("div",V,Object(n["D"])(r.teacherNote),1)):r.groupMembers.length>0?(Object(n["u"])(),Object(n["f"])("div",N,[Object(n["h"])(Object(n["D"])(e.$t("group.members"))+" ",1),r.showMax?(Object(n["u"])(),Object(n["f"])("span",F," ("+Object(n["D"])(e.$t("group.max",{n:r.groupMax}))+") ",1)):Object(n["g"])("",!0),Object(n["i"])("ul",R,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.groupMembers,(function(t,s){return Object(n["u"])(),Object(n["f"])("li",{key:s},[Object(n["h"])(Object(n["D"])(t.name)+" ",1),t.new?(Object(n["u"])(),Object(n["f"])("button",{key:0,class:"plain slim subdued",tabindex:"0",onClick:function(e){return r.removeMember(t.index)}},Object(n["D"])(e.$t("group.remove")),9,["onClick"])):Object(n["g"])("",!0)])})),128))])])):r.isPresetGroups?(Object(n["u"])(),Object(n["f"])("div",H,Object(n["D"])(e.$t("group.needpreset")),1)):Object(n["g"])("",!0),r.canAddMembers?(Object(n["u"])(),Object(n["f"])("div",B,[Object(n["i"])("label",U,Object(n["D"])(e.$t("group.add")),1),Object(n["M"])(Object(n["i"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newMember=t}),id:"addtogroup"},[Object(n["i"])("option",G,Object(n["D"])(e.$t("group.select")),1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.availableUsers,(function(e){return Object(n["u"])(),Object(n["f"])("option",{value:e.id,key:e.id},Object(n["D"])(e.name),9,["value"])})),128))],512),[[n["H"],e.newMember]]),Object(n["i"])("button",{class:"slim",onClick:t[2]||(t[2]=function(){return r.addMember&&r.addMember.apply(r,arguments)})},Object(n["D"])(e.$t("group.addbutton")),1)])):Object(n["g"])("",!0)])}s("c975"),s("a434");var z={name:"GroupEntry",data:function(){return{newMember:0,newGroupMembers:[]}},computed:{groupMax:function(){return a["b"].assessInfo.groupmax},groupMembers:function(){var e=[];if(!a["b"].assessInfo.hasOwnProperty("group_members"))return e;for(var t=0;t<a["b"].assessInfo.group_members.length;t++)e.push({name:a["b"].assessInfo.group_members[t],new:!1});for(var s=0;s<this.newGroupMembers.length;s++)e.push({name:a["b"].assessInfo.group_avail[this.newGroupMembers[s]],new:!0,index:s});return e},availableUsers:function(){var e=[];for(var t in a["b"].assessInfo.group_avail)-1===this.newGroupMembers.indexOf(t)&&e.push({id:t,name:a["b"].assessInfo.group_avail[t]});return e},showMax:function(){return 2===a["b"].assessInfo.isgroup},canAddMembers:function(){return!this.canViewAll&&2===a["b"].assessInfo.isgroup&&this.groupMembers.length<a["b"].assessInfo.groupmax},isPresetGroups:function(){return 3===a["b"].assessInfo.isgroup},canViewAll:function(){return a["b"].assessInfo.can_view_all},teacherNote:function(){return this.isPresetGroups?this.$t("group.teacher_preset"):this.$t("group.teacher_auto",{n:a["b"].assessInfo.groupmax})}},methods:{removeMember:function(e){this.newGroupMembers.splice(e,1),this.handleChange()},addMember:function(){this.newMember>0&&(this.newGroupMembers.push(this.newMember),this.newMember=0,this.handleChange())},handleChange:function(){this.$emit("update-new-group",this.newGroupMembers)}}};z.render=W;var K=z,J={class:"pane-body"},Y={class:"scorelist med-below"},X={key:0},Z={key:0,class:"med-left"},ee={key:0};function te(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",J,[Object(n["i"])("table",Y,[Object(n["i"])("caption",null,Object(n["D"])(s.caption),1),Object(n["i"])("tr",null,[Object(n["i"])("th",null,Object(n["D"])(e.$t("prev.date")),1),r.prevAttempts[0].hasOwnProperty("score")?(Object(n["u"])(),Object(n["f"])("th",X,Object(n["D"])(e.$t("prev.score")),1)):Object(n["g"])("",!0)]),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.prevAttempts,(function(e,t){return Object(n["u"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("td",null,Object(n["D"])(e.date),1),e.hasOwnProperty("score")?(Object(n["u"])(),Object(n["f"])("td",Z,Object(n["D"])(Math.round(1e3*e.score/r.totPoss)/10)+"% ",1)):Object(n["g"])("",!0)])})),128))]),r.showGbLink?(Object(n["u"])(),Object(n["f"])("p",ee,[Object(n["i"])("a",{href:r.gbUrl},Object(n["D"])(e.$t("prev.viewingb")),9,["href"])])):Object(n["g"])("",!0)])}var se={name:"PreviousAttempts",props:["caption"],computed:{prevAttempts:function(){return a["b"].assessInfo.prev_attempts},totPoss:function(){return a["b"].assessInfo.points_possible},ainfo:function(){return a["b"].assessInfo},showGbLink:function(){var e=a["b"].assessInfo.viewingb;return("immediately"===e||"after_take"===e)&&this.prevAttempts.length>0&&!a["b"].assessInfo.can_view_all},gbUrl:function(){var e="gbviewassess.php?";return e+="cid="+a["b"].cid,e+="&aid="+a["b"].aid,e+="&uid="+a["b"].uid,e}}};s("e48b");se.render=te;var ne=se,ie={key:0,class:"pane-header"},ae=Object(n["i"])("br",null,null,-1),re={class:"small subdued"};function oe(e,t,s,i,a,r){return r.showGBScore?(Object(n["u"])(),Object(n["f"])("div",ie,[Object(n["i"])("strong",null,Object(n["D"])(e.$t("summary.recordedscore"))+": "+Object(n["D"])(r.gbScore)+"%",1),ae,Object(n["i"])("span",re,Object(n["D"])(r.scoreUsed),1)])):Object(n["g"])("",!0)}var ce={name:"SummaryGbScore",computed:{ainfo:function(){return a["b"].assessInfo},scoreUsed:function(){return"override"===this.ainfo.scored_attempt.kept?this.$t("summary.use_override"):"best"===this.ainfo.keepscore&&"by_assessment"===this.ainfo.submitby?this.$t("setlist.keep_highest"):"best"===this.ainfo.keepscore&&"by_question"===this.ainfo.submitby?this.$t("setlist.keep_highest_q"):"average"===this.ainfo.keepscore?this.$t("setlist.keep_average"):"last"===this.ainfo.keepscore?this.$t("setlist.keep_last"):""},showGBScore:function(){return this.ainfo.hasOwnProperty("scored_attempt")&&this.ainfo.scored_attempt.hasOwnProperty("score")&&"none"!==this.ainfo.showscores},gbScore:function(){return Math.round(1e3*this.ainfo.scored_attempt.score/this.ainfo.points_possible)/10}}};ce.render=oe;var ue=ce,le={name:"Launch",components:{SettingsList:Q,PasswordEntry:E,GroupEntry:K,SummaryGbScore:ue,PreviousAttempts:ne,Icons:T["a"]},data:function(){return{password:"",newGroupMembers:[]}},computed:{aInfo:function(){return a["b"].assessInfo},errorMsg:function(){return null===a["b"].errorMsg?null:this.$t("error."+a["b"].errorMsg)},startLabel:function(){return this.aInfo.has_active_attempt?this.$t("launch.continue_assess"):"by_assessment"===this.aInfo.submitby&&this.aInfo.prev_attempts.length>0?this.$t("launch.retake_assess"):this.$t("launch.start_assess")},timeLimitExpired:function(){if(a["b"].timelimit_expired&&a["b"].timelimit_grace_expired&&this.aInfo.has_active_attempt){var e=this.aInfo.timelimit_expires_disp;return this.$t("setlist.time_expired",{date:e})}return""},timeLimitExt:function(){return this.aInfo.timelimit_ext&&this.aInfo.timelimit_ext>0&&this.aInfo.has_active_attempt?this.$t("setlist.timelimit_ext",{n:this.aInfo.timelimit_ext}):""},okToLaunch:function(){return!(!this.canViewAll&&3===this.aInfo.isgroup&&0===this.aInfo.group_members.length)&&!(this.aInfo.timelimit>0&&this.aInfo.has_active_attempt&&(a["b"].timelimit_expired&&"kick_out"===this.aInfo.timelimit_type||a["b"].timelimit_grace_expired&&"allow_overtime"===this.aInfo.timelimit_type)&&""===this.timeLimitExt)},showPreviewAll:function(){return a["b"].assessInfo.can_view_all&&!this.aInfo.view_as_stu},showReset:function(){return this.aInfo.is_teacher&&!this.aInfo.view_as_stu&&(this.aInfo.has_active_attempt||this.aInfo.prev_attempts.length>0||this.aInfo.has_unsubmitted_scored)},hasExit:function(){return window.exiturl&&""!==window.exiturl},canAddWork:function(){return(!this.aInfo.has_active_attempt||"by_question"===this.aInfo.submitby)&&this.aInfo.showwork_after},showTutorLinks:function(){return this.aInfo.hasOwnProperty("tutor_gblinks")}},methods:{startAssess:function(){var e=this;if(this.okToLaunch){var t=this.aInfo.timelimit;if(this.aInfo.has_password){var s=document.getElementById("password");s&&s.value!==this.password&&(this.password=s.value)}0===t?this.reallyStartAssess():a["b"].confirmObj={body:"launch.timewarning",ok:"launch.start_assess",action:function(){return e.reallyStartAssess()}}}},teacherPreviewAll:function(){a["a"].startAssess(!1,"",[],null,!0)},reallyStartAssess:function(){var e=this.password;this.password="",a["a"].startAssess(!1,e,this.newGroupMembers)},endAssess:function(){a["a"].endAssess()},doReset:function(){a["a"].loadAssessData(null,!0)},updateNewGroup:function(e){this.newGroupMembers=e},exitAssess:function(){window.location=window.exiturl}},mounted:function(){if("livepoll"===this.aInfo.displaymethod){var e=document.createElement("script");e.src="https://"+this.aInfo.livepoll_server+":3000/socket.io/socket.io.js",document.getElementsByTagName("head")[0].appendChild(e)}setTimeout(window.drawPics,50),window.rendermathnode(this.$refs.summary),window.initlinkmarkup(this.$refs.summary)}};le.render=k;var be=le,de={class:"home flexpanes"},pe={style:{"flex-grow":"1"}},fe={key:0},he=Object(n["h"])("   "),me={key:1},Oe=Object(n["i"])("br",null,null,-1),je={key:2},we=Object(n["i"])("br",null,null,-1),ge={key:3},ye=Object(n["i"])("br",null,null,-1),ve={key:4},_e={key:5},qe=Object(n["i"])("br",null,null,-1),ke={key:0},Ie=Object(n["i"])("br",null,null,-1),xe={key:6},$e={key:0},De=Object(n["i"])("br",null,null,-1),Ae={key:7},Pe=Object(n["i"])("br",null,null,-1),Te={key:8},Se=Object(n["i"])("br",null,null,-1),Qe={key:0};function Ce(e,t,s,i,a,r){var o=Object(n["A"])("icons"),c=Object(n["A"])("summary-gb-score"),u=Object(n["A"])("previous-attempts");return Object(n["u"])(),Object(n["f"])("div",de,[Object(n["i"])("div",pe,[Object(n["i"])("h1",null,Object(n["D"])(r.settings.name),1),Object(n["i"])("p",null,Object(n["D"])(r.closedMessage),1),r.showTutorLinks?(Object(n["u"])(),Object(n["f"])("p",fe,[Object(n["h"])(Object(n["D"])(e.$t("launch.gblinks"))+": ",1),Object(n["i"])("a",{href:r.settings.tutor_gblinks[0],target:"_blank"},Object(n["D"])(e.$t("launch.scorelist")),9,["href"]),he,Object(n["i"])("a",{href:r.settings.tutor_gblinks[1],target:"_blank"},Object(n["D"])(e.$t("launch.itemanalysis")),9,["href"])])):Object(n["g"])("",!0),r.hasActive?(Object(n["u"])(),Object(n["f"])("p",me,[Object(n["h"])(Object(n["D"])(r.hasActiveMsg)+" ",1),Oe,Object(n["i"])("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=function(){return r.endAssess&&r.endAssess.apply(r,arguments)})},Object(n["D"])(e.$t("closed.submit_now")),1)])):r.canAddWork?(Object(n["u"])(),Object(n["f"])("p",je,[Object(n["h"])(Object(n["D"])(e.$t("work.add_prev")),1),we,Object(n["i"])("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=function(t){return e.$router.push("/showwork")})},Object(n["D"])(e.$t("work.add")),1)])):Object(n["g"])("",!0),r.settings.can_use_latepass>0&&r.showLatePassOffer?(Object(n["u"])(),Object(n["f"])("p",ge,[Object(n["h"])(Object(n["D"])(e.$tc("closed.latepassn",r.settings.latepasses_avail))+" ",1),ye,Object(n["h"])(" "+Object(n["D"])(r.latepassExtendMsg),1)])):Object(n["g"])("",!0),"practice"===r.settings.available&&0===r.settings.can_use_latepass?(Object(n["u"])(),Object(n["f"])("p",ve,Object(n["D"])(e.$t("closed.practice_no_latepass")),1)):"practice"===r.settings.available&&r.settings.can_use_latepass>0?(Object(n["u"])(),Object(n["f"])("p",_e,[Object(n["h"])(Object(n["D"])(e.$t("closed.practice_w_latepass"))+" ",1),qe,Object(n["i"])(o,{name:"alert",size:"micro"}),Object(n["h"])(" "+Object(n["D"])(e.$t("closed.will_block_latepass"))+" ",1),r.settings.hasOwnProperty("excused")?(Object(n["u"])(),Object(n["f"])("span",ke,[Ie,Object(n["i"])(o,{name:"alert",size:"micro"}),Object(n["h"])(" "+Object(n["D"])(e.$t("setlist.excused")),1)])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),r.canViewScored?(Object(n["u"])(),Object(n["f"])("p",xe,[Object(n["h"])(Object(n["D"])(e.$t("closed.can_view_scored"))+" ",1),r.settings.can_use_latepass>0?(Object(n["u"])(),Object(n["f"])("span",$e,[De,Object(n["i"])(o,{name:"alert",size:"micro"}),Object(n["h"])(" "+Object(n["D"])(e.$t("closed.will_block_latepass")),1)])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["i"])("p",null,[""!=r.primaryButton?(Object(n["u"])(),Object(n["f"])("button",{key:0,class:"primary",onClick:t[3]||(t[3]=function(){return r.handlePrimary&&r.handlePrimary.apply(r,arguments)})},Object(n["D"])(r.primaryButton),1)):Object(n["g"])("",!0),r.canViewScored?(Object(n["u"])(),Object(n["f"])("button",{key:1,class:"secondarybtn",onClick:t[4]||(t[4]=function(){return r.handleViewScored&&r.handleViewScored.apply(r,arguments)})},Object(n["D"])(e.$t("closed.view_scored")),1)):Object(n["g"])("",!0),""!=r.secondaryButton?(Object(n["u"])(),Object(n["f"])("button",{key:2,class:"secondarybtn",onClick:t[5]||(t[5]=function(){return r.handleSecondary&&r.handleSecondary.apply(r,arguments)})},Object(n["D"])(r.secondaryButton),1)):Object(n["g"])("",!0)]),r.canViewAll&&r.showReset?(Object(n["u"])(),Object(n["f"])("p",Ae,[Object(n["h"])(Object(n["D"])(e.$t("launch.resetmsg"))+" ",1),Pe,Object(n["i"])("button",{type:"button",class:"primary",onClick:t[6]||(t[6]=function(){return r.doReset&&r.doReset.apply(r,arguments)})},Object(n["D"])(e.$t("launch.doreset")),1)])):Object(n["g"])("",!0),r.canViewAll?(Object(n["u"])(),Object(n["f"])("p",Te,[Object(n["h"])(Object(n["D"])(e.$t("closed.teacher_preview"))+" ",1),Se,Object(n["i"])("button",{class:"primary",onClick:t[7]||(t[7]=function(){return r.teacherPreview&&r.teacherPreview.apply(r,arguments)})},Object(n["D"])(e.$t("closed.teacher_preview_button")),1),Object(n["i"])("button",{class:"secondary",onClick:t[8]||(t[8]=function(){return r.teacherPreviewAll&&r.teacherPreviewAll.apply(r,arguments)})},Object(n["D"])(e.$t("closed.teacher_previewall_button")),1)])):Object(n["g"])("",!0)]),r.settings.hasOwnProperty("prev_attempts")&&r.settings.prev_attempts.length>0?(Object(n["u"])(),Object(n["f"])("div",Qe,[Object(n["i"])(c),Object(n["i"])(u,{caption:e.$t("prev.scored_attempts")},null,8,["caption"])])):Object(n["g"])("",!0)])}var Me={name:"Closed",components:{Icons:T["a"],PreviousAttempts:ne,SummaryGbScore:ue},computed:{settings:function(){return a["b"].assessInfo},closedMessage:function(){return"hidden"===this.settings.available?this.$t("closed.hidden"):"notyet"===this.settings.available?this.$t("closed.notyet",{sd:this.settings.startdate_disp,ed:this.settings.enddate_disp}):"practice"===this.settings.available||"pastdue"===this.settings.available?this.$t("closed.pastdue",{ed:this.settings.enddate_disp}):"needprereq"===this.settings.available?this.$t("closed.needprereq")+" "+this.$t("closed.prereqreq",{score:this.settings.reqscorevalue,name:this.settings.reqscorename}):this.settings.hasOwnProperty("pasttime")?this.$t("closed.pasttime"):!1===this.settings.has_active_attempt&&!1===this.settings.can_retake?this.$t("closed.no_attempts"):""},hasActive:function(){return"by_assessment"===this.settings.submitby&&("yes"===this.settings.available&&this.settings.has_active_attempt||"yes"!==this.settings.available&&this.settings.has_unsubmitted_scored)},hasActiveMsg:function(){if(this.settings.hasOwnProperty("timelimit_expiresin")){var e=1e3*this.settings.timelimit_expiresin;return e<0?this.$t("closed.unsubmitted_overtime"):this.$t("closed.unsubmitted_pastdue")}return this.$t("closed.unsubmitted_pastdue")},showLatePassOffer:function(){return"needprereq"!==this.settings.available&&!this.settings.hasOwnProperty("pasttime")},latepassExtendMsg:function(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},primaryAction:function(){return this.settings.can_use_latepass>0&&this.showLatePassOffer?"latepass":"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl?"exit":""},primaryButton:function(){return"latepass"===this.primaryAction?this.$tc("closed.use_latepass",this.settings.can_use_latepass):"practice"===this.primaryAction?this.$t("closed.do_practice"):"exit"===this.primaryAction?this.$t("closed.exit"):""},secondaryAction:function(){return"practice"!==this.primaryAction&&"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl&&"exit"!==this.primaryAction?"exit":""},secondaryButton:function(){return"practice"===this.secondaryAction?this.$t("closed.do_practice"):"exit"===this.secondaryAction?this.$t("closed.exit"):""},canViewScored:function(){return!this.canViewAll&&"never"!==this.settings.viewingb&&this.settings.prev_attempts.length>0&&("practice"===this.settings.available||"pastdue"===this.settings.available)},canViewAll:function(){return a["b"].assessInfo.can_view_all},showReset:function(){return a["b"].assessInfo.hasOwnProperty("show_reset")||a["b"].assessInfo.is_teacher&&!a["b"].assessInfo.view_as_stu&&(a["b"].assessInfo.has_active_attempt||a["b"].assessInfo.prev_attempts.length>0||a["b"].assessInfo.has_unsubmitted_scored)},canAddWork:function(){return a["b"].assessInfo.showwork_after},showTutorLinks:function(){return a["b"].assessInfo.hasOwnProperty("tutor_gblinks")}},methods:{handleViewScored:function(){0===this.settings.can_use_latepass?window.location=a["b"].APIbase+"gbviewassess.php?cid="+a["b"].cid+"&aid="+a["b"].aid+"&uid="+a["b"].uid:a["b"].confirmObj={body:"closed.confirm",action:function(){window.location=a["b"].APIbase+"gbviewassess.php?cid="+a["b"].cid+"&aid="+a["b"].aid+"&uid="+a["b"].uid}}},handlePrimary:function(){"latepass"===this.primaryAction?a["a"].redeemLatePass():"practice"===this.primaryAction?a["a"].startAssess(!0,"",[]):"exit"===this.primaryAction&&(window.location=window.exiturl)},handleSecondary:function(){"practice"===this.secondaryAction&&0===this.settings.can_use_latepass?a["a"].startAssess(!0,"",[]):"practice"===this.secondaryAction?a["b"].confirmObj={body:"closed.confirm",action:function(){a["a"].startAssess(!0,"",[])}}:"exit"===this.secondaryAction&&(window.location=window.exiturl)},teacherPreview:function(){a["a"].startAssess(!1,"",[])},teacherPreviewAll:function(){a["a"].startAssess(!1,"",[],null,!0)},doReset:function(){a["a"].loadAssessData(null,!0)},endAssess:function(){a["a"].endAssess()}}};Me.render=Ce;var Le=Me,Ee=(s("b64b"),{class:"home"}),Ve={class:"flexpanes"},Ne={style:{"flex-grow":"1"}},Fe={key:1},Re={id:"excusedlist"},He={key:2},Be=Object(n["i"])("p",null," ",-1),Ue={key:0};function Ge(e,t,s,i,a,r){var o=Object(n["A"])("summary-header"),c=Object(n["A"])("summary-diag-info"),u=Object(n["A"])("summary-score-total"),l=Object(n["A"])("summary-score-list"),b=Object(n["A"])("summary-categories"),d=Object(n["A"])("vue-tab"),p=Object(n["A"])("summary-reshow-questions"),f=Object(n["A"])("vue-tabs"),h=Object(n["A"])("summary-gb-score"),m=Object(n["A"])("previous-attempts");return Object(n["u"])(),Object(n["f"])("div",Ee,[Object(n["i"])(o,{class:"headerpane"}),Object(n["i"])("div",Ve,[Object(n["i"])("div",Ne,[Object(n["i"])(c),Object(n["i"])(u),r.ainfo.hasOwnProperty("endmsg")&&""!=r.ainfo.endmsg?(Object(n["u"])(),Object(n["f"])("div",{key:0,innerHTML:r.ainfo.endmsg,class:"introtext"},null,8,["innerHTML"])):Object(n["g"])("",!0),r.ainfo.hasOwnProperty("newexcused")&&Object.keys(r.ainfo.newexcused).length>0?(Object(n["u"])(),Object(n["f"])("div",Fe,[Object(n["i"])("p",null,Object(n["D"])(e.$t("summary.new_excused")),1),Object(n["i"])("ul",Re,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.ainfo.newexcused,(function(e,t){return Object(n["u"])(),Object(n["f"])("li",{key:t},Object(n["D"])(e),1)})),128))])])):Object(n["g"])("",!0),r.showScores?(Object(n["u"])(),Object(n["f"])("div",He,[Object(n["i"])(f,{id:"scoretabs"},{default:Object(n["L"])((function(){return[Object(n["i"])(d,{name:e.$t("summary.scorelist")},{default:Object(n["L"])((function(){return[Object(n["i"])(l),Be,r.hasCategories?(Object(n["u"])(),Object(n["f"])(b,{key:0,data:r.ainfo.questions},null,8,["data"])):Object(n["g"])("",!0)]})),_:1},8,["name"]),r.showReviewQ?(Object(n["u"])(),Object(n["f"])(d,{key:0,name:e.$t("summary.reshowquestions")},{default:Object(n["L"])((function(e){var t=e.active;return[Object(n["i"])(p,{active:t},null,8,["active"])]})),_:1},8,["name"])):Object(n["g"])("",!0)]})),_:1})])):Object(n["g"])("",!0)]),r.ainfo.hasOwnProperty("prev_attempts")&&r.ainfo.prev_attempts.length>0?(Object(n["u"])(),Object(n["f"])("div",Ue,[Object(n["i"])(h),Object(n["i"])(m,{caption:e.$t("prev.all_attempts")},null,8,["caption"])])):Object(n["g"])("",!0)])])}var We={class:"assess-header headerpane"},ze={style:{"flex-grow":"1"}};function Ke(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",We,[Object(n["i"])("div",ze,[Object(n["i"])("h1",null,Object(n["D"])(r.ainfo.name),1)]),Object(n["i"])("div",null,[""!=r.retakeLabel?(Object(n["u"])(),Object(n["f"])("button",{key:0,onClick:t[1]||(t[1]=function(){return r.retake&&r.retake.apply(r,arguments)})},Object(n["D"])(r.retakeLabel),1)):Object(n["g"])("",!0),r.hasExit?(Object(n["u"])(),Object(n["f"])("button",{key:1,onClick:t[2]||(t[2]=function(){return r.exit&&r.exit.apply(r,arguments)})},Object(n["D"])(e.$t("closed.exit")),1)):Object(n["g"])("",!0)])])}var Je={name:"SummaryHeader",computed:{ainfo:function(){return a["b"].assessInfo},retakeLabel:function(){return"by_assessment"===this.ainfo.submitby&&this.ainfo.prev_attempts.length<this.ainfo.allowed_attempts?this.$t("launch.retake_assess"):"by_question"===this.ainfo.submitby&&a["b"].inAssess&&this.ainfo.has_active_attempt?this.$t("launch.continue_assess"):""},hasExit:function(){return window.exiturl&&""!==window.exiturl&&!this.ainfo.is_lti}},methods:{exit:function(){window.location=window.exiturl},retake:function(){a["b"].assessInfo=null,this.$router.push("/")}}};Je.render=Ke;var Ye=Je,Xe={key:0},Ze={class:"larger"},et=Object(n["i"])("br",null,null,-1),tt={key:0},st=Object(n["i"])("br",null,null,-1),nt={key:1},it=Object(n["i"])("br",null,null,-1),at={key:1};function rt(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",null,[r.showTotal?(Object(n["u"])(),Object(n["f"])("p",Xe,[Object(n["i"])("strong",Ze,Object(n["D"])(e.$t("summary.score"))+": "+Object(n["D"])(r.scoreTotalPercent)+"% ",1),et,Object(n["h"])(" "+Object(n["D"])(e.$tc("summary.scorepts",r.ainfo.points_possible,{pts:r.scoreTotal,poss:r.ainfo.points_possible}))+" ",1),r.retakePenalty>0?(Object(n["u"])(),Object(n["f"])("span",tt,[st,Object(n["h"])(" "+Object(n["D"])(e.$t("summary.retake_penalty",{n:r.retakePenalty})),1)])):Object(n["g"])("",!0),r.latePenalty>0?(Object(n["u"])(),Object(n["f"])("span",nt,[it,Object(n["h"])(" "+Object(n["D"])(e.$t("summary.late_penalty",{n:r.latePenalty})),1)])):Object(n["g"])("",!0)])):(Object(n["u"])(),Object(n["f"])("p",at,Object(n["D"])(e.$t("summary.no_total"))+" "+Object(n["D"])(e.$t("summary.viewwork_"+r.viewWorkType)),1))])}var ot={name:"SummaryScoreTotal",components:{},computed:{ainfo:function(){return a["b"].assessInfo},showTotal:function(){return"none"!==this.ainfo.showscores},scoreTotal:function(){if(this.ainfo.hasOwnProperty("score"))return this.ainfo.score;var e=0;for(var t in this.ainfo.questions)e+=this.ainfo.questions[t].score;return e},retakePenalty:function(){if("by_question"===this.ainfo.submitby)return 0;var e=this.ainfo.prev_attempts.length;return e>this.ainfo.retake_penalty.n?this.ainfo.retake_penalty.penalty*(e-this.ainfo.retake_penalty.n):0},latePenalty:function(){if("by_question"===this.ainfo.submitby)return 0;var e=0;for(var t in this.ainfo.questions)for(var s=this.ainfo.questions[t].parts,n=0;n<s.length;n++)if(s[n].hasOwnProperty("penalties")&&s[n].penalties.hasOwnProperty("late"))e+=s[n].penalties.late;else if(e>0)return 0;return e},scoreTotalPercent:function(){return Math.round(1e3*this.scoreTotal/this.ainfo.points_possible)/10},viewWorkType:function(){return"never"===this.ainfo.viewingb?"never":"after_due"===this.ainfo.viewingb?"never"===this.ainfo.scoresingb?"work_after":"after_due":"never"===this.ainfo.scoresingb?"work":"after_due"===this.ainfo.scoresingb?"work_scores_after":"immediately"}}};s("fef4");ot.render=rt;var ct=ot,ut={class:"scorelist"},lt={key:0,class:"small subdued"},bt={key:0},dt={key:1};function pt(e,t,s,i,a,r){var o=Object(n["A"])("icons"),c=Object(n["A"])("question-details-table"),u=Object(n["A"])("click-to-show");return Object(n["u"])(),Object(n["f"])("table",ut,[Object(n["i"])("tr",null,[Object(n["i"])("th",null,Object(n["D"])(e.$t("scorelist.question")),1),Object(n["i"])("th",null,Object(n["D"])(e.$t("scorelist.score")),1)]),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questions,(function(t,s){return Object(n["u"])(),Object(n["f"])("tr",{key:s},[Object(n["i"])("td",null,[Object(n["i"])(o,{name:t.status},null,8,["name"]),Object(n["h"])(" "+Object(n["D"])(e.$t("question_n",{n:s+1}))+" ",1),t.extracredit?(Object(n["u"])(),Object(n["f"])("em",lt,Object(n["D"])(e.$t("extracredit")),1)):Object(n["g"])("",!0)]),r.noTries[s]?(Object(n["u"])(),Object(n["f"])("td",bt,Object(n["D"])(e.$t("scorelist.unattempted")),1)):(Object(n["u"])(),Object(n["f"])("td",dt,[Object(n["h"])(Object(n["D"])(e.$tc("scorelist.pts",t.points_possible,{pts:t.gbscore,poss:t.points_possible}))+"    ",1),t.has_details?(Object(n["u"])(),Object(n["f"])(u,{key:0,class:"question-details",id:"qd_"+s},{button:Object(n["L"])((function(){return[Object(n["i"])(o,{name:"info",size:"small"}),Object(n["h"])(" "+Object(n["D"])(e.$t("header.details")),1)]})),default:Object(n["L"])((function(){return[Object(n["i"])(c,{qinfo:t,showtries:!1},null,8,["qinfo"])]})),_:2},1032,["id"])):Object(n["g"])("",!0)]))])})),128))])}var ft=s("8145");function ht(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("span",null,[Object(n["i"])("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[1]||(t[1]=function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),onKeydown:[t[2]||(t[2]=Object(n["N"])(Object(n["O"])((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["enter"])),t[3]||(t[3]=Object(n["N"])(Object(n["O"])((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["space"]))],class:"dropdown-button","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[Object(n["z"])(e.$slots,"button")],40,["id","aria-controls","aria-expanded"]),e.open?(Object(n["u"])(),Object(n["f"])("div",{key:0,id:s.id+"_pane"},[Object(n["z"])(e.$slots,"default")],8,["id"])):Object(n["g"])("",!0)])}var mt={name:"ClickToShow",props:["id"],data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen:function(e){this.open="boolean"===typeof e?e:!this.open,this.open||this.$refs.button.focus()}}};mt.render=ht;var Ot=mt,jt={name:"SummaryScoreList",components:{Icons:T["a"],QuestionDetailsTable:ft["a"],ClickToShow:Ot},computed:{questions:function(){return a["b"].assessInfo.questions},noTries:function(){var e={};for(var t in this.questions)if(this.questions[t].hasOwnProperty("parts")){var s=!0;for(var n in this.questions[t].parts)if(this.questions[t].parts[n].try>0){s=!1;break}e[t]=s}else e[t]=!0;return e}}};s("59a2");jt.render=pt;var wt=jt,gt={key:0},yt={class:"big"},vt={class:"pii-full-name"};function _t(e,t,s,i,a,r){return r.showDiagInfo?(Object(n["u"])(),Object(n["f"])("div",gt,[Object(n["i"])("p",yt,[Object(n["i"])("span",vt,Object(n["D"])(r.diagUserName),1)]),Object(n["i"])("p",null,Object(n["D"])(e.$d(new Date,"long")),1)])):Object(n["g"])("",!0)}var qt={name:"SummaryDiagInfo",computed:{showDiagInfo:function(){return a["b"].assessInfo.is_diag},diagUserName:function(){return a["b"].assessInfo.userfullname+": "+a["b"].assessInfo.diag_userid}}};qt.render=_t;var kt=qt;function It(e,t,s,i,a,r){var o=Object(n["A"])("full-question-header"),c=Object(n["A"])("question");return Object(n["u"])(),Object(n["f"])("div",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questions,(function(e,t){return Object(n["u"])(),Object(n["f"])("div",{key:t},[Object(n["i"])(o,{qn:t,showretry:!1},null,8,["qn"]),Object(n["i"])(c,{qn:t,key:"sq"+t,active:s.active,disabled:!0},null,8,["qn","active"])])})),128))])}var xt=s("5dc8"),$t=s("e536"),Dt={name:"SummaryReshowQuestions",props:["active"],components:{Question:xt["a"],FullQuestionHeader:$t["a"]},computed:{questions:function(){return a["b"].assessInfo.questions}}};Dt.render=It;var At=Dt,Pt=s("4632");function Tt(e,t,s,i,a,r){return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])("ul",{class:"vuetablist",id:s.id},[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(e.tabs,(function(t,s){return Object(n["u"])(),Object(n["f"])("li",{key:s,class:{active:s===e.activeTab},"aria-selected":s===e.activeTab,ref:"tab",tabindex:"0",onClick:function(e){return r.setActive(s)},onKeydown:function(e){return r.handleKey(e,s)},"aria-controls":t.id},Object(n["D"])(t.name),43,["aria-selected","onClick","onKeydown","aria-controls"])})),128))],8,["id"]),Object(n["z"])(e.$slots,"default",{ref:"slot"})])}var St={name:"VueTabs",props:["id"],data:function(){return{activeTab:0,tabs:[]}},methods:{setActive:function(e){var t=this;for(var s in this.tabs)this.tabs[s].active=1*s===1*e;this.activeTab=e,this.$nextTick((function(){document.getElementById(t.tabs[e].id).focus()}))},setFocus:function(e){this.$refs.tab[e].focus()},handleKey:function(e,t){var s=this.tabs.length,n=e.key.toLowerCase();"enter"===n||" "===n?this.setActive(t):"arrowleft"===n?this.setFocus((t-1+s)%s):"arrowright"===n?this.setFocus((t+1)%s):"home"===n?this.setFocus(0):"end"===n&&this.setFocus(s-1)}},mounted:function(){for(var e in this.tabs=this.$children,this.tabs)this.tabs[e].control=this.id+"_"+e,this.tabs[e].id=this.id+"_"+e+"_pane";this.tabs[0].active=!0}};s("590f");St.render=Tt;var Qt=St;function Ct(e,t,s,i,a,r){return Object(n["M"])((Object(n["u"])(),Object(n["f"])("div",{tabindex:"0",id:e.id,"aria-labelledby":e.control,class:"vuetabpanel"},[Object(n["z"])(e.$slots,"default",{active:e.active})],8,["id","aria-labelledby"])),[[n["J"],e.active]])}var Mt={name:"VueTab",data:function(){return{active:!1,id:"",control:""}},props:["name"]};s("f17f");Mt.render=Ct;var Lt=Mt,Et={name:"Summary",components:{SummaryHeader:Ye,SummaryScoreTotal:ct,SummaryGbScore:ue,SummaryScoreList:wt,SummaryCategories:Pt["a"],SummaryReshowQuestions:At,SummaryDiagInfo:kt,PreviousAttempts:ne,VueTabs:Qt,VueTab:Lt},data:function(){return{activeTab:0}},computed:{ainfo:function(){return a["b"].assessInfo},hasScore:function(){return a["b"].assessInfo.hasOwnProperty("score")},showTotal:function(){return"none"!==this.ainfo.showscores},showScores:function(){return"during"===this.ainfo.showscores||"at_end"===this.ainfo.showscores},showReviewQ:function(){return this.ainfo.questions&&null!==this.ainfo.questions[0].html},hasCategories:function(){var e=!1;if(!this.showScores)return!1;for(var t in this.ainfo.questions)if(this.ainfo.questions[t].hasOwnProperty("category")&&""!==this.ainfo.questions[t].category&&null!==this.ainfo.questions[t].category){e=!0;break}return e}},methods:{loadScoresIfNeeded:function(){this.hasScore||a["a"].getScores()}},created:function(){this.loadScoresIfNeeded()},updated:function(){this.loadScoresIfNeeded()}};s("43c7");Et.render=Ge;var Vt=Et,Nt=(s("99af"),s("2909")),Ft={class:"home"},Rt={class:"assess-header headerpane"},Ht={style:{"flex-grow":"1"}},Bt={key:0},Ut={key:0},Gt={key:1};function Wt(e,t,s,i,a,r){var o=arguments,c=Object(n["A"])("full-question-header"),u=Object(n["A"])("question"),l=Object(n["A"])("showwork-input");return Object(n["u"])(),Object(n["f"])("div",Ft,[Object(n["i"])("div",Rt,[Object(n["i"])("div",Ht,[Object(n["i"])("h1",null,Object(n["D"])(e.$t("work.add"))+": "+Object(n["D"])(r.ainfo.name),1)]),Object(n["i"])("div",null,[Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return r.save&&r.save.apply(r,arguments)}),class:"primary"},Object(n["D"])(r.saveLabel),1)])]),r.readyToShow?(Object(n["u"])(),Object(n["f"])("div",Bt,[0===r.questions.length?(Object(n["u"])(),Object(n["f"])("p",Ut,Object(n["D"])(e.$t("work.noquestions")),1)):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questions,(function(e,t){return Object(n["u"])(),Object(n["f"])("div",{key:t},[Object(n["i"])(c,{qn:t,showretry:!1},null,8,["qn"]),null!==e.html?(Object(n["u"])(),Object(n["f"])(u,{qn:t,key:"sq"+t,active:!0,disabled:!0,getwork:2,onWorkchanged:function(e){return r.workChanged.apply(r,[t].concat(Object(Nt["a"])(o)))}},null,8,["qn","onWorkchanged"])):(Object(n["u"])(),Object(n["f"])("div",Gt,[Object(n["i"])(l,{id:"sw"+t,value:e.work,rows:"3",onInput:function(e){return r.workChanged.apply(r,[t].concat(Object(Nt["a"])(o)))}},null,8,["id","value","onInput"])]))])})),128)),Object(n["i"])("div",null,[Object(n["i"])("button",{onClick:t[2]||(t[2]=function(){return r.save&&r.save.apply(r,arguments)}),class:"primary"},Object(n["D"])(r.saveLabel),1)])])):Object(n["g"])("",!0)])}var zt=s("5088"),Kt={name:"Summary",components:{Question:xt["a"],FullQuestionHeader:$t["a"],ShowworkInput:zt["a"]},data:function(){return{loaded:!1,duringAssess:!1,work:{}}},computed:{ainfo:function(){return a["b"].assessInfo},mode:function(){return a["b"].inAssess?"aftertake":"gb"},readyToShow:function(){return"gb"===this.mode&&a["b"].assessInfo.hasOwnProperty("questions")||"aftertake"===this.mode&&a["b"].assessInfo.hasOwnProperty("score")},hasScore:function(){return a["b"].assessInfo.hasOwnProperty("score")},questions:function(){var e={};for(var t in a["b"].assessInfo.questions)2&a["b"].assessInfo.questions[t].showwork&&(e[t]=a["b"].assessInfo.questions[t]);return e},saveLabel:function(){return a["b"].inAssess?this.$t("work.save_continue"):this.$t("work.save")}},methods:{loadScoresIfNeeded:function(){"gb"!==this.mode||this.readyToShow?"aftertake"!==this.mode||this.readyToShow||a["a"].getScores():a["a"].getQuestions()},workChanged:function(e,t){a["b"].work[e]=t},save:function(){a["a"].submitWork()}},created:function(){this.loadScoresIfNeeded()},updated:function(){this.loadScoresIfNeeded()}};Kt.render=Wt;var Jt=Kt,Yt={class:"home"};function Xt(e,t,s,i,a,r){var o=Object(n["A"])("assess-header"),c=Object(n["A"])("skip-question-header"),u=Object(n["A"])("intro-text"),l=Object(n["A"])("icons"),b=Object(n["A"])("router-link"),d=Object(n["A"])("inter-question-text-skiplist"),p=Object(n["A"])("question");return Object(n["u"])(),Object(n["f"])("div",Yt,[Object(n["i"])("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[1]||(t[1]=Object(n["O"])((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},Object(n["D"])(e.$t("jumptocontent")),1),Object(n["i"])(o),Object(n["i"])(c,{qn:r.qn},null,8,["qn"]),Object(n["i"])("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[Object(n["i"])(u,{active:-1==r.qn,html:r.intro,key:"-1"},null,8,["active","html"]),-1==r.qn?(Object(n["u"])(),Object(n["f"])(b,{key:0,to:"/skip/1",tag:"button"},{default:Object(n["L"])((function(){return[Object(n["i"])(l,{name:"right",alt:""}),Object(n["h"])(" "+Object(n["D"])(e.$t("question.firstq")),1)]})),_:1})):Object(n["g"])("",!0),Object(n["i"])(d,{pos:"before",qn:r.qn},null,8,["qn"]),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questionArray,(function(e){return Object(n["u"])(),Object(n["f"])("div",{key:e,class:{inactive:e!=r.qn},"aria-hidden":e!=r.qn},[Object(n["i"])(p,{qn:e,active:e==r.qn,getwork:1},null,8,["qn","active"])],10,["aria-hidden"])})),128)),Object(n["i"])(d,{pos:"after",qn:r.qn},null,8,["qn"])],8,["aria-label"])])}s("e25e");var Zt=s("97cd"),es={id:"skip-question-header"},ts={class:"flexrow wrap",style:{"flex-grow":"1"}};function ss(e,t,s,i,a,r){var o=this,c=Object(n["A"])("skip-question-list-item"),u=Object(n["A"])("menu-button"),l=Object(n["A"])("icons"),b=Object(n["A"])("router-link"),d=Object(n["A"])("question-header-icons");return Object(n["u"])(),Object(n["f"])("div",es,[Object(n["i"])("div",ts,[Object(n["i"])("div",{id:"skip-question-select",role:"navigation","aria-label":e.$t("regions.qnav")},[Object(n["i"])(u,{id:"qnav",options:r.navOptions,selected:r.curOption,onChange:r.changeQuestion,searchby:"dispqn"},{default:Object(n["L"])((function(e){var t=e.option,s=e.selected;return[Object(n["i"])(c,{showretry:r.anyHaveRetry,showretake:r.anyHaveRetake,option:t,selected:s},null,8,["showretry","showretake","option","selected"])]})),_:1},8,["options","selected","onChange"]),r.showNextPrev?(Object(n["u"])(),Object(n["f"])(b,{key:0,to:"/skip/"+(r.dispqn-1),custom:""},{default:Object(n["L"])((function(t){var i=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:i,onKeypress:Object(n["N"])(i,["enter"]),role:"link",disabled:s.qn<(o.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous"),title:e.$t("previous")},[Object(n["i"])(l,{name:"left"})],40,["onClick","onKeypress","disabled","aria-label","title"])]})),_:1},8,["to"])):Object(n["g"])("",!0),r.showNextPrev?(Object(n["u"])(),Object(n["f"])(b,{key:1,to:"/skip/"+(r.dispqn+1),custom:""},{default:Object(n["L"])((function(t){var i=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:i,onKeypress:Object(n["N"])(i,["enter"]),role:"link",disabled:s.qn>=r.ainfo.questions.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next"),title:e.$t("next")},[Object(n["i"])(l,{name:"right"})],40,["onClick","onKeypress","disabled","aria-label","title"])]})),_:1},8,["to"])):Object(n["g"])("",!0)],8,["aria-label"])]),Object(n["i"])(d,{showscore:r.showScore,curQData:r.curQData,qn:s.qn,showretry:!0},null,8,["showscore","curQData","qn"])])}var ns=s("5bdf"),is=s("ad76"),as={class:"flex-nowrap-center"},rs={class:"qname-wrap"},os={key:0,class:"small subdued"},cs={key:1,class:"subdued"},us={key:2,class:"redoicon"},ls={key:3,class:"redoicon"};function bs(e,t,s,i,a,r){var o=Object(n["A"])("icons");return Object(n["u"])(),Object(n["f"])("span",as,[s.option.dispqn>0?(Object(n["u"])(),Object(n["f"])(o,{key:0,name:r.statusIcon,class:"qstatusicon"},null,8,["name"])):Object(n["g"])("",!0),Object(n["i"])("span",rs,[Object(n["i"])("span",{class:{greystrike:s.option.withdrawn>0},title:r.nameHover},[Object(n["h"])(Object(n["D"])(r.nameDisp)+" ",1),s.option.extracredit?(Object(n["u"])(),Object(n["f"])("em",os,Object(n["D"])(e.$t("extracredit")),1)):Object(n["g"])("",!0)],10,["title"])]),""===r.scoreDisplay||s.selected?Object(n["g"])("",!0):(Object(n["u"])(),Object(n["f"])("span",cs,Object(n["D"])(r.scoreDisplay),1)),s.showretry&&!s.selected?(Object(n["u"])(),Object(n["f"])("span",us,[s.option.canretry?(Object(n["u"])(),Object(n["f"])(o,{key:0,name:"retry"})):Object(n["g"])("",!0)])):Object(n["g"])("",!0),s.showretake&&!s.selected?(Object(n["u"])(),Object(n["f"])("span",ls,[s.option.regens_remaining?(Object(n["u"])(),Object(n["f"])(o,{key:0,name:"retake"})):Object(n["g"])("",!0)])):Object(n["g"])("",!0)])}var ds={name:"SkipQuestionListItem",props:["option","showretry","showretake","selected"],components:{Icons:T["a"]},computed:{statusIcon:function(){return 0===this.option.dispqn?"none":this.option.status},nameDisp:function(){return 0===this.option.dispqn?this.$t("intro"):this.$t("question_n",{n:this.option.dispqn})},nameHover:function(){return 0!==this.option.withdrawn?this.$t("header.withdrawn"):""},scoreDisplay:function(){return 0===this.option.dispqn?"":this.option.hasOwnProperty("gbscore")&&this.option.tries_max>1?this.option.gbscore+"/"+this.$tc("header.pts",this.option.points_possible):"("+this.$tc("header.pts",this.option.points_possible)+")"}}};s("8167");ds.render=bs;var ps=ds,fs=s("6c5a"),hs={name:"SkipQuestionHeader",props:["qn"],components:{QuestionHeaderIcons:ns["a"],Icons:T["a"],MenuButton:is["a"],SkipQuestionListItem:ps},mixins:[fs["a"]],data:function(){return{}},computed:{ainfo:function(){return a["b"].assessInfo},curQData:function(){return a["b"].assessInfo.questions[this.qn]},dispqn:function(){return parseInt(this.qn)+1},hasIntro:function(){return""!==a["b"].assessInfo.intro||a["b"].assessInfo.resources.length>0},navOptions:function(){var e=[];for(var t in this.hasIntro&&e.push({internallink:"/skip/0",dispqn:0,withdrawn:0}),a["b"].assessInfo.questions){var s=parseInt(t)+1,n={internallink:"/skip/"+s,dispqn:s};for(var i in a["b"].assessInfo.questions[t])n[i]=a["b"].assessInfo.questions[t][i];"unattempted"===n.status&&(1===this.qsAttempted[t]?n.status="attempted":this.qsAttempted[t]>0&&(n.status="partattempted")),e.push(n)}return e},showScore:function(){return this.qn>-1&&a["b"].assessInfo.questions[this.qn].hasOwnProperty("gbscore")},anyHaveRetry:function(){for(var e in a["b"].assessInfo.questions)if(a["b"].assessInfo.questions[e].canretry)return!0;return!1},anyHaveRetake:function(){for(var e in a["b"].assessInfo.questions)if(a["b"].assessInfo.questions[e].regens_remaining)return!0;return!1},curOption:function(){return this.hasIntro?this.dispqn:this.dispqn-1},showNextPrev:function(){return Object.keys(this.navOptions).length>1}},methods:{changeQuestion:function(e){}}};s("1b75");hs.render=ss;var ms=hs,Os={key:0};function js(e,t,s,i,a,r){var o=Object(n["A"])("inter-question-text");return r.texts.length>0?(Object(n["u"])(),Object(n["f"])("div",Os,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.texts,(function(e,t){return Object(n["u"])(),Object(n["f"])("div",{key:t},[Object(n["M"])(Object(n["i"])(o,{class:"questionpane introtext",textobj:e,active:r.showtext[t]},null,8,["textobj","active"]),[[n["J"],r.showtext[t]]])])})),128))])):Object(n["g"])("",!0)}var ws=s("c49e"),gs={name:"InterQuestionTextSkiplist",props:["qn","pos"],components:{InterQuestionText:ws["a"]},computed:{lastQuestion:function(){return a["b"].assessInfo.questions.length-1},showtext:function(){var e=[];for(var t in this.texts){var s=this.texts[t];e[t]="before"===this.pos&&this.qn>=s.displayBefore&&this.qn<=s.displayUntil||"after"===this.pos&&this.qn===this.lastQuestion}return e},texts:function(){if(!a["b"].assessInfo.hasOwnProperty("interquestion_text"))return[];var e=[];for(var t in a["b"].assessInfo.interquestion_text){var s=a["b"].assessInfo.interquestion_text[t];("before"===this.pos&&s.displayBefore<=this.lastQuestion||"after"===this.pos&&s.displayBefore>this.lastQuestion)&&""!==s.text&&e.push({html:s.text,expanded:!0,displayBefore:s.displayBefore,displayUntil:s.displayUntil})}return e}}};gs.render=js;var ys=gs,vs=s("eeaa"),_s={name:"skip",components:{SkipQuestionHeader:ms,Question:xt["a"],InterQuestionTextSkiplist:ys,AssessHeader:Zt["a"],IntroText:vs["a"],Icons:T["a"]},computed:{qn:function(){return parseInt(this.$route.params.qn)-1},intro:function(){return a["b"].assessInfo.intro},questionArray:function(){for(var e={},t=0;t<a["b"].assessInfo.questions.length;t++)e[t]=t;return e}}};_s.render=Xt;var qs=_s,ks={class:"home"},Is={key:0,class:"headerpane noticetext"},xs=Object(n["h"])("  "),$s={key:1};function Ds(e,t,s,i,a,r){var o=Object(n["A"])("assess-header"),c=Object(n["A"])("intro-text"),u=Object(n["A"])("inter-question-text-list"),l=Object(n["A"])("full-question-header"),b=Object(n["A"])("question");return Object(n["u"])(),Object(n["f"])("div",ks,[Object(n["i"])("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[1]||(t[1]=Object(n["O"])((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},Object(n["D"])(e.$t("jumptocontent")),1),Object(n["i"])(o),r.isPreviewAll?(Object(n["u"])(),Object(n["f"])("p",Is,[Object(n["h"])(Object(n["D"])(e.$t("header.preview_all"))+" ",1),Object(n["i"])("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=function(){return r.showAllAns&&r.showAllAns.apply(r,arguments)})},Object(n["D"])(e.$t("gradebook.show_all_ans")),1),Object(n["i"])("button",{type:"button",class:"secondary",onClick:t[3]||(t[3]=function(t){return e.showTexts=!e.showTexts})},Object(n["D"])(r.textToggleLabel),1),Object(n["i"])("a",{href:r.settingsLink},Object(n["D"])(e.$t("links.settings")),9,["href"]),xs,Object(n["i"])("a",{href:r.questionsLink},Object(n["D"])(e.$t("links.questions")),9,["href"])])):Object(n["g"])("",!0),Object(n["i"])("div",{class:"scrollpane fulldisp",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[r.hasIntro?(Object(n["u"])(),Object(n["f"])(c,{key:0,active:e.showTexts,html:r.intro},null,8,["active","html"])):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questionArray,(function(t){return Object(n["u"])(),Object(n["f"])("div",{key:t},[Object(n["M"])(Object(n["i"])(u,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"]),[[n["J"],e.showTexts]]),Object(n["i"])(l,{qn:t},null,8,["qn"]),Object(n["i"])(b,{qn:t,active:"true",key:"q"+t,getwork:1},null,8,["qn"])])})),128)),Object(n["M"])(Object(n["i"])(u,{pos:"after",qn:r.lastQ,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"]),[[n["J"],e.showTexts]])],8,["aria-label"]),r.showSubmit?(Object(n["u"])(),Object(n["f"])("p",$s,[Object(n["i"])("button",{type:"button",class:"primary",onClick:t[4]||(t[4]=function(){return r.submitAssess&&r.submitAssess.apply(r,arguments)})},Object(n["D"])(e.$t("header.assess_submit")),1)])):Object(n["g"])("",!0)])}var As=s("0597"),Ps={name:"Full",data:function(){return{showTexts:!0}},components:{Question:xt["a"],AssessHeader:Zt["a"],FullQuestionHeader:$t["a"],InterQuestionTextList:As["a"],IntroText:vs["a"]},computed:{intro:function(){return a["b"].assessInfo.intro},hasIntro:function(){return""!==a["b"].assessInfo.intro||a["b"].assessInfo.resources.length>0},isPreviewAll:function(){return!!a["b"].assessInfo.preview_all},questionArray:function(){for(var e={},t=0;t<a["b"].assessInfo.questions.length;t++)e[t]=t;return e},lastQ:function(){return a["b"].assessInfo.questions.length-1},showSubmit:function(){return"by_assessment"===a["b"].assessInfo.submitby},textToggleLabel:function(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},textList:function(){return a["b"].assessInfo.hasOwnProperty("interquestion_text")?a["b"].assessInfo.interquestion_text:[]},settingsLink:function(){return"../course/addassessment2.php?id="+a["b"].aid+"&cid="+a["b"].cid},questionsLink:function(){return"../course/addquestions2.php?aid="+a["b"].aid+"&cid="+a["b"].cid}},methods:{submitAssess:function(){a["a"].submitAssessment()},showAllAns:function(){window.$("span[id^='ans']").removeClass("hidden").toggle(),window.$(".keybtn").attr("aria-expanded",(function(e,t){return!JSON.parse(t)}))}}};Ps.render=Ds;var Ts=Ps,Ss={class:"home print"},Qs={class:"assess-header headerpane"},Cs={style:{"flex-grow":"1"}},Ms={class:"pii-full-name"},Ls={class:"hideonprint headerpane"},Es={class:"scrollpane"};function Vs(e,t,s,i,a,r){var o=Object(n["A"])("intro-text"),c=Object(n["A"])("inter-question-text-list"),u=Object(n["A"])("full-question-header"),l=Object(n["A"])("question");return Object(n["u"])(),Object(n["f"])("div",Ss,[Object(n["i"])("div",Qs,[Object(n["i"])("h1",Cs,Object(n["D"])(r.ainfo.name),1),Object(n["i"])("div",null,[Object(n["i"])("span",Ms,Object(n["D"])(r.ainfo.userfullname),1)])]),Object(n["i"])("p",Ls,[Object(n["i"])("strong",null,Object(n["D"])(e.$t("print.print_version")),1),Object(n["i"])("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=function(){return r.doPrint&&r.doPrint.apply(r,arguments)})},Object(n["D"])(e.$t("print.print")),1),Object(n["i"])("button",{type:"button",onClick:t[2]||(t[2]=function(t){return e.showTexts=!e.showTexts})},Object(n["D"])(r.textToggleLabel),1),Object(n["i"])("button",{type:"button",onClick:t[3]||(t[3]=function(t){return e.showQs=!e.showQs})},Object(n["D"])(r.qToggleLabel),1)]),Object(n["i"])("div",Es,[""!==r.intro?(Object(n["u"])(),Object(n["f"])(o,{key:0,active:e.showTexts,html:r.intro},null,8,["active","html"])):Object(n["g"])("",!0),Object(n["i"])("div",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.questionArray,(function(t){return Object(n["u"])(),Object(n["f"])("div",{key:t},[Object(n["M"])(Object(n["i"])(c,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"]),[[n["J"],e.showTexts]]),e.showQs?(Object(n["u"])(),Object(n["f"])(u,{key:0,qn:t},null,8,["qn"])):Object(n["g"])("",!0),Object(n["M"])(Object(n["i"])(l,{class:"med-left",qn:t,active:e.showQs,key:"q"+t,disabled:!0},null,8,["qn","active"]),[[n["J"],e.showQs]])])})),128)),Object(n["M"])(Object(n["i"])(c,{pos:"after",qn:r.lastQ,active:e.showTexts,textlist:r.textList,lastq:r.lastQ},null,8,["qn","active","textlist","lastq"]),[[n["J"],e.showTexts]])])])])}var Ns={name:"Print",components:{Question:xt["a"],FullQuestionHeader:$t["a"],InterQuestionTextList:As["a"],IntroText:vs["a"]},data:function(){return{showTexts:!0,showQs:!0}},computed:{ainfo:function(){return a["b"].assessInfo},intro:function(){return a["b"].assessInfo.intro},questionArray:function(){for(var e={},t=0;t<a["b"].assessInfo.questions.length;t++)e[t]=t;return e},lastQ:function(){return a["b"].assessInfo.questions.length-1},textToggleLabel:function(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},qToggleLabel:function(){return this.showQs?this.$t("print.hide_qs"):this.$t("print.show_qs")},textList:function(){return a["b"].assessInfo.hasOwnProperty("interquestion_text")?a["b"].assessInfo.interquestion_text:[]}},methods:{doPrint:function(){window.print()}}};s("9e2c");Ns.render=Vs;var Fs=Ns,Rs={class:"home"},Hs={key:0,class:"noqtext"},Bs={key:1},Us={key:0},Gs=Object(n["i"])("p",null," ",-1),Ws={key:1};function zs(e,t,s,i,a,r){var o=Object(n["A"])("assess-header"),c=Object(n["A"])("full-paged-nav"),u=Object(n["A"])("intro-text"),l=Object(n["A"])("inter-question-text-list"),b=Object(n["A"])("full-question-header"),d=Object(n["A"])("question"),p=Object(n["A"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Rs,[Object(n["i"])("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[1]||(t[1]=Object(n["O"])((function(t){return e.$refs.scrollpane.focus()}),["prevent"]))},Object(n["D"])(e.$t("jumptocontent")),1),Object(n["i"])(o),Object(n["i"])(c,{page:r.page},null,8,["page"]),Object(n["i"])("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[Object(n["i"])(u,{active:-1===r.page&&r.hasIntro,html:r.intro},null,8,["active","html"]),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.allPages,(function(e,t){return Object(n["u"])(),Object(n["f"])("div",{key:t,class:{inactive:t!==r.page},"aria-hidden":t!==r.page},[0===e[0].questions.length?(Object(n["u"])(),Object(n["f"])("div",Hs,[Object(n["i"])(l,{pos:"all",textlist:e,lastq:r.lastQ[t],active:t===r.page,key:"iqtp"+t},null,8,["textlist","lastq","active"])])):(Object(n["u"])(),Object(n["f"])("div",Bs,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(e[0].questions,(function(s){return Object(n["u"])(),Object(n["f"])("div",{key:s,class:"fullpaged"},[Object(n["i"])(l,{pos:"beforeexact",qn:s,key:"iqt"+s,textlist:e,lastq:r.lastQ[t],active:t===r.page},null,8,["qn","textlist","lastq","active"]),Object(n["i"])("div",null,[Object(n["i"])(b,{qn:s},null,8,["qn"]),Object(n["i"])(d,{qn:s,active:t===r.page,key:"q"+s,getwork:1},null,8,["qn","active"])])])})),128)),Object(n["i"])(l,{id:"aftertext",pos:"after",qn:e[0].questions[e[0].questions.length-1],key:"iqte"+t,textlist:e,lastq:r.lastQ[t],active:t===r.page},null,8,["qn","textlist","lastq","active"])]))],10,["aria-hidden"])})),128)),r.page<r.allPages.length-1?(Object(n["u"])(),Object(n["f"])("div",Us,[Gs,Object(n["i"])("p",null,[Object(n["i"])(p,{to:"/full/page/"+(r.page+2)},{default:Object(n["L"])((function(){return[Object(n["h"])(Object(n["D"])(e.$t("pages.next")),1)]})),_:1},8,["to"])])])):r.showSubmit?(Object(n["u"])(),Object(n["f"])("p",Ws,[Object(n["i"])("button",{type:"button",class:"primary",onClick:t[2]||(t[2]=function(){return r.submitAssess&&r.submitAssess.apply(r,arguments)})},Object(n["D"])(e.$t("header.assess_submit")),1)])):Object(n["g"])("",!0)],8,["aria-label"])])}function Ks(e,t,s,i,a,r){var o=this,c=Object(n["A"])("full-paged-list-item"),u=Object(n["A"])("menu-button"),l=Object(n["A"])("icons"),b=Object(n["A"])("router-link");return Object(n["u"])(),Object(n["f"])("div",{class:"subheader pagenav",role:"navigation","aria-label":e.$t("regions.pagenav")},[Object(n["i"])(u,{id:"qnav",options:r.navOptions,selected:r.disppage,searchby:"title"},{default:Object(n["L"])((function(e){var t=e.option,s=e.selected;return[Object(n["i"])(c,{option:t,selected:s},null,8,["option","selected"])]})),_:1},8,["options","selected"]),r.showNextPrev?(Object(n["u"])(),Object(n["f"])(b,{key:0,to:"/full/page/"+(r.disppage-1),custom:""},{default:Object(n["L"])((function(t){var i=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:i,onKeypress:Object(n["N"])(i,["enter"]),role:"link",disabled:s.page<(o.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous")},[Object(n["i"])(l,{name:"left"})],40,["onClick","onKeypress","disabled","aria-label"])]})),_:1},8,["to"])):Object(n["g"])("",!0),r.showNextPrev?(Object(n["u"])(),Object(n["f"])(b,{key:1,to:"/full/page/"+(r.disppage+1),custom:""},{default:Object(n["L"])((function(t){var i=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:i,onKeypress:Object(n["N"])(i,["enter"]),role:"link",disabled:s.page>=r.pagesData.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next")},[Object(n["i"])(l,{name:"right"})],40,["onClick","onKeypress","disabled","aria-label"])]})),_:1},8,["to"])):Object(n["g"])("",!0)],8,["aria-label"])}var Js={class:"flex-nowrap-center"},Ys={class:"qname-wrap"},Xs={class:"subdued nowrap"};function Zs(e,t,s,i,a,r){var o=Object(n["A"])("icons");return Object(n["u"])(),Object(n["f"])("span",Js,[Object(n["i"])("span",Ys,["none"!==r.statusIcon?(Object(n["u"])(),Object(n["f"])(o,{key:0,name:r.statusIcon,class:"qstatusicon"},null,8,["name"])):Object(n["g"])("",!0),Object(n["h"])(" "+Object(n["D"])(r.nameDisp),1)]),Object(n["i"])("span",Xs,Object(n["D"])(r.qStatus),1)])}var en={name:"FullPagedListItem",props:["option","selected"],components:{Icons:T["a"]},computed:{statusIcon:function(){return 0===this.option.disppage?"none":this.option.numquestions===this.option.numattempted?"attempted":"unattempted"},nameDisp:function(){return 0===this.option.disppage?this.$t("intro"):this.option.title},qStatus:function(){return 0===this.option.disppage||0===this.option.numquestions?"":this.$t("header.answered",{n:this.option.numattempted,tot:this.option.numquestions})}}};en.render=Zs;var tn=en,sn={name:"FullPagedNav",props:["page"],components:{Icons:T["a"],MenuButton:is["a"],FullPagedListItem:tn},mixins:[fs["a"]],data:function(){return{}},computed:{disppage:function(){return parseInt(this.page)+1},pagesData:function(){return a["b"].assessInfo.interquestion_pages},hasIntro:function(){return""!==a["b"].assessInfo.intro||a["b"].assessInfo.resources.length>0},navOptions:function(){var e=[];for(var t in this.hasIntro&&(e[0]={internallink:"/full/page/0",title:this.$t("intro"),disppage:0}),this.pagesData){for(var s=parseInt(t)+1,n=0,i=0;i<this.pagesData[t][0].questions.length;i++){var r=this.pagesData[t][0].questions[i];("unattempted"!==a["b"].assessInfo.questions[r].status||1===this.qsAttempted[r])&&n++}e[s]={disppage:s,title:this.pagesData[t][0].pagetitle,internallink:"/full/page/"+s,numquestions:this.pagesData[t][0].questions.length,numattempted:n}}return e},showNextPrev:function(){return Object.keys(this.navOptions).length>1}}};s("4f91");sn.render=Ks;var nn=sn,an={name:"FullPaged",components:{Question:xt["a"],AssessHeader:Zt["a"],FullPagedNav:nn,FullQuestionHeader:$t["a"],InterQuestionTextList:As["a"],IntroText:vs["a"]},computed:{page:function(){return parseInt(this.$route.params.page)-1},allPages:function(){return a["b"].assessInfo.interquestion_pages},intro:function(){return a["b"].assessInfo.intro},hasIntro:function(){return""!==a["b"].assessInfo.intro||a["b"].assessInfo.resources.length>0},showSubmit:function(){return"by_assessment"===a["b"].assessInfo.submitby},lastQ:function(){var e,t=[];for(var s in this.allPages)e=this.allPages[s][0].questions,t[s]=e[e.length-1];return t}},methods:{submitAssess:function(){a["a"].submitAssessment()}}};an.render=zs;var rn=an,on=function(){return s.e("special").then(s.bind(null,"296b"))},cn=function(){return s.e("special").then(s.bind(null,"1912"))},un=Object(i["a"])({history:Object(i["b"])(window.imasroot+"/assess2/"),routes:[{path:"/",name:"launch",component:be,beforeEnter:function(e,t,s){("yes"===a["b"].assessInfo.available||"practice"===a["b"].assessInfo.available&&a["b"].assessInfo.in_practice)&&(a["b"].assessInfo.has_active_attempt||a["b"].assessInfo.can_retake)?s():s({path:"/closed",replace:!0})}},{path:"/closed",name:"closed",component:Le,beforeEnter:function(e,t,s){("yes"===a["b"].assessInfo.available||"practice"===a["b"].assessInfo.available&&a["b"].assessInfo.in_practice)&&(a["b"].assessInfo.has_active_attempt||a["b"].assessInfo.can_retake)?s({path:"/",replace:!0}):s()}},{path:"/skip/:qn",name:"skip",component:qs,beforeEnter:function(e,t,s){a["b"].inProgress?s():s({path:"/",replace:!0})}},{path:"/full",name:"full",component:Ts,beforeEnter:function(e,t,s){a["b"].inProgress?s():s({path:"/",replace:!0})}},{path:"/full/page/:page",name:"fullpaged",component:rn,beforeEnter:function(e,t,s){a["b"].inProgress?s():s({path:"/",replace:!0})}},{path:"/videocued",component:on,beforeEnter:function(e,t,s){a["b"].inProgress?s():s({path:"/",replace:!0})}},{path:"/livepoll",component:cn,beforeEnter:function(e,t,s){a["b"].inProgress?s():s({path:"/",replace:!0})}},{path:"/summary",name:"summary",component:Vt,beforeEnter:function(e,t,s){!("yes"===a["b"].assessInfo.available||"practice"===a["b"].assessInfo.available&&a["b"].assessInfo.in_practice)||a["b"].assessInfo.has_active_attempt&&"by_question"!==a["b"].assessInfo.submitby?s({path:"/",replace:!0}):s()}},{path:"/showwork",name:"showwork",component:Jt,beforeEnter:function(e,t,s){a["b"].assessInfo.in_practice||a["b"].assessInfo.has_active_attempt&&"by_question"!==a["b"].assessInfo.submitby?s({path:"/",replace:!0}):s()}},{path:"/print",name:"print",component:Fs,beforeEnter:function(e,t,s){if("yes"===a["b"].assessInfo.available&&a["b"].assessInfo.has_active_attempt||"practice"===a["b"].assessInfo.available||a["b"].assessInfo.can_view_all)if(a["b"].inPrintView=!0,a["b"].assessInfo.hasOwnProperty("questions"))s();else{var n="practice"===a["b"].assessInfo.available;a["a"].startAssess(n,"",[],(function(){return s()}))}else s({path:"/",replace:!0})}}],scrollBehavior:function(e,t,s){return s||{x:0,y:0}}});un.beforeEach((function(e,t,s){"undefined"!==typeof window.APIbase?a["b"].APIbase=window.APIbase:a["b"].APIbase="vue/";var n=window.location.search.replace(/^.*cid=(\d+).*$/,"$1"),i=window.location.search.replace(/^.*aid=(\d+).*$/,"$1"),r=0;window.location.search.match(/uid=/)&&(r=window.location.search.replace(/^.*uid=(\d+).*$/,"$1")),null===a["b"].assessInfo||a["b"].cid!==n||a["b"].aid!==i||a["b"].uid!==r?(a["b"].cid=n,window.cid=n,a["b"].aid=i,a["b"].uid=r,a["b"].queryString="?cid="+a["b"].cid+"&aid="+a["b"].aid,0!==a["b"].uid&&(a["b"].queryString+="&uid="+a["b"].uid),a["a"].loadAssessData((function(){return s()}))):s()})),un.afterEach((function(e,t){Object(n["p"])(window.sendLTIresizemsg)}));t["a"]=un},"43c7":function(e,t,s){"use strict";s("8671")},"460d":function(e,t,s){"use strict";s("9ec6")},"48ca":function(e,t,s){},"49f2":function(e,t,s){},"4d98":function(e,t,s){"use strict";s("c1de")},"4f91":function(e,t,s){"use strict";s("48ca")},5088:function(e,t,s){"use strict";s("ac1f"),s("1276");var n=s("7a23"),i={class:"showworkwrap"},a={key:0},r={key:1,class:"feedbackwrap"},o={class:"nomark"},c={key:0,class:"noticetext"},u=Object(n["i"])("div",null,null,-1);function l(e,t,s,l,b,d){return Object(n["u"])(),Object(n["f"])("div",i,[0===d.worktype?(Object(n["u"])(),Object(n["f"])("div",a,[Object(n["h"])(Object(n["D"])(e.$t("question.showwork"))+" ",1),Object(n["i"])("textarea",{id:d.computedId,ref:"inbox",class:"fbbox swbox",rows:s.rows},null,8,["id","rows"])])):(Object(n["u"])(),Object(n["f"])("div",r,[Object(n["h"])(Object(n["D"])(e.$t("question.uploadwork"))+" ",1),Object(n["i"])("ul",o,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(e.filelist,(function(t,s){return Object(n["u"])(),Object(n["f"])("li",{key:s},[Object(n["i"])("a",{href:t,class:"attach",target:"_blank"},Object(n["D"])(t.split("/").pop()),9,["href"]),Object(n["i"])("button",{onClick:function(e){return d.removeFile(s)}},Object(n["D"])(e.$t("group.remove")),9,["onClick"])])})),128)),Object(n["i"])("li",null,[Object(n["i"])("input",{type:"file",ref:"fileinput",onChange:t[1]||(t[1]=function(){return d.uploadFile&&d.uploadFile.apply(d,arguments)})},null,544),e.uploading?(Object(n["u"])(),Object(n["f"])("span",c,Object(n["D"])(e.$t("question.uploading")),1)):Object(n["g"])("",!0)])]),u]))])}s("a434"),s("d3b7"),s("25f0"),s("466d"),s("5319");var b=s("6081"),d={name:"ShowworkInput",props:{id:{default:null},value:{default:""},rows:{default:2},active:{default:!0}},data:function(){return{objTinymce:null,filelist:[],uploading:!1}},computed:{computedId:function(){return"editor"===this.id||""===this.id||null===this.id?"editor-"+this.guidGenerator():this.id},worktype:function(){return 4===b["b"].assessInfo.showworktype?1:0}},mounted:function(){0===this.worktype&&(this.$refs.inbox.innerHTML=this.value),this.active&&this.initEditor()},updated:function(){this.active&&0===this.worktype&&this.initEditor()},methods:{guidGenerator:function(){function e(){return Math.random().toString(36).substr(2,9)}return"ed-"+e()+"-"+e()},initEditor:function(){var e=this;1===this.worktype?(window.$(this.$refs.fileinput).on("focus",(function(t){e.$emit("focus",!0)})),this.updateFilelist(this.value),this.objTinymce={value:this.value}):window.tinymce?window.initeditor("exact",this.computedId,null,!1,(function(t){t.on("input change keyup undo redo",(function(s){e.updateValue(t.getContent())})).on("blur",(function(t){e.$emit("blur",!0)})).on("focus",(function(t){e.$emit("focus",!0)})),e.objTinymce=t})):(window.$(this.$refs.inbox).on("focus",(function(t){e.$emit("focus",!0)})).on("blur",(function(t){e.$emit("blur",!0)})).on("input change keyup undo redo",(function(t){e.updateValue(t.target.value)})),e.objTinymce=this.$refs.inbox)},updateFilelist:function(e){var t=[],s=e.match(/<(a[^>]*href|img[^>]*src)="(.*?)"/g);if(null!==s)for(var n=0;n<s.length;n++)t.push(s[n].replace(/^.*?(href|src)="(.*?)"/,"$2"));this.filelist=t},updateValue:function(e){this.$emit("input",e)},focus:function(){this.objTinymce.focus()},uploadFile:function(){var e=this,t=new FormData;t.append("type","attach"),t.append("file",this.$refs.fileinput.files[0]),this.uploading=!0,window.$.ajax({url:b["b"].APIbase+"../tinymce4/upload_handler.php",type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.location?(e.filelist.push(t.location),e.updateValueFromFilelist()):b["a"].handleError("file_upload_error")})).fail((function(e){b["a"].handleError("file_upload_error")})).always((function(){e.$refs.fileinput.value=null,e.uploading=!1}))},removeFile:function(e){var t=this;b["b"].confirmObj={body:"work.remove",action:function(){var s=t.filelist[e];t.filelist.splice(e,1),t.updateValueFromFilelist(),window.$.ajax({url:b["b"].APIbase+"../tinymce4/upload_handler.php",type:"POST",dataType:"json",data:{remove:s},xhrFields:{withCredentials:!0},crossDomain:!0})}}},updateValueFromFilelist:function(){var e="";if(this.filelist.length>0){e+='<ul class="nomark">';for(var t=0;t<this.filelist.length;t++)e+='<li><a href="'+this.filelist[t]+'" class="attach" target="_blank">'+this.filelist[t].split("/").pop()+"</a></li>";e+="</ul>"}this.objTinymce.value=e,this.$emit("input",e),this.$emit("blur",e)}},watch:{active:function(e,t){!0===e&&null===this.objTinymce&&this.initEditor()},value:function(e,t){"string"!==typeof e&&(e=""),1===this.worktype?e!==this.objTinymce.value&&this.updateFilelist(e):window.tinymce?e!==this.objTinymce.getContent()&&this.objTinymce.setContent(e):e!==this.objTinymce.value&&(this.objTinymce.value=e)}}};s("1d45");d.render=l;t["a"]=d},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("7a23"),i={id:"app",role:"main"},a={key:0};function r(e,t,s,r,o,c){var u=Object(n["A"])("router-view"),l=Object(n["A"])("error-dialog"),b=Object(n["A"])("due-dialog"),d=Object(n["A"])("confirm-dialog");return Object(n["u"])(),Object(n["f"])("div",i,[c.assessInfoLoaded?Object(n["g"])("",!0):(Object(n["u"])(),Object(n["f"])("div",a,Object(n["D"])(e.$t("loading")),1)),c.assessInfoLoaded?(Object(n["u"])(),Object(n["f"])(u,{key:1})):Object(n["g"])("",!0),c.hasError?(Object(n["u"])(),Object(n["f"])(l,{key:2,errormsg:c.errorMsg,lastpos:c.lastPos,onClearerror:c.clearError},null,8,["errormsg","lastpos","onClearerror"])):Object(n["g"])("",!0),c.showDueDialog?(Object(n["u"])(),Object(n["f"])(b,{key:3})):Object(n["g"])("",!0),null!==c.confirmObj?(Object(n["u"])(),Object(n["f"])(d,{key:4,data:c.confirmObj,lastpos:c.lastPos,onClose:c.closeConfirm},null,8,["data","lastpos","onClose"])):Object(n["g"])("",!0)])}s("b0c0"),s("b64b");var o=s("6081"),c=s("619f"),u={class:"fullwrap",ref:"wrap"},l={class:"dialog-overlay",tabindex:"-1"},b={class:"pane-header flexrow",id:"duedialog_hdr"},d={style:{"flex-grow":"1"}},p={class:"pane-body",id:"duedialog_body"},f={key:0},h=Object(n["i"])("br",null,null,-1),m=Object(n["i"])("br",null,null,-1),O={key:1},j=Object(n["i"])("br",null,null,-1);function w(e,t,s,i,a,r){var o=Object(n["A"])("icons");return Object(n["u"])(),Object(n["f"])("div",u,[Object(n["i"])("div",l,[Object(n["i"])("div",{class:"dialog",ref:"dialog",role:"alertdialog","aria-modal":"true","aria-labelledby":"duedialog_hdr","aria-describedby":"duedialog_body",tabindex:"-1",onClick:t[4]||(t[4]=Object(n["O"])((function(){}),["stop"]))},[Object(n["i"])("div",b,[Object(n["i"])("div",d,[Object(n["i"])(o,{name:"alert"}),Object(n["h"])(" "+Object(n["D"])(e.$t("duedialog.due")),1)])]),Object(n["i"])("div",p,[Object(n["i"])("p",null,Object(n["D"])(e.$t("duedialog.nowdue")),1),r.settings.can_use_latepass>0?(Object(n["u"])(),Object(n["f"])("p",f,[Object(n["h"])(Object(n["D"])(e.$tc("closed.latepassn",r.settings.latepasses_avail))+" ",1),h,Object(n["h"])(" "+Object(n["D"])(r.latepassExtendMsg)+" ",1),m,Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return r.useLatepass&&r.useLatepass.apply(r,arguments)}),class:"primary"},Object(n["D"])(e.$tc("closed.use_latepass",this.settings.can_use_latepass)),1)])):Object(n["g"])("",!0),r.hasUnsubmitted?(Object(n["u"])(),Object(n["f"])("p",O,[Object(n["h"])(Object(n["D"])(r.unsubmittedMessage)+" ",1),j,Object(n["i"])("button",{onClick:t[2]||(t[2]=function(){return r.submitNow&&r.submitNow.apply(r,arguments)}),class:"primary"},Object(n["D"])(e.$t("duedialog.submitnow")),1)])):Object(n["g"])("",!0),Object(n["i"])("p",null,[Object(n["i"])("button",{class:{primary:r.exitPrimary,secondary:!r.exitPrimary},onClick:t[3]||(t[3]=function(){return r.exit&&r.exit.apply(r,arguments)})},Object(n["D"])(e.$t("closed.exit")),3)])])],512)])],512)}var g=s("f05b"),y=s("649c"),v=s.n(y),_={name:"DueDialog",data:function(){return{dialog:null}},components:{Icons:g["a"]},computed:{settings:function(){return o["b"].assessInfo},latepassExtendMsg:function(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},hasUnsubmitted:function(){return"by_assessment"===this.settings.submitby||Object.keys(o["a"].getChangedQuestions()).length>0},unsubmittedMessage:function(){return"by_question"===this.settings.submitby?this.$t("duedialog.byq_unsubmitted"):this.$t("duedialog.bya_unsubmitted")},exitPrimary:function(){return!this.hasUnsubmitted&&!this.canUseLatePass}},methods:{closeDialog:function(){o["b"].show_enddate_dialog=!1},submitNow:function(){var e=this;o["a"].endAssess((function(){"by_question"===e.settings.submitby&&e.exit()}))},useLatepass:function(){o["a"].redeemLatePass((function(){o["b"].show_enddate_dialog=!1}))},exit:function(){window.exiturl&&""!==window.exiturl?(o["b"].noUnload=!0,window.location=window.exiturl):o["a"].routeToStart()}},mounted:function(){var e=this,t=o["b"].lastPos;window.$(document).on("keyup.dialog",(function(t){"Escape"===t.key&&e.closeDialog()})),this.dialog=new v.a(this.$refs.wrap),this.dialog.show(),window.innerHeight>2e3&&null!==t&&(this.$refs.dialog.style.top=Math.max(20,t-this.$refs.dialog.offsetHeight)+"px")},beforeUnmount:function(){window.$(document).off("keyup.dialog"),this.dialog.destroy()}};_.render=w;var q=_,k=s("96ec"),I=(s("6e40"),{components:{ErrorDialog:c["a"],DueDialog:q,ConfirmDialog:k["a"]},data:function(){return{prewarned:!1}},computed:{assessInfoLoaded:function(){return null!==o["b"].assessInfo},hasError:function(){return null!==o["b"].errorMsg},errorMsg:function(){return o["b"].errorMsg},confirmObj:function(){return o["b"].confirmObj},assessName:function(){return o["b"].assessInfo.name},showDueDialog:function(){return o["b"].show_enddate_dialog},lastPos:function(){return o["b"].lastPos}},methods:{beforeUnload:function(e){Object.keys(o["b"].autosaveQueue).length>0&&o["a"].submitAutosave(!1);var t=!0;if(o["b"].assessInfo.hasOwnProperty("questions")){var s=0,n=o["b"].assessInfo.questions.length;for(var i in o["b"].assessInfo.questions)o["b"].assessInfo.questions[i].try>0&&s++;s===n&&(t=!1)}if(o["b"].noUnload);else{if(!o["b"].inProgress&&Object.keys(o["b"].work).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_work");if(o["b"].inProgress){if(Object.keys(o["a"].getChangedQuestions()).length>0&&!this.prewarned)return e.preventDefault(),this.prewarned=!1,this.$t("unload.unsubmitted_questions");if("by_assessment"===o["b"].assessInfo.submitby&&o["b"].assessInfo.has_active_attempt&&!this.prewarned)return e.preventDefault(),t?this.$t("unload.unsubmitted_assessment"):this.$t("unload.unsubmitted_done_assessment")}else;}this.prewarned=!1},clearError:function(){o["b"].errorMsg=null},closeConfirm:function(){o["b"].confirmObj=null}},created:function(){window.$(document).on("click",(function(e){o["b"].lastPos=e.pageY})),window.$(document).on("focusin",(function(e){e.target&&e.target.getBoundingClientRect&&(o["b"].lastPos=e.target.getBoundingClientRect().top)})),window.$(window).on("beforeunload",this.beforeUnload);var e=this;window.$("a").not('#app a, a[href="#"]').on("click",(function(t){return"by_assessment"===o["b"].assessInfo.submitby&&o["b"].assessInfo.has_active_attempt?(t.preventDefault(),o["b"].confirmObj={body:"unload.unsubmitted_assessment",action:function(){e.prewarned=!0,window.location=t.currentTarget.href}},!1):!o["b"].inProgress&&Object.keys(o["b"].work).length>0?(t.preventDefault(),o["b"].confirmObj={body:"unload.unsubmitted_work",action:function(){e.prewarned=!0,window.location=t.currentTarget.href}},!1):void 0}))}});s("460d");I.render=r;var x=I,$=s("41cb"),D=s("9225");s.p=window.imasroot+"/assess2/vue/",Object(n["e"])(x).use($["a"]).use(D["a"]).mount("#app")},"590f":function(e,t,s){"use strict";s("170c")},5964:function(e,t,s){"use strict";s("de4a")},"59a2":function(e,t,s){"use strict";s("49f2")},"5bdf":function(e,t,s){"use strict";var n=s("7a23"),i={class:"headericons"};function a(e,t,s,a,r,o){var c=Object(n["A"])("icons"),u=Object(n["A"])("tooltip-span"),l=Object(n["A"])("question-details-pane"),b=Object(n["A"])("dropdown");return Object(n["u"])(),Object(n["f"])("div",i,[""!==o.scoreDisplay?(Object(n["u"])(),Object(n["f"])(u,{key:0,tip:o.scoreTip},{default:Object(n["L"])((function(){return[Object(n["i"])(c,{name:"square-check"}),Object(n["h"])(" "+Object(n["D"])(o.scoreDisplay),1)]})),_:1},8,["tip"])):Object(n["g"])("",!0),s.qn>=0&&s.curQData.canretry&&!1!==s.showretry?(Object(n["u"])(),Object(n["f"])(u,{key:1,tip:o.retryInfo.msg},{default:Object(n["L"])((function(){return[Object(n["i"])(c,{name:"retry"}),Object(n["h"])(" "+Object(n["D"])(o.retryInfo.cnt),1)]})),_:1},8,["tip"])):Object(n["g"])("",!0),s.qn>=0&&s.curQData.canregen&&!1!==s.showretry?(Object(n["u"])(),Object(n["f"])(u,{key:2,tip:e.$tc("qinfo.regens_remaining",s.curQData.regens_remaining)},{default:Object(n["L"])((function(){return[Object(n["i"])(c,{name:"retake"}),Object(n["h"])(" "+Object(n["D"])(s.curQData.regens_remaining),1)]})),_:1},8,["tip"])):Object(n["g"])("",!0),o.showDetails?(Object(n["u"])(),Object(n["f"])(b,{key:3,id:"qd-dd-"+s.qn,class:"question-details",tip:e.$t("qdetails.question_details")},{button:Object(n["L"])((function(){return[Object(n["i"])(c,{name:"info",size:"medium"}),Object(n["h"])(" "+Object(n["D"])(e.$t("header.details")),1)]})),default:Object(n["L"])((function(){return[Object(n["i"])(l,{qn:s.qn},null,8,["qn"])]})),_:1},8,["id","tip"])):Object(n["g"])("",!0)])}s("e25e");var r={class:"pane-header nowrap"},o={class:"pane-body"},c={key:0},u={key:1},l={class:"nowrap"},b={key:2},d={class:"nowrap"},p={key:4},f={key:5},h={class:"small subdued",style:{"text-align":"right"}};function m(e,t,s,i,a,m){var O=Object(n["A"])("question-details-table"),j=Object(n["A"])("penalties-applied");return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])("div",r,Object(n["D"])(e.$t("qdetails.question_details")),1),Object(n["i"])("div",o,[1===m.qinfo.extracredit?(Object(n["u"])(),Object(n["f"])("p",c,Object(n["D"])(e.$t("qdetails.extracredit")),1)):Object(n["g"])("",!0),m.showGBScore?(Object(n["u"])(),Object(n["f"])("p",u,[Object(n["h"])(Object(n["D"])(m.gbScoreString)+": ",1),Object(n["i"])("span",l,Object(n["D"])(e.$tc("scoreresult.scorepts",m.qinfo.points_possible,{pts:m.qinfo.gbscore,poss:m.qinfo.points_possible})),1)])):Object(n["g"])("",!0),m.showScore?(Object(n["u"])(),Object(n["f"])("p",b,[Object(n["h"])(Object(n["D"])(e.$t("qdetails.lastscore"))+": ",1),Object(n["i"])("span",d,Object(n["D"])(e.$tc("scoreresult.scorepts",m.qinfo.points_possible,{pts:m.qinfo.score,poss:m.qinfo.points_possible})),1)])):Object(n["g"])("",!0),m.hasParts?(Object(n["u"])(),Object(n["f"])(O,{key:3,caption:e.$t("qdetails.lasttry"),qinfo:m.qinfo,submitby:m.submitby},null,8,["caption","qinfo","submitby"])):Object(n["g"])("",!0),m.hasOnePartPenalties?(Object(n["u"])(),Object(n["f"])("div",p,[Object(n["i"])("p",null,Object(n["D"])(e.$t("penalties.applied"))+":",1),Object(n["i"])(j,{class:"med-left",part:m.qinfo.parts[0],submitby:m.submitby},null,8,["part","submitby"])])):Object(n["g"])("",!0),m.hasCategory?(Object(n["u"])(),Object(n["f"])("p",f,[Object(n["i"])("strong",null,Object(n["D"])(e.$t("qdetails.category"))+":",1),Object(n["h"])(" "+Object(n["D"])(m.qinfo.category),1)])):Object(n["g"])("",!0),Object(n["i"])("p",h,[Object(n["i"])("a",{target:"license",href:m.licenseUrl},Object(n["D"])(e.$t("qdetails.license")),9,["href"])])])])}var O=s("6081"),j=s("8145"),w=s("c428"),g={name:"QuestionDetailPane",props:["qn","className","id"],components:{QuestionDetailsTable:j["a"],PenaltiesApplied:w["a"]},computed:{qinfo:function(){return O["b"].assessInfo.questions[this.qn]},hasParts:function(){return this.qinfo.hasOwnProperty("parts")&&this.qinfo.parts.length>1&&0===this.qinfo.withdrawn&&this.qinfo.parts[0].hasOwnProperty("points_possible")&&!this.qinfo.singlescore},hasOnePartPenalties:function(){return this.qinfo.hasOwnProperty("parts")&&1===this.qinfo.parts.length&&this.qinfo.parts[0].hasOwnProperty("penalties")&&this.qinfo.parts[0].penalties.length>0},showScore:function(){return this.qinfo.hasOwnProperty("score")},showGBScore:function(){return this.qinfo.hasOwnProperty("gbscore")},gbScoreString:function(){return O["b"].assessInfo.in_practice?this.$t("qdetails.bestpractice"):this.$t("qdetails.gbscore")},hasCategory:function(){return 1===O["b"].assessInfo.showcat&&this.qinfo.hasOwnProperty("category")&&""!==this.qinfo.category&&null!==this.qinfo.category},submitby:function(){return O["b"].assessInfo.submitby},licenseUrl:function(){return window.imasroot+"/course/showlicense.php?id="+this.qinfo.questionsetid}}};g.render=m;var y=g,v=s("ac18"),_=s("a9af"),q=s("f05b"),k={name:"QuestionHeaderIcons",props:["showscore","curQData","qn","showretry"],components:{Dropdown:v["a"],Icons:q["a"],QuestionDetailsPane:y,TooltipSpan:_["a"]},computed:{dispqn:function(){return parseInt(this.qn)+1},scoreDisplay:function(){return 0===this.dispqn?"":this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.curQData.gbscore+"/"+this.$tc("header.pts",this.curQData.points_possible):this.$tc("header.pts",this.curQData.points_possible)},scoreTip:function(){return this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.$t("qdetails.gbscore"):this.$tc("header.possible",this.curQData.points_possible)},retryInfo:function(){if(this.qn<0)return{};var e,t;if(this.curQData.hasOwnProperty("tries_remaining_range")){var s=this.curQData.tries_remaining_range;e=this.$t("qinfo.tries_remaining_range",{min:s[0],max:s[1]}),t=s[0]+"-"+s[1]}else e=this.$tc("qinfo.tries_remaining",this.curQData.tries_remaining),t=this.curQData.tries_remaining;return{msg:e,cnt:t}},showDetails:function(){if(this.qn<0)return!1;var e=this.curQData.hasOwnProperty("category")&&""!==this.curQData.category;return this.curQData.has_details||e||this.curQData.hasOwnProperty("gbscore")}}};k.render=a;t["a"]=k},"5ca9":function(e,t,s){},"5dc8":function(e,t,s){"use strict";var n=s("7a23"),i={class:"questionwrap questionpane",ref:"main"},a={key:0},r={key:2,class:"scoreresult neutral",tabindex:"-1"},o={key:3,class:"noticetext"},c={key:4,class:"small"},u={key:7},l={key:8,class:"submitbtnwrap"},b={class:"sr-only"},d={key:9,class:"submitbtnwrap"};function p(e,t,s,p,f,h){var m=Object(n["A"])("score-result"),O=Object(n["A"])("icons"),j=Object(n["A"])("question-helps"),w=Object(n["A"])("showwork-input"),g=Object(n["A"])("router-link");return Object(n["u"])(),Object(n["f"])("div",i,[h.questionContentLoaded?Object(n["g"])("",!0):(Object(n["u"])(),Object(n["f"])("div",a,Object(n["D"])(e.$t("loading")),1)),h.showScore&&h.showResults?(Object(n["u"])(),Object(n["f"])(m,{key:1,qdata:h.questionData,qn:s.qn},null,8,["qdata","qn"])):h.showScore&&h.questionData.canregen?(Object(n["u"])(),Object(n["f"])("div",r,[Object(n["i"])("button",{type:"button",onClick:t[1]||(t[1]=function(){return h.trySimilar&&h.trySimilar.apply(h,arguments)})},[Object(n["i"])(O,{name:"retake",alt:""}),Object(n["h"])(" "+Object(n["D"])(e.$t("scoreresult.trysimilar")),1)])])):Object(n["g"])("",!0),0!==h.questionData.withdrawn?(Object(n["u"])(),Object(n["f"])("p",o,[Object(n["i"])(O,{name:"alert",color:"warn",size:"medium"}),Object(n["h"])(" "+Object(n["D"])(e.$t("question.withdrawn")),1)])):Object(n["g"])("",!0),h.errorsToShow.length>0?(Object(n["u"])(),Object(n["f"])("div",c,[Object(n["i"])("ul",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(h.errorsToShow,(function(e,t){return Object(n["u"])(),Object(n["f"])("li",{key:t},Object(n["D"])(e),1)})),128))])])):Object(n["g"])("",!0),h.questionContentLoaded?(Object(n["u"])(),Object(n["f"])("div",{key:5,innerHTML:h.questionData.html,class:"question",id:"questionwrap"+s.qn,ref:"thisqwrap"},null,8,["innerHTML","id"])):Object(n["g"])("",!0),h.showHelps?(Object(n["u"])(),Object(n["f"])(j,{key:6,qn:s.qn},null,8,["qn"])):Object(n["g"])("",!0),h.showWork&&h.questionContentLoaded?(Object(n["u"])(),Object(n["f"])("div",u,[2!==s.getwork?(Object(n["u"])(),Object(n["f"])("button",{key:0,onClick:t[2]||(t[2]=function(t){return e.showWorkInput=!e.showWorkInput})},Object(n["D"])(e.showWorkInput?e.$t("work.hide"):e.$t("work.add")),1)):Object(n["g"])("",!0),Object(n["M"])(Object(n["i"])("div",null,[Object(n["i"])(w,{id:"sw"+s.qn,value:h.questionData.work,rows:"3",active:2===s.getwork||e.showWorkInput,onInput:h.updateWork,onBlur:h.workChanged,onFocus:h.workFocused},null,8,["id","value","active","onInput","onBlur","onFocus"])],512),[[n["J"],2===s.getwork||e.showWorkInput]])])):Object(n["g"])("",!0),h.showSubmit?(Object(n["u"])(),Object(n["f"])("div",l,[Object(n["i"])("button",{type:"button",onClick:t[3]||(t[3]=function(){return h.submitQuestion&&h.submitQuestion.apply(h,arguments)}),class:h.submitClass,disabled:!h.canSubmit},[Object(n["h"])(Object(n["D"])(h.submitLabel)+" ",1),Object(n["i"])("span",b,Object(n["D"])(e.$t("question_n",{n:s.qn+1})),1)],10,["disabled"]),h.canJumpToAnswer?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",onClick:t[4]||(t[4]=function(){return h.jumpToAnswer&&h.jumpToAnswer.apply(h,arguments)}),class:"secondary",disabled:!h.canSubmit},Object(n["D"])(e.$t("question.jump_to_answer")),9,["disabled"])):Object(n["g"])("",!0)])):h.showNext?(Object(n["u"])(),Object(n["f"])("div",d,[Object(n["i"])(g,{to:"/skip/"+(this.qn+2),custom:""},{default:Object(n["L"])((function(t){var s=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:s,onKeypress:Object(n["N"])(s,["enter"]),role:"link",class:"secondarybtn",disabled:!h.canSubmit},[Object(n["i"])(O,{name:"right"}),Object(n["h"])(" "+Object(n["D"])(e.$t("question.next")),1)],40,["onClick","onKeypress","disabled"])]})),_:1},8,["to"])])):Object(n["g"])("",!0)],512)}s("99af"),s("7db0"),s("b0c0"),s("b64b"),s("4d63"),s("ac1f"),s("25f0"),s("466d"),s("498a");var f=s("6081"),h={key:0},m={key:1},O={key:2},j={key:3},w={key:3};function g(e,t,s,i,a,r){var o=this,c=Object(n["A"])("icons"),u=Object(n["A"])("router-link");return Object(n["u"])(),Object(n["f"])(n["c"],{name:"fade"},{default:Object(n["L"])((function(){return[e.expanded?(Object(n["u"])(),Object(n["f"])("div",{key:0,class:["scoreresult",r.status],tabindex:"-1"},[r.showScores?(Object(n["u"])(),Object(n["f"])("p",h,[Object(n["h"])(Object(n["D"])(e.$t("scoreresult.scorelast"))+" ",1),Object(n["i"])("strong",null,Object(n["D"])(e.$tc("scoreresult.scorepts",s.qdata.points_possible,{pts:s.qdata.score,poss:s.qdata.points_possible}))+". ",1),Object(n["h"])(" "+Object(n["D"])(e.$t("scoreresult.see_details")),1)])):(Object(n["u"])(),Object(n["f"])("p",m,Object(n["D"])(e.$t("scoreresult.submitted")),1)),r.hasManualScore?(Object(n["u"])(),Object(n["f"])("p",O,[Object(n["i"])(c,{name:"info"}),Object(n["h"])(" "+Object(n["D"])(e.$t("scoreresult.manual_grade")),1)])):Object(n["g"])("",!0),r.showRetryButtons?(Object(n["u"])(),Object(n["f"])("p",j,[r.showNext?(Object(n["u"])(),Object(n["f"])(u,{key:0,to:"/skip/"+(o.qn+2),custom:""},{default:Object(n["L"])((function(t){var s=t.navigate;return[Object(n["i"])("button",{type:"button",onClick:s,onKeypress:Object(n["N"])(s,["enter"]),role:"link"},[Object(n["i"])(c,{name:"right",alt:""}),Object(n["h"])(" "+Object(n["D"])(e.$t("scoreresult.next")),1)],40,["onClick","onKeypress"])]})),_:1},8,["to"])):Object(n["g"])("",!0),r.showSubmit?(Object(n["u"])(),Object(n["f"])("button",{key:1,type:"button",class:"primary",onClick:t[1]||(t[1]=function(){return r.submitAssess&&r.submitAssess.apply(r,arguments)})},Object(n["D"])(e.$t("header.assess_submit")),1)):Object(n["g"])("",!0),s.qdata.canregen?(Object(n["u"])(),Object(n["f"])("button",{key:2,type:"button",onClick:t[2]||(t[2]=function(){return r.trySimilar&&r.trySimilar.apply(r,arguments)})},[Object(n["i"])(c,{name:"retake",alt:""}),Object(n["h"])(" "+Object(n["D"])(e.$t("scoreresult.trysimilar")),1)])):Object(n["g"])("",!0),s.qdata.canretry_primary?(Object(n["u"])(),Object(n["f"])("span",w,Object(n["D"])(e.$t("scoreresult.retryq")),1)):Object(n["g"])("",!0)])):Object(n["g"])("",!0)],2)):Object(n["g"])("",!0)]})),_:1})}var y=s("f05b"),v={name:"ScoreResult",props:["qdata","qn"],data:function(){return{expanded:!0}},watch:{qdata:function(e){this.expanded=!0}},components:{Icons:y["a"]},computed:{showScores:function(){return(!this.qdata.hasOwnProperty("parts")||1!==this.qdata.parts.length||!this.qdata.parts[0].req_manual)&&"during"===f["b"].assessInfo.showscores},status:function(){if(!this.showScores||!this.qdata.hasOwnProperty("parts")||1===this.qdata.parts.length&&this.qdata.parts[0].req_manual)return"neutral";if(this.qdata.singlescore)return this.qdata.rawscore>.99?"correct":this.qdata.rawscore<.01?"incorrect":"partial";for(var e=0,t=0,s=0;s<this.qdata.parts.length;s++)this.qdata.parts[s].hasOwnProperty("rawscore")&&(this.qdata.parts[s].rawscore>.99?e++:this.qdata.parts[s].rawscore<.01&&t++);return e===this.qdata.parts.length?"correct":t===this.qdata.parts.length?"incorrect":"partial"},hasManualScore:function(){if("during"!==f["b"].assessInfo.showscores||!this.qdata.hasOwnProperty("parts"))return!1;for(var e=0;e<this.qdata.parts.length;e++)if(this.qdata.parts[e].hasOwnProperty("req_manual")&&this.qdata.parts[e].req_manual)return!0;return!1},showRetryButtons:function(){return"livepoll"!==f["b"].assessInfo.displaymethod},showNext:function(){return"skip"===f["b"].assessInfo.displaymethod&&this.qn<f["b"].assessInfo.questions.length-1},showSubmit:function(){return"by_assessment"===f["b"].assessInfo.submitby&&this.qn===f["b"].assessInfo.questions.length-1}},methods:{trySimilar:function(){f["a"].loadQuestion(this.qn,!0)},submitAssess:function(){f["a"].submitAssessment()}}};s("1dac");v.render=g;var _=v,q={class:"sr-only"},k=Object(n["h"])(": "),I={key:0,class:"sr-only"},x={key:0},$={key:1};function D(e,t,s,i,a,r){var o=Object(n["A"])("icons"),c=Object(n["A"])("tooltip-span");return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])("span",{id:"qhelp"+s.qn},[Object(n["h"])(Object(n["D"])(e.$t("helps.help")),1),Object(n["i"])("span",q,Object(n["D"])(e.$t("question_n",{n:s.qn+1})),1),k],8,["id"]),Object(n["i"])("ul",{class:"helplist","aria-labelledby":"qhelp"+s.qn},[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.qHelps,(function(e,t){return Object(n["u"])(),Object(n["f"])("li",{key:t},[Object(n["i"])(c,{tip:e.descr},{default:Object(n["L"])((function(){return[Object(n["i"])("a",{href:"#",onClick:Object(n["O"])((function(t){return r.loadHelp(e)}),["prevent"])},[Object(n["i"])(o,{name:e.icon,alt:""},null,8,["name"]),Object(n["h"])(" "+Object(n["D"])(e.title)+" ",1),Object(n["i"])("span",{class:{"sr-only":!r.showCnts}},Object(n["D"])(e.cnt),3),e.descr?(Object(n["u"])(),Object(n["f"])("span",I,Object(n["D"])(e.descr),1)):Object(n["g"])("",!0)],8,["onClick"])]})),_:2},1032,["tip"])])})),128)),r.showMessage?(Object(n["u"])(),Object(n["f"])("li",x,[Object(n["i"])("a",{href:r.messageHref,target:"help"},[Object(n["i"])(o,{name:"message"}),Object(n["h"])(" "+Object(n["D"])(e.$t("helps.message_instructor")),1)],8,["href"])])):Object(n["g"])("",!0),r.postToForum>0?(Object(n["u"])(),Object(n["f"])("li",$,[Object(n["i"])("a",{href:r.forumHref,target:"help"},[Object(n["i"])(o,{name:"forum"}),Object(n["h"])(" "+Object(n["D"])(e.$t("helps.post_to_forum")),1)],8,["href"])])):Object(n["g"])("",!0)],8,["aria-labelledby"])])}s("4de4"),s("1276");var A=s("a9af"),P={name:"QuestionHelps",props:["qn"],components:{Icons:y["a"],TooltipSpan:A["a"]},computed:{showMessage:function(){return f["b"].assessInfo.hasOwnProperty("help_features")&&!0===f["b"].assessInfo.help_features.message},postToForum:function(){return f["b"].assessInfo.hasOwnProperty("help_features")&&f["b"].assessInfo.help_features.forum},qHelps:function(){var e={};if(f["b"].assessInfo.questions[this.qn].jsparams){var t=f["b"].assessInfo.questions[this.qn].jsparams.helps;for(var s in t)e.hasOwnProperty(t[s].label)?e[t[s].label]++:e[t[s].label]=1,"video"===t[s].label?(t[s].icon="video",t[s].title=this.$t("helps.video")):"read"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.read")):"ex"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.written_example")):(t[s].icon="file",t[s].title=t[s].label),t[s].cnt=e[t[s].label];return t}return[]},showCnts:function(){return this.qHelps.filter((function(e){return e.cnt>1})).length>0},quoteQ:function(){var e=f["b"].assessInfo.questions[this.qn].questionsetid,t=f["b"].assessInfo.questions[this.qn].seed,s=2;return this.qn+"-"+e+"-"+t+"-"+f["b"].aid+"-"+s},messageHref:function(){var e=window.imasroot+"/msgs/msglist.php?";return e+=window.$.param({cid:f["b"].cid,add:"new",quoteq:this.quoteQ,to:"instr"}),e},forumHref:function(){var e=window.imasroot+"/forums/thread.php?";return e+=window.$.param({cid:f["b"].cid,forum:f["b"].assessInfo.help_features.forum,modify:"new",quoteq:this.quoteQ}),e}},methods:{loadHelp:function(e){if(e.ref){var t=e.ref.split(/-/),s="Q"+t[1]+": ";if(e.url.match(/watchvid\.php/)){var n=e.url.split(/url=/);window.recclick("extref",e.ref,s+decodeURIComponent(n[1]))}else window.recclick("extref",e.ref,s+e.url)}window.popupwindow("help",e.url,e.w,e.h,!0)}}};s("4d98");P.render=D;var T=P,S=s("5088"),Q=s("d9a8"),C={name:"Question",props:["qn","active","state","seed","disabled","getwork"],components:{ScoreResult:_,QuestionHelps:T,ShowworkInput:S["a"],Icons:y["a"]},data:function(){return{work:"",lastWorkVal:"",showWorkInput:!1}},computed:{questionData:function(){return f["b"].assessInfo.questions[this.qn]},canSubmit:function(){return!f["b"].inTransit},canJumpToAnswer:function(){return this.questionData.jump_to_answer},questionContentLoaded:function(){return null!==this.questionData.html},hasSeqNext:function(){return this.questionData.jsparams&&this.questionData.jsparams.hasseqnext},hasSubmitAll:function(){return this.questionData.jsparams&&1===this.questionData.jsparams.submitall},buttonsOk:function(){return f["b"].inProgress&&this.questionContentLoaded&&!f["b"].inPrintView&&!this.disabled&&0===this.questionData.withdrawn&&this.questionData.canretry},showSubmit:function(){return this.buttonsOk&&("by_question"===f["b"].assessInfo.submitby||"during"===f["b"].assessInfo.showscores||this.hasSeqNext)&&("livepoll"!==f["b"].assessInfo.displaymethod||2===this.state)},showNext:function(){return this.buttonsOk&&!this.showSubmit&&"skip"===f["b"].assessInfo.displaymethod&&this.qn<f["b"].assessInfo.questions.length-1},submitClass:function(){return"by_assessment"!==f["b"].assessInfo.submitby&&this.questionData.canretry_primary?"primary":"secondary"},showScore:function(){return f["b"].inProgress&&!f["b"].inPrintView&&!this.disabled&&!0!==this.questionData.hadSeqNext&&(this.questionData.hasOwnProperty("score")||"attempted"===this.questionData.status)&&(this.questionData.try>0||this.questionData.hasOwnProperty("tries_remaining_range"))&&0===this.questionData.withdrawn},showResults:function(){return f["b"].assessInfo.show_results},submitLabel:function(){var e="question.";return"by_question"===f["b"].assessInfo.submitby?e+="submit":"during"===f["b"].assessInfo.showscores?e+="checkans":e+="saveans",this.hasSeqNext?e+="_seqnext":this.hasSubmitAll&&(e+="_submitall"),this.$t(e)},showHelps:function(){return f["b"].assessInfo.hasOwnProperty("help_features")&&(!0===f["b"].assessInfo.help_features.message||f["b"].assessInfo.help_features.forum>0)||this.questionData.jsparams&&this.questionData.jsparams.helps.length>0},errorsToShow:function(){var e=[];return f["b"].assessInfo.hasOwnProperty("scoreerrors")&&f["b"].assessInfo.scoreerrors.hasOwnProperty(this.qn)&&(e=e.concat(f["b"].assessInfo.scoreerrors[this.qn])),this.questionData.hasOwnProperty("errors")&&(e=e.concat(this.questionData.errors)),e},showWork:function(){return 1===this.getwork&&1&f["b"].assessInfo.questions[this.qn].showwork||2===this.getwork&&2&f["b"].assessInfo.questions[this.qn].showwork}},methods:{loadQuestionIfNeeded:function(e){!this.questionContentLoaded&&this.active&&null===f["b"].errorMsg?f["a"].loadQuestion(this.qn,!1,!1):this.questionContentLoaded&&this.active&&!this.questionData.rendered&&!0!==e&&this.renderAndTrack()},submitQuestion:function(){f["a"].submitQuestion(this.qn,!1),f["b"].timeActive[this.qn]=0,f["b"].timeActivated[this.qn]=new Date},jumpToAnswer:function(){var e=this;f["b"].confirmObj={body:"question.jump_warn",action:function(){return f["a"].loadQuestion(e.qn,!1,!0)}}},updateTime:function(e){if(!f["b"].timeActivated.hasOwnProperty(this.qn)||e)f["b"].timeActivated[this.qn]=new Date;else if(f["b"].timeActivated.hasOwnProperty(this.qn)){var t=new Date;f["b"].timeActive[this.qn]+=t-f["b"].timeActivated[this.qn],delete f["b"].timeActivated[this.qn]}},addDirtyTrackers:function(){window.$("#questionwrap"+this.qn).find("input[name],select[name],textarea[name]").off("focus.dirtytrack").off("change.dirtytrack").off("input.dirtytrack").on("focus.dirtytrack",(function(){"radio"===this.type||"checkbox"===this.type||window.$(this).attr("data-lastval",window.$(this).val())})).on("input.dirtytrack",(function(){f["b"].somethingDirty=!0})).on("change.dirtytrack",(function(){var e=window.$(this).val().trim(),t=!1;if(("radio"===this.type||"checkbox"===this.type||e!==window.$(this).attr("data-lastval")&&""!==e)&&(t=!0),t){f["b"].somethingDirty=!0;var s=window.$(this).attr("name"),n=s.match(/^(qs|qn|tc)(\d+)/);if(null!==n){var i=1*n[2],a=0;i>=1e3&&(a=i%1e3,i=Math.floor(i/1e3+.001)-1);var r=new Date,o=f["b"].timeActive[i]+(r-f["b"].timeActivated[i]);f["a"].doAutosave(i,a,o)}}}))},disableOutOfTries:function(){var e=this.questionData.tries_max;for(var t in this.questionData.parts){var s;this.questionData.parts[t].try>=e&&(s=1===Object.keys(this.questionData.parts).length&&Object.keys(this.questionData.jsparams).length>1?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(this.qn+1)+"\\d{3}\\b)"):0===t?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(1e3*(this.qn+1)+1*t)+"\\b)"):new RegExp("^(qn|tc|qs)"+(1e3*(this.qn+1)+1*t)+"\\b"),window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(s)&&(t.disabled=!0)})))}},renderAndTrack:function(){!this.questionData.rendered&&this.active&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.thisqwrap),window.initSageCell(this.$refs.thisqwrap),window.initlinkmarkup(this.$refs.thisqwrap),this.updateTime(!0),this.setInitValues(),f["b"].timeActive[this.qn]+=f["a"].getInitTimeactive(this.qn),this.addDirtyTrackers(),this.work=this.questionData.work,window.$("#questionwrap"+this.qn).find(".seqsep").attr("aria-level","full"===f["b"].assessInfo.displaymethod?3:2),this.disabled&&window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(/^(qn|tc|qs)\d/)&&(t.disabled=!0)})),window.imathasAssess.init(this.questionData.jsparams,f["b"].enableMQ,this.$refs.thisqwrap),f["a"].setRendered(this.qn,!0))},setInitValues:function(){var e=new RegExp("^(qn|tc|qs)\\d"),t=this.qn;window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(s,n){n.name.match(e)&&("radio"===n.type||"checkbox"===n.type?n.checked&&f["a"].setInitValue(t,n.name,n.value):f["a"].setInitValue(t,n.name,window.$(n).val()))})),this.showWork&&(f["a"].setInitValue(t,"sw"+this.qn,this.questionData.work),this.work=this.questionData.work)},updateWork:function(e){this.work=e},workChanged:function(){if(this.work!==this.lastWorkVal)if(f["b"].work[this.qn]=this.work,1===this.getwork){var e=new Date,t=f["b"].timeActive[this.qn]+(e-f["b"].timeActivated[this.qn]);f["a"].doAutosave(this.qn,"sw",t)}else 2===this.getwork&&this.$emit("workchanged",this.work)},workFocused:function(){this.lastWorkVal=this.work},trySimilar:function(){f["a"].loadQuestion(this.qn,!0)}},updated:function(){this.questionContentLoaded?(this.disableOutOfTries(),this.renderAndTrack()):this.loadQuestionIfNeeded()},created:function(){this.loadQuestionIfNeeded(!0),f["b"].timeActive.hasOwnProperty(this.qn)||(f["b"].timeActive[this.qn]=0)},mounted:function(){this.questionContentLoaded&&(this.disableOutOfTries(),this.renderAndTrack())},beforeUnmount:function(){f["a"].setRendered(this.qn,!1)},watch:{active:function(e,t){this.loadQuestionIfNeeded(),this.updateTime(e),!1===e&&Object(Q["a"])(this.$refs.main)},state:function(e,t){(e>1&&t<=1||4===e&&t<4||3===e&&4===t)&&f["a"].loadQuestion(this.qn,!1,!1)},qn:function(e,t){f["a"].setRendered(t,!1)},seed:function(e,t){f["a"].loadQuestion(this.qn,!1,!1)}}};s("26c5");C.render=p;t["a"]=C},6081:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return c}));s("7db0"),s("c975"),s("a15b"),s("b0c0"),s("b64b"),s("e25e"),s("4d63"),s("ac1f"),s("25f0"),s("466d"),s("498a");var n=s("53ca"),i=s("7a23"),a=s("41cb"),r=s("2b58"),o=Object(i["w"])({assessInfo:null,APIbase:null,aid:null,cid:null,uid:null,queryString:"",inAssess:!1,inTransit:!1,autoSaving:!1,errorMsg:null,confirmObj:null,lastLoaded:[],inProgress:!1,autosaveQueue:{},autosaveTimeactive:{},timeActive:{},timeActivated:{},initValues:{},initTimes:{},work:{},autosaveTimer:null,somethingDirty:!1,noUnload:!1,timelimit_timer:null,timelimit_expired:!1,timelimit_grace_expired:!1,timelimit_restricted:0,enddate_timer:null,show_enddate_dialog:!1,inPrintView:!1,enableMQ:!0,lastPos:null,livepollServer:"",livepollSettings:{showQuestionDefault:!0,showResultsLiveDefault:!1,showResultsAfter:!0,showAnswersAfter:!0,useTimer:!1,questionTimelimit:60},livepollStuCnt:0,livepollResults:{}}),c={loadAssessData:function(e,t){var s=this,n=o.queryString;!0===t&&(n+="&reset=1"),o.inTransit?window.setTimeout((function(){return s.loadAssessData(e,t)}),20):(o.inTransit=!0,o.errorMsg=null,o.inAssess=!1,window.$.ajax({url:o.APIbase+"loadassess.php"+n,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?s.handleError(t.error):(o.inProgress=!1,o.timelimit_expired=!1,clearTimeout(o.timelimit_timer),t=s.processSettings(t),o.assessInfo=t,"undefined"!==typeof e&&null!==e&&e())})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},startAssess:function(e,t,s,n,i){var r=this;o.inTransit?window.setTimeout((function(){return r.startAssess(e,t,s,n)}),20):(o.inTransit=!0,o.errorMsg=null,window.$.ajax({url:o.APIbase+"startassess.php"+o.queryString,type:"POST",dataType:"json",data:{practice:e,preview_all:i?1:0,password:t,in_print:o.inPrintView?1:0,new_group_members:s.join(","),cur_group:o.assessInfo.stugroupid,has_ltisourcedid:o.assessInfo.is_lti&&o.assessInfo.has_ltisourcedid?1:0},xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){if(e.hasOwnProperty("error"))r.handleError(e.error);else if(window.imathasDraw.reset(),e=r.processSettings(e),o.assessInfo=Object.assign({},o.assessInfo,e),o.autosaveQueue={},o.autosaveTimeactive={},o.initValues={},o.initTimes={},o.timeActive={},o.timeActivated={},o.work={},o.inAssess=!0,e.error)r.handleError(e.error);else if(o.assessInfo.has_active_attempt){if(o.inProgress=!0,"undefined"!==typeof n&&null!==n)return void n();"skip"===o.assessInfo.displaymethod?""!==o.assessInfo.intro||o.assessInfo.resources.length>0?a["a"].push("/skip/0"):a["a"].push("/skip/1"):"full"===o.assessInfo.displaymethod?o.assessInfo.hasOwnProperty("interquestion_pages")?""!==o.assessInfo.intro||o.assessInfo.resources.length>0?a["a"].push("/full/page/0"):a["a"].push("/full/page/1"):a["a"].push("/full"):"video_cued"===o.assessInfo.displaymethod?a["a"].push("/videocued"):"livepoll"===o.assessInfo.displaymethod&&a["a"].push("/livepoll")}})).fail((function(e,t,s){r.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},loadQuestion:function(e,t,s,n){var i=this;if(o.inTransit)window.setTimeout((function(){return i.loadQuestion(e,t,s)}),20);else if(o.somethingDirty&&null==n)window.setTimeout((function(){return i.loadQuestion(e,t,s,!0)}),50);else{o.inTransit=!0,t&&(this.clearInitValue(e),o.assessInfo.hasOwnProperty("scoreerrors")&&o.assessInfo.scoreerrors.hasOwnProperty(e)&&delete o.assessInfo.scoreerrors[e]);var a=new FormData;a.append("qn",e),a.append("practice",o.assessInfo.in_practice),a.append("regen",t?1:0),a.append("jumptoans",s?1:0),o.assessInfo.preview_all&&a.append("preview_all",!0),Object.keys(o.autosaveQueue).length>0&&(c.clearAutosaveTimer(),this.addAutosaveData(a)),window.$.ajax({url:o.APIbase+"loadquestion.php"+o.queryString,type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?i.handleError(s.error):(s.saved_autosaves&&i.markAutosavesDone(),delete s.saved_autosaves,t&&o.assessInfo.questions[e].jsparams&&window.imathasAssess.clearparams(o.assessInfo.questions[e].jsparams),s=i.processSettings(s),i.copySettings(s))})).fail((function(e,t,s){i.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){o.inTransit=!1}))}},submitAssessment:function(){var e=this,t="header.confirm_assess_submit";if("by_assessment"===o.assessInfo.submitby){var s=0,n=this.getChangedQuestions();for(var i in o.assessInfo.questions)(o.assessInfo.questions[i].try>0||o.assessInfo.questions[i].hasOwnProperty("parts_entered")&&o.assessInfo.questions[i].hasOwnProperty("answeights")&&o.assessInfo.questions[i].parts_entered.length>=o.assessInfo.questions[i].answeights.length||n.hasOwnProperty(i))&&s++;var a=o.assessInfo.questions.length;s!==a&&(t="header.confirm_assess_unattempted_submit"),o.confirmObj={body:t,action:function(){for(var t=[],s=0;s<o.assessInfo.questions.length;s++)t.push(s);e.submitQuestion(t,!0)}}}},submitWork:function(){var e=this;if(o.inTransit)window.setTimeout((function(){return e.submitWork()}),20);else{"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),o.inTransit=!0;var t={};for(var s in window.$(".swbox").each((function(){var e=parseInt(this.id.substr(2));o.assessInfo.questions[e].hasOwnProperty("work")&&this.value===o.assessInfo.questions[e].work||(o.work[e]=this.value)})),o.work)t[s]=o.work[s];if(0===Object.keys(t).length)return o.inTransit=!1,void(o.inAssess?a["a"].push("/summary"):"yes"===o.assessInfo.available?a["a"].push("/"):window.location=window.exiturl);window.$.ajax({url:o.APIbase+"savework.php"+o.queryString,type:"POST",dataType:"json",data:{work:t},xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){if(t.hasOwnProperty("error"))return e.handleError(t.error),void("already_submitted"===t.error&&(t=e.processSettings(t),e.copySettings(t)));for(var s in o.errorMsg=null,o.work)o.assessInfo.questions[parseInt(s)].work=o.work[s],delete o.work[s];o.inAssess?a["a"].push("/summary"):"yes"===o.assessInfo.available?a["a"].push("/"):window.location=window.exiturl})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1}))}},submitQuestion:function(e,t){var s=this;if(o.somethingDirty=!1,this.clearAutosaveTimer(),o.inTransit)window.setTimeout((function(){return s.submitQuestion(e,t)}),20);else{for(var r in o.inTransit=!0,"object"!==Object(n["a"])(e)&&(e=[e]),window.callbackstack)r=parseInt(r),e.indexOf(r<1e3?r:Math.floor(r/1e3)-1)>-1&&window.callbackstack[r](r);"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave();for(var u=[],l=this.getChangedQuestions(e),b=!1,d=0;d<e.length;d++){var p=parseInt(e[d]);if(document.getElementById("sw"+p)&&(o.work[p]=document.getElementById("sw"+p).value),o.work[p]&&o.work[p]!==c.getInitValue(p,"sw"+p)){b=!0;break}}if(0===Object.keys(l).length&&!b&&!t)return o.errorMsg="nochange",void(o.inTransit=!1);window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),window.setTimeout((function(){return s.clearAutosave(e)}),100);var f,h=new FormData,m=[];for(var O in l){if("full"!==o.assessInfo.displaymethod){if(o.timeActivated.hasOwnProperty(O)){var j=new Date;o.timeActive[O]+=j-o.timeActivated[O]}m.push(o.timeActive[O])}1===l[O].length&&0===l[O][0]&&(f=window.imathasAssess.preSubmit(O),!1!==f&&h.append("qn"+O+"-val",f));for(var w=void 0,g=0;g<l[O].length;g++)w=1e3*(parseInt(O)+1)+l[O][g],f=window.imathasAssess.preSubmit(w),!1!==f&&h.append("qn"+w+"-val",f)}for(var y=0;y<e.length;y++){var v=parseInt(e[y]),_=new RegExp("^(qn|tc|qs)("+v+"\\b|"+(v+1)+"\\d{3})");window.$("#questionwrap"+v).find("input,select,textarea").each((function(e,t){t.name.match(_)&&("radio"!==t.type&&"checkbox"!==t.type||t.checked)&&("file"===t.type&&t.files.length>0?h.append(t.name,t.files[0]):"file"===t.type?document.getElementById(t.name+"-autosave")&&h.append(t.name,"file-autosave"):h.append(t.name,window.imathasAssess.preSubmitString(t.name,t.value)))})),o.work[v]&&o.work[v]!==c.getInitValue(v,"sw"+v)&&h.append("sw"+v,o.work[v]),u[y]=o.lastLoaded[v].getTime()}h.append("toscoreqn",JSON.stringify(l)),h.append("timeactive",m.join(",")),h.append("lastloaded",u.join(",")),h.append("verification",JSON.stringify(this.getVerificationData(l))),t&&h.append("endattempt",t),o.assessInfo.in_practice&&h.append("practice",!0),o.assessInfo.preview_all&&h.append("preview_all",!0),this.addAutosaveData(h,Object.keys(l));var q=1===e.length&&o.assessInfo.questions[e[0]].jsparams&&o.assessInfo.questions[e[0]].jsparams.hasseqnext;window.$.ajax({url:o.APIbase+"scorequestion.php"+o.queryString,type:"POST",dataType:"json",data:h,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(n){if(n.hasOwnProperty("error"))return s.handleError(n.error),void("already_submitted"===n.error&&(n=s.processSettings(n),s.copySettings(n)));for(var r in o.errorMsg=null,n.saved_autosaves&&s.markAutosavesDone(),delete n.saved_autosaves,l)o.assessInfo.hasOwnProperty("scoreerrors")&&o.assessInfo.scoreerrors.hasOwnProperty(r)&&delete o.assessInfo.scoreerrors[r],o.initValues.hasOwnProperty(r)&&delete o.initValues[r],o.work.hasOwnProperty(r)&&delete o.work[r];n=s.processSettings(n),s.copySettings(n),!o.assessInfo.in_practice&&window.inTreeReader&&s.updateTreeReader();for(var c=!1,u=0;u<o.assessInfo.questions.length;u++)if(2&o.assessInfo.questions[u].showwork){c=!0;break}t?(o.inProgress=!1,c&&!o.assessInfo.in_practice?a["a"].push("/showwork"):a["a"].push("/summary")):1===e.length&&(o.assessInfo.questions[e[0]].hadSeqNext=q,Object(i["p"])((function(){var t;q?(t=window.$("#questionwrap"+e[0]).find(".seqsep").last().next()[0],window.$("#questionwrap"+e[0]).find(".seqsep").last().focus()):(t=document.getElementById("questionwrap"+e[0]).parentNode.parentNode,window.$(t).find(".scoreresult").focus());var s=t.getBoundingClientRect();(s.top<0||s.bottom>document.documentElement.clientHeight)&&t.scrollIntoView()})))})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){o.inTransit=!1}))}},gotoSummary:function(){for(var e=!1,t=0;t<o.assessInfo.questions.length;t++)if(2&o.assessInfo.questions[t].showwork){e=!0,o.assessInfo.showwork_after=!0;break}"by_question"===o.assessInfo.submitby&&(e&&!o.assessInfo.in_practice?a["a"].push("/showwork"):a["a"].push("/summary"))},doAutosave:function(e,t,s){var n=this;o.inTransit?window.setTimeout((function(){return n.doAutosave(e,t,s)}),20):(o.somethingDirty=!1,o.autosaveQueue.hasOwnProperty(e)||(o.autosaveQueue[e]=[]),-1===o.autosaveQueue[e].indexOf(t)&&o.autosaveQueue[e].push(t),o.autosaveTimeactive[e]=s,null===o.autosaveTimer&&(o.autosaveTimer=window.setTimeout((function(){n.submitAutosave(!0)}),6e4)))},clearAutosave:function(e){for(var t in e)o.autosaveQueue.hasOwnProperty(e[t])&&delete o.autosaveQueue[e[t]];0===Object.keys(o.autosaveQueue).length&&this.clearAutosaveTimer()},clearAutosaveTimer:function(){window.clearTimeout(o.autosaveTimer),o.autosaveTimer=null},addAutosaveData:function(e,t){t=t||[];var s,n={},i={};for(var a in o.autosaveQueue)if(-1===t.indexOf(a)){i[a]=o.autosaveQueue[a],1===o.autosaveQueue[a].length&&0===o.autosaveQueue[a][0]&&(s=window.imathasAssess.preSubmit(a),!1!==s&&e.append("qn"+a+"-val",s));var r=[],c=void 0;for(var u in o.autosaveQueue[a]){var l=o.autosaveQueue[a][u];"sw"!==l?(0===l&&r.push(a),c=1e3*(1*a+1)+1*l,r.push(c),s=window.imathasAssess.preSubmit(c),!1!==s&&e.append("qn"+c+"-val",s)):e.append("sw"+a,o.work[a])}var b=new RegExp("^(qn|tc|qs)("+r.join("\\b|")+"\\b)");window.$("#questionwrap"+a).find("input,select,textarea").each((function(t,s){s.name.match(b)&&("radio"!==s.type&&"checkbox"!==s.type||s.checked)&&("file"===s.type?0===s.files.length?e.append(s.name,""):e.append(s.name,s.files[0]):e.append(s.name,window.imathasAssess.preSubmitString(s.name,s.value)))})),n[a]=o.lastLoaded[a].getTime()}e.append("autosave-tosaveqn",JSON.stringify(i)),e.append("autosave-lastloaded",JSON.stringify(n)),e.append("autosave-verification",JSON.stringify(this.getVerificationData(i))),"full"===o.assessInfo.displaymethod?e.append("autosave-timeactive",""):e.append("autosave-timeactive",JSON.stringify(o.autosaveTimeactive))},markAutosavesDone:function(){for(var e in o.autosaveQueue)for(var t in o.autosaveQueue[e])o.assessInfo.questions[parseInt(e)].hasOwnProperty("parts_entered")&&-1===o.assessInfo.questions[parseInt(e)].parts_entered.indexOf(o.autosaveQueue[e][t])&&o.assessInfo.questions[parseInt(e)].parts_entered.push(o.autosaveQueue[e][t]);o.autosaveQueue={}},submitAutosave:function(e){var t=this;if(o.somethingDirty=!1,this.clearAutosaveTimer(),0!==Object.keys(o.autosaveQueue).length)if(o.inTransit)window.setTimeout((function(){return t.submitAutosave(e)}),20);else{o.inTransit=!0,o.autoSaving=!0,"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave();var s=new FormData;if(this.addAutosaveData(s),o.assessInfo.in_practice&&s.append("practice",!0),o.assessInfo.preview_all&&s.append("preview_all",!0),!1===e&&navigator.sendBeacon)return navigator.sendBeacon(o.APIbase+"autosave.php"+o.queryString,s),o.inTransit=!1,o.autoSaving=!1,void(o.autosaveQueue={});window.$.ajax({url:o.APIbase+"autosave.php"+o.queryString,type:"POST",dataType:"json",data:s,async:e,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){if(e.hasOwnProperty("error"))return t.handleError(e.error),void("already_submitted"===e.error&&(e=t.processSettings(e),t.copySettings(e)));"done"===e.autosave&&(t.markAutosavesDone(),delete e.autosave),e=t.processSettings(e),t.copySettings(e)})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1,o.autoSaving=!1}))}},handleTimelimitUp:function(){var e=this;o.assessInfo.has_active_attempt&&(o.errorMsg="timesup_submitting","undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),setTimeout((function(){var t=Object.keys(e.getChangedQuestions());e.submitQuestion(t,!0)}),1e3))},handleDueDate:function(){c.submitAutosave(),o.show_enddate_dialog=!0},endAssess:function(e){var t=this;o.somethingDirty=!1,this.clearAutosaveTimer(),window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),o.inTransit?window.setTimeout((function(){return t.endAssess(e)}),20):(o.inTransit=!0,o.errorMsg=null,window.$.ajax({url:o.APIbase+"endassess.php"+o.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?t.handleError(s.error):(s=t.processSettings(s),t.copySettings(s),"function"===typeof e&&e())})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},getScores:function(){var e=this;o.inTransit?window.setTimeout((function(){return e.getScores()}),20):(o.inTransit=!0,window.$.ajax({url:o.APIbase+"getscores.php"+o.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?e.handleError(t.error):(t=e.processSettings(t),e.copySettings(t))})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},getQuestions:function(){var e=this;o.inTransit?window.setTimeout((function(){return e.getQuestions()}),20):(o.inTransit=!0,window.$.ajax({url:o.APIbase+"getquestions.php"+o.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?e.handleError(t.error):(t=e.processSettings(t),e.copySettings(t))})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},redeemLatePass:function(e){var t=this;o.inTransit?window.setTimeout((function(){return t.redeemLatePass(e)}),20):(o.inTransit=!0,window.$.ajax({url:o.APIbase+"uselatepass.php"+o.queryString,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?t.handleError(s.error):(s=t.processSettings(s),t.copySettings(s),"function"===typeof e?e():a["a"].push("/"))})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},routeToStart:function(){a["a"].push("/")},setLivepollStatus:function(e){var t=this;o.inTransit?window.setTimeout((function(){return t.setLivepollStatus(e)}),20):(o.inTransit=!0,o.errorMsg=null,window.$.ajax({url:o.APIbase+"livepollstatus.php"+o.queryString,type:"POST",dataType:"json",data:e,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){e.hasOwnProperty("error")?t.handleError(e.error):(e=t.processSettings(e),t.copySettings(e))})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){o.inTransit=!1})))},getVerificationData:function(e){var t={},s="by_question"===o.assessInfo.submitby,n=o.assessInfo.prev_attempts.length;for(var i in e){for(var a=[],r=o.assessInfo.questions[i],c=0;c<r.parts.length;c++)a[c]=r.parts[c].try;t[i]={tries:a,regen:s?r.regen:n}}return t},setInitValue:function(e,t,s){o.initValues.hasOwnProperty(e)||(o.initValues[e]={});var n=0;if(t.match(/^sw/))n="sw";else{var i=t.match(/^(qs|qn|tc)(\d+)/),a=i[2];a>1e3&&(n=a%1e3),"draw"===o.assessInfo.questions[e].jsparams[a].qtype&&""===s&&(s=";;;;;;;;")}o.assessInfo.questions[e].hasOwnProperty("usedautosave")&&-1!==o.assessInfo.questions[e].usedautosave.indexOf(n)||o.initValues[e].hasOwnProperty(t)||(o.initValues[e][t]=s)},getInitValue:function(e,t){return o.initValues.hasOwnProperty(e)&&o.initValues[e].hasOwnProperty(t)?o.initValues[e][t]:""},clearInitValue:function(e){o.initValues[e]={}},getInitTimeactive:function(e){if(o.assessInfo.questions[e].hasOwnProperty("autosave_timeactive")){var t=o.assessInfo.questions[e].autosave_timeactive;return o.assessInfo.questions[e].autosave_timeactive=0,t}return 0},setRendered:function(e,t){o.assessInfo&&(o.assessInfo.questions[e].rendered=t)},getChangedQuestions:function(e){if("object"!==Object(n["a"])(e)){if(!o.assessInfo.hasOwnProperty("questions"))return{};e=[];for(var t=0;t<o.assessInfo.questions.length;t++)e.push(t)}for(var s,i={},a=function(t){var n=e[t];if(o.assessInfo.questions[n].showwork&&o.work.hasOwnProperty(n)&&o.work[n]!==c.getInitValue(n,"sw"+n)&&(i.hasOwnProperty(n)||(i[n]=[])),u=new RegExp("^(qn|tc|qs)("+n+"\\b|"+(1*n+1)+"\\d{3})"),window.$("#questionwrap"+n).find("input,select,textarea").each((function(e,t){if(null!==(s=t.name.match(u))){var a=!1;if("radio"===t.type||"checkbox"===t.type?t.checked&&t.value!==c.getInitValue(n,t.name)?a=!0:t.checked||t.value!==c.getInitValue(n,t.name)||(a=!0):("file"===t.type&&null!==document.getElementById(t.name+"-autosave")||t.value.trim()!==c.getInitValue(n,t.name)&&""!==t.value.trim())&&(a=!0),a){i.hasOwnProperty(n)||(i[n]=[]);var r=0,o=parseInt(s[2]);o>1e3&&(r=o%1e3),-1===i[n].indexOf(r)&&i[n].push(r)}}})),o.assessInfo.questions[n].hasOwnProperty("jsparams")){var a=o.assessInfo.questions[n].jsparams;for(var r in a)if(a.submitall||r.match(/\d/)&&a[r].hasOwnProperty("submitblank")){var l=0;r>1e3&&(l=r%1e3),i.hasOwnProperty(n)||(i[n]=[]),-1===i[n].indexOf(l)&&i[n].push(l)}}},r=0;r<e.length;r++){var u;a(r)}return i},handleError:function(e){o.assessInfo.hasOwnProperty("is_lti")&&o.assessInfo.is_lti&&"no_session"===e&&(e="lti_no_session"),o.errorMsg=e},updateTreeReader:function(){var e=0;for(var t in o.assessInfo.questions)o.assessInfo.questions[t].try>0&&e++;var s=0;e===o.assessInfo.questions.length?s=2:e>0&&(s=1);try{top.updateTRunans(o.aid,s)}catch(n){}},enableMQ:function(){o.enableMQ=!0,window.imathasAssess.clearLivePreviewTimeouts(),window.$("input[type=button][id^=pbtn],button[id^=pbtn]").hide(),window.$("span[id^=p] span[id^=lpbuf]").empty(),window.MQeditor.toggleMQAll("input[data-mq]",!0)},disableMQ:function(){o.enableMQ=!1,window.$("input[type=button][id^=pbtn],button[id^=pbtn]").show().trigger("click"),window.MQeditor.toggleMQAll("input[data-mq]",!1)},copySettings:function(e){if(e.hasOwnProperty("questions")){for(var t in o.assessInfo.hasOwnProperty("questions")||(o.assessInfo.questions=[]),e.questions){var s=parseInt(t);null===e.questions[t].category&&o.assessInfo.questions.hasOwnProperty(s)&&o.assessInfo.questions[s].hasOwnProperty("category")&&(e.questions[t].category=o.assessInfo.questions[s].category),o.assessInfo.questions[s]=e.questions[t]}delete e.questions}o.assessInfo=Object.assign({},o.assessInfo,e)},processSettings:function(e){var t=this;if(e.hasOwnProperty("questions"))for(var s in e.questions){var n=e.questions[s];if(e.questions[s].canretry=n.try<n.tries_max,e.questions[s].canretry_primary=e.questions[s].canretry,e.questions[s].tries_remaining=n.tries_max-n.try,n.hasOwnProperty("parts")){var i=1e10,a=0,c=!1;for(var u in n.parts){var l=n.tries_max-n.parts[u].try;l<i&&(i=l),l>a&&(a=l),l>0&&(!n.parts[u].hasOwnProperty("rawscore")||n.parts[u].rawscore<1||n.parts[u].req_manual)&&(c=!0)}e.questions[s].canretry_primary=c,i!==a&&(e.questions[s].tries_remaining_range=[i,a])}"undefined"!==n.hasOwnProperty("regens_max")&&n.regen<n.regens_max-1?(e.questions[s].canregen=!0,e.questions[s].regens_remaining=n.regens_max-n.regen-1):(e.questions[s].canregen=!1,e.questions[s].regens_remaining=0),e.questions[s].has_details=n.hasOwnProperty("parts")&&(n.parts.length>1||n.parts[0].hasOwnProperty("penalties")&&n.parts[0].penalties.length>0),0!==e.questions[s].withdrawn&&(e.questions[s].canretry=!1,e.questions[s].tries_remaining=0,e.questions[s].canregen=!1,e.questions[s].regens_remaining=0),o.lastLoaded[s]=new Date}if(e.hasOwnProperty("showscores")&&(e.show_scores_during="during"===e.showscores),e.hasOwnProperty("regen")&&(e.regens_remaining=e.regens_max-e.regen-1),e.hasOwnProperty("enableMQ")&&(o.enableMQ=e.enableMQ),e.hasOwnProperty("enddate_in")&&e.enddate_in>0&&null===o.timelimit_timer&&e.enddate_in<1728e3){window.clearTimeout(o.enddate_timer);var b=(new Date).getTime(),d=1e3*e.enddate_in;e.enddate_local=b+d,o.enddate_timer=setTimeout((function(){t.handleDueDate()}),d)}if(e.hasOwnProperty("timelimit_expiresin")){window.clearTimeout(o.timelimit_timer),window.clearTimeout(o.enddate_timer);var p=(new Date).getTime();e.hasOwnProperty("timelimit_expires")&&(e.timelimit_expires===e.enddate?o.timelimit_restricted=1:e.timelimit_grace===e.enddate&&(o.timelimit_restricted=2));var f=1e3*e.timelimit_expiresin,h=1e3*e.timelimit_gracein;e.timelimit_local_expires=p+f,e.timelimit_local_grace=h>0?p+h:0,f>0?(e.timelimit_gracein>0?o.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),h):o.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),f),o.timelimit_expired=!1,o.timelimit_grace_expired=!1):(o.timelimit_expired=!0,o.timelimit_grace_expired=!0,e.timelimit_gracein>0&&h>0&&(o.timelimit_timer=setTimeout((function(){t.handleTimelimitUp()}),h),o.timelimit_grace_expired=!1))}else e.timelimit>0&&(e.enddate_in<e.timelimit?o.timelimit_restricted=1:e.enddate_in<e.timelimit+e.overtime_grace?o.timelimit_restricted=2:o.timelimit_restricted=0);if(e.hasOwnProperty("questions")&&e.hasOwnProperty("interquestion_text")&&Object(r["b"])(e,e.questions),e.hasOwnProperty("interquestion_text")&&Object(r["a"])(e,e.questions),e.hasOwnProperty("noprint")&&1===e.noprint){var m=document.createElement("style");m.type="text/css",m.media="print",m.innerText="body { display: none;}",document.head.appendChild(m)}if(e.hasOwnProperty("livepoll_server")&&""===o.livepollServer){var O=document.createElement("script");O.src="https://"+e.livepoll_server+":3000/socket.io/socket.io.js",document.head.appendChild(O),o.livepollServer=e.livepoll_server}return e.hasOwnProperty("useMQ")&&(!0!==e.useMQ||o.enableMQ?!1===e.useMQ&&o.enableMQ&&this.disableMQ():this.enableMQ()),e}}},"64a6":function(e,t,s){},"64e2":function(e,t,s){},"6c5a":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s("6081"),i={computed:{qsAttempted:function(){var e=[];for(var t in n["b"].assessInfo.questions)e[t]=0,"by_assessment"===n["b"].assessInfo.submitby&&1===n["b"].assessInfo.questions[t].tries_max&&n["b"].assessInfo.questions[t].hasOwnProperty("parts_entered")&&n["b"].assessInfo.questions[t].hasOwnProperty("answeights")?n["b"].assessInfo.questions[t].parts_entered.length>=n["b"].assessInfo.questions[t].answeights.length?e[t]=1:n["b"].assessInfo.questions[t].parts_entered.length>0&&(e[t]=.5):n["b"].assessInfo.questions[t].try>0&&(e[t]=1);return e}}}},"6dae":function(e,t,s){},"70bd":function(e,t,s){"use strict";s("6dae")},8145:function(e,t,s){"use strict";s("c975");var n=s("7a23"),i={class:"qdetails"},a={key:0},r={key:0},o={key:1},c={key:2},u={key:0},l={key:1},b={key:2};function d(e,t,s,d,p,f){var h=Object(n["A"])("icons"),m=Object(n["A"])("penalties-applied");return Object(n["u"])(),Object(n["f"])("table",i,[s.caption?(Object(n["u"])(),Object(n["f"])("caption",a,Object(n["D"])(s.caption),1)):Object(n["g"])("",!0),Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",null,Object(n["D"])(e.$t("qdetails.part")),1),f.showScore?(Object(n["u"])(),Object(n["f"])("th",r,Object(n["D"])(e.$t("qdetails.score")),1)):Object(n["g"])("",!0),f.doShowTries?(Object(n["u"])(),Object(n["f"])("th",o,Object(n["D"])(e.$t("qdetails.try")),1)):Object(n["g"])("",!0),f.hasPenalty?(Object(n["u"])(),Object(n["f"])("th",c,Object(n["D"])(e.$t("qdetails.penalties")),1)):Object(n["g"])("",!0)])]),Object(n["i"])("tbody",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(f.parts,(function(e,t){return Object(n["u"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("td",null,[Object(n["i"])(h,{name:f.partIcons[t]},null,8,["name"]),Object(n["h"])(" "+Object(n["D"])(t+1),1)]),f.showScore?(Object(n["u"])(),Object(n["f"])("td",u,Object(n["D"])(e.score)+"/"+Object(n["D"])(e.points_possible),1)):Object(n["g"])("",!0),f.doShowTries?(Object(n["u"])(),Object(n["f"])("td",l,Object(n["D"])(f.triesRemaining[t]),1)):Object(n["g"])("",!0),f.hasPenalty?(Object(n["u"])(),Object(n["f"])("td",b,[-1!=f.partHasPenalties.indexOf(t)?(Object(n["u"])(),Object(n["f"])(m,{key:0,part:e,submitby:s.submitby},null,8,["part","submitby"])):Object(n["g"])("",!0)])):Object(n["g"])("",!0)])})),128))])])}var p=s("f05b"),f=s("c428"),h={name:"QuestionDetailsTable",props:["qinfo","caption","showtries","submitby"],components:{Icons:p["a"],PenaltiesApplied:f["a"]},computed:{parts:function(){return this.qinfo.parts},doShowTries:function(){return!(!1===this.showtries)},partHasPenalties:function(){for(var e=[],t=0;t<this.parts.length;t++)this.parts[t].hasOwnProperty("penalties")&&this.parts[t].penalties.length>0&&e.push(t);return e},triesRemaining:function(){for(var e=[],t=0;t<this.parts.length;t++)this.qinfo.hasOwnProperty("did_jump_to_ans")?e[t]=0:e[t]=this.qinfo.tries_max-this.parts[t].try;return e},hasPenalty:function(){return this.partHasPenalties.length>0},showScore:function(){return this.qinfo.hasOwnProperty("score")},partIcons:function(){for(var e=[],t=0;t<this.parts.length;t++)0===this.parts[t].try?e[t]="unattempted":this.parts[t].hasOwnProperty("rawscore")?this.parts[t].rawscore>.99?e[t]="correct":this.parts[t].rawscore<.01?e[t]="incorrect":e[t]="partial":e[t]="attempted";return e}}};s("8774");h.render=d;t["a"]=h},8167:function(e,t,s){"use strict";s("1238")},"84ac":function(e,t,s){"use strict";var n=s("7a23"),i={key:2,class:"sronly"};function a(e,t,s,a,r,o){var c=Object(n["A"])("icons");return Object(n["u"])(),Object(n["f"])("button",{type:"button",class:"plain",id:"timerbox",onClick:t[1]||(t[1]=function(){return o.toggleShow&&o.toggleShow.apply(o,arguments)})},[Object(n["i"])(c,{name:"timer",size:"small"}),e.open?(Object(n["u"])(),Object(n["f"])("span",{key:0,class:{noticetext:0===e.hours&&60*e.minutes+e.seconds<o.warningTime}},Object(n["D"])(e.timeString),3)):Object(n["g"])("",!0),e.open?(Object(n["u"])(),Object(n["f"])(c,{key:1,name:"close",size:"small",color:"subdued"})):(Object(n["u"])(),Object(n["f"])("span",i,Object(n["D"])(e.$t("timer.show")),1))])}var r=s("f05b"),o={name:"Timer",props:["end","total","grace"],components:{Icons:r["a"]},data:function(){return{hours:0,minutes:0,seconds:0,timeString:"",interval:null,open:!0,gaveWarning:!1}},created:function(){this.updateTimer(),this.interval=setInterval(this.updateTimer,1e3)},mounted:function(){var e=window.$("#timerbox"),t=e.offset();window.$(window).scroll((function(){var s=window.$(window).scrollTop();s>=t.top?e.addClass("sticky"):e.removeClass("sticky")}))},beforeUnmount:function(){clearInterval(this.interval)},computed:{warningTime:function(){return Math.max(60,Math.min(.05*this.total,300))}},methods:{updateTimer:function(){var e=(new Date).getTime();this.timeString="";var t=Math.max(0,this.end-e);0===t&&this.grace>0&&(t=Math.max(0,this.grace-e),this.timeString+=this.$t("timer.overtime")+" "),!this.gaveWarning&&t<1e3*this.warningTime&&(this.open=!0,this.gaveWarning=!0),this.hours=Math.floor(t/36e5),this.minutes=Math.floor(t%36e5/6e4),this.seconds=Math.floor(t%6e4/1e3),0===this.hours&&this.minutes<5?(this.timeString+=this.hours>0?this.hours+":":"",this.timeString+=(this.minutes<10?"0":"")+this.minutes+":",this.timeString+=(this.seconds<10?"0":"")+this.seconds):(this.timeString+=this.hours>0?this.hours+this.$tc("timer.hrs",this.hours):"",this.timeString+=this.minutes>0?this.minutes+this.$tc("timer.min",this.minutes):"")},toggleShow:function(){this.open=!this.open}}};s("70bd");o.render=a;t["a"]=o},8671:function(e,t,s){},8774:function(e,t,s){"use strict";s("1389")},"97cd":function(e,t,s){"use strict";s("b0c0");var n=s("7a23"),i={style:{"flex-grow":"1"}},a={class:"med-left subdued"},r={class:"flexgroup"},o={key:1,class:"noticetext"},c={class:"assess-header"},u=Object(n["i"])("span",{class:"switch-toggle__ui"},null,-1);function l(e,t,s,l,b,d){var p=Object(n["A"])("timer"),f=Object(n["A"])("icons"),h=Object(n["A"])("resource-pane"),m=Object(n["A"])("dropdown"),O=Object(n["A"])("tooltip-span"),j=Object(n["A"])("badged-icon"),w=Object(n["A"])("lti-menu");return Object(n["u"])(),Object(n["f"])("div",{id:"assess-header",class:{"assess-header":!0,headerpane:!0,practice:d.ainfo.in_practice},role:"region","aria-label":e.$t("regions.aheader")},[Object(n["i"])("div",i,[Object(n["i"])("h1",null,Object(n["D"])(d.ainfo.name),1),Object(n["i"])("div",null,[Object(n["i"])("span",{class:{practicenotice:d.ainfo.in_practice}},Object(n["D"])(d.curScorePoints),3),Object(n["i"])("span",a,Object(n["D"])(d.curAnswered),1)])]),d.ainfo.timelimit>0?(Object(n["u"])(),Object(n["f"])(p,{key:0,total:d.ainfo.timelimit,end:d.ainfo.timelimit_local_expires,grace:d.ainfo.timelimit_local_grace},null,8,["total","end","grace"])):Object(n["g"])("",!0),Object(n["i"])("div",r,[3===d.saveStatus?(Object(n["u"])(),Object(n["f"])("button",{key:0,class:"secondary",onClick:t[1]||(t[1]=function(){return d.handleSaveWork&&d.handleSaveWork.apply(d,arguments)}),disabled:!d.canSubmit},Object(n["D"])(e.$t("header.work_save")),9,["disabled"])):Object(n["g"])("",!0),1===d.saveStatus||2===d.saveStatus?(Object(n["u"])(),Object(n["f"])("span",o,Object(n["D"])(1===d.saveStatus?e.$t("header.work_saving"):e.$t("header.work_saved")),1)):Object(n["g"])("",!0),""!==d.assessSubmitLabel?(Object(n["u"])(),Object(n["f"])("button",{key:2,class:{primary:d.primarySubmit,secondary:!d.primarySubmit},onClick:t[2]||(t[2]=function(){return d.handleSubmit&&d.handleSubmit.apply(d,arguments)}),disabled:!d.canSubmit},Object(n["D"])(d.assessSubmitLabel),11,["disabled"])):Object(n["g"])("",!0)]),Object(n["i"])("div",c,[d.ainfo.resources.length>0?(Object(n["u"])(),Object(n["f"])(m,{key:0,id:"resource-dropdown",tip:e.$t("header.resources_header")},{button:Object(n["L"])((function(){return[Object(n["i"])(f,{name:"file",size:"medium"})]})),default:Object(n["L"])((function(){return[Object(n["i"])(h)]})),_:1},8,["tip"])):Object(n["g"])("",!0),d.showPrint?(Object(n["u"])(),Object(n["f"])(O,{key:1,tip:e.$t("print.print_version")},{default:Object(n["L"])((function(){return[Object(n["i"])("a",{href:d.printLink,class:"noextlink",target:"_blank","aria-label":e.$t("print.print_version")},[Object(n["i"])(f,{name:"print",size:"medium"})],8,["href","aria-label"])]})),_:1},8,["tip"])):Object(n["g"])("",!0),Object(n["i"])(O,{tip:d.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),style:{display:"inline-block"}},{default:Object(n["L"])((function(){return[Object(n["i"])("button",{onClick:t[3]||(t[3]=function(){return d.toggleMQuse&&d.toggleMQuse.apply(d,arguments)}),class:{plain:!0,"switch-toggle":!0},"aria-label":d.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),"aria-pressed":d.MQenabled},[Object(n["i"])(f,{name:d.MQenabled?"eqned":"eqnedoff",color:d.MQenabled?"#060":"#600",size:"medium"},null,8,["name","color"]),u],8,["aria-label","aria-pressed"])]})),_:1},8,["tip"]),d.ainfo.is_lti&&d.ainfo.lti_showmsg?(Object(n["u"])(),Object(n["f"])(j,{key:2,link:d.msglink,icon:"message",label:"lti.msgs",cnt:d.ainfo.lti_msgcnt},null,8,["link","cnt"])):Object(n["g"])("",!0),d.ainfo.is_lti&&d.ainfo.help_features.forum>0?(Object(n["u"])(),Object(n["f"])(j,{key:3,link:d.forumlink,icon:"forum",label:"lti.forum",cnt:d.ainfo.lti_forumcnt},null,8,["link","cnt"])):Object(n["g"])("",!0),d.ainfo.is_lti?(Object(n["u"])(),Object(n["f"])(w,{key:4})):Object(n["g"])("",!0)])],10,["aria-label"])}s("b64b"),s("ac1f"),s("841c");var b=s("84ac"),d=s("ac18"),p=s("098e"),f=s("f05b");function h(e,t,s,i,a,r){var o=Object(n["A"])("icons"),c=Object(n["A"])("menu-button");return Object(n["u"])(),Object(n["f"])(c,{options:r.LtiOptions,position:"right",nobutton:"true",noarrow:"true",searchby:"label",id:"ltimenubutton",header:e.$t("lti.more")},{button:Object(n["L"])((function(){return[Object(n["i"])(o,{name:"more",size:"medium"})]})),_:1},8,["options","header"])}var m=s("ad76"),O=s("6081"),j={name:"LtiMenu",components:{MenuButton:m["a"],Icons:f["a"]},computed:{LtiOptions:function(){var e=this,t=[];return t.push({label:this.$t("lti.userprefs"),onclick:function(){window.GB_show(e.$t("lti.userprefs"),O["b"].APIbase+"../admin/ltiuserprefs.php?cid="+O["b"].cid+"&greybox=true",800,"auto",!0,0,0,{label:"Update Info",func:"doSubmit"})}}),O["b"].assessInfo.in_practice&&O["b"].assessInfo.prev_attempts.length>0&&t.push({label:this.$t("closed.view_scored"),link:O["b"].APIbase+"gbviewassess.php?cid="+O["b"].cid+"&aid="+O["b"].aid+"&uid="+O["b"].uid,target:"_self"}),O["b"].assessInfo.can_use_latepass&&t.push({label:this.$t("lti.use_latepass"),link:O["b"].APIbase+"../course/redeemlatepass.php?cid="+O["b"].cid+"&aid="+O["b"].aid,target:"_self"}),t}}};j.render=h;var w=j,g=s("a9af"),y=(s("9911"),{key:0,class:"badgeicon"});function v(e,t,s,i,a,r){var o=Object(n["A"])("icons"),c=Object(n["A"])("tooltip-span");return Object(n["u"])(),Object(n["f"])(c,{tip:e.$tc(s.label,s.cnt),style:{display:"inline-block"}},{default:Object(n["L"])((function(){return[Object(n["i"])("a",{href:s.link,class:"noextlink badgewrap",target:"_blank","aria-label":e.$tc(s.label,s.cnt)},[Object(n["i"])(o,{name:s.icon,size:"medium"},null,8,["name"]),s.cnt>0?(Object(n["u"])(),Object(n["f"])("div",y,Object(n["D"])(s.cnt),1)):Object(n["g"])("",!0)],8,["href","aria-label"])]})),_:1},8,["tip"])}var _={name:"BadgedIcon",props:["link","icon","label","cnt"],components:{Icons:f["a"],TooltipSpan:g["a"]},computed:{msglink:function(){return O["b"].APIbase+"../msgs/msglist.php?cid="+O["b"].cid},msgcnt:function(){return O["b"].assessInfo.lti_msgcnt}}};s("9a05");_.render=v;var q=_,k=s("6c5a"),I={name:"AssessHeader",components:{Icons:f["a"],LtiMenu:w,Dropdown:d["a"],ResourcePane:p["a"],Timer:b["a"],TooltipSpan:g["a"],BadgedIcon:q},data:function(){return{resourceMenuShowing:!1}},mixins:[k["a"]],computed:{ainfo:function(){return O["b"].assessInfo},canSubmit:function(){return!O["b"].inTransit},primarySubmit:function(){return"by_assessment"===this.ainfo.submitby&&Object.keys(O["b"].initValues).length===this.ainfo.questions.length||"by_question"===this.ainfo.submitby&&this.qAttempted===this.ainfo.questions.length},curScorePoints:function(){var e=0,t=0;for(var s in this.ainfo.questions)0===this.ainfo.questions[s].extracredit&&(e+=1*this.ainfo.questions[s].points_possible),this.ainfo.show_scores_during&&this.ainfo.questions[s].hasOwnProperty("gbscore")&&(t+=1*this.ainfo.questions[s].gbscore);return t=Math.round(1e3*t)/1e3,this.ainfo.in_practice?this.$t("header.practicescore",{pts:t,poss:e}):this.ainfo.show_scores_during?this.$t("header.score",{pts:t,poss:e}):this.$tc("header.possible",e)},qAttempted:function(){for(var e=0,t=0;t<this.qsAttempted.length;t++)1===this.qsAttempted[t]&&e++;return e},curAnswered:function(){var e=this.ainfo.questions.length;return this.$t("header.answered",{n:this.qAttempted,tot:e})},assessSubmitLabel:function(){return"by_assessment"===this.ainfo.submitby?this.$t("header.assess_submit"):this.hasShowWorkAfter?this.$t("work.add"):"during"===this.ainfo.showscores?this.$t("header.done"):""},saveStatus:function(){return O["b"].autoSaving?1:0!==Object.keys(O["b"].autosaveQueue).length||O["b"].somethingDirty?3:2},showPrint:function(){return 1!==this.ainfo.noprint},printLink:function(){return window.location.pathname+window.location.search+"#/print"},MQenabled:function(){return O["b"].enableMQ},hasShowWorkAfter:function(){for(var e=!1,t=0;t<O["b"].assessInfo.questions.length;t++)if(2&O["b"].assessInfo.questions[t].showwork){e=!0;break}return e},msglink:function(){return O["b"].APIbase+"../msgs/msglist.php?cid="+O["b"].cid},forumlink:function(){return O["b"].APIbase+"../forums/thread.php?cid="+O["b"].cid+"&forum= "+this.ainfo.help_features.forum}},methods:{handleSubmit:function(){"by_assessment"===this.ainfo.submitby?O["a"].submitAssessment():O["a"].gotoSummary()},handleSaveWork:function(){0===Object.keys(O["b"].autosaveQueue).length?(O["b"].autoSaving=!0,setTimeout((function(){O["b"].autoSaving=!1}),300)):O["a"].submitAutosave()},toggleMQuse:function(){O["b"].enableMQ?O["a"].disableMQ():O["a"].enableMQ()}}};s("f7a2");I.render=l;t["a"]=I},"98c8":function(e,t,s){},"9a05":function(e,t,s){"use strict";s("64e2")},"9e2c":function(e,t,s){"use strict";s("98c8")},"9ec6":function(e,t,s){},ac18:function(e,t,s){"use strict";var n=s("7a23");function i(e,t,s,i,a,r){var o=Object(n["A"])("tooltip-span");return Object(n["u"])(),Object(n["f"])("span",{onKeydown:t[4]||(t[4]=Object(n["N"])((function(e){return r.triggerOpen(!1)}),["esc"])),class:"dropdown-wrap",onFocusin:t[5]||(t[5]=function(){return r.handleFocusin&&r.handleFocusin.apply(r,arguments)}),onFocusout:t[6]||(t[6]=function(){return r.handleFocusout&&r.handleFocusout.apply(r,arguments)})},[Object(n["i"])(o,{show:!e.open&&s.tip,tip:s.tip},{default:Object(n["L"])((function(){return[Object(n["i"])("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[1]||(t[1]=function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),onKeydown:[t[2]||(t[2]=Object(n["N"])(Object(n["O"])((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["enter"])),t[3]||(t[3]=Object(n["N"])(Object(n["O"])((function(){return r.triggerOpen&&r.triggerOpen.apply(r,arguments)}),["prevent"]),["space"]))],class:"dropdown-button noselect","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[Object(n["z"])(e.$slots,"button")],40,["id","aria-controls","aria-expanded"])]})),_:3},8,["show","tip"]),Object(n["i"])(n["c"],{name:"fade"},{default:Object(n["L"])((function(){return[e.open?(Object(n["u"])(),Object(n["f"])("div",{key:0,class:"dropdown-pane",id:s.id+"_pane",ref:"pane"},[Object(n["z"])(e.$slots,"default")],8,["id"])):Object(n["g"])("",!0)]})),_:1})],32)}var a=s("a9af"),r={name:"Dropdown",props:["id","position","tip"],components:{TooltipSpan:a["a"]},data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen:function(e){var t=this;this.open="boolean"===typeof e?e:!this.open,this.open?this.$nextTick((function(){t.$refs.pane.style.right="",t.$refs.pane.style.left="";var e=t.$refs.pane.getBoundingClientRect(),s=document.documentElement.clientWidth;e.right>s?t.$refs.pane.style.right="12px":e.left<0&&(t.$refs.pane.style.left="12px")})):this.$refs.button.focus()},handleFocusout:function(){var e=this;this.closetimer=setTimeout((function(){e.open=!1}),50)},handleFocusin:function(){clearTimeout(this.closetimer)}}};s("d611");r.render=i;t["a"]=r},b2a8:function(e,t,s){},bc14:function(e,t,s){"use strict";s("c7c7")},c1de:function(e,t,s){},c7c7:function(e,t,s){},d402:function(e,t,s){},d611:function(e,t,s){"use strict";s("64a6")},de4a:function(e,t,s){},e48b:function(e,t,s){"use strict";s("2d0d")},e536:function(e,t,s){"use strict";var n=s("7a23"),i={class:"full-question-header"},a={style:{"flex-grow":"1"}},r={key:0,class:"small subdued"};function o(e,t,s,o,c,u){var l=Object(n["A"])("icons"),b=Object(n["A"])("question-header-icons");return Object(n["u"])(),Object(n["f"])("div",i,[Object(n["i"])("div",a,[Object(n["i"])(l,{name:u.statusIcon,class:"qstatusicon"},null,8,["name"]),Object(n["i"])("h2",{class:{inlineheader:!0,greystrike:0!==u.curQData.withdrawn}},[Object(n["h"])(Object(n["D"])(e.$t("question_n",{n:u.dispqn}))+" ",1),u.curQData.extracredit?(Object(n["u"])(),Object(n["f"])("em",r,Object(n["D"])(e.$t("extracredit")),1)):Object(n["g"])("",!0)],2)]),Object(n["i"])(b,{showscore:!0,curQData:u.curQData,qn:s.qn,showretry:s.showretry},null,8,["curQData","qn","showretry"])])}s("e25e");var c=s("5bdf"),u=s("f05b"),l=s("6c5a"),b=s("6081"),d={name:"SkipQuestionHeader",props:["qn","showretry"],components:{QuestionHeaderIcons:c["a"],Icons:u["a"]},mixins:[l["a"]],data:function(){return{}},computed:{ainfo:function(){return b["b"].assessInfo},curQData:function(){return b["b"].assessInfo.questions[this.qn]},dispqn:function(){return parseInt(this.qn)+1},statusIcon:function(){if(0===this.dispqn)return"none";if("unattempted"===this.curQData.status){if(1===this.qsAttempted[this.qn])return"attempted";if(this.qsAttempted[this.qn]>0)return"partattempted"}return this.curQData.status},nameHover:function(){return 0!==this.curQData.withdrawn?this.$t("header.withdrawn"):""}}};s("bc14");d.render=o;t["a"]=d},eeaa:function(e,t,s){"use strict";var n=s("7a23"),i={class:"questionpane introtext"};function a(e,t,s,a,r,o){var c=Object(n["A"])("resource-pane");return Object(n["M"])((Object(n["u"])(),Object(n["f"])("div",i,[""!==s.html?(Object(n["u"])(),Object(n["f"])("div",{key:0,innerHTML:s.html,ref:"introtext"},null,8,["innerHTML"])):Object(n["g"])("",!0),Object(n["i"])(c,{showicon:!0,style:{display:"inline-block"}})],512)),[[n["J"],s.active]])}var r=s("d9a8"),o=s("098e"),c={name:"IntroText",components:{ResourcePane:o["a"]},props:["html","active"],mounted:function(){""!==this.html&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.introtext),window.initSageCell(this.$refs.introtext),window.initlinkmarkup(this.$refs.introtext))},watch:{active:function(e,t){!1===e&&""!==this.html&&Object(r["a"])(this.$refs.introtext)}}};c.render=a;t["a"]=c},ef85:function(e,t,s){},f17f:function(e,t,s){"use strict";s("0ed6")},f7a2:function(e,t,s){"use strict";s("05fd")},fef4:function(e,t,s){"use strict";s("b2a8")}});
//# sourceMappingURL=index.js.map