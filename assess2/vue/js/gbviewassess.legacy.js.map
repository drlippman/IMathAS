{"version":3,"file":"js/gbviewassess.legacy.js","mappings":"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","sources":["webpack://imathas-assess2/./src/gbviewassess/GBViewAssess.vue","webpack://imathas-assess2/./src/gbviewassess/gbstore.js","webpack://imathas-assess2/./src/gbviewassess/GbQuestion.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestion.vue?e1bf","webpack://imathas-assess2/./src/gbviewassess/GbShowwork.vue","webpack://imathas-assess2/./src/gbviewassess/GbShowwork.vue?74bf","webpack://imathas-assess2/./src/gbviewassess/GbAssessSelect.vue","webpack://imathas-assess2/./src/gbviewassess/GbAssessListItem.vue","webpack://imathas-assess2/./src/gbviewassess/GbAssessListItem.vue?def0","webpack://imathas-assess2/./src/gbviewassess/GbAssessSelect.vue?dc79","webpack://imathas-assess2/./src/gbviewassess/GbQuestionSelect.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestionListItem.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestionListItem.vue?3111","webpack://imathas-assess2/./src/gbviewassess/GbQuestionSelect.vue?de14","webpack://imathas-assess2/./src/gbviewassess/GbScoreDetails.vue","webpack://imathas-assess2/./src/gbviewassess/GbAllTries.vue","webpack://imathas-assess2/./src/gbviewassess/GbAllTries.vue?945a","webpack://imathas-assess2/./src/gbviewassess/GbPenalties.vue","webpack://imathas-assess2/./src/gbviewassess/GbPenalties.vue?9bc5","webpack://imathas-assess2/./src/gbviewassess/GbFeedback.vue","webpack://imathas-assess2/./src/components/TinymceInput.vue","webpack://imathas-assess2/./src/components/TinymceInput.vue?4b8b","webpack://imathas-assess2/./src/gbviewassess/GbFeedback.vue?9b23","webpack://imathas-assess2/./src/gbviewassess/GbScoreDetails.vue?0029","webpack://imathas-assess2/./src/gbviewassess/GbClearAttempts.vue","webpack://imathas-assess2/./src/gbviewassess/GbClearAttempts.vue?4fbd","webpack://imathas-assess2/./src/gbviewassess/GBViewAssess.vue?c6fc","webpack://imathas-assess2/./src/gbviewassess/main.js","webpack://imathas-assess2/webpack/bootstrap","webpack://imathas-assess2/webpack/runtime/chunk loaded","webpack://imathas-assess2/webpack/runtime/compat get default export","webpack://imathas-assess2/webpack/runtime/create fake namespace object","webpack://imathas-assess2/webpack/runtime/define property getters","webpack://imathas-assess2/webpack/runtime/ensure chunk","webpack://imathas-assess2/webpack/runtime/get javascript chunk filename","webpack://imathas-assess2/webpack/runtime/get mini-css chunk filename","webpack://imathas-assess2/webpack/runtime/global","webpack://imathas-assess2/webpack/runtime/hasOwnProperty shorthand","webpack://imathas-assess2/webpack/runtime/load script","webpack://imathas-assess2/webpack/runtime/make namespace object","webpack://imathas-assess2/webpack/runtime/publicPath","webpack://imathas-assess2/webpack/runtime/css loading","webpack://imathas-assess2/webpack/runtime/jsonp chunk loading","webpack://imathas-assess2/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\" role=\"main\">\r\n    <div v-if=\"!assessInfoLoaded\">\r\n      {{ $t('loading') }}\r\n    </div>\r\n    <div v-else class=\"gbmainview\">\r\n      <h1>{{ $t('gradebook.detail_title')}}</h1>\r\n      <h2><span class=\"pii-full-name\">{{ aData.userfullname }}</span></h2>\r\n      <h3>{{ aData.name }}</h3>\r\n\r\n      <div>\r\n        {{ $t('gradebook.started') }}: {{ startedString }}<br/>\r\n        {{ $t('gradebook.lastchange') }}: {{ lastchangeString }}\r\n        <span v-if=\"aData.timeontask > 0\">\r\n          <br/>\r\n          {{ $tc('gradebook.time_onscreen', attemptCount) }}:\r\n          {{ totalTimeOnTask }}\r\n        </span>\r\n        <span v-if=\"aData.hasOwnProperty('timelimit_ext')\">\r\n          <br/>\r\n          {{ $t('gradebook.'+ (aData.timelimit_ext > 0 ? 'has_timeext' : 'used_timeext'),\r\n            {n: Math.abs(aData.timelimit_ext)}) }}\r\n        </span>\r\n      </div>\r\n\r\n      <div>\r\n        {{ $t('gradebook.due')}}: {{ aData.enddate_disp }}\r\n          <button\r\n            v-if = \"canEdit && aData.can_make_exception\"\r\n            type=\"button\"\r\n            class=\"slim\"\r\n            @click = \"makeException\"\r\n          >\r\n            {{ exceptionActionLabel }}\r\n          </button>\r\n        <span v-if=\"aData.hasOwnProperty('original_enddate')\">\r\n          <br/>\r\n          {{ $t('gradebook.originally_due') }}:\r\n            {{ aData.original_enddate_disp }}.\r\n          {{ extensionString }}\r\n        </span>\r\n        <span v-if=\"aData.hasOwnProperty('attemptext')\">\r\n          <br/>\r\n          {{ $t('gradebook.attemptext', {n: aData.attemptext}) }}\r\n        </span>\r\n      </div>\r\n\r\n      <div v-if=\"canEdit && aData.latepass_status > 1\">\r\n        {{ latepassBlockMsg }}\r\n        <button\r\n          v-if=\"aData.latepass_status > 6\"\r\n          type=\"button\"\r\n          @click=\"clearLPblock\"\r\n        >\r\n          {{ $t('gradebook.clear_latepass_block' )}}\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <strong>\r\n          {{ $t('gradebook.gb_score') }}:\r\n          <span v-if=\"aData.hasOwnProperty('scoreoverride') && canEdit\">\r\n            <input id=\"assessoverride\" size=4\r\n              :value = \"aData.scoreoverride\"\r\n              @input = \"setScoreOverride\"\r\n              @keyup.enter=\"submitForm\"\r\n            />/{{ aData.points_possible }}\r\n          </span>\r\n          <span v-else>\r\n            <span v-if=\"!canEdit && aData.gbscore === 'N/A'\">\r\n              {{ $t('gradebook.avail_' + aData.scoresingb) }}\r\n            </span>\r\n            <span v-else>\r\n              {{ aData.gbscore }}/{{ aData.points_possible }}\r\n            </span>\r\n          </span>\r\n        </strong>\r\n        <span v-if=\"aData.hasOwnProperty('scoreoverride')\">\r\n          ({{ $t('gradebook.overridden') }})\r\n        </span>\r\n        <span v-else-if=\"canEdit\">\r\n          <button\r\n            class = \"slim\"\r\n            type=\"button\"\r\n            @click=\"showOverride = !showOverride\"\r\n          >\r\n            {{ $t('gradebook.override') }}\r\n          </button>\r\n          <span v-if=\"showOverride\">\r\n            <label for=\"assessoverride\">{{ $t('gradebook.override') }}</label>:\r\n            <input id=\"assessoverride\" size=4 v-model=\"assessOverride\" @keyup.enter=\"submitForm\" />\r\n          </span>\r\n        </span>\r\n        <button\r\n          v-if=\"canEdit\"\r\n          type=\"button\"\r\n          class=\"slim\"\r\n          @click=\"clearAttempts('all')\"\r\n        >\r\n          {{ $t('gradebook.clear_all') }}\r\n        </button>\r\n        <button\r\n          v-if=\"aData.hasOwnProperty('excused')\"\r\n          type=\"button\"\r\n          class=\"slim\"\r\n          @click=\"showExcused = !showExcused\"\r\n        >\r\n          {{ $t('gradebook.' + (showExcused ? 'hide' : 'show') + '_excused') }}\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"showExcused\" class=\"introtext\">\r\n        {{ $t('gradebook.excused_list') }}\r\n        <ul>\r\n          <li v-for=\"name in aData.excused\" :key=\"name\">\r\n            {{ name }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div v-if=\"canEdit\">\r\n        <a v-if=\"showViewAsStu\" :href=\"viewAsStuUrl\">\r\n          {{ $t('gradebook.view_as_stu') }}\r\n        </a>\r\n        <span v-if=\"showViewAsStu\">|</span>\r\n        <a :href=\"viewAsStuUrl + '#/print'\">\r\n          {{ $t('gradebook.print') }}\r\n        </a> |\r\n        <a :href=\"activityLogUrl\" target=\"_blank\">\r\n          {{ $t('gradebook.activitylog') }}\r\n        </a>\r\n      </div>\r\n\r\n      <div v-if=\"aData.assess_versions.length == 0\">\r\n        {{ $t('gradebook.no_versions') }}\r\n      </div>\r\n      <div v-else class=\"gbmainview\">\r\n        <div>\r\n          {{ scoreCalc }}\r\n          <div>\r\n            <gb-assess-select\r\n              style = \"display: inline-block\"\r\n              v-if = \"viewFull || aData.submitby === 'by_assessment'\"\r\n              :versions = \"aData.assess_versions\"\r\n              :submitby = \"aData.submitby\"\r\n              :haspractice = \"aData.has_practice\"\r\n              :selected = \"curAver\"\r\n              @setversion = \"changeAssessVersion\"\r\n            />\r\n            <button\r\n              v-if = \"!isByQuestion && canEdit && aData.assess_versions[curAver].status != -1\"\r\n              type=\"button\"\r\n              @click=\"clearAttempts('attempt')\"\r\n            >\r\n              {{ $t('gradebook.clear_attempt') }}\r\n            </button>\r\n          </div>\r\n          <div v-if=\"isUnsubmitted\">\r\n            {{ $t('gradebook.unsubmitted') }}\r\n            <button\r\n              type=\"button\"\r\n              @click=\"submitVersion\"\r\n            >\r\n              {{ $t('closed.submit_now') }}\r\n            </button>\r\n            <button\r\n              v-if=\"!canEdit && aData.can_use_latepass\"\r\n              type = \"button\"\r\n              @click = \"redeemLatePass\"\r\n            >\r\n              {{ $t('lti.use_latepass') }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if = \"curEndmsg !== ''\">\r\n          <button\r\n            v-if = \"viewFull\"\r\n            type=\"button\"\r\n            @click = \"showEndmsg = !showEndmsg\"\r\n          >\r\n            {{ $t('gradebook.' + (showEndmsg ? 'hide' : 'show') + '_endmsg') }}\r\n          </button>\r\n          <div\r\n            class=\"introtext\"\r\n            v-if=\"showEndmsg || !viewFull\"\r\n            v-html=\"curEndmsg\"\r\n          />\r\n        </div>\r\n\r\n        <div v-if=\"canEdit && viewFull\">\r\n          <button @click = \"showFilters = !showFilters\">\r\n            {{ $t('gradebook.filters') }}\r\n          </button>\r\n          <div v-if = \"showFilters\" class=\"tabpanel\" @change=\"storeFilters\">\r\n            <p>{{ $t('gradebook.hide') }}:</p>\r\n            <ul style=\"list-style-type: none; margin:0; padding-left: 15px;\">\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideUnanswered\">\r\n                  {{ $t('gradebook.hide_unans') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideZero\">\r\n                  {{ $t('gradebook.hide_zero') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideNonzero\">\r\n                  {{ $t('gradebook.hide_nonzero') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hidePerfect\">\r\n                  {{ $t('gradebook.hide_perfect') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hide100\">\r\n                  {{ $t('gradebook.hide_100') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideFeedback\">\r\n                  {{ $t('gradebook.hide_fb') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideNowork\">\r\n                  {{ $t('gradebook.hide_nowork') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hidetexts\" @change=\"loadTexts\">\r\n                  {{ $t('gradebook.introtexts') }}\r\n                </label>\r\n              </li>\r\n            </ul>\r\n            <p id=\"showopts\">\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"op_showans\"\r\n                  @change = \"showAllAns\"\r\n                />{{ $t('gradebook.show_all_ans') }}\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"showAllWork\"\r\n                />{{ $t('gradebook.show_all_work') }}\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"op_previewFiles\"\r\n                  @change = \"previewFiles\"\r\n                />{{ $t('gradebook.preview_files') }}\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"op_floatingSB\"\r\n                  @change = \"toggleFloatingScoreboxes\"\r\n                />{{ $t('gradebook.floating_scoreboxes') }}\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"sidebysideon\"\r\n                  @change = \"sidebysideAction\"\r\n                />{{ $t('gradebook.sidebyside') }}\r\n              </label>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"viewFull\">\r\n          <button @click=\"hidetexts = !hidetexts; loadTexts()\">\r\n            {{ $t(hidetexts ? 'print.show_text' : 'print.hide_text') }}\r\n          </button>\r\n          <p class=\"noticetext\">\r\n            {{ $t('gradebook.no_edit') }}\r\n          </p>\r\n        </div>\r\n\r\n        <div v-if=\"viewFull\">\r\n          <inter-question-text\r\n            v-if = \"aData.hasOwnProperty('intro') && aData.intro !== ''\"\r\n            v-show = \"!hidetexts\"\r\n            :active = \"!hidetexts\"\r\n            :textobj = \"{html: aData.intro}\"\r\n            class = \"questionpane introtext\"\r\n          />\r\n          <div\r\n            v-for = \"(qdata,qn) in curQuestions\"\r\n            :key = \"qn\"\r\n            :id = \"'qwrap' + (qn+1)\"\r\n          >\r\n            <inter-question-text-list\r\n              pos=\"beforeexact\"\r\n              :qn=\"qn\"\r\n              :key=\"'iqt'+qn\"\r\n              v-show = \"!hidetexts\"\r\n              :active = \"!hidetexts\"\r\n              :lastq = \"lastQ\"\r\n              :textlist = \"textList\"\r\n            />\r\n            <div class = \"bigquestionwrap\" v-show=\"showQuestion[qn]\">\r\n              <div class=\"headerpane\">\r\n                <strong>\r\n                  {{ $tc('question_n', qn+1) }}.\r\n                </strong>\r\n                <em v-if=\"qdata[curQver[qn]].extracredit\" class=\"small subdued\">\r\n                  {{ $t('extracredit') }}\r\n                </em>\r\n\r\n                <gb-question-select\r\n                  v-if = \"aData.submitby === 'by_question'\"\r\n                  :versions=\"qdata\"\r\n                  :selected=\"curQver[qn]\"\r\n                  :qn=\"qn\"\r\n                  @setversion = \"changeQuestionVersion\"\r\n                  class = \"med-left\"\r\n                />\r\n                <span v-else-if = \"qdata[curQver[qn]].hasOwnProperty('gbscore') && qdata[curQver[qn]].gbscore !== 'N/A'\">\r\n                  {{ $t('gradebook.score') }}:\r\n                  <strong>\r\n                    {{ qdata[curQver[qn]].gbscore }}/{{ qdata[curQver[qn]].points_possible }}\r\n                  </strong>\r\n                </span>\r\n\r\n              </div>\r\n              <div class=\"sidebyside\" :class=\"{sidebysideon:sidebysideon}\">\r\n                <div class=\"scrollpane\">\r\n                  <gb-question\r\n                    :class = \"{'inactive':!showQuestion[qn]}\"\r\n                    :qdata = \"qdata[curQver[qn]]\"\r\n                    :qn = \"qn\"\r\n                    :disabled = \"!canEdit\"\r\n                    @qloaded = \"questionLoaded\"\r\n                  />\r\n                  <gb-showwork\r\n                    v-if=\"!sidebysideon\"\r\n                    :work = \"qdata[curQver[qn]].work\"\r\n                    :worktime = \"qdata[curQver[qn]].worktime\"\r\n                    :showall = \"showAllWork\"\r\n                    :previewfiles = \"op_previewFiles\"\r\n                  />\r\n                </div>\r\n                <div class=\"sidepreview\">\r\n                  <div class=\"sidepreviewtarget\">\r\n                  </div>\r\n                  <gb-showwork\r\n                    v-if=\"sidebysideon\"\r\n                    :work = \"qdata[curQver[qn]].work\"\r\n                    :worktime = \"qdata[curQver[qn]].worktime\"\r\n                    :showall = \"showAllWork\"\r\n                    :previewfiles = \"op_previewFiles\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <gb-score-details\r\n                :showfull = \"showQuestion[qn]\"\r\n                :canedit = \"canEdit\"\r\n                :qdata = \"qdata[curQver[qn]]\"\r\n                :qn = \"qn\"\r\n                @submitform = \"submitForm\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <inter-question-text-list\r\n            pos=\"after\"\r\n            :qn=\"lastQ\"\r\n            :active = \"!hidetexts\"\r\n            v-show = \"!hidetexts\"\r\n            :lastq = \"lastQ\"\r\n            :textlist = \"textList\"\r\n          />\r\n        </div>\r\n        <gb-feedback\r\n          qn=\"gen\"\r\n          :username=\"aData.userfullname\"\r\n          :show=\"viewFull && (canEdit || assessFeedback !== '')\"\r\n          :canedit = \"canEdit\"\r\n          :useeditor = \"useEditor\"\r\n          :value = \"assessFeedback\"\r\n          @update = \"updateFeedback\"\r\n        />\r\n        <div>\r\n          <button\r\n            v-if = \"canEdit\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges(true)\"\r\n          >\r\n            {{ $t('gradebook.save') }}\r\n          </button>\r\n          <button\r\n            v-if = \"canEdit && aData.nextstu\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges(false,true)\"\r\n          >\r\n            {{ $t('gradebook.savenext') }}\r\n          </button>\r\n          <span v-if=\"savedMsg !== ''\" class=\"noticetext\">\r\n            {{ savedMsg }}\r\n          </span>\r\n          <button\r\n            type = \"button\"\r\n            class = \"secondary\"\r\n            :disabled = \"!canSubmit\"\r\n            @click = \"exit\"\r\n          >\r\n            {{ $t('gradebook.return') }}\r\n          </button>\r\n        </div>\r\n        <div class=\"floatrightbutton\">\r\n          <div v-if=\"savedMsg !== ''\" class=\"noticetext\">\r\n            {{ savedMsg }}\r\n          </div>\r\n          <button\r\n            v-if = \"canEdit\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges\"\r\n          >\r\n            {{ $t('gradebook.save') }}\r\n          </button>\r\n        </div>\r\n        <summary-categories\r\n          v-if = \"showCategories\"\r\n          :data = \"curQuestionVers\"\r\n        />\r\n        <gb-clear-attempts />\r\n        <div style=\"margin-bottom:100px\"></div>\r\n      </div>\r\n    </div>\r\n    <error-dialog\r\n      v-if=\"hasError\"\r\n      :errormsg=\"errorMsg\"\r\n      @clearerror=\"clearError\"\r\n    />\r\n    <confirm-dialog\r\n      v-if=\"confirmObj !== null\"\r\n      :data=\"confirmObj\"\r\n      @close=\"closeConfirm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport GbQuestion from '@/gbviewassess/GbQuestion.vue';\r\nimport GbShowwork from '@/gbviewassess/GbShowwork.vue';\r\nimport GbAssessSelect from '@/gbviewassess/GbAssessSelect.vue';\r\nimport GbQuestionSelect from '@/gbviewassess/GbQuestionSelect.vue';\r\nimport GbScoreDetails from '@/gbviewassess/GbScoreDetails.vue';\r\nimport GbClearAttempts from '@/gbviewassess/GbClearAttempts.vue';\r\nimport SummaryCategories from '@/components/summary/SummaryCategories.vue';\r\nimport ErrorDialog from '@/components/ErrorDialog.vue';\r\nimport GbFeedback from '@/gbviewassess/GbFeedback.vue';\r\nimport ConfirmDialog from '@/components/ConfirmDialog.vue';\r\nimport InterQuestionTextList from '@/components/InterQuestionTextList.vue';\r\nimport InterQuestionText from '@/components/InterQuestionText.vue';\r\n\r\nimport '../assess2.css';\r\n\r\nexport default {\r\n  components: {\r\n    GbQuestion,\r\n    GbShowwork,\r\n    GbAssessSelect,\r\n    GbQuestionSelect,\r\n    GbScoreDetails,\r\n    GbClearAttempts,\r\n    SummaryCategories,\r\n    ErrorDialog,\r\n    GbFeedback,\r\n    ConfirmDialog,\r\n    InterQuestionTextList,\r\n    InterQuestionText\r\n  },\r\n  data: function () {\r\n    return {\r\n      showOverride: false,\r\n      assessOverride: false,\r\n      hide100: false,\r\n      hidePerfect: false,\r\n      hideNonzero: false,\r\n      hideZero: false,\r\n      hideUnanswered: false,\r\n      hideFeedback: false,\r\n      hideNowork: false,\r\n      showFilters: false,\r\n      showEndmsg: false,\r\n      showExcused: false,\r\n      showAllWork: false,\r\n      hidetexts: true,\r\n      op_previewFiles: false,\r\n      op_floatingSB: false,\r\n      op_showans: false,\r\n      sidebysideon: false\r\n    };\r\n  },\r\n  computed: {\r\n    assessInfoLoaded () {\r\n      return (store.assessInfo !== null);\r\n    },\r\n    aData () {\r\n      return store.assessInfo;\r\n    },\r\n    viewFull () {\r\n      return this.aData.viewfull;\r\n    },\r\n    canEdit () {\r\n      return store.assessInfo.can_edit_scores && this.viewFull;\r\n    },\r\n    canSubmit () {\r\n      return (!store.inTransit);\r\n    },\r\n    useEditor () {\r\n      return (typeof window.tinyMCE !== 'undefined');\r\n    },\r\n    isByQuestion () {\r\n      return (this.aData.submitby === 'by_question');\r\n    },\r\n    startedString () {\r\n      if (this.aData.starttime === 0) {\r\n        return this.$t('gradebook.not_started');\r\n      } else {\r\n        return this.aData.starttime_disp;\r\n      }\r\n    },\r\n    lastchangeString () {\r\n      if (this.aData.lastchange === 0) {\r\n        return this.$t('gradebook.not_submitted');\r\n      } else {\r\n        return this.aData.lastchange_disp;\r\n      }\r\n    },\r\n    totalTimeOnTask () {\r\n      return Math.round(10 * this.aData.timeontask / 60) / 10 + ' ' + this.$t('gradebook.minutes');\r\n    },\r\n    attemptCount () {\r\n      let cnt = 0;\r\n      for (let i = 0; i < this.aData.assess_versions.length; i++) {\r\n        if (this.aData.assess_versions[i].status < 3) {\r\n          cnt++;\r\n        }\r\n      }\r\n      return cnt;\r\n    },\r\n    extensionString () {\r\n      if (this.aData.extended_with.type === 'latepass') {\r\n        return this.$tc('setlist.latepass_used', this.aData.extended_with.n);\r\n      } else {\r\n        return this.$t('setlist.extension');\r\n      }\r\n    },\r\n    curQuestions () {\r\n      return this.aData.assess_versions[store.curAver].questions;\r\n    },\r\n    curAver () {\r\n      return store.curAver;\r\n    },\r\n    curQver () {\r\n      return store.curQver;\r\n    },\r\n    curQuestionVers () {\r\n      const out = [];\r\n      for (let qn = 0; qn < this.curQuestions.length; qn++) {\r\n        out[qn] = this.curQuestions[qn][this.curQver[qn]];\r\n      }\r\n      return out;\r\n    },\r\n    curEndmsg () {\r\n      return this.aData.assess_versions[store.curAver].endmsg || '';\r\n    },\r\n    showCategories () {\r\n      let hascat = false;\r\n      for (const i in this.curQuestionVers) {\r\n        if (this.curQuestionVers[i].hasOwnProperty('category') &&\r\n          this.curQuestionVers[i].category !== '' &&\r\n          this.curQuestionVers[i].category !== null\r\n        ) {\r\n          hascat = true;\r\n          break;\r\n        }\r\n      }\r\n      const hasScores = this.curQuestionVers[0].hasOwnProperty('score') &&\r\n        !isNaN(Number(this.curQuestionVers[0].score));\r\n      return hascat && hasScores;\r\n    },\r\n    scoreCalc () {\r\n      if (this.aData.submitby === 'by_question') {\r\n        return this.$t('gradebook.best_on_question');\r\n      } else if (this.aData.keepscore === 'best') {\r\n        let out = this.$t('gradebook.keep_best');\r\n        if (typeof this.aData.gbscore === 'number') {\r\n          out += ' (' + this.$tc('gradebook.attempt_n', this.aData.scored_version + 1) + ')';\r\n        }\r\n        return out;\r\n      } else if (this.aData.keepscore === 'average') {\r\n        return this.$t('gradebook.keep_avg');\r\n      } else if (this.aData.keepscore === 'last') {\r\n        return this.$t('gradebook.keep_last');\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    showViewAsStu () {\r\n      // show if there's an active attempt, or if there's only an instructor-generated\r\n      // non-started assessment version\r\n      return (this.aData.has_active_attempt ||\r\n        (this.aData.scored_version === 0 && this.aData.assess_versions[0].status === -1)\r\n      );\r\n    },\r\n    viewAsStuUrl () {\r\n      return 'index.php?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n    },\r\n    activityLogUrl () {\r\n      return '../course/viewactionlog.php?cid=' + store.cid + '&uid=' + store.uid;\r\n    },\r\n    showQuestion () {\r\n      const out = {};\r\n      for (let i = 0; i < this.curQuestions.length; i++) {\r\n        const qdata = this.curQuestions[i][this.curQver[i]];\r\n        let showit = true;\r\n        if (this.hide100 && Math.abs(qdata.score - qdata.points_possible) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hidePerfect && Math.abs(qdata.rawscore - 1) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hideUnanswered && qdata.parts.reduce((a, c) => Math.max(a, c.try), 0) === 0) {\r\n          showit = false;\r\n        } else if (this.hideZero && Math.abs(qdata.rawscore) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hideNonzero && Math.abs(qdata.rawscore) > 0.002 && Math.abs(qdata.rawscore) < 0.998) {\r\n          showit = false;\r\n        } else if (this.hideFeedback && qdata.feedback !== null && qdata.feedback !== '') {\r\n          showit = false;\r\n        } else if (this.hideNowork && (!qdata.hasOwnProperty('work') || qdata.work === null || qdata.work === '')) {\r\n          showit = false;\r\n        }\r\n        out[i] = showit;\r\n      }\r\n      return out;\r\n    },\r\n    exceptionActionLabel () {\r\n      if (this.aData.hasexception) {\r\n        return this.$t('gradebook.edit_exception');\r\n      } else {\r\n        return this.$t('gradebook.make_exception');\r\n      }\r\n    },\r\n    assessFeedback () {\r\n      return this.aData.assess_versions[store.curAver].feedback || '';\r\n    },\r\n    savedMsg () {\r\n      if (store.saving === '') {\r\n        return '';\r\n      } else {\r\n        return this.$t('gradebook.' + store.saving);\r\n      }\r\n    },\r\n    latepassBlockMsg () {\r\n      var m;\r\n      switch (this.aData.latepass_status) {\r\n        case 7: m = 'practice'; break;\r\n        case 8: m = 'gb'; break;\r\n        case 2: m = 'lpcutoff'; break;\r\n        case 3: m = 'courseend'; break;\r\n        case 4: m = 'pastdue'; break;\r\n        case 5: m = 'toolate'; break;\r\n        case 6: m = 'toofew'; break;\r\n      }\r\n      return this.$t('gradebook.latepass_blocked_' + m);\r\n    },\r\n    isUnsubmitted () {\r\n      return (this.aData.submitby === 'by_assessment' &&\r\n        this.aData.assess_versions[store.curAver].status === 0);\r\n    },\r\n    hasError () {\r\n      return (store.errorMsg !== null);\r\n    },\r\n    errorMsg () {\r\n      return store.errorMsg;\r\n    },\r\n    confirmObj () {\r\n      return store.confirmObj;\r\n    },\r\n    lastQ () {\r\n      return this.aData.assess_versions[store.curAver].questions.length - 1;\r\n    },\r\n    textList () {\r\n      if (!store.assessInfo.hasOwnProperty('interquestion_text')) {\r\n        return [];\r\n      } else {\r\n        return store.assessInfo.interquestion_text;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeAssessVersion (val) {\r\n      if (val === store.curAver) {\r\n        return; // not a change - abort\r\n      }\r\n      if (Object.keys(store.scoreOverrides).length > 0 ||\r\n        Object.keys(store.feedbacks).length > 0\r\n      ) {\r\n        store.confirmObj = {\r\n          body: 'gradebook.unsaved_warn',\r\n          action: () => this.doChangeAssessVersion(val)\r\n        };\r\n      } else {\r\n        this.doChangeAssessVersion(val);\r\n      }\r\n    },\r\n    doChangeAssessVersion (val) {\r\n      if (val !== store.curAver) {\r\n        this.hidetexts = true;\r\n        if (this.aData.assess_versions[val].status === 3) {\r\n          // requesting the practice version\r\n          actions.loadGbAssessVersion(0, true);\r\n        } else {\r\n          actions.loadGbAssessVersion(val, false);\r\n        }\r\n      }\r\n    },\r\n    changeQuestionVersion (qn, val) {\r\n      if (val === store.curQver[qn]) {\r\n        return; // same value - abort\r\n      }\r\n      let hasUnsaved = false;\r\n      const regex = new RegExp('^' + store.curAver + '-' + qn + '-');\r\n      for (const k in store.scoreOverrides) {\r\n        if (regex.test(k)) {\r\n          hasUnsaved = true;\r\n        }\r\n      }\r\n      for (const k in store.feedbacks) {\r\n        if (regex.test(k)) {\r\n          hasUnsaved = true;\r\n        }\r\n      }\r\n      if (hasUnsaved) {\r\n        store.confirmObj = {\r\n          body: 'gradebook.unsaved_warn',\r\n          action: () => actions.loadGbQuestionVersion(qn, val)\r\n        };\r\n      } else {\r\n        actions.loadGbQuestionVersion(qn, val);\r\n      }\r\n    },\r\n    updateFeedback (val) {\r\n      actions.setFeedback(null, val);\r\n    },\r\n    setScoreOverride (evt) {\r\n      const val = evt.target.value.trim();\r\n      if (val !== this.aData.scoreoverride) {\r\n        store.scoreOverrides.gen = val;\r\n        this.assessOverride = '';\r\n      }\r\n      store.saving = '';\r\n    },\r\n    submitChanges (exit, nextstu) {\r\n      if (!this.aData.hasOwnProperty('scoreoverride') && this.showOverride) {\r\n        if (this.assessOverride !== '') {\r\n          store.scoreOverrides.gen = this.assessOverride;\r\n        }\r\n        this.showOverride = false;\r\n      }\r\n      var doexit = (exit === true);\r\n      var donextstu = (nextstu === true);\r\n      actions.saveChanges(doexit, donextstu);\r\n    },\r\n    submitForm () {\r\n      this.submitChanges(true);\r\n    },\r\n    exit () {\r\n      window.location = window.exiturl;\r\n    },\r\n    clearAttempts (type) {\r\n      store.clearAttempts.type = type;\r\n      store.clearAttempts.show = true;\r\n    },\r\n    clearLPblock () {\r\n      actions.clearLPblock();\r\n    },\r\n    submitVersion () {\r\n      actions.endAssess();\r\n    },\r\n    redeemLatePass () {\r\n      window.location = this.APIbase + '../course/redeemlatepass.php?cid=' + store.cid + '&aid=' + store.aid;\r\n    },\r\n    makeException () {\r\n      let url = store.APIbase + '../course/exception.php';\r\n      url += '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n      url += '&from=gb';\r\n      window.location = url;\r\n    },\r\n    beforeUnload (evt) {\r\n      if (Object.keys(store.scoreOverrides).length > 0 ||\r\n        Object.keys(store.feedbacks).length > 0\r\n      ) {\r\n        evt.preventDefault();\r\n        evt.returnValue = 'You have unsaved changes';\r\n        return 'You have unsaved changes';\r\n      }\r\n    },\r\n    clearError () {\r\n      store.errorMsg = null;\r\n    },\r\n    closeConfirm () {\r\n      store.confirmObj = null;\r\n    },\r\n    showAllAns () {\r\n      window.toggleshowallans(this.op_showans);\r\n    },\r\n    previewFiles () {\r\n      window.togglepreviewallfiles(this.op_previewFiles);\r\n    },\r\n    toggleFloatingScoreboxes () {\r\n      window.toggleScrollingScoreboxState(this.op_floatingSB);\r\n    },\r\n    sidebysideAction () {\r\n      window.sidebysidemoveels(this.sidebysideon);\r\n    },\r\n    loadTexts () {\r\n      if (!store.assessInfo.hasOwnProperty('intro')) {\r\n        actions.loadGbTexts();\r\n      }\r\n    },\r\n    storeFilters () {\r\n      const tocheck = ['hide100', 'hidePerfect', 'hideNonzero', 'hideZero', 'hideUnanswered',\r\n        'hideFeedback', 'hideNowork', 'showEndmsg', 'showExcused', 'showAllWork',\r\n        'hidetexts', 'op_previewFiles', 'op_floatingSB', 'op_showans', 'sidebysideon'];\r\n      const out = [];\r\n      for (const v of tocheck) {\r\n        if ((v === 'hidetexts' && this[v] === false) || (v !== 'hidetexts' && this[v] === true)) {\r\n          out.push(v);\r\n        }\r\n      }\r\n      window.document.cookie = 'gvaf' + store.aid + '=' + out.join(',');\r\n    },\r\n    questionLoaded (base) {\r\n      if (this.op_previewFiles) {\r\n        window.togglepreviewallfiles(true, base);\r\n      }\r\n      if (this.op_showans) {\r\n        window.toggleshowallans(true, base);\r\n      }\r\n      if (this.sidebysideon) {\r\n        window.sidebysidemoveels(true, base);\r\n      }\r\n      this.$nextTick(window.sendLTIresizemsg);\r\n    }\r\n  },\r\n  created () {\r\n    window.$(window).on('beforeunload', this.beforeUnload);\r\n    if (typeof window.APIbase !== 'undefined') {\r\n      store.APIbase = window.APIbase;\r\n    } else {\r\n      store.APIbase = process.env.BASE_URL;\r\n    }\r\n    // if no assessinfo, or if cid/aid has changed, load data\r\n    const querycid = window.location.search.replace(/^.*cid=(\\d+).*$/, '$1');\r\n    const queryaid = window.location.search.replace(/^.*aid=(\\d+).*$/, '$1');\r\n    const queryuid = window.location.search.replace(/^.*uid=(\\d+).*$/, '$1');\r\n    const querystu = window.location.search.replace(/^.*stu=(\\d+).*$/, '$1');\r\n    if (store.assessInfo === null ||\r\n      store.cid !== querycid ||\r\n      store.aid !== queryaid ||\r\n      store.uid !== queryuid\r\n    ) {\r\n      store.cid = querycid;\r\n      window.cid = querycid; // some other functions need this in global scope\r\n      store.aid = queryaid;\r\n      store.uid = queryuid;\r\n      store.stu = querystu;\r\n      store.queryString = '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n      actions.loadGbAssessData();\r\n    }\r\n    const filtercookie = window.readCookie('gvaf' + store.aid);\r\n    if (filtercookie !== null && filtercookie.length > 0) {\r\n      this.showFilters = true;\r\n      const cookieparts = filtercookie.split(',');\r\n      for (const v of cookieparts) {\r\n        if (v === 'hidetexts') {\r\n          this[v] = false;\r\n        } else {\r\n          this[v] = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    const filtercookie = window.readCookie('gvaf' + store.aid);\r\n    if (filtercookie !== null && filtercookie.length > 0) {\r\n      const cookieparts = filtercookie.split(',');\r\n      if (cookieparts.indexOf('op_floatingSB') !== -1) {\r\n        window.toggleScrollingScoreboxState(true);\r\n      }\r\n      this.$nextTick(window.sendLTIresizemsg);\r\n    }\r\n  },\r\n  updated () {\r\n    this.$nextTick(window.sendLTIresizemsg);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.med-pad-below {\r\n  padding-bottom: 16px;\r\n}\r\n.gbmainview > div {\r\n  margin-bottom: 16px;\r\n}\r\n.floatrightbutton {\r\n  position: fixed;\r\n  right: 10px;\r\n  bottom: 10px;\r\n  text-align: center;\r\n  z-index: 10;\r\n}\r\n.bigquestionwrap {\r\n  border: 1px solid #ccc;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n}\r\n.bigquestionwrap .headerpane {\r\n  padding: 8px;\r\n  background-color: #eee;\r\n}\r\n.hoverbox {\r\n  background-color: #fff; z-index: 9; box-shadow: 0px -3px 5px 0px rgb(0 0 0 / 75%);\r\n}\r\n#showopts label {\r\n  margin-right: 8px;\r\n  user-select: none;\r\n}\r\n.sidebyside {\r\n  display:flex;\r\n  flex-wrap:nowrap;\r\n}\r\n.scrollpane {\r\n  width: 100%;\r\n}\r\n.sidepreview {\r\n  width: 0%;\r\n}\r\n.sidebysideon .sidepreview {\r\n  border-left: 1px solid #ccc;\r\n  padding: 10px;\r\n}\r\n.sidebysideon > div {\r\n  width: 50%;\r\n}\r\n.sidepreview .viewworkwrap {\r\n  margin: 15px 0;\r\n}\r\n</style>\r\n","import { reactive, nextTick } from 'vue';\r\nimport { mapInterquestionTexts } from '@/mixins/maptexts';\r\n\r\nexport const store = reactive({\r\n  assessInfo: null,\r\n  APIbase: null,\r\n  aid: null,\r\n  cid: null,\r\n  uid: null,\r\n  stu: 0,\r\n  queryString: '',\r\n  exitUrl: '',\r\n  inTransit: false,\r\n  saving: '',\r\n  errorMsg: null,\r\n  confirmObj: null,\r\n  curAver: 0,\r\n  ispractice: false,\r\n  curQver: [],\r\n  orig_submitby: null,\r\n  scoreOverrides: {},\r\n  feedbacks: {},\r\n  clearAttempts: {\r\n    show: false,\r\n    type: '',\r\n    qn: 0\r\n  }\r\n});\r\n\r\nexport const actions = {\r\n  loadGbAssessData (callback, keepversion) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbAssessData(callback, keepversion), 20);\r\n      return;\r\n    }\r\n    if (store.assessInfo === null && window.gbAssessData) {\r\n      store.assessInfo = window.gbAssessData;\r\n      if (typeof callback !== 'undefined') {\r\n        callback();\r\n      }\r\n    } else {\r\n      store.inTransit = true;\r\n      store.errorMsg = null;\r\n      window.$.ajax({\r\n        url: store.APIbase + 'gbloadassess.php' + store.queryString,\r\n        dataType: 'json',\r\n        xhrFields: {\r\n          withCredentials: true\r\n        },\r\n        crossDomain: true\r\n      })\r\n        .done(response => {\r\n          if (response.hasOwnProperty('error')) {\r\n            this.handleError(response.error);\r\n            return;\r\n          }\r\n          // reset store\r\n          store.assessInfo = response;\r\n          // set current versions to scored versions\r\n          store.curAver = response.scored_version;\r\n          this.setQverAsScored(response.scored_version);\r\n\r\n          if (typeof callback !== 'undefined') {\r\n            callback();\r\n          }\r\n          // initialize editor and answerbox highlighting\r\n          nextTick(() => {\r\n            window.initAnswerboxHighlights();\r\n            if (window.location.hash) {\r\n              const el = document.getElementById(window.location.hash.substring(1).replace(/\\//, ''));\r\n              if (el) {\r\n                el.scrollIntoView();\r\n              }\r\n            }\r\n          });\r\n        })\r\n        .fail((xhr, textStatus, errorThrown) => {\r\n          this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n        })\r\n        .always(response => {\r\n          store.inTransit = false;\r\n        });\r\n    }\r\n  },\r\n  loadGbAssessVersion (ver, practice) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbAssessVersion(ver, practice), 20);\r\n      return;\r\n    }\r\n    const qs = store.queryString + '&ver=' + ver + '&practice=' + (practice ? 1 : 0);\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadassessver.php' + qs,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n\r\n        if (practice) {\r\n          // practice gets scored as last ver\r\n          ver = store.assessInfo.assess_versions.length - 1;\r\n        }\r\n        // set into store\r\n        delete store.assessInfo.interquestion_text;\r\n        delete store.assessInfo.intro;\r\n\r\n        store.assessInfo.assess_versions[ver] = response;\r\n\r\n        // set current versions to scored versions\r\n        store.curAver = ver;\r\n        this.setQverAsScored(ver);\r\n        store.ispractice = practice;\r\n        if (practice) {\r\n          if (store.orig_submitby === null) {\r\n            store.orig_submitby = store.assessInfo.submitby;\r\n          }\r\n          store.assessInfo.submitby = 'by_question';\r\n        } else if (store.orig_submitby !== null) {\r\n          store.assessInfo.submitby = store.orig_submitby;\r\n        }\r\n\r\n        // initialize editor and answerbox highlighting\r\n        nextTick(() => {\r\n          window.initAnswerboxHighlights();\r\n        });\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  loadGbTexts (callback) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbTexts(callback), 20);\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadtexts.php' + store.queryString,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        const qs = [];\r\n        for (let i = 0; i < store.assessInfo.assess_versions[store.curAver].questions.length; i++) {\r\n          qs[i] = {};\r\n          if (store.assessInfo.assess_versions[store.curAver].questions[i][store.curQver[i]].hasOwnProperty('text')) {\r\n            qs[i] = { text: store.assessInfo.assess_versions[store.curAver].questions[i][store.curQver[i]].text.slice() };\r\n          }\r\n        }\r\n        if (response.hasOwnProperty('interquestion_text')) {\r\n          mapInterquestionTexts(response, qs);\r\n        }\r\n\r\n        store.assessInfo.intro = response.intro;\r\n        store.assessInfo.interquestion_text = response.interquestion_text;\r\n        if (callback) {\r\n          nextTick(() => {\r\n            callback();\r\n          });\r\n        }\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  loadGbQuestionVersion (qn, ver, forceload, beforeSet) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbQuestionVersion(qn, ver, forceload, beforeSet), 20);\r\n      return;\r\n    }\r\n    let qs = store.queryString + '&ver=' + ver + '&qn=' + qn;\r\n    qs += '&practice=' + (store.ispractice ? 1 : 0);\r\n    if (store.assessInfo.assess_versions[store.curAver].questions[qn][ver].html !== null &&\r\n      forceload !== true\r\n    ) {\r\n      // already have html loaded - just switch displayed version\r\n      store.curQver[qn] = ver;\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadquestionver.php' + qs,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        if (beforeSet) {\r\n          beforeSet();\r\n        }\r\n        store.assessInfo.assess_versions[store.curAver].questions[qn][ver] =\r\n          Object.assign(store.assessInfo.assess_versions[store.curAver].questions[qn][ver], response);\r\n        // set current versions to this version\r\n        store.curQver[qn] = ver;\r\n\r\n        // initialize answerbox highlighting\r\n        nextTick(() => {\r\n          window.initAnswerboxHighlights();\r\n        });\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  saveChanges (exit, nextstu) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.saveChanges(exit), 20);\r\n      return;\r\n    }\r\n    let nextstuurl = '';\r\n    if (nextstu) {\r\n      nextstuurl = 'gbviewassess.php?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.assessInfo.nextstu;\r\n      if (window.location.search.match(/from=/)) {\r\n        nextstuurl += '&from=' + window.location.search.replace(/^.*from=(\\w+).*$/, '$1');\r\n      }\r\n    }\r\n    if (Object.keys(store.scoreOverrides).length === 0 &&\r\n      Object.keys(store.feedbacks).length === 0\r\n    ) {\r\n      store.saving = 'saved';\r\n      if (exit) {\r\n        window.location = window.exiturl;\r\n      } else if (nextstu) {\r\n        window.location = nextstuurl;\r\n      }\r\n      return;\r\n    }\r\n    const qs = store.queryString;\r\n    store.inTransit = true;\r\n    store.saving = 'saving';\r\n    store.errorMsg = null;\r\n    const data = new FormData();\r\n    data.append('scores', JSON.stringify(store.scoreOverrides));\r\n    data.append('feedback', JSON.stringify(store.feedbacks));\r\n    data.append('practice', store.ispractice ? 1 : 0);\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbsave.php' + qs,\r\n      type: 'POST',\r\n      dataType: 'json',\r\n      data: data,\r\n      processData: false,\r\n      contentType: false,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        store.saving = 'saved';\r\n\r\n        if (exit || nextstu) {\r\n          store.scoreOverrides = {};\r\n          store.feedbacks = {};\r\n        }\r\n        if (exit) {\r\n          window.location = window.exiturl;\r\n          return;\r\n        } else if (nextstu) {\r\n          window.location = nextstuurl;\r\n          return;\r\n        }\r\n\r\n        // update store.assessInfo with the new scores so it\r\n        // can tell if we change anything\r\n        for (const key in store.scoreOverrides) {\r\n          if (key === 'gen') {\r\n            if (store.scoreOverrides.gen === '') {\r\n              delete store.assessInfo.scoreoverride;\r\n            } else {\r\n              store.assessInfo.gbscore = store.scoreOverrides.gen;\r\n              store.assessInfo.scoreoverride = store.scoreOverrides.gen;\r\n            }\r\n            continue;\r\n          }\r\n          // Update part score\r\n          const pts = key.split(/-/);\r\n          const qdata = store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]];\r\n          if (qdata.hasOwnProperty('scoreoverride') && store.scoreOverrides[key] === '') {\r\n            if (typeof qdata.scoreoverride === 'number') {\r\n              delete qdata.scoreoverride;\r\n            } else {\r\n              delete qdata.scoreoverride[pts[3]];\r\n            }\r\n          }\r\n          if (store.scoreOverrides.hasOwnProperty(key) && store.scoreOverrides[key] !== '') { // set or re-set scoreoverride on question part\r\n            if (!qdata.hasOwnProperty('scoreoverride')) {\r\n              store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].scoreoverride = {};\r\n            }\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].scoreoverride[pts[3]] =\r\n              store.scoreOverrides[key];\r\n          }\r\n        }\r\n        // update question scores\r\n        for (const key in response.newscores) {\r\n          const pts = key.split(/-/);\r\n          store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].score =\r\n            response.newscores[key][0];\r\n          // update part info\r\n          for (let i = 0; i < response.newscores[key][1].length; i++) {\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].parts[i] =\r\n              response.newscores[key][1][i];\r\n          }\r\n        }\r\n        // update feedbacks in store\r\n        for (const key in store.feedbacks) {\r\n          const pts = key.split(/-/);\r\n          if (pts[1] === 'g') { // general feedback\r\n            store.assessInfo.assess_versions[pts[0]].feedback =\r\n              store.feedbacks[key];\r\n          } else { // question feedback\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].feedback =\r\n              store.feedbacks[key];\r\n          }\r\n        }\r\n\r\n        store.assessInfo.gbscore = response.gbscore;\r\n        store.assessInfo.scored_version = response.scored_version;\r\n        // Update question scored version\r\n        for (let an = 0; an < response.assess_info.length; an++) {\r\n          store.assessInfo.assess_versions[an].score = response.assess_info[an].score;\r\n          for (let qn = 0; qn < response.assess_info[an].scoredvers.length; qn++) {\r\n            if (!store.assessInfo.assess_versions[an].hasOwnProperty('questions')) {\r\n              continue; // questions not loaded for this version\r\n            }\r\n            const qvers = store.assessInfo.assess_versions[an].questions[qn];\r\n            for (let qv = 0; qv < qvers.length; qv++) {\r\n              if (qv === response.assess_info[an].scoredvers[qn]) {\r\n                qvers[qv].scored = true;\r\n              } else if (qvers[qv].scored) {\r\n                delete qvers[qv].scored;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // Update assessment scores\r\n        store.scoreOverrides = {};\r\n        store.feedbacks = {};\r\n      })\r\n      .fail(response => {\r\n        store.saving = 'save_fail';\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  clearLPblock () {\r\n    store.clearAttempts.type = 'practiceview';\r\n    this.clearAttempt(true);\r\n  },\r\n  clearAttempt (keepver) {\r\n    const data = {\r\n      type: store.clearAttempts.type,\r\n      keepver: keepver\r\n    };\r\n    if (store.clearAttempts.type === 'attempt' ||\r\n        store.clearAttempts.type === 'qver'\r\n    ) {\r\n      data.aver = store.curAver;\r\n    }\r\n    if (store.clearAttempts.type === 'qver') {\r\n      data.qn = store.clearAttempts.qn;\r\n      data.qver = store.curQver[data.qn];\r\n    }\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbclearattempt.php' + store.queryString,\r\n      type: 'POST',\r\n      dataType: 'json',\r\n      data: data,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        // TODO: update displayed data rather than just exiting\r\n        if (store.clearAttempts.type === 'all' && data.keepver === 0) {\r\n          // cleared all - exit\r\n          window.location = window.exiturl;\r\n        } else if (store.clearAttempts.type === 'all') {\r\n          // reload whole mess\r\n          actions.loadGbAssessData();\r\n        } else if (store.clearAttempts.type === 'practiceview') {\r\n          store.assessInfo.latepass_status = data.latepass_status;\r\n        } else {\r\n          store.assessInfo.gbscore = response.gbscore;\r\n          store.assessInfo.scored_version = response.scored_version;\r\n          if (store.clearAttempts.type === 'attempt') {\r\n            // clear out any score overrides associated with this version\r\n            const regex = new RegExp('^' + data.aver + '-');\r\n            for (const key in store.scoreOverrides) {\r\n              if (key.match(regex)) {\r\n                delete store.scoreOverrides[key];\r\n              }\r\n            }\r\n            if (response.hasOwnProperty('newver')) {\r\n              // replace assessment attempt\r\n              store.assessInfo.assess_versions[data.aver] = response.newver;\r\n            } else {\r\n              // delete version\r\n              store.assessInfo.assess_versions.splice(data.aver, 1);\r\n              actions.loadGbAssessVersion(response.scored_version, false);\r\n            }\r\n            if (data.aver > 0) {\r\n              store.curAver = data.aver - 1;\r\n            }\r\n          } else if (store.clearAttempts.type === 'qver') {\r\n            // clear out any score overrides associated with this version\r\n            const regex = new RegExp('^' + data.aver + '-' + data.qn + '-' + data.qver + '-');\r\n            for (const key in store.scoreOverrides) {\r\n              if (key.match(regex)) {\r\n                delete store.scoreOverrides[key];\r\n              }\r\n            }\r\n            store.assessInfo.assess_versions[data.aver].score = response.assessinfo.score;\r\n            store.assessInfo.assess_versions[data.aver].status = response.assessinfo.status;\r\n            if (response.hasOwnProperty('newver')) {\r\n              // replace assessment attempt\r\n              store.assessInfo.assess_versions[data.aver].questions[data.qn][data.qver] = response.newver;\r\n              // set scored\r\n              store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version].scored = true;\r\n            } else {\r\n              // update curQver to new scored version, and set that version as scored\r\n              // use callback to delete this version on response\r\n              actions.loadGbQuestionVersion(data.qn, response.qinfo.scored_version, true,\r\n                () => {\r\n                  store.assessInfo.assess_versions[data.aver].questions[data.qn].splice(data.qver, 1);\r\n                  store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version].scored = true;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        }\r\n        // clear out any affected score overrides\r\n      })\r\n      .fail(response => {\r\n        this.handleError('send_fail');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n        store.clearAttempts.show = false;\r\n      });\r\n  },\r\n  endAssess () {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.endAssess(), 20);\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'endassess.php' + store.queryString,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        // TODO: be more surgical.  For now, we'll just reload everything\r\n        store.assessInfo = null;\r\n        actions.loadGbAssessData();\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  setQverAsScored (aver) {\r\n    const qdata = store.assessInfo.assess_versions[aver].questions;\r\n    let qv;\r\n    qloop: for (let i = 0; i < qdata.length; i++) {\r\n      for (qv = 0; qv < qdata[i].length; qv++) {\r\n        if (qdata[i][qv].hasOwnProperty('scored')) {\r\n          store.curQver[i] = qv;\r\n          continue qloop;\r\n        }\r\n        // if no scored found, show last\r\n        store.curQver[i] = qdata[i].length - 1;\r\n      }\r\n    }\r\n  },\r\n  setScoreOverride (qn, pn, score) {\r\n    // get current assess and question versions\r\n    const av = store.curAver;\r\n    const qv = store.curQver[qn];\r\n\r\n    // compare new score against existing value\r\n    const qdata = store.assessInfo.assess_versions[av].questions[qn][qv];\r\n    const key = av + '-' + qn + '-' + qv + '-' + pn;\r\n    if (score === '') {\r\n      store.scoreOverrides[key] = '';\r\n    } else {\r\n      let scoreChanged = true;\r\n      if (qdata.singlescore) {\r\n        scoreChanged = (Math.abs(score - qdata.score / qdata.points_possible) > 0.001);\r\n      } else if (qdata.parts[pn]) {\r\n        scoreChanged = (Math.abs(score - qdata.parts[pn].score / qdata.parts[pn].points_possible) > 0.001);\r\n      }\r\n      if (qdata.parts[pn] && qdata.parts[pn].try > 0 &&\r\n        (score === '' || !scoreChanged)\r\n      ) {\r\n        // same as existing - don't submit as an override\r\n        delete store.scoreOverrides[key];\r\n      } else {\r\n        // different score - submit as override. Save raw score (0-1)?.\r\n        store.scoreOverrides[key] = Math.round(10000 * score) / 10000;\r\n      }\r\n    }\r\n    store.saving = '';\r\n  },\r\n  setFeedback (qn, feedback) {\r\n    // get current assess and question versions\r\n    const av = store.curAver;\r\n    let key = av;\r\n    let isNew = true;\r\n    if (qn === null) {\r\n      // assessment-level feedback\r\n      key += '-g';\r\n      if (feedback === store.assessInfo.assess_versions[store.curAver].feedback) {\r\n        isNew = false;\r\n      }\r\n    } else {\r\n      const qv = store.curQver[qn];\r\n      key += '-' + qn + '-' + qv;\r\n      if (feedback === store.assessInfo.assess_versions[store.curAver].questions[qn][qv].feedback) {\r\n        isNew = false;\r\n      }\r\n    }\r\n    if (isNew) {\r\n      store.feedbacks[key] = feedback;\r\n    } else {\r\n      delete store.feedbacks[key];\r\n    }\r\n    store.saving = '';\r\n  },\r\n  handleError (error) {\r\n    store.errorMsg = error;\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"questionwrap questionpane\">\r\n    <div\r\n      v-html=\"qdata.html\"\r\n      class = \"question\"\r\n      :id=\"'questionwrap' + qn\"\r\n      ref = \"thisqwrap\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbQuestion',\r\n  props: ['qdata', 'qn', 'disabled'],\r\n  data: function () {\r\n    return {\r\n      rendered: false\r\n    };\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered) {\r\n        return;\r\n      }\r\n      if (this.disabled) {\r\n        window.$(this.$refs.thisqwrap).find('input,select,textarea').each(function (i, el) {\r\n          if (el.name.match(/^(qn|tc|qs)/)) {\r\n            el.disabled = true;\r\n          }\r\n        });\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.thisqwrap);\r\n      window.initSageCell(this.$refs.thisqwrap);\r\n      window.initlinkmarkup(this.$refs.thisqwrap);\r\n      window.imathasAssess.init(this.qdata.jsparams, true, this.$refs.thisqwrap);\r\n      this.rendered = true;\r\n      this.$emit('qloaded', this.$refs.thisqwrap);\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    qdata: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbQuestion.vue?vue&type=template&id=7c107994\"\nimport script from \"./GbQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class = \"questionpane viewworkwrap\" v-if=\"!!work\" ref=\"wrap\">\r\n    <div>\r\n      <button type=\"button\" class=\"slim\"\r\n        @click = \"show = !show\"\r\n      >\r\n        {{ btnLabel }}\r\n      </button>\r\n      <span class=\"small\" v-if=\"show && worktime !== '0'\">\r\n        {{ $t('gradebook.lastchange')}} {{ worktime }}\r\n      </span>\r\n    </div>\r\n    <transition name=\"fade\">\r\n      <div class=\"introtext\" ref=\"workbox\" v-show=\"show\" v-html=\"work\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbShowwork',\r\n  props: ['work', 'worktime', 'showall', 'previewfiles'],\r\n  data: function () {\r\n    return {\r\n      show: false,\r\n      rendered: false\r\n    };\r\n  },\r\n  computed: {\r\n    btnLabel () {\r\n      return this.$t(this.show ? 'gradebook.hidework' : 'gradebook.showwork');\r\n    }\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered || !this.work) {\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.workbox);\r\n      window.initlinkmarkup(this.$refs.workbox);\r\n      window.$(this.$refs.workbox).find('img').on('click', window.rotateimg);\r\n      this.rendered = true;\r\n      if (this.previewfiles) {\r\n        window.togglepreviewallfiles(true, this.$refs.wrap);\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n    this.show = this.showall;\r\n  },\r\n  watch: {\r\n    work: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    },\r\n    showall: function (newVal, oldVal) {\r\n      this.show = newVal;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbShowwork.vue?vue&type=template&id=004da650\"\nimport script from \"./GbShowwork.vue?vue&type=script&lang=js\"\nexport * from \"./GbShowwork.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <menu-button id=\"assess_select\"\r\n      :options = \"navOptions\"\r\n      :selected = \"selected\"\r\n      :noarrow = \"navOptions.length == 1\"\r\n      searchby = \"ver\"\r\n    >\r\n      <template v-slot=\"{ option }\">\r\n        <gb-assess-list-item :option=\"option\" :submitby=\"submitby\"/>\r\n      </template>\r\n    </menu-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport GbAssessListItem from '@/gbviewassess/GbAssessListItem.vue';\r\nexport default {\r\n  name: 'GbAssessSelect',\r\n  props: ['versions', 'selected', 'submitby', 'haspractice'],\r\n  components: {\r\n    MenuButton,\r\n    GbAssessListItem\r\n  },\r\n  computed: {\r\n    navOptions () {\r\n      var out = [];\r\n      for (let i = 0; i < this.versions.length; i++) {\r\n        const thisoption = {\r\n          ver: i,\r\n          status: this.versions[i].status,\r\n          lastchange_disp: this.versions[i].lastchange_disp,\r\n          onclick: () => this.$emit('setversion', i)\r\n        };\r\n        if (this.versions[i].hasOwnProperty('score')) {\r\n          thisoption.score = this.versions[i].score;\r\n        }\r\n        out.push(thisoption);\r\n      }\r\n      return out;\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <span>\r\n    <strong>{{ attemptNum }}.</strong>\r\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\r\n      {{ $t('gradebook.score') }}:\r\n      <strong>{{ score }}</strong>.\r\n    </span>\r\n    <span v-if=\"option.hasOwnProperty('status')\">\r\n      {{ verStatus }}\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { store } from './gbstore';\r\n\r\nexport default {\r\n  name: 'GbAssessListItem',\r\n  props: ['option', 'submitby'],\r\n  computed: {\r\n    attemptNum () {\r\n      if (this.option.status === 3) {\r\n        return this.$t('gradebook.practice_attempt');\r\n      } else if (this.submitby === 'by_question') {\r\n        return this.$t('gradebook.scored_attempt');\r\n      } else {\r\n        return this.$tc('gradebook.attempt_n', this.option.ver + 1);\r\n      }\r\n    },\r\n    verStatus () {\r\n      if (this.option.status === -1) {\r\n        return this.$t('gradebook.not_started');\r\n      } else if (this.option.status === 0 && this.submitby === 'by_assessment') {\r\n        return this.$t('gradebook.not_submitted');\r\n      } else if (this.option.status === 1 || this.option.status === 2) {\r\n        let out = '';\r\n        if (this.submitby === 'by_question') {\r\n          out += this.$t('gradebook.lastchange');\r\n        } else {\r\n          out += this.$t('gradebook.submitted');\r\n        }\r\n        out += ' ' + this.option.lastchange_disp;\r\n        return out;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    score () {\r\n      return this.option.score + '/' + store.assessInfo.points_possible;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbAssessListItem.vue?vue&type=template&id=2bf22f68\"\nimport script from \"./GbAssessListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GbAssessListItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbAssessSelect.vue?vue&type=template&id=1610a721\"\nimport script from \"./GbAssessSelect.vue?vue&type=script&lang=js\"\nexport * from \"./GbAssessSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div style=\"display: inline-block\">\r\n    <menu-button :id=\"'qselect' + qn\"\r\n      :options = \"navOptions\"\r\n      :selected = \"selected\"\r\n      :noarrow = \"navOptions.length == 1\"\r\n      searchby = \"ver\"\r\n    >\r\n      <template v-slot=\"{ option }\">\r\n        <gb-question-list-item :option=\"option\" :total=\"navOptions.length\"/>\r\n      </template>\r\n    </menu-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport GbQuestionListItem from '@/gbviewassess/GbQuestionListItem.vue';\r\nexport default {\r\n  name: 'GbQuestionSelect',\r\n  props: ['versions', 'selected', 'qn'],\r\n  components: {\r\n    MenuButton,\r\n    GbQuestionListItem\r\n  },\r\n  computed: {\r\n    navOptions () {\r\n      var out = [];\r\n      for (let i = 0; i < this.versions.length; i++) {\r\n        const thisoption = {\r\n          ver: i,\r\n          ptsposs: this.versions[i].points_possible,\r\n          onclick: () => this.$emit('setversion', this.qn, i)\r\n        };\r\n        if (this.versions[i].hasOwnProperty('score')) {\r\n          thisoption.score = this.versions[i].score;\r\n          thisoption.scored = (this.versions[i].hasOwnProperty('scored') === true);\r\n        }\r\n        out.push(thisoption);\r\n      }\r\n      return out;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <span>\r\n    {{ attemptNum }}.\r\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\r\n      {{$t('gradebook.score')}}: <strong>{{ score }}</strong>\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'GbQuestionListItem',\r\n  props: ['option', 'total'],\r\n  computed: {\r\n    attemptNum () {\r\n      return this.$tc('gradebook.version_n', this.option.ver + 1) +\r\n        (this.option.scored ? '*' : '') + '/' + this.total;\r\n    },\r\n    score () {\r\n      return this.option.score + '/' + this.option.ptsposs;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbQuestionListItem.vue?vue&type=template&id=50eed8ce\"\nimport script from \"./GbQuestionListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestionListItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbQuestionSelect.vue?vue&type=template&id=5d53b992\"\nimport script from \"./GbQuestionSelect.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestionSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"scoredetails\">\r\n    <menu-button\r\n      v-if=\"canedit\"\r\n      class = \"floatright\"\r\n      :options = \"moreOptions\"\r\n      position = \"right\"\r\n      nobutton = \"true\"\r\n      noarrow = \"true\"\r\n      :id = \"'qmore' + qn\"\r\n    >\r\n      <template v-slot:button>\r\n        <icons name=\"more\" size=\"medium\"/>\r\n      </template>\r\n    </menu-button>\r\n    <div v-if=\"canedit || (qdata.hasOwnProperty('score') && qdata.score !== 'N/A')\">\r\n      {{ $t('gradebook.score') }}:\r\n      <span\r\n        v-for=\"(poss,i) in partPoss\"\r\n        :key=\"i\"\r\n      >\r\n        <input\r\n          v-if=\"canedit && !isPractice\"\r\n          type=\"text\"\r\n          size=\"4\"\r\n          :id=\"'scorebox' + qn + (partPoss.length > 1 ? '-' + i : '')\"\r\n          pattern=\"N\\/A|\\d*\\.?\\d*\"\r\n          v-model=\"curScores[i]\"\r\n          @input=\"updateScore(i, $event)\"\r\n          @keyup.enter=\"$emit('submitform')\"\r\n        /><span v-else>{{ curScores[i] }}</span>/{{ poss }}\r\n        <button\r\n          v-if=\"canedit && !isPractice && qdata.rubric > 0\"\r\n          class=\"plain nopad\"\r\n          @click=\"showRubric(i)\"\r\n        >\r\n          <icons name=\"clipboard\" alt=\"icons.rubric\" size=\"small\" />\r\n        </button>\r\n        <button\r\n          v-if=\"canedit && !isPractice && qdata.rubric > 0\"\r\n          style=\"display:none\"\r\n          class=\"plain nopad rubriclink\"\r\n          @click=\"showRubric(i)\"\r\n          :id=\"'rublink-scorebox' + qn + (partPoss.length > 1 ? '-' + i : '')\"\r\n        >\r\n          <icons name=\"clipboard\" alt=\"icons.rubric\" size=\"small\" />\r\n        </button>\r\n      </span>\r\n      <button\r\n        v-if=\"canedit && !isPractice\"\r\n        type=\"button\"\r\n        @click=\"allFull\"\r\n        class=\"slim\"\r\n      >\r\n        {{ fullCreditLabel }}\r\n      </button>\r\n      <button\r\n        v-if=\"canedit && hasManual && !isPractice\"\r\n        type=\"button\"\r\n        @click=\"manualFull\"\r\n        class=\"slim\"\r\n      >\r\n        {{ $t('gradebook.full_manual_parts') }}\r\n      </button>\r\n      <button\r\n        v-if=\"canedit && !isPractice && showfeedback === false\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"revealFeedback\"\r\n      >\r\n        {{ $t('gradebook.add_feedback') }}\r\n      </button>\r\n    </div>\r\n    <gb-feedback\r\n      :show=\"showfeedback\"\r\n      :canedit = \"canedit\"\r\n      :useeditor = \"useEditor\"\r\n      ref = \"fbbox\"\r\n      :qn = \"qn\"\r\n      :value = \"qdata.feedback\"\r\n      @update = \"updateFeedback\"\r\n    />\r\n\r\n    <div v-if=\"showfull\">\r\n      <span v-if=\"qdata.timeactive.total > 0\">\r\n        {{ $t('gradebook.time_on_version') }}:\r\n        {{ timeSpent }}.\r\n      </span>\r\n      <span v-if=\"qdata.lastchange\">\r\n        {{ $t('gradebook.lastchange') }}\r\n        {{ qdata.lastchange }}.\r\n      </span>\r\n      <button\r\n        v-if=\"maxTry > 1\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showAllTries = !showAllTries\"\r\n      >\r\n        {{ $t('gradebook.show_tries') }}\r\n      </button>\r\n      <button\r\n        v-if=\"hasPenalties\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showPenalties = !showPenalties\"\r\n      >\r\n        {{ $t('gradebook.show_penalties') }}\r\n      </button>\r\n      <button\r\n        v-if=\"hasAutoSaves\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showAutosaves = !showAutosaves\"\r\n      >\r\n        {{ $t('gradebook.show_autosaves') }}\r\n      </button>\r\n    </div>\r\n    <gb-all-tries\r\n      v-if=\"showAllTries\"\r\n      :tries=\"qdata.other_tries\"\r\n      type=\"tries\"\r\n      :qn=\"qn\"\r\n    />\r\n    <gb-penalties\r\n      v-if=\"showPenalties\"\r\n      :parts=\"qdata.parts\"\r\n      :submitby=\"submitby\"\r\n    />\r\n    <gb-all-tries\r\n      v-if=\"showAutosaves\"\r\n      :tries=\"qdata.autosaves\"\r\n      type=\"autosave\"\r\n      :submitby=\"submitby\"\r\n      :qn=\"qn\"\r\n    />\r\n    <div v-if=\"showfull && qHelps.length > 0\">\r\n      {{ $t('gradebook.had_help') }}:\r\n      <a v-for=\"(help,idx) in qHelps\"\r\n        :key=\"idx\"\r\n        :href=\"help.url\"\r\n        target=\"_blank\"\r\n      >{{ help.title }}</a>\r\n    </div>\r\n    <div v-if=\"qdata.category\">\r\n      {{ $t('qdetails.category') }}:\r\n      {{ qdata.category }}\r\n    </div>\r\n    <div>\r\n      <a :href=\"messageHref\" target=\"help\" v-if=\"showMessage\">\r\n        <icons name=\"message\" />\r\n        {{ $t('helps.message_instructor') }}\r\n      </a>\r\n      <a :href=\"forumHref\" target=\"help\" v-if=\"postToForum > 0\">\r\n        <icons name=\"forum\" />\r\n        {{ $t('helps.post_to_forum') }}\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport GbAllTries from '@/gbviewassess/GbAllTries';\r\nimport GbPenalties from '@/gbviewassess/GbPenalties';\r\nimport Icons from '@/components/widgets/Icons';\r\nimport MenuButton from '@/components/widgets/MenuButton';\r\nimport GbFeedback from '@/gbviewassess/GbFeedback';\r\n\r\nexport default {\r\n  name: 'GbScoreDetails',\r\n  props: ['qdata', 'qn', 'canedit', 'showfull'],\r\n  components: {\r\n    GbAllTries,\r\n    GbPenalties,\r\n    MenuButton,\r\n    Icons,\r\n    GbFeedback\r\n  },\r\n  data: function () {\r\n    return {\r\n      curScores: [],\r\n      showfeedback: false,\r\n      showAllTries: false,\r\n      showPenalties: false,\r\n      showAutosaves: false\r\n    };\r\n  },\r\n  computed: {\r\n    answeights () {\r\n      if (!this.qdata.answeights || this.qdata.singlescore) { // if answeights not generated yet\r\n        return [1];\r\n      } else {\r\n        const answeights = [];\r\n        for (const x in this.qdata.answeights) {\r\n          answeights[x] = parseFloat(this.qdata.answeights[x]);\r\n        }\r\n        const answeightTot = answeights.reduce((a, c) => a + c);\r\n        return answeights.map(x => x / answeightTot);\r\n      }\r\n    },\r\n    partPoss () {\r\n      var out = [];\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        out[i] = Math.round(1000 * this.qdata.points_possible * this.answeights[i]) / 1000;\r\n      }\r\n      return out;\r\n    },\r\n    fullCreditLabel () {\r\n      if (this.answeights.length > 1) {\r\n        return this.$t('gradebook.full_credit_parts');\r\n      } else {\r\n        return this.$t('gradebook.full_credit');\r\n      }\r\n    },\r\n    timeSpent () {\r\n      const out = Math.round(10 * this.qdata.timeactive.total / 60) / 10 + ' ' + this.$t('gradebook.minutes');\r\n      // TODO: Add per-try average?\r\n      return out;\r\n    },\r\n    useEditor () {\r\n      return (typeof window.tinyMCE !== 'undefined');\r\n    },\r\n    isPractice () {\r\n      return store.ispractice;\r\n    },\r\n    isLastVersion () {\r\n      let avercnt = store.assessInfo.assess_versions.length - 1;\r\n      if (store.assessInfo.has_practice) {\r\n        avercnt--;\r\n      }\r\n      return (store.curAver === avercnt);\r\n    },\r\n    maxTry () {\r\n      let maxtry = 0;\r\n      for (let i = 0; i < this.qdata.parts.length; i++) {\r\n        if (this.qdata.parts[i] && this.qdata.parts[i].try) {\r\n          if (this.qdata.parts[i].try > maxtry) {\r\n            maxtry = this.qdata.parts[i].try;\r\n          }\r\n        }\r\n      }\r\n      return maxtry;\r\n    },\r\n    questionEditUrl () {\r\n      let qs = 'id=' + this.qdata.qsetid + '&cid=' + store.cid;\r\n      qs += '&aid=' + store.aid + '&qid=' + this.qdata.qid;\r\n      return store.APIbase + '../course/moddataset.php?' + qs;\r\n    },\r\n    questionErrorUrl () {\r\n      if (store.assessInfo.qerror_cid) {\r\n        const quoteq = '0-' + this.qdata.qsetid + '-' + this.qdata.seed +\r\n          '-reperr-' + store.assessInfo.ver;\r\n        const qs = 'add=new&cid=' + store.assessInfo.qerror_cid +\r\n          '&quoteq=' + quoteq + '&to=' + this.qdata.qowner +\r\n          '&title=Problem%20with%20question%20id%20' +\r\n          this.qdata.qsetid;\r\n        return store.APIbase + '../msgs/msglist.php?' + qs;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    useInMsg () {\r\n      // TODO\r\n      const quoteq = this.qn + '-' + this.qdata.qsetid + '-' + this.qdata.seed +\r\n        '-' + store.aid + '-' + store.assessInfo.ver;\r\n      const qs = 'add=new&cid=' + store.cid +\r\n        '&quoteq=' + quoteq + '&to=' + store.uid;\r\n      return store.APIbase + '../msgs/msglist.php?' + qs;\r\n      // TODO: get GB to work for this.\r\n      // window.GB_show(this.$t('gradebook.send_msg'),\r\n      //  store.APIbase + '../msgs/msglist.php?'+qs, 800, 'auto');\r\n    },\r\n    moreOptions () {\r\n      const out = [\r\n        {\r\n          label: this.$t('gradebook.use_in_msg'),\r\n          link: this.useInMsg\r\n        },\r\n        {\r\n          label: this.$t('gradebook.view_edit') + ' ID ' + this.qdata.qsetid + ' Seed ' + this.qdata.seed,\r\n          link: this.questionEditUrl\r\n        },\r\n        {\r\n          label: (store.assessInfo.hasOwnProperty('qerrortitle')\r\n            ? store.assessInfo.qerrortitle\r\n            : this.$t('gradebook.msg_owner')),\r\n          link: this.questionErrorUrl\r\n        }\r\n      ];\r\n      if (!this.isPractice && this.isLastVersion) {\r\n        out.push({\r\n          label: this.$t('gradebook.clear_qwork'),\r\n          onclick: () => this.clearWork()\r\n        });\r\n      }\r\n      return out;\r\n    },\r\n    hasPenalties () {\r\n      for (let pn = 0; pn < this.qdata.parts.length; pn++) {\r\n        if (this.qdata.parts[pn].hasOwnProperty('penalties') &&\r\n          this.qdata.parts[pn].penalties.length > 0\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    hasManual () {\r\n      if (this.qdata.parts.length === 1) {\r\n        return false;\r\n      }\r\n      for (let pn = 0; pn < this.qdata.parts.length; pn++) {\r\n        if (this.qdata.parts[pn].hasOwnProperty('req_manual') &&\r\n          this.qdata.parts[pn].req_manual === true\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    hasAutoSaves () {\r\n      return this.qdata.hasOwnProperty('autosaves');\r\n    },\r\n    submitby () {\r\n      return store.assessInfo.submitby;\r\n    },\r\n    qHelps () {\r\n      if (this.qdata.jsparams) {\r\n        const helps = this.qdata.jsparams.helps;\r\n        for (const i in helps) {\r\n          if (helps[i].label === 'video') {\r\n            helps[i].icon = 'video';\r\n            helps[i].title = this.$t('helps.video');\r\n          } else if (helps[i].label === 'read') {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = this.$t('helps.read');\r\n          } else if (helps[i].label === 'ex') {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = this.$t('helps.written_example');\r\n          } else {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = helps[i].label;\r\n          }\r\n        }\r\n        return helps;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    showMessage () {\r\n      return (store.assessInfo.hasOwnProperty('help_features') &&\r\n        store.assessInfo.help_features.message === true &&\r\n        !store.assessInfo.can_edit_scores\r\n      );\r\n    },\r\n    postToForum () {\r\n      return (store.assessInfo.hasOwnProperty('help_features') &&\r\n        store.assessInfo.help_features.forum\r\n      );\r\n    },\r\n    quoteQ () {\r\n      const qsid = this.qdata.questionsetid;\r\n      const seed = this.qdata.seed;\r\n      const ver = 2; // TODO: send from backend\r\n      return this.qn + '-' + qsid + '-' + seed + '-' + store.aid + '-' + ver;\r\n    },\r\n    messageHref () {\r\n      let href = window.imasroot + '/msgs/msglist.php?';\r\n      href += window.$.param({\r\n        cid: store.cid,\r\n        add: 'new',\r\n        quoteq: this.quoteQ,\r\n        to: 'instr'\r\n      });\r\n      return href;\r\n    },\r\n    forumHref () {\r\n      let href = window.imasroot + '/forums/thread.php?';\r\n      href += window.$.param({\r\n        cid: store.cid,\r\n        forum: store.assessInfo.help_features.forum,\r\n        modify: 'new',\r\n        quoteq: this.quoteQ\r\n      });\r\n      return href;\r\n    }\r\n  },\r\n  methods: {\r\n    updateScore (pn, evt) {\r\n      if (this.curScores[pn].trim() === '') {\r\n        actions.setScoreOverride(this.qn, pn, '');\r\n      } else {\r\n        const partposs = this.qdata.points_possible * this.answeights[pn];\r\n        actions.setScoreOverride(this.qn, pn, this.curScores[pn] / partposs);\r\n      }\r\n    },\r\n    revealFeedback () {\r\n      this.showfeedback = true;\r\n      this.$nextTick(() => this.$refs.fbbox.focus());\r\n    },\r\n    updateFeedback (val) {\r\n      actions.setFeedback(this.qn, val);\r\n    },\r\n    allFull () {\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        this.curScores[i] = this.partPoss[i];\r\n        actions.setScoreOverride(this.qn, i, this.curScores[i] / this.partPoss[i]);\r\n      }\r\n    },\r\n    manualFull () {\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        if (this.qdata.parts[i] && this.qdata.parts[i].hasOwnProperty('req_manual') &&\r\n          this.qdata.parts[i].req_manual === true\r\n        ) {\r\n          this.curScores[i] = this.partPoss[i];\r\n          actions.setScoreOverride(this.qn, i, this.curScores[i] / this.partPoss[i]);\r\n        }\r\n      }\r\n    },\r\n    clearWork () {\r\n      store.clearAttempts.type = 'qver';\r\n      store.clearAttempts.qn = this.qn;\r\n      store.clearAttempts.show = true;\r\n    },\r\n    initCurScores () {\r\n      var out = [];\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        if (this.qdata.singlescore) {\r\n          out.push(this.qdata.score);\r\n        } else if (this.qdata.scoreoverride && typeof this.qdata.scoreoverride !== 'object') {\r\n          // handle the case of a single override\r\n          let partscore = this.qdata.scoreoverride * this.answeights[i] * this.qdata.points_possible;\r\n          partscore = Math.round(1000 * partscore) / 1000;\r\n          out.push(partscore);\r\n        } else if (this.qdata.scoreoverride && this.qdata.scoreoverride.hasOwnProperty(i)) {\r\n          if (this.qdata.parts[i] && this.qdata.parts[i].points_possible) {\r\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.qdata.parts[i].points_possible) / 1000);\r\n          } else {\r\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.answeights[i] * this.qdata.points_possible) / 1000);\r\n          }\r\n        } else if (this.maxTry === 0 || !this.qdata.parts[i].hasOwnProperty('score')) { // not attempted or not showing\r\n          out.push('N/A');\r\n        } else {\r\n          out.push(this.qdata.parts[i].score);\r\n        }\r\n      }\r\n      this.curScores = out;\r\n      this.showfeedback = (this.qdata.feedback !== null && this.qdata.feedback.length > 0);\r\n    },\r\n    showRubric (pn) {\r\n      if (!window.imasrubrics) {\r\n        window.imasrubrics = store.assessInfo.rubrics;\r\n      }\r\n      this.showfeedback = true;\r\n      window.imasrubric_show(\r\n        this.qdata.rubric,\r\n        this.partPoss[pn],\r\n        'scorebox' + this.qn + (this.partPoss.length > 1 ? '-' + pn : ''),\r\n        'fb' + this.qn,\r\n        (this.qn + 1) + (this.partPoss.length > 1 ? ' part ' + (pn + 1) : ''),\r\n        600\r\n      );\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initCurScores();\r\n  },\r\n  watch: {\r\n    qdata: {\r\n      handler: function (newVal, oldVal) {\r\n        this.initCurScores();\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.scoredetails {\r\n  border-top: 1px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>\r\n","<template>\r\n  <div ref=\"trywrap\">\r\n    <p>\r\n      <strong v-if=\"type === 'tries'\">\r\n        {{ $t('gradebook.all_tries') }}\r\n      </strong>\r\n      <strong v-else-if=\"type === 'autosave'\">\r\n        {{ $t('gradebook.autosaves') }}\r\n      </strong>\r\n    </p>\r\n    <p v-if=\"type === 'autosave'\" class=\"subdued\">\r\n      {{ $t('gradebook.autosave_info') }}\r\n      <span v-if=\"submitby == 'by_assessment'\">\r\n        {{ $t('gradebook.autosave_byassess') }}\r\n      </span>\r\n      <span v-else>\r\n      </span>\r\n    </p>\r\n    <div\r\n      v-for=\"(part,index) in processedTries\"\r\n      :key = \"index\"\r\n      class=\"med-below med-left\"\r\n    >\r\n      <div v-if=\"processedTries.length > 1\">\r\n        <strong>{{ $t('gradebook.part_n', {n: index+1}) }}</strong>\r\n      </div>\r\n      <div v-for=\"(trystr, tryn) in part\" :key=\"tryn\">\r\n        <span v-if=\"type =='tries'\">\r\n          {{ $t('gradebook.try_n', {n: tryn+1}) }}:\r\n        </span>\r\n        <span v-html=\"trystr\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbAllTries',\r\n  props: ['tries', 'qn', 'type', 'submitby'],\r\n  data: function () {\r\n    return {\r\n      rendered: false,\r\n      drawToRender: []\r\n    };\r\n  },\r\n  computed: {\r\n    processedTries () {\r\n      const out = [];\r\n      let pn, tn;\r\n      for (pn in this.tries) {\r\n        const partout = [];\r\n        for (tn in this.tries[pn]) {\r\n          if (typeof this.tries[pn][tn] === 'object' && this.tries[pn][tn][0] === 'draw') {\r\n            // drawing\r\n            const id = this.qn + '-' + pn + '-' + tn;\r\n            const drawwidth = this.tries[pn][tn][2][6];\r\n            const drawheight = this.tries[pn][tn][2][7];\r\n            partout[tn] = '<canvas id=\"canvasGBR' + id + '\" width=' + drawwidth + ' height=' + drawheight + '></canvas>';\r\n            partout[tn] += '<input type=\"hidden\" id=\"qnGBR' + id + '\"/>';\r\n          } else {\r\n            partout[tn] = this.tries[pn][tn];\r\n          }\r\n        }\r\n        out[pn] = partout;\r\n      }\r\n      return out;\r\n    }\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered) {\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.trywrap);\r\n\r\n      // initialize any drawing canvases\r\n      let pn, tn;\r\n      for (pn in this.tries) {\r\n        for (tn in this.tries[pn]) {\r\n          if (typeof this.tries[pn][tn] === 'object' && this.tries[pn][tn][0] === 'draw') {\r\n            // drawing\r\n            let la = this.tries[pn][tn][1].replace(/\\(/g, '[').replace(/\\)/g, ']').split(';;');\r\n            if (la[0] !== '') {\r\n              la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\r\n            }\r\n            la = '[[' + la.join('],[') + ']]';\r\n            const id = this.qn + '-' + pn + '-' + tn;\r\n            const ref = this.tries[pn][tn][2] || [];\r\n\r\n            window.canvases['GBR' + id] = ref.slice();\r\n            window.canvases['GBR' + id].unshift('GBR' + id);\r\n            window.drawla['GBR' + id] = JSON.parse(la);\r\n            window.imathasDraw.initCanvases('GBR' + id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    tries: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbAllTries.vue?vue&type=template&id=7d0aaa9c\"\nimport script from \"./GbAllTries.vue?vue&type=script&lang=js\"\nexport * from \"./GbAllTries.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <table class=\"qdetails\">\r\n    <caption class=\"sr-only\">Penalties Applied</caption>\r\n    <thead>\r\n      <tr>\r\n        <th>{{ $t('qdetails.part') }}</th>\r\n        <th>{{ $t('penalties.applied') }}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr\r\n        v-for=\"(part,index) in parts\"\r\n        :key = \"index\"\r\n      >\r\n        <td>{{ index + 1 }}</td>\r\n        <td>\r\n          <penalties-applied\r\n            v-if=\"partHasPenalties.indexOf(index) != -1\"\r\n            class = \"med-left\"\r\n            :part=\"part\"\r\n            :submitby=\"submitby\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport PenaltiesApplied from '@/components/PenaltiesApplied.vue';\r\n\r\nexport default {\r\n  name: 'GbPenalties',\r\n  props: ['parts', 'submitby'],\r\n  components: {\r\n    PenaltiesApplied\r\n  },\r\n  computed: {\r\n    partHasPenalties () {\r\n      const out = [];\r\n      for (let pn = 0; pn < this.parts.length; pn++) {\r\n        if (this.parts[pn].hasOwnProperty('penalties') &&\r\n          this.parts[pn].penalties.length > 0\r\n        ) {\r\n          out.push(pn);\r\n        }\r\n      }\r\n      return out;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbPenalties.vue?vue&type=template&id=69607263\"\nimport script from \"./GbPenalties.vue?vue&type=script&lang=js\"\nexport * from \"./GbPenalties.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-show=\"show\">\r\n    {{ !username ?\r\n      $t('gradebook.feedback') :\r\n      $t('gradebook.feedback_for', {name: username})\r\n    }}:<br/>\r\n    <textarea\r\n      v-if=\"canedit && !useeditor\"\r\n      class=\"fbbox\"\r\n      :id=\"'fb' + qn\"\r\n      ref = \"fbbox\"\r\n      rows=\"2\"\r\n      cols=\"60\"\r\n      :value = \"value\"\r\n      @input=\"updateFeedback\"\r\n    ></textarea>\r\n    <tinymce-input\r\n      v-else-if=\"canedit\"\r\n      ref = \"fbbox\"\r\n      :id=\"'fb' + qn\"\r\n      :value = \"value\"\r\n      @input = \"updateFeedback\"\r\n    ></tinymce-input>\r\n    <div\r\n      v-else\r\n      class=\"fbbox\"\r\n      ref = \"fbbox\"\r\n      v-html=\"value\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TinymceInput from '@/components/TinymceInput.vue';\r\n\r\nexport default {\r\n  name: 'GbFeedback',\r\n  props: ['show', 'canedit', 'useeditor', 'value', 'qn', 'username'],\r\n  components: {\r\n    TinymceInput\r\n  },\r\n  data: function () {\r\n    return {\r\n      rendered: false\r\n    };\r\n  },\r\n  methods: {\r\n    updateFeedback (evt) {\r\n      let content;\r\n      if (this.useeditor) {\r\n        content = evt;\r\n      } else {\r\n        content = evt.target.value;\r\n      }\r\n      this.$emit('update', content);\r\n    },\r\n    renderInit () {\r\n      if (this.rendered || this.canedit) {\r\n        // only need to render for student viewers\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.fbbox);\r\n    },\r\n    focus () {\r\n      this.$refs.fbbox.focus();\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    value: function (newVal, oldVal) {\r\n      this.rendered = false;\r\n      this.$nextTick(this.renderInit);\r\n    },\r\n    show: function (newVal, oldVal) {\r\n      this.$nextTick(this.$nextTick(window.sendLTIresizemsg));\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    :id=\"computedId\"\r\n    ref=\"inbox\"\r\n    class=\"fbbox skipmathrender\"\r\n    :rows=\"rows\"\r\n  ></div>\r\n</template>\r\n\r\n<script>\r\n\r\n// based on Project: https://github.com/m3esma/vue-easy-tinymce\r\n// Copyright (c) 2018-present Mehdi Esmaeili (@m3esma)\r\n// Released under the MIT License.\r\n\r\nexport default {\r\n  name: 'TinymceInput',\r\n  props: {\r\n    id: { default: null },\r\n    value: { default: '' },\r\n    rows: { default: 2 }\r\n  },\r\n  data: function () {\r\n    return {\r\n      objTinymce: null\r\n    };\r\n  },\r\n  computed: {\r\n    computedId: function () {\r\n      if (this.id === 'editor' || this.id === '' || this.id === null) {\r\n        return 'editor-' + this.guidGenerator(); // put default value on computedId\r\n      } else {\r\n        return this.id;\r\n      }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.$refs.inbox.innerHTML = this.value;\r\n    this.initEditor();\r\n  },\r\n  updated: function () {\r\n    this.initEditor();\r\n  },\r\n  methods: {\r\n    guidGenerator: function () {\r\n      function s4 () {\r\n        return Math.random().toString(36).substr(2, 9);\r\n      }\r\n      return 'ed-' + s4() + '-' + s4();\r\n    },\r\n    initEditor () {\r\n      var component = this;\r\n      window.initeditor('exact', this.computedId, null, true, function (ed) {\r\n        ed.on('input change keyup undo redo', function (e) {\r\n          component.updateValue(ed.getContent());\r\n        }).on('blur', function (e) {\r\n          component.$emit('blur', true);\r\n        }).on('focus', function (e) {\r\n          component.$emit('focus', true);\r\n        });\r\n        component.objTinymce = ed;\r\n      });\r\n    },\r\n    updateValue: function (value) {\r\n      this.$emit('input', value);\r\n    },\r\n    focus: function () {\r\n      this.objTinymce.focus();\r\n    }\r\n  },\r\n  watch: {\r\n    value: function (newValue, oldValue) {\r\n      if (typeof newValue !== 'string') {\r\n        // handle null and undefined\r\n        newValue = '';\r\n      }\r\n      // if v-model content change programmability\r\n      if (newValue !== this.objTinymce.getContent()) {\r\n        this.objTinymce.setContent(newValue);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./TinymceInput.vue?vue&type=template&id=13878338\"\nimport script from \"./TinymceInput.vue?vue&type=script&lang=js\"\nexport * from \"./TinymceInput.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbFeedback.vue?vue&type=template&id=14318317\"\nimport script from \"./GbFeedback.vue?vue&type=script&lang=js\"\nexport * from \"./GbFeedback.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbScoreDetails.vue?vue&type=template&id=0e234194\"\nimport script from \"./GbScoreDetails.vue?vue&type=script&lang=js\"\nexport * from \"./GbScoreDetails.vue?vue&type=script&lang=js\"\n\nimport \"./GbScoreDetails.vue?vue&type=style&index=0&id=0e234194&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    v-if=\"showModal\"\r\n    class=\"dialog-overlay\"\r\n    ref = \"wrap\"\r\n  >\r\n    <div\r\n      class=\"dialog pane-body\"\r\n      role=\"alertdialog\"\r\n      aria-modal=\"true\"\r\n      :aria-label=\"$t('gradebook.clear_hdr')\"\r\n      aria-describedby=\"clearoptions\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <div v-if=\"showType === 'all'\" class=\"clearoptions\">\r\n        <p>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_completely_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isByQuestion\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_all_work_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <div v-else-if=\"showType === 'attempt'\" class=\"clearoptions\">\r\n        <p>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_attempt_regen_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isLastAttempt\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_attempt_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <div v-else-if=\"showType === 'qver'\" class=\"clearoptions\">\r\n        <p v-if=\"isByQuestion\">\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_regen_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-else>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_regen_msg2') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isLastQAttempt\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <p class=\"noticetext\">\r\n        {{ $t('gradebook.clear_warning') }}\r\n      </p>\r\n      <div class=\"flexrow\" style=\"justify-content: space-between;\">\r\n        <button class=\"primary\" @click=\"close\">\r\n          Cancel\r\n        </button>\r\n        <button class=\"secondary\" @click=\"doAction\">\r\n          Continue\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport A11yDialog from '../components/a11y-dialog';\r\n\r\nexport default {\r\n  name: 'GbClearAttempts',\r\n  data: function () {\r\n    return {\r\n      type: 0,\r\n      dialog: null\r\n    };\r\n  },\r\n  computed: {\r\n    showModal () {\r\n      return store.clearAttempts.show;\r\n    },\r\n    showType () {\r\n      return store.clearAttempts.type;\r\n    },\r\n    isByQuestion () {\r\n      return (store.assessInfo.submitby === 'by_question');\r\n    },\r\n    isLastAttempt () {\r\n      let avercnt = store.assessInfo.assess_versions.length - 1;\r\n      if (store.assessInfo.has_practice) {\r\n        avercnt--;\r\n      }\r\n      return (store.curAver === avercnt);\r\n    },\r\n    isLastQAttempt () {\r\n      const qvercnt = store.assessInfo.assess_versions[store.curAver].questions[store.clearAttempts.qn].length - 1;\r\n      return (store.curQver[store.clearAttempts.qn] === qvercnt);\r\n    }\r\n  },\r\n  methods: {\r\n    close () {\r\n      store.clearAttempts.show = false;\r\n      window.$(document).off('keyup.dialog');\r\n      this.dialog.destroy();\r\n    },\r\n    doAction () {\r\n      actions.clearAttempt(this.type);\r\n    }\r\n  },\r\n  updated () {\r\n    if (store.clearAttempts.show) {\r\n      window.$(document).on('keyup.dialog', (event) => {\r\n        if (event.key === 'Escape') {\r\n          this.close();\r\n        }\r\n      });\r\n      this.dialog = new A11yDialog(this.$refs.wrap);\r\n      this.dialog.show();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./GbClearAttempts.vue?vue&type=template&id=607a8dd7\"\nimport script from \"./GbClearAttempts.vue?vue&type=script&lang=js\"\nexport * from \"./GbClearAttempts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GBViewAssess.vue?vue&type=template&id=ce3a0576\"\nimport script from \"./GBViewAssess.vue?vue&type=script&lang=js\"\nexport * from \"./GBViewAssess.vue?vue&type=script&lang=js\"\n\nimport \"./GBViewAssess.vue?vue&type=style&index=0&id=ce3a0576&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport router from '../router';\r\nimport GBViewAssess from './GBViewAssess.vue';\r\nimport { i18n } from '../i18n';\r\n\r\n// Vue.config.productionTip = false;\r\n\r\n// Vue.use(VueResource)\r\n\r\ncreateApp(GBViewAssess)\r\n  .use(i18n)\r\n  .use(router)\r\n  .mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + {\"924\":\"special\",\"987\":\"lang-de-json\"}[chunkId] + \".legacy.js?v=\" + {\"924\":\"0a7307239246104c\",\"987\":\"d5cc97651a98ff36\"}[chunkId] + \"\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + \"special\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"imathas-assess2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"vue/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t836: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"924\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t836: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimathas_assess2\"] = self[\"webpackChunkimathas_assess2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], function() { return __webpack_require__(2603); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","role","class","_createElementVNode","for","style","_createElementBlock","_hoisted_1","$options","assessInfoLoaded","_hoisted_3","_toDisplayString","_ctx","$t","_hoisted_4","aData","userfullname","name","startedString","_hoisted_5","lastchangeString","timeontask","_hoisted_6","_hoisted_7","$tc","attemptCount","totalTimeOnTask","hasOwnProperty","_hoisted_8","_hoisted_9","timelimit_ext","Math","abs","enddate_disp","canEdit","can_make_exception","type","onClick","_cache","makeException","apply","arguments","exceptionActionLabel","_hoisted_10","_hoisted_11","original_enddate_disp","extensionString","_hoisted_12","_hoisted_13","n","attemptext","latepass_status","_hoisted_14","latepassBlockMsg","clearLPblock","_hoisted_15","size","value","scoreoverride","onInput","setScoreOverride","onKeyup","_withKeys","submitForm","points_possible","_hoisted_17","gbscore","_hoisted_19","_hoisted_18","scoresingb","_hoisted_20","_hoisted_21","$event","showOverride","_hoisted_22","_hoisted_23","assessOverride","clearAttempts","showExcused","_hoisted_24","_Fragment","_renderList","excused","key","_hoisted_25","showViewAsStu","href","viewAsStuUrl","_hoisted_26","_hoisted_27","_hoisted_28","activityLogUrl","target","_hoisted_29","assess_versions","length","_hoisted_30","_hoisted_31","scoreCalc","viewFull","submitby","_createBlock","_component_gb_assess_select","versions","haspractice","has_practice","selected","curAver","onSetversion","changeAssessVersion","isByQuestion","status","isUnsubmitted","_hoisted_32","submitVersion","can_use_latepass","redeemLatePass","curEndmsg","_hoisted_33","showEndmsg","innerHTML","_hoisted_35","showFilters","onChange","storeFilters","_hoisted_36","hideUnanswered","hideZero","hideNonzero","hidePerfect","hide100","hideFeedback","hideNowork","hidetexts","loadTexts","_hoisted_37","op_showans","showAllAns","showAllWork","op_previewFiles","previewFiles","op_floatingSB","toggleFloatingScoreboxes","sidebysideon","sidebysideAction","_hoisted_38","_hoisted_39","_hoisted_40","intro","_component_inter_question_text","active","textobj","html","curQuestions","qdata","qn","_component_inter_question_text_list","pos","lastq","lastQ","textlist","textList","_hoisted_42","_hoisted_43","curQver","extracredit","_hoisted_44","_component_gb_question_select","changeQuestionVersion","_hoisted_45","_normalizeClass","_hoisted_46","_createVNode","_component_gb_question","showQuestion","disabled","onQloaded","questionLoaded","_component_gb_showwork","work","worktime","showall","previewfiles","_hoisted_47","_hoisted_48","_component_gb_score_details","showfull","canedit","onSubmitform","_component_gb_feedback","username","show","assessFeedback","useeditor","useEditor","onUpdate","updateFeedback","canSubmit","submitChanges","_hoisted_49","nextstu","_hoisted_50","savedMsg","_hoisted_51","exit","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","showCategories","_component_summary_categories","data","curQuestionVers","_component_gb_clear_attempts","_hoisted_56","_hoisted_2","hasError","_component_error_dialog","errormsg","errorMsg","onClearerror","clearError","confirmObj","_component_confirm_dialog","onClose","closeConfirm","store","reactive","assessInfo","APIbase","aid","cid","uid","stu","queryString","exitUrl","inTransit","saving","ispractice","orig_submitby","scoreOverrides","feedbacks","actions","loadGbAssessData","callback","keepversion","_this","window","setTimeout","gbAssessData","$","ajax","url","dataType","xhrFields","withCredentials","crossDomain","done","response","handleError","error","scored_version","setQverAsScored","nextTick","initAnswerboxHighlights","location","hash","el","document","getElementById","substring","replace","scrollIntoView","fail","xhr","textStatus","errorThrown","always","loadGbAssessVersion","ver","practice","_this2","qs","interquestion_text","loadGbTexts","_this3","i","questions","text","slice","mapInterquestionTexts","loadGbQuestionVersion","forceload","beforeSet","_this4","Object","assign","saveChanges","_this5","nextstuurl","search","match","keys","exiturl","FormData","append","JSON","stringify","processData","contentType","pts","split","gen","newscores","score","parts","feedback","an","assess_info","scoredvers","qvers","qv","scored","this","clearAttempt","keepver","_this6","aver","qver","regex","RegExp","newver","splice","assessinfo","qinfo","endAssess","_this7","qloop","pn","av","scoreChanged","singlescore","try","round","setFeedback","isNew","$props","ref","props","rendered","methods","renderInit","$refs","thisqwrap","find","each","drawPics","rendermathnode","initSageCell","initlinkmarkup","imathasAssess","init","jsparams","$emit","mounted","watch","newVal","oldVal","$nextTick","__exports__","btnLabel","_Transition","computed","workbox","on","rotateimg","togglepreviewallfiles","wrap","_component_menu_button","options","navOptions","noarrow","searchby","_ref","option","_component_gb_assess_list_item","attemptNum","verStatus","out","lastchange_disp","components","MenuButton","GbAssessListItem","_loop","thisoption","onclick","push","_component_gb_question_list_item","total","ptsposs","GbQuestionListItem","moreOptions","position","nobutton","button","_withCtx","_component_icons","partPoss","poss","isPractice","pattern","curScores","updateScore","rubric","showRubric","alt","allFull","fullCreditLabel","hasManual","manualFull","showfeedback","revealFeedback","timeactive","timeSpent","lastchange","maxTry","showAllTries","hasPenalties","showPenalties","hasAutoSaves","showAutosaves","_component_gb_all_tries","tries","other_tries","_component_gb_penalties","autosaves","qHelps","help","idx","title","category","showMessage","messageHref","postToForum","forumHref","processedTries","part","index","trystr","tryn","drawToRender","tn","partout","_typeof","drawwidth","drawheight","trywrap","la","join","canvases","unshift","drawla","parse","imathasDraw","initCanvases","partHasPenalties","indexOf","_component_penalties_applied","PenaltiesApplied","penalties","rows","cols","_component_tinymce_input","computedId","default","objTinymce","guidGenerator","inbox","initEditor","updated","s4","random","toString","substr","component","initeditor","ed","e","updateValue","getContent","focus","newValue","oldValue","setContent","TinymceInput","evt","content","fbbox","sendLTIresizemsg","GbAllTries","GbPenalties","Icons","GbFeedback","answeights","x","parseFloat","answeightTot","reduce","a","c","map","tinyMCE","isLastVersion","avercnt","maxtry","questionEditUrl","qsetid","qid","questionErrorUrl","qerror_cid","quoteq","seed","qowner","useInMsg","label","link","qerrortitle","clearWork","req_manual","helps","icon","help_features","message","can_edit_scores","forum","quoteQ","qsid","questionsetid","imasroot","param","add","to","modify","trim","partposs","val","initCurScores","partscore","imasrubrics","rubrics","imasrubric_show","handler","deep","showModal","tabindex","showType","isLastAttempt","isLastQAttempt","close","doAction","dialog","qvercnt","off","destroy","event","A11yDialog","GbQuestion","GbShowwork","GbAssessSelect","GbQuestionSelect","GbScoreDetails","GbClearAttempts","SummaryCategories","ErrorDialog","ConfirmDialog","InterQuestionTextList","InterQuestionText","viewfull","starttime","starttime_disp","cnt","extended_with","endmsg","hascat","hasScores","isNaN","Number","keepscore","has_active_attempt","showit","rawscore","max","hasexception","m","body","action","doChangeAssessVersion","hasUnsaved","k","test","doexit","donextstu","beforeUnload","preventDefault","returnValue","toggleshowallans","toggleScrollingScoreboxState","sidebysidemoveels","tocheck","_i","_tocheck","v","cookie","base","created","process","querycid","queryaid","queryuid","querystu","filtercookie","readCookie","_step","cookieparts","_iterator","_createForOfIteratorHelper","s","err","f","render","createApp","GBViewAssess","use","i18n","router","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","then","ns","create","def","current","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","get","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","inProgress","dataWebpackPrefix","l","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","onLinkComplete","errorType","realHref","Error","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}