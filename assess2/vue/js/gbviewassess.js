(function(e){function t(t){for(var n,a,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);b&&b(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},r={gbviewassess:0},i=[];function a(e){return o.p+"js/"+({"lang-de-json":"lang-de-json"}[e]||e)+".js"}function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=r[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise((function(t,n){s=r[e]=[t,n]}));t.push(s[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=a(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var s=r[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,s[1](u)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="vue/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var b=u;i.push([1,"chunk-vendors","chunk-common"]),s()})({1:function(e,t,s){e.exports=s("c9fa")},"77a1":function(e,t,s){},"79d5":function(e,t,s){"use strict";s("f012")},c9fa:function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("7a23"),r=(s("b0c0"),{id:"app",role:"main"}),i={key:0},a={key:1,class:"gbmainview"},o={class:"pii-full-name"},c=Object(n["i"])("br",null,null,-1),u={key:0},l=Object(n["i"])("br",null,null,-1),b={key:1},d=Object(n["i"])("br",null,null,-1),h={key:1},p=Object(n["i"])("br",null,null,-1),f={key:2},O=Object(n["i"])("br",null,null,-1),j={key:0},v={key:0},g={key:1},w={key:0},m={key:1},y={key:0},k={key:1},q={key:0},_={for:"assessoverride"},D=Object(n["h"])(": "),A={key:1,class:"introtext"},x={key:2},$={key:1},I={key:3},P={key:4,class:"gbmainview"},T={key:0},S={key:0},M={key:1},C={key:0,class:"tabpanel"},Q={style:{"list-style-type":"none",margin:"0","padding-left":"15px"}},F={key:2},E={key:3},G={class:"bigquestionwrap"},V={class:"headerpane"},L={key:0,class:"small subdued"},U={key:2},N={class:"scrollpane"},H={key:1,class:"noticetext"},B={class:"floatrightbutton"},R={key:0,class:"noticetext"},z=Object(n["i"])("div",{style:{"margin-bottom":"100px"}},null,-1);function J(e,t,s,J,W,Z){var K=Object(n["A"])("gb-assess-select"),Y=Object(n["A"])("inter-question-text"),X=Object(n["A"])("inter-question-text-list"),ee=Object(n["A"])("gb-question-select"),te=Object(n["A"])("gb-question"),se=Object(n["A"])("gb-showwork"),ne=Object(n["A"])("gb-score-details"),re=Object(n["A"])("gb-feedback"),ie=Object(n["A"])("summary-categories"),ae=Object(n["A"])("gb-clear-attempts"),oe=Object(n["A"])("error-dialog"),ce=Object(n["A"])("confirm-dialog");return Object(n["u"])(),Object(n["f"])("div",r,[Z.assessInfoLoaded?(Object(n["u"])(),Object(n["f"])("div",a,[Object(n["i"])("h1",null,Object(n["D"])(e.$t("gradebook.detail_title")),1),Object(n["i"])("h2",null,[Object(n["i"])("span",o,Object(n["D"])(Z.aData.userfullname),1)]),Object(n["i"])("h3",null,Object(n["D"])(Z.aData.name),1),Object(n["i"])("div",null,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.started"))+": "+Object(n["D"])(Z.startedString),1),c,Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.lastchange"))+": "+Object(n["D"])(Z.lastchangeString)+" ",1),Z.aData.timeontask>0?(Object(n["u"])(),Object(n["f"])("span",u,[l,Object(n["h"])(" "+Object(n["D"])(e.$tc("gradebook.time_onscreen",Z.attemptCount))+": "+Object(n["D"])(Z.totalTimeOnTask),1)])):Object(n["g"])("",!0),Z.aData.hasOwnProperty("timelimit_ext")?(Object(n["u"])(),Object(n["f"])("span",b,[d,Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook."+(Z.aData.timelimit_ext>0?"has_timeext":"used_timeext"),{n:Math.abs(Z.aData.timelimit_ext)})),1)])):Object(n["g"])("",!0)]),Object(n["i"])("div",null,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.due"))+": "+Object(n["D"])(Z.aData.enddate_disp)+" ",1),Z.canEdit&&Z.aData.can_make_exception?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",class:"slim",onClick:t[1]||(t[1]=function(){return Z.makeException&&Z.makeException.apply(Z,arguments)})},Object(n["D"])(Z.exceptionActionLabel),1)):Object(n["g"])("",!0),Z.aData.hasOwnProperty("original_enddate")?(Object(n["u"])(),Object(n["f"])("span",h,[p,Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.originally_due"))+": "+Object(n["D"])(Z.aData.original_enddate_disp)+". "+Object(n["D"])(Z.extensionString),1)])):Object(n["g"])("",!0),Z.aData.hasOwnProperty("attemptext")?(Object(n["u"])(),Object(n["f"])("span",f,[O,Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.attemptext",{n:Z.aData.attemptext})),1)])):Object(n["g"])("",!0)]),Z.canEdit&&Z.aData.latepass_status>1?(Object(n["u"])(),Object(n["f"])("div",j,[Object(n["h"])(Object(n["D"])(Z.latepassBlockMsg)+" ",1),Z.aData.latepass_status>6?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",onClick:t[2]||(t[2]=function(){return Z.clearLPblock&&Z.clearLPblock.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.clear_latepass_block")),1)):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["i"])("div",null,[Object(n["i"])("strong",null,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.gb_score"))+": ",1),Z.aData.hasOwnProperty("scoreoverride")&&Z.canEdit?(Object(n["u"])(),Object(n["f"])("span",v,[Object(n["i"])("input",{id:"assessoverride",size:"4",value:Z.aData.scoreoverride,onInput:t[3]||(t[3]=function(){return Z.setScoreOverride&&Z.setScoreOverride.apply(Z,arguments)}),onKeyup:t[4]||(t[4]=Object(n["N"])((function(){return Z.submitForm&&Z.submitForm.apply(Z,arguments)}),["enter"]))},null,40,["value"]),Object(n["h"])("/"+Object(n["D"])(Z.aData.points_possible),1)])):(Object(n["u"])(),Object(n["f"])("span",g,[Z.canEdit||"N/A"!==Z.aData.gbscore?(Object(n["u"])(),Object(n["f"])("span",m,Object(n["D"])(Z.aData.gbscore)+"/"+Object(n["D"])(Z.aData.points_possible),1)):(Object(n["u"])(),Object(n["f"])("span",w,Object(n["D"])(e.$t("gradebook.avail_"+Z.aData.scoresingb)),1))]))]),Z.aData.hasOwnProperty("scoreoverride")?(Object(n["u"])(),Object(n["f"])("span",y," ("+Object(n["D"])(e.$t("gradebook.overridden"))+") ",1)):Z.canEdit?(Object(n["u"])(),Object(n["f"])("span",k,[Object(n["i"])("button",{class:"slim",type:"button",onClick:t[5]||(t[5]=function(t){return e.showOverride=!e.showOverride})},Object(n["D"])(e.$t("gradebook.override")),1),e.showOverride?(Object(n["u"])(),Object(n["f"])("span",q,[Object(n["i"])("label",_,Object(n["D"])(e.$t("gradebook.override")),1),D,Object(n["M"])(Object(n["i"])("input",{id:"assessoverride",size:"4","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.assessOverride=t}),onKeyup:t[7]||(t[7]=Object(n["N"])((function(){return Z.submitForm&&Z.submitForm.apply(Z,arguments)}),["enter"]))},null,544),[[n["I"],e.assessOverride]])])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Z.canEdit?(Object(n["u"])(),Object(n["f"])("button",{key:2,type:"button",class:"slim",onClick:t[8]||(t[8]=function(e){return Z.clearAttempts("all")})},Object(n["D"])(e.$t("gradebook.clear_all")),1)):Object(n["g"])("",!0),Z.aData.hasOwnProperty("excused")?(Object(n["u"])(),Object(n["f"])("button",{key:3,type:"button",class:"slim",onClick:t[9]||(t[9]=function(t){return e.showExcused=!e.showExcused})},Object(n["D"])(e.$t("gradebook."+(e.showExcused?"hide":"show")+"_excused")),1)):Object(n["g"])("",!0)]),e.showExcused?(Object(n["u"])(),Object(n["f"])("div",A,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.excused_list"))+" ",1),Object(n["i"])("ul",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(Z.aData.excused,(function(e){return Object(n["u"])(),Object(n["f"])("li",{key:e},Object(n["D"])(e),1)})),128))])])):Object(n["g"])("",!0),Z.canEdit?(Object(n["u"])(),Object(n["f"])("div",x,[Z.showViewAsStu?(Object(n["u"])(),Object(n["f"])("a",{key:0,href:Z.viewAsStuUrl},Object(n["D"])(e.$t("gradebook.view_as_stu")),9,["href"])):Object(n["g"])("",!0),Z.showViewAsStu?(Object(n["u"])(),Object(n["f"])("span",$,"|")):Object(n["g"])("",!0),Object(n["i"])("a",{href:Z.viewAsStuUrl+"#/print"},Object(n["D"])(e.$t("gradebook.print")),9,["href"])])):Object(n["g"])("",!0),0==Z.aData.assess_versions.length?(Object(n["u"])(),Object(n["f"])("div",I,Object(n["D"])(e.$t("gradebook.no_versions")),1)):(Object(n["u"])(),Object(n["f"])("div",P,[Object(n["i"])("div",null,[Object(n["h"])(Object(n["D"])(Z.scoreCalc)+" ",1),Object(n["i"])("div",null,[Z.viewFull||"by_assessment"===Z.aData.submitby?(Object(n["u"])(),Object(n["f"])(K,{key:0,style:{display:"inline-block"},versions:Z.aData.assess_versions,submitby:Z.aData.submitby,haspractice:Z.aData.has_practice,selected:Z.curAver,onSetversion:Z.changeAssessVersion},null,8,["versions","submitby","haspractice","selected","onSetversion"])):Object(n["g"])("",!0),!Z.isByQuestion&&Z.canEdit&&-1!=Z.aData.assess_versions[Z.curAver].status?(Object(n["u"])(),Object(n["f"])("button",{key:1,type:"button",onClick:t[10]||(t[10]=function(e){return Z.clearAttempts("attempt")})},Object(n["D"])(e.$t("gradebook.clear_attempt")),1)):Object(n["g"])("",!0)]),Z.isUnsubmitted?(Object(n["u"])(),Object(n["f"])("div",T,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.unsubmitted"))+" ",1),Object(n["i"])("button",{type:"button",onClick:t[11]||(t[11]=function(){return Z.submitVersion&&Z.submitVersion.apply(Z,arguments)})},Object(n["D"])(e.$t("closed.submit_now")),1),!Z.canEdit&&Z.aData.can_use_latepass?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",onClick:t[12]||(t[12]=function(){return Z.redeemLatePass&&Z.redeemLatePass.apply(Z,arguments)})},Object(n["D"])(e.$t("lti.use_latepass")),1)):Object(n["g"])("",!0)])):Object(n["g"])("",!0)]),""!==Z.curEndmsg?(Object(n["u"])(),Object(n["f"])("div",S,[Z.viewFull?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",onClick:t[13]||(t[13]=function(t){return e.showEndmsg=!e.showEndmsg})},Object(n["D"])(e.$t("gradebook."+(e.showEndmsg?"hide":"show")+"_endmsg")),1)):Object(n["g"])("",!0),e.showEndmsg||!Z.viewFull?(Object(n["u"])(),Object(n["f"])("div",{key:1,class:"introtext",innerHTML:Z.curEndmsg},null,8,["innerHTML"])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Z.canEdit&&Z.viewFull?(Object(n["u"])(),Object(n["f"])("div",M,[Object(n["i"])("button",{onClick:t[14]||(t[14]=function(t){return e.showFilters=!e.showFilters})},Object(n["D"])(e.$t("gradebook.filters")),1),e.showFilters?(Object(n["u"])(),Object(n["f"])("div",C,[Object(n["i"])("p",null,Object(n["D"])(e.$t("gradebook.hide"))+":",1),Object(n["i"])("ul",Q,[Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=function(t){return e.hideUnanswered=t})},null,512),[[n["F"],e.hideUnanswered]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_unans")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=function(t){return e.hideZero=t})},null,512),[[n["F"],e.hideZero]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_zero")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=function(t){return e.hideNonzero=t})},null,512),[[n["F"],e.hideNonzero]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_nonzero")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=function(t){return e.hidePerfect=t})},null,512),[[n["F"],e.hidePerfect]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_perfect")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=function(t){return e.hide100=t})},null,512),[[n["F"],e.hide100]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_100")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=function(t){return e.hideFeedback=t})},null,512),[[n["F"],e.hideFeedback]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_fb")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=function(t){return e.hideNowork=t})},null,512),[[n["F"],e.hideNowork]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.hide_nowork")),1)])]),Object(n["i"])("li",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"checkbox","onUpdate:modelValue":t[22]||(t[22]=function(t){return e.hidetexts=t}),onChange:t[23]||(t[23]=function(){return Z.loadTexts&&Z.loadTexts.apply(Z,arguments)})},null,544),[[n["F"],e.hidetexts]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.introtexts")),1)])])]),Object(n["i"])("p",null,[Object(n["i"])("button",{type:"button",onClick:t[24]||(t[24]=function(){return Z.showAllAns&&Z.showAllAns.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.show_all_ans")),1),Object(n["i"])("button",{type:"button",onClick:t[25]||(t[25]=function(t){return e.showAllWork=!e.showAllWork})},Object(n["D"])(e.$t("gradebook.show_all_work")),1),Object(n["i"])("button",{type:"button",onClick:t[26]||(t[26]=function(){return Z.previewFiles&&Z.previewFiles.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.preview_files")),1),Object(n["i"])("button",{type:"button",onClick:t[27]||(t[27]=function(){return Z.toggleFloatingScoreboxes&&Z.toggleFloatingScoreboxes.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.floating_scoreboxes")),1)])])):Object(n["g"])("",!0)])):Z.viewFull?(Object(n["u"])(),Object(n["f"])("div",F,[Object(n["i"])("button",{onClick:t[28]||(t[28]=function(t){e.hidetexts=!e.hidetexts,Z.loadTexts()})},Object(n["D"])(e.$t(e.hidetexts?"print.show_text":"print.hide_text")),1)])):Object(n["g"])("",!0),Z.viewFull?(Object(n["u"])(),Object(n["f"])("div",E,[Z.aData.hasOwnProperty("intro")&&""!==Z.aData.intro?Object(n["M"])((Object(n["u"])(),Object(n["f"])(Y,{key:0,active:!e.hidetexts,textobj:{html:Z.aData.intro},class:"questionpane introtext"},null,8,["active","textobj"])),[[n["J"],!e.hidetexts]]):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(Z.curQuestions,(function(t,s){return Object(n["u"])(),Object(n["f"])("div",{key:s,id:"qwrap"+(s+1)},[Object(n["M"])(Object(n["i"])(X,{pos:"beforeexact",qn:s,key:"iqt"+s,active:!e.hidetexts,lastq:Z.lastQ,textlist:Z.textList},null,8,["qn","active","lastq","textlist"]),[[n["J"],!e.hidetexts]]),Object(n["i"])("div",G,[Object(n["i"])("div",V,[Object(n["i"])("strong",null,Object(n["D"])(e.$tc("question_n",s+1))+". ",1),t[Z.curQver[s]].extracredit?(Object(n["u"])(),Object(n["f"])("em",L,Object(n["D"])(e.$t("extracredit")),1)):Object(n["g"])("",!0),"by_question"===Z.aData.submitby?(Object(n["u"])(),Object(n["f"])(ee,{key:1,versions:t,selected:Z.curQver[s],qn:s,onSetversion:Z.changeQuestionVersion,class:"med-left"},null,8,["versions","selected","qn","onSetversion"])):t[Z.curQver[s]].hasOwnProperty("gbscore")&&"N/A"!==t[Z.curQver[s]].gbscore?(Object(n["u"])(),Object(n["f"])("span",U,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.score"))+": ",1),Object(n["i"])("strong",null,Object(n["D"])(t[Z.curQver[s]].gbscore)+"/"+Object(n["D"])(t[Z.curQver[s]].points_possible),1)])):Object(n["g"])("",!0)]),Object(n["i"])("div",N,[Object(n["i"])(te,{class:{inactive:!Z.showQuestion[s]},qdata:t[Z.curQver[s]],qn:s},null,8,["class","qdata","qn"]),Object(n["i"])(se,{work:t[Z.curQver[s]].work,worktime:t[Z.curQver[s]].worktime,showall:e.showAllWork},null,8,["work","worktime","showall"])]),Object(n["i"])(ne,{showfull:Z.showQuestion[s],canedit:Z.canEdit,qdata:t[Z.curQver[s]],qn:s,onSubmitform:Z.submitForm},null,8,["showfull","canedit","qdata","qn","onSubmitform"])])],8,["id"])})),128)),Object(n["M"])(Object(n["i"])(X,{pos:"after",qn:Z.lastQ,active:!e.hidetexts,lastq:Z.lastQ,textlist:Z.textList},null,8,["qn","active","lastq","textlist"]),[[n["J"],!e.hidetexts]])])):Object(n["g"])("",!0),Object(n["i"])(re,{qn:"gen",username:Z.aData.userfullname,show:Z.viewFull&&(Z.canEdit||""!==Z.assessFeedback),canedit:Z.canEdit,useeditor:Z.useEditor,value:Z.assessFeedback,onUpdate:Z.updateFeedback},null,8,["username","show","canedit","useeditor","value","onUpdate"]),Object(n["i"])("div",null,[Z.canEdit?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",disabled:!Z.canSubmit,class:"primary",onClick:t[29]||(t[29]=function(e){return Z.submitChanges(!0)})},Object(n["D"])(e.$t("gradebook.save")),9,["disabled"])):Object(n["g"])("",!0),""!==Z.savedMsg?(Object(n["u"])(),Object(n["f"])("span",H,Object(n["D"])(Z.savedMsg),1)):Object(n["g"])("",!0),Object(n["i"])("button",{type:"button",class:"secondary",disabled:!Z.canSubmit,onClick:t[30]||(t[30]=function(){return Z.exit&&Z.exit.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.return")),9,["disabled"])]),Object(n["i"])("div",B,[""!==Z.savedMsg?(Object(n["u"])(),Object(n["f"])("div",R,Object(n["D"])(Z.savedMsg),1)):Object(n["g"])("",!0),Z.canEdit?(Object(n["u"])(),Object(n["f"])("button",{key:1,type:"button",disabled:!Z.canSubmit,class:"primary",onClick:t[31]||(t[31]=function(){return Z.submitChanges&&Z.submitChanges.apply(Z,arguments)})},Object(n["D"])(e.$t("gradebook.save")),9,["disabled"])):Object(n["g"])("",!0)]),Z.showCategories?(Object(n["u"])(),Object(n["f"])(ie,{key:4,data:Z.curQuestionVers},null,8,["data"])):Object(n["g"])("",!0),Object(n["i"])(ae),z]))])):(Object(n["u"])(),Object(n["f"])("div",i,Object(n["D"])(e.$t("loading")),1)),Z.hasError?(Object(n["u"])(),Object(n["f"])(oe,{key:2,errormsg:Z.errorMsg,onClearerror:Z.clearError},null,8,["errormsg","onClearerror"])):Object(n["g"])("",!0),null!==Z.confirmObj?(Object(n["u"])(),Object(n["f"])(ce,{key:3,data:Z.confirmObj,onClose:Z.closeConfirm},null,8,["data","onClose"])):Object(n["g"])("",!0)])}s("13d5"),s("a9e3"),s("b64b"),s("4d63"),s("ac1f"),s("25f0"),s("5319"),s("841c"),s("498a"),s("fb6a"),s("a434"),s("466d"),s("1276");var W=s("2b58"),Z=Object(n["w"])({assessInfo:null,APIbase:null,aid:null,cid:null,uid:null,stu:0,queryString:"",exitUrl:"",inTransit:!1,saving:"",errorMsg:null,confirmObj:null,curAver:0,ispractice:!1,curQver:[],orig_submitby:null,scoreOverrides:{},feedbacks:{},clearAttempts:{show:!1,type:"",qn:0}}),K={loadGbAssessData:function(e,t){var s=this;Z.inTransit?window.setTimeout((function(){return s.loadGbAssessData(e,t)}),20):null===Z.assessInfo&&window.gbAssessData?(Z.assessInfo=window.gbAssessData,"undefined"!==typeof e&&e()):(Z.inTransit=!0,Z.errorMsg=null,window.$.ajax({url:Z.APIbase+"gbloadassess.php"+Z.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?s.handleError(t.error):(Z.assessInfo=t,Z.curAver=t.scored_version,s.setQverAsScored(t.scored_version),"undefined"!==typeof e&&e(),Object(n["p"])((function(){if(window.initAnswerboxHighlights(),window.location.hash){var e=document.getElementById(window.location.hash.substring(1).replace(/\//,""));e&&e.scrollIntoView()}})))})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){Z.inTransit=!1})))},loadGbAssessVersion:function(e,t){var s=this;if(Z.inTransit)window.setTimeout((function(){return s.loadGbAssessVersion(e,t)}),20);else{var r=Z.queryString+"&ver="+e+"&practice="+(t?1:0);Z.inTransit=!0,Z.errorMsg=null,window.$.ajax({url:Z.APIbase+"gbloadassessver.php"+r,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(r){r.hasOwnProperty("error")?s.handleError(r.error):(t&&(e=Z.assessInfo.assess_versions.length-1),delete Z.assessInfo.interquestion_text,delete Z.assessInfo.intro,Z.assessInfo.assess_versions[e]=r,Z.curAver=e,s.setQverAsScored(e),Z.ispractice=t,t?(null===Z.orig_submitby&&(Z.orig_submitby=Z.assessInfo.submitby),Z.assessInfo.submitby="by_question"):null!==Z.orig_submitby&&(Z.assessInfo.submitby=Z.orig_submitby),Object(n["p"])((function(){window.initAnswerboxHighlights()})))})).fail((function(e,t,n){s.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){Z.inTransit=!1}))}},loadGbTexts:function(e){var t=this;Z.inTransit?window.setTimeout((function(){return t.loadGbTexts(e)}),20):(Z.inTransit=!0,Z.errorMsg=null,window.$.ajax({url:Z.APIbase+"gbloadtexts.php"+Z.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){if(s.hasOwnProperty("error"))t.handleError(s.error);else{for(var r=[],i=0;i<Z.assessInfo.assess_versions[Z.curAver].questions.length;i++)r[i]={},Z.assessInfo.assess_versions[Z.curAver].questions[i][Z.curQver[i]].hasOwnProperty("text")&&(r[i]={text:Z.assessInfo.assess_versions[Z.curAver].questions[i][Z.curQver[i]].text.slice()});s.hasOwnProperty("interquestion_text")&&Object(W["b"])(s,r),Z.assessInfo.intro=s.intro,Z.assessInfo.interquestion_text=s.interquestion_text,e&&Object(n["p"])((function(){e()}))}})).fail((function(e,s,n){t.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){Z.inTransit=!1})))},loadGbQuestionVersion:function(e,t,s,r){var i=this;if(Z.inTransit)window.setTimeout((function(){return i.loadGbQuestionVersion(e,t,s,r)}),20);else{var a=Z.queryString+"&ver="+t+"&qn="+e;a+="&practice="+(Z.ispractice?1:0),null===Z.assessInfo.assess_versions[Z.curAver].questions[e][t].html||!0===s?(Z.inTransit=!0,Z.errorMsg=null,window.$.ajax({url:Z.APIbase+"gbloadquestionver.php"+a,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){s.hasOwnProperty("error")?i.handleError(s.error):(r&&r(),Z.assessInfo.assess_versions[Z.curAver].questions[e][t]=Object.assign(Z.assessInfo.assess_versions[Z.curAver].questions[e][t],s),Z.curQver[e]=t,Object(n["p"])((function(){window.initAnswerboxHighlights()})))})).fail((function(e,t,s){i.handleError("parsererror"===t?"parseerror":"noserver")})).always((function(e){Z.inTransit=!1}))):Z.curQver[e]=t}},saveChanges:function(e){var t=this;if(Z.inTransit)window.setTimeout((function(){return t.saveChanges(e)}),20);else{if(0===Object.keys(Z.scoreOverrides).length&&0===Object.keys(Z.feedbacks).length)return Z.saving="saved",void(e&&(window.location=window.exiturl));var s=Z.queryString;Z.inTransit=!0,Z.saving="saving",Z.errorMsg=null;var n=new FormData;n.append("scores",JSON.stringify(Z.scoreOverrides)),n.append("feedback",JSON.stringify(Z.feedbacks)),n.append("practice",Z.ispractice?1:0),window.$.ajax({url:Z.APIbase+"gbsave.php"+s,type:"POST",dataType:"json",data:n,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(s){if(s.hasOwnProperty("error"))t.handleError(s.error);else{if(Z.saving="saved",e)return Z.scoreOverrides={},Z.feedbacks={},void(window.location=window.exiturl);for(var n in Z.scoreOverrides)if("gen"!==n){var r=n.split(/-/),i=Z.assessInfo.assess_versions[r[0]].questions[r[1]][r[2]];i.scoreoverride&&""===Z.scoreOverrides[n]&&("number"===typeof i.scoreoverride?delete i.scoreoverride:delete i.scoreoverride[r[3]]),Z.scoreOverrides[n]&&(i.scoreoverride||(Z.assessInfo.assess_versions[r[0]].questions[r[1]][r[2]].scoreoverride={}),Z.assessInfo.assess_versions[r[0]].questions[r[1]][r[2]].scoreoverride[r[3]]=Z.scoreOverrides[n])}else""===Z.scoreOverrides.gen?delete Z.assessInfo.scoreoverride:(Z.assessInfo.gbscore=Z.scoreOverrides.gen,Z.assessInfo.scoreoverride=Z.scoreOverrides.gen);for(var a in s.newscores){var o=a.split(/-/);Z.assessInfo.assess_versions[o[0]].questions[o[1]][o[2]].score=s.newscores[a][0];for(var c=0;c<s.newscores[a][1].length;c++)Z.assessInfo.assess_versions[o[0]].questions[o[1]][o[2]].parts[c]=s.newscores[a][1][c]}for(var u in Z.feedbacks){var l=u.split(/-/);"g"===l[1]?Z.assessInfo.assess_versions[l[0]].feedback=Z.feedbacks[u]:Z.assessInfo.assess_versions[l[0]].questions[l[1]][l[2]].feedback=Z.feedbacks[u]}Z.assessInfo.gbscore=s.gbscore,Z.assessInfo.scored_version=s.scored_version;for(var b=0;b<s.assess_info.length;b++){Z.assessInfo.assess_versions[b].score=s.assess_info[b].score;for(var d=0;d<s.assess_info[b].scoredvers.length;d++)if(Z.assessInfo.assess_versions[b].hasOwnProperty("questions"))for(var h=Z.assessInfo.assess_versions[b].questions[d],p=0;p<h.length;p++)p===s.assess_info[b].scoredvers[d]?h[p].scored=!0:h[p].scored&&delete h[p].scored}Z.scoreOverrides={},Z.feedbacks={}}})).fail((function(e){Z.saving="save_fail"})).always((function(e){Z.inTransit=!1}))}},clearLPblock:function(){Z.clearAttempts.type="practiceview",this.clearAttempt(!0)},clearAttempt:function(e){var t=this,s={type:Z.clearAttempts.type,keepver:e};"attempt"!==Z.clearAttempts.type&&"qver"!==Z.clearAttempts.type||(s.aver=Z.curAver),"qver"===Z.clearAttempts.type&&(s.qn=Z.clearAttempts.qn,s.qver=Z.curQver[s.qn]),window.$.ajax({url:Z.APIbase+"gbclearattempt.php"+Z.queryString,type:"POST",dataType:"json",data:s,xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(e){if(e.hasOwnProperty("error"))t.handleError(e.error);else if("all"===Z.clearAttempts.type&&0===s.keepver)window.location=window.exiturl;else if("all"===Z.clearAttempts.type)K.loadGbAssessData();else if("practiceview"===Z.clearAttempts.type)Z.assessInfo.latepass_status=s.latepass_status;else if(Z.assessInfo.gbscore=e.gbscore,Z.assessInfo.scored_version=e.scored_version,"attempt"===Z.clearAttempts.type){var n=new RegExp("^"+s.aver+"-");for(var r in Z.scoreOverrides)r.match(n)&&delete Z.scoreOverrides[r];e.hasOwnProperty("newver")?Z.assessInfo.assess_versions[s.aver]=e.newver:(Z.assessInfo.assess_versions.splice(s.aver,1),K.loadGbAssessVersion(e.scored_version,!1)),s.aver>0&&(Z.curAver=s.aver-1)}else if("qver"===Z.clearAttempts.type){var i=new RegExp("^"+s.aver+"-"+s.qn+"-"+s.qver+"-");for(var a in Z.scoreOverrides)a.match(i)&&delete Z.scoreOverrides[a];Z.assessInfo.assess_versions[s.aver].score=e.assessinfo.score,Z.assessInfo.assess_versions[s.aver].status=e.assessinfo.status,e.hasOwnProperty("newver")?(Z.assessInfo.assess_versions[s.aver].questions[s.qn][s.qver]=e.newver,Z.assessInfo.assess_versions[s.aver].questions[s.qn][e.qinfo.scored_version].scored=!0):K.loadGbQuestionVersion(s.qn,e.qinfo.scored_version,!0,(function(){Z.assessInfo.assess_versions[s.aver].questions[s.qn].splice(s.qver,1),Z.assessInfo.assess_versions[s.aver].questions[s.qn][e.qinfo.scored_version].scored=!0}))}})).fail((function(e){t.handleError("send_fail")})).always((function(e){Z.inTransit=!1,Z.clearAttempts.show=!1}))},endAssess:function(){var e=this;Z.inTransit?window.setTimeout((function(){return e.endAssess()}),20):(Z.inTransit=!0,Z.errorMsg=null,window.$.ajax({url:Z.APIbase+"endassess.php"+Z.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((function(t){t.hasOwnProperty("error")?e.handleError(t.error):(Z.assessInfo=null,K.loadGbAssessData())})).fail((function(t,s,n){e.handleError("parsererror"===s?"parseerror":"noserver")})).always((function(e){Z.inTransit=!1})))},setQverAsScored:function(e){var t,s=Z.assessInfo.assess_versions[e].questions;e:for(var n=0;n<s.length;n++)for(t=0;t<s[n].length;t++){if(s[n][t].hasOwnProperty("scored")){Z.curQver[n]=t;continue e}Z.curQver[n]=s[n].length-1}},setScoreOverride:function(e,t,s){var n=Z.curAver,r=Z.curQver[e],i=Z.assessInfo.assess_versions[n].questions[e][r],a=n+"-"+e+"-"+r+"-"+t;if(""===s)Z.scoreOverrides[a]="";else{var o=!0;i.singlescore?o=Math.abs(s-i.score/i.points_possible)>.001:i.parts[t]&&(o=Math.abs(s-i.parts[t].score/i.parts[t].points_possible)>.001),i.parts[t]&&i.parts[t].try>0&&(""===s||!o)?delete Z.scoreOverrides[a]:Z.scoreOverrides[a]=Math.round(1e4*s)/1e4}Z.saving=""},setFeedback:function(e,t){var s=Z.curAver,n=s,r=!0;if(null===e)n+="-g",t===Z.assessInfo.assess_versions[Z.curAver].feedback&&(r=!1);else{var i=Z.curQver[e];n+="-"+e+"-"+i,t===Z.assessInfo.assess_versions[Z.curAver].questions[e][i].feedback&&(r=!1)}r?Z.feedbacks[n]=t:delete Z.feedbacks[n],Z.saving=""},handleError:function(e){Z.errorMsg=e}},Y={class:"questionwrap questionpane"};function X(e,t,s,r,i,a){return Object(n["u"])(),Object(n["f"])("div",Y,[Object(n["i"])("div",{innerHTML:s.qdata.html,class:"question",id:"questionwrap"+s.qn,ref:"thisqwrap"},null,8,["innerHTML","id"])])}var ee={name:"GbQuestion",props:["qdata","qn"],data:function(){return{rendered:!1}},methods:{renderInit:function(){this.rendered||(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.thisqwrap),window.initSageCell(this.$refs.thisqwrap),window.initlinkmarkup(this.$refs.thisqwrap),window.imathasAssess.init(this.qdata.jsparams,!0,this.$refs.thisqwrap),this.rendered=!0)}},mounted:function(){this.renderInit()},watch:{qdata:function(e,t){null!==e&&(this.rendered=!1,this.$nextTick(this.renderInit))}}};ee.render=X;var te=ee,se={key:0,class:"questionpane viewworkwrap"},ne={key:0,class:"small"};function re(e,t,s,r,i,a){return s.work?(Object(n["u"])(),Object(n["f"])("div",se,[Object(n["i"])("div",null,[Object(n["i"])("button",{type:"button",class:"slim",onClick:t[1]||(t[1]=function(t){return e.show=!e.show})},Object(n["D"])(a.btnLabel),1),e.show&&"0"!==s.worktime?(Object(n["u"])(),Object(n["f"])("span",ne,Object(n["D"])(e.$t("gradebook.lastchange"))+" "+Object(n["D"])(s.worktime),1)):Object(n["g"])("",!0)]),Object(n["i"])(n["c"],{name:"fade"},{default:Object(n["L"])((function(){return[Object(n["M"])(Object(n["i"])("div",{class:"introtext",ref:"workbox",innerHTML:s.work},null,8,["innerHTML"]),[[n["J"],e.show]])]})),_:1})])):Object(n["g"])("",!0)}s("7db0");var ie={name:"GbShowwork",props:["work","worktime","showall"],data:function(){return{show:!1,rendered:!1}},computed:{btnLabel:function(){return this.$t(this.show?"gradebook.hidework":"gradebook.showwork")}},methods:{renderInit:function(){!this.rendered&&this.work&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.workbox),window.initlinkmarkup(this.$refs.workbox),window.$(this.$refs.workbox).find("img").on("click",window.rotateimg),this.rendered=!0)}},mounted:function(){this.renderInit()},watch:{work:function(e,t){null!==e&&(this.rendered=!1,this.$nextTick(this.renderInit))},showall:function(e,t){this.show=e}}};ie.render=re;var ae=ie;function oe(e,t,s,r,i,a){var o=Object(n["A"])("gb-assess-list-item"),c=Object(n["A"])("menu-button");return Object(n["u"])(),Object(n["f"])("div",null,[Object(n["i"])(c,{id:"assess_select",options:a.navOptions,selected:s.selected,noarrow:1==a.navOptions.length,searchby:"ver"},{default:Object(n["L"])((function(e){var t=e.option;return[Object(n["i"])(o,{option:t,submitby:s.submitby},null,8,["option","submitby"])]})),_:1},8,["options","selected","noarrow"])])}var ce=s("ad76"),ue={key:0},le=Object(n["h"])(". "),be={key:1};function de(e,t,s,r,i,a){return Object(n["u"])(),Object(n["f"])("span",null,[Object(n["i"])("strong",null,Object(n["D"])(a.attemptNum)+".",1),s.option.hasOwnProperty("score")&&"N/A"!==s.option.score?(Object(n["u"])(),Object(n["f"])("span",ue,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.score"))+": ",1),Object(n["i"])("strong",null,Object(n["D"])(a.score),1),le])):Object(n["g"])("",!0),s.option.hasOwnProperty("status")?(Object(n["u"])(),Object(n["f"])("span",be,Object(n["D"])(a.verStatus),1)):Object(n["g"])("",!0)])}var he={name:"GbAssessListItem",props:["option","submitby"],computed:{attemptNum:function(){return 3===this.option.status?this.$t("gradebook.practice_attempt"):"by_question"===this.submitby?this.$t("gradebook.scored_attempt"):this.$tc("gradebook.attempt_n",this.option.ver+1)},verStatus:function(){if(-1===this.option.status)return this.$t("gradebook.not_started");if(0===this.option.status&&"by_assessment"===this.submitby)return this.$t("gradebook.not_submitted");if(1===this.option.status||2===this.option.status){var e="";return"by_question"===this.submitby?e+=this.$t("gradebook.lastchange"):e+=this.$t("gradebook.submitted"),e+=" "+this.option.lastchange_disp,e}return""},score:function(){return this.option.score+"/"+Z.assessInfo.points_possible}}};he.render=de;var pe=he,fe={name:"GbAssessSelect",props:["versions","selected","submitby","haspractice"],components:{MenuButton:ce["a"],GbAssessListItem:pe},computed:{navOptions:function(){for(var e=this,t=[],s=function(s){var n={ver:s,status:e.versions[s].status,lastchange_disp:e.versions[s].lastchange_disp,onclick:function(){return e.$emit("setversion",s)}};e.versions[s].hasOwnProperty("score")&&(n.score=e.versions[s].score),t.push(n)},n=0;n<this.versions.length;n++)s(n);return t}},methods:{}};fe.render=oe;var Oe=fe,je={style:{display:"inline-block"}};function ve(e,t,s,r,i,a){var o=Object(n["A"])("gb-question-list-item"),c=Object(n["A"])("menu-button");return Object(n["u"])(),Object(n["f"])("div",je,[Object(n["i"])(c,{id:"qselect"+s.qn,options:a.navOptions,selected:s.selected,noarrow:1==a.navOptions.length,searchby:"ver"},{default:Object(n["L"])((function(e){var t=e.option;return[Object(n["i"])(o,{option:t,total:a.navOptions.length},null,8,["option","total"])]})),_:1},8,["id","options","selected","noarrow"])])}var ge={key:0};function we(e,t,s,r,i,a){return Object(n["u"])(),Object(n["f"])("span",null,[Object(n["h"])(Object(n["D"])(a.attemptNum)+". ",1),s.option.hasOwnProperty("score")&&"N/A"!==s.option.score?(Object(n["u"])(),Object(n["f"])("span",ge,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.score"))+": ",1),Object(n["i"])("strong",null,Object(n["D"])(a.score),1)])):Object(n["g"])("",!0)])}var me={name:"GbQuestionListItem",props:["option","total"],computed:{attemptNum:function(){return this.$tc("gradebook.version_n",this.option.ver+1)+(this.option.scored?"*":"")+"/"+this.total},score:function(){return this.option.score+"/"+this.option.ptsposs}}};me.render=we;var ye=me,ke={name:"GbQuestionSelect",props:["versions","selected","qn"],components:{MenuButton:ce["a"],GbQuestionListItem:ye},computed:{navOptions:function(){for(var e=this,t=[],s=function(s){var n={ver:s,ptsposs:e.versions[s].points_possible,onclick:function(){return e.$emit("setversion",e.qn,s)}};e.versions[s].hasOwnProperty("score")&&(n.score=e.versions[s].score,n.scored=!0===e.versions[s].hasOwnProperty("scored")),t.push(n)},n=0;n<this.versions.length;n++)s(n);return t}}};ke.render=ve;var qe=ke,_e={class:"scoredetails"},De={key:1},Ae={key:1},xe={key:2},$e={key:0},Ie={key:1},Pe={key:6},Te={key:7};function Se(e,t,s,r,i,a){var o=Object(n["A"])("icons"),c=Object(n["A"])("menu-button"),u=Object(n["A"])("gb-feedback"),l=Object(n["A"])("gb-all-tries"),b=Object(n["A"])("gb-penalties");return Object(n["u"])(),Object(n["f"])("div",_e,[s.canedit?(Object(n["u"])(),Object(n["f"])(c,{key:0,class:"floatright",options:a.moreOptions,position:"right",nobutton:"true",noarrow:"true",id:"qmore"+s.qn},{button:Object(n["L"])((function(){return[Object(n["i"])(o,{name:"more",size:"medium"})]})),_:1},8,["options","id"])):Object(n["g"])("",!0),s.canedit||s.qdata.hasOwnProperty("score")&&"N/A"!==s.qdata.score?(Object(n["u"])(),Object(n["f"])("div",De,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.score"))+": ",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.partPoss,(function(r,i){return Object(n["u"])(),Object(n["f"])("span",{key:i},[s.canedit&&!a.isPractice?Object(n["M"])((Object(n["u"])(),Object(n["f"])("input",{key:0,type:"text",size:"4",id:"scorebox"+s.qn+(a.partPoss.length>1?"-"+i:""),pattern:"N\\/A|\\d*\\.?\\d*","onUpdate:modelValue":function(t){return e.curScores[i]=t},onInput:function(e){return a.updateScore(i,e)},onKeyup:t[1]||(t[1]=Object(n["N"])((function(t){return e.$emit("submitform")}),["enter"]))},null,40,["id","onUpdate:modelValue","onInput"])),[[n["I"],e.curScores[i]]]):(Object(n["u"])(),Object(n["f"])("span",Ae,Object(n["D"])(e.curScores[i]),1)),Object(n["h"])("/"+Object(n["D"])(r)+" ",1),s.canedit&&!a.isPractice&&s.qdata.rubric>0?(Object(n["u"])(),Object(n["f"])("button",{key:2,class:"plain nopad",onClick:function(e){return a.showRubric(i)}},[Object(n["i"])(o,{name:"clipboard",alt:"icons.rubric",size:"small"})],8,["onClick"])):Object(n["g"])("",!0),s.canedit&&!a.isPractice&&s.qdata.rubric>0?(Object(n["u"])(),Object(n["f"])("button",{key:3,style:{display:"none"},class:"plain nopad rubriclink",onClick:function(e){return a.showRubric(i)},id:"rublink-scorebox"+s.qn+(a.partPoss.length>1?"-"+i:"")},[Object(n["i"])(o,{name:"clipboard",alt:"icons.rubric",size:"small"})],8,["onClick","id"])):Object(n["g"])("",!0)])})),128)),s.canedit&&!a.isPractice?(Object(n["u"])(),Object(n["f"])("button",{key:0,type:"button",onClick:t[2]||(t[2]=function(){return a.allFull&&a.allFull.apply(a,arguments)}),class:"slim"},Object(n["D"])(a.fullCreditLabel),1)):Object(n["g"])("",!0),s.canedit&&a.hasManual&&!a.isPractice?(Object(n["u"])(),Object(n["f"])("button",{key:1,type:"button",onClick:t[3]||(t[3]=function(){return a.manualFull&&a.manualFull.apply(a,arguments)}),class:"slim"},Object(n["D"])(e.$t("gradebook.full_manual_parts")),1)):Object(n["g"])("",!0),s.canedit&&!a.isPractice&&!1===e.showfeedback?(Object(n["u"])(),Object(n["f"])("button",{key:2,type:"button",class:"slim",onClick:t[4]||(t[4]=function(){return a.revealFeedback&&a.revealFeedback.apply(a,arguments)})},Object(n["D"])(e.$t("gradebook.add_feedback")),1)):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["i"])(u,{show:e.showfeedback,canedit:s.canedit,useeditor:a.useEditor,ref:"fbbox",qn:s.qn,value:s.qdata.feedback,onUpdate:a.updateFeedback},null,8,["show","canedit","useeditor","qn","value","onUpdate"]),s.showfull?(Object(n["u"])(),Object(n["f"])("div",xe,[s.qdata.timeactive.total>0?(Object(n["u"])(),Object(n["f"])("span",$e,Object(n["D"])(e.$t("gradebook.time_on_version"))+": "+Object(n["D"])(a.timeSpent)+". ",1)):Object(n["g"])("",!0),s.qdata.lastchange?(Object(n["u"])(),Object(n["f"])("span",Ie,Object(n["D"])(e.$t("gradebook.lastchange"))+" "+Object(n["D"])(s.qdata.lastchange)+". ",1)):Object(n["g"])("",!0),a.maxTry>1?(Object(n["u"])(),Object(n["f"])("button",{key:2,type:"button",class:"slim",onClick:t[5]||(t[5]=function(t){return e.showAllTries=!e.showAllTries})},Object(n["D"])(e.$t("gradebook.show_tries")),1)):Object(n["g"])("",!0),a.hasPenalties?(Object(n["u"])(),Object(n["f"])("button",{key:3,type:"button",class:"slim",onClick:t[6]||(t[6]=function(t){return e.showPenalties=!e.showPenalties})},Object(n["D"])(e.$t("gradebook.show_penalties")),1)):Object(n["g"])("",!0),a.hasAutoSaves?(Object(n["u"])(),Object(n["f"])("button",{key:4,type:"button",class:"slim",onClick:t[7]||(t[7]=function(t){return e.showAutosaves=!e.showAutosaves})},Object(n["D"])(e.$t("gradebook.show_autosaves")),1)):Object(n["g"])("",!0)])):Object(n["g"])("",!0),e.showAllTries?(Object(n["u"])(),Object(n["f"])(l,{key:3,tries:s.qdata.other_tries,type:"tries",qn:s.qn},null,8,["tries","qn"])):Object(n["g"])("",!0),e.showPenalties?(Object(n["u"])(),Object(n["f"])(b,{key:4,parts:s.qdata.parts,submitby:a.submitby},null,8,["parts","submitby"])):Object(n["g"])("",!0),e.showAutosaves?(Object(n["u"])(),Object(n["f"])(l,{key:5,tries:s.qdata.autosaves,type:"autosave",submitby:a.submitby,qn:s.qn},null,8,["tries","submitby","qn"])):Object(n["g"])("",!0),s.showfull&&a.qHelps.length>0?(Object(n["u"])(),Object(n["f"])("div",Pe,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.had_help"))+": ",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.qHelps,(function(e,t){return Object(n["u"])(),Object(n["f"])("a",{key:t,href:e.url,target:"_blank"},Object(n["D"])(e.title),9,["href"])})),128))])):Object(n["g"])("",!0),s.qdata.category?(Object(n["u"])(),Object(n["f"])("div",Te,Object(n["D"])(e.$t("qdetails.category"))+": "+Object(n["D"])(s.qdata.category),1)):Object(n["g"])("",!0),Object(n["i"])("div",null,[a.showMessage?(Object(n["u"])(),Object(n["f"])("a",{key:0,href:a.messageHref,target:"help"},[Object(n["i"])(o,{name:"message"}),Object(n["h"])(" "+Object(n["D"])(e.$t("helps.message_instructor")),1)],8,["href"])):Object(n["g"])("",!0),a.postToForum>0?(Object(n["u"])(),Object(n["f"])("a",{key:1,href:a.forumHref,target:"help"},[Object(n["i"])(o,{name:"forum"}),Object(n["h"])(" "+Object(n["D"])(e.$t("helps.post_to_forum")),1)],8,["href"])):Object(n["g"])("",!0)])])}s("d81d"),s("acd8");var Me=s("53ca"),Ce={ref:"trywrap"},Qe={key:0},Fe={key:1},Ee={key:0,class:"subdued"},Ge={key:0},Ve={key:1},Le={key:0},Ue={key:0};function Ne(e,t,s,r,i,a){return Object(n["u"])(),Object(n["f"])("div",Ce,[Object(n["i"])("p",null,["tries"===s.type?(Object(n["u"])(),Object(n["f"])("strong",Qe,Object(n["D"])(e.$t("gradebook.all_tries")),1)):"autosave"===s.type?(Object(n["u"])(),Object(n["f"])("strong",Fe,Object(n["D"])(e.$t("gradebook.autosaves")),1)):Object(n["g"])("",!0)]),"autosave"===s.type?(Object(n["u"])(),Object(n["f"])("p",Ee,[Object(n["h"])(Object(n["D"])(e.$t("gradebook.autosave_info"))+" ",1),"by_assessment"==s.submitby?(Object(n["u"])(),Object(n["f"])("span",Ge,Object(n["D"])(e.$t("gradebook.autosave_byassess")),1)):(Object(n["u"])(),Object(n["f"])("span",Ve))])):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.processedTries,(function(t,r){return Object(n["u"])(),Object(n["f"])("div",{key:r,class:"med-below med-left"},[a.processedTries.length>1?(Object(n["u"])(),Object(n["f"])("div",Le,[Object(n["i"])("strong",null,Object(n["D"])(e.$t("gradebook.part_n",{n:r+1})),1)])):Object(n["g"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t,(function(t,r){return Object(n["u"])(),Object(n["f"])("div",{key:r},["tries"==s.type?(Object(n["u"])(),Object(n["f"])("span",Ue,Object(n["D"])(e.$t("gradebook.try_n",{n:r+1}))+": ",1)):Object(n["g"])("",!0),Object(n["i"])("span",{innerHTML:t},null,8,["innerHTML"])])})),128))])})),128))],512)}s("a15b");var He={name:"GbAllTries",props:["tries","qn","type","submitby"],data:function(){return{rendered:!1,drawToRender:[]}},computed:{processedTries:function(){var e,t,s=[];for(e in this.tries){var n=[];for(t in this.tries[e])if("object"===Object(Me["a"])(this.tries[e][t])&&"draw"===this.tries[e][t][0]){var r=this.qn+"-"+e+"-"+t,i=this.tries[e][t][2][6],a=this.tries[e][t][2][7];n[t]='<canvas id="canvasGBR'+r+'" width='+i+" height="+a+"></canvas>",n[t]+='<input type="hidden" id="qnGBR'+r+'"/>'}else n[t]=this.tries[e][t];s[e]=n}return s}},methods:{renderInit:function(){var e,t;if(!this.rendered)for(e in setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.trywrap),this.tries)for(t in this.tries[e])if("object"===Object(Me["a"])(this.tries[e][t])&&"draw"===this.tries[e][t][0]){var s=this.tries[e][t][1].replace(/\(/g,"[").replace(/\)/g,"]").split(";;");""!==s[0]&&(s[0]="["+s[0].replace(/;/g,"],[")+"]"),s="[["+s.join("],[")+"]]";var n=this.qn+"-"+e+"-"+t,r=this.tries[e][t][2][0]||"";window.canvases["GBR"+n]=r.slice(),window.canvases["GBR"+n].unshift("GBR"+n),window.drawla["GBR"+n]=JSON.parse(s),window.imathasDraw.initCanvases("GBR"+n)}}},mounted:function(){this.renderInit()},watch:{tries:function(e,t){null!==e&&(this.rendered=!1,this.$nextTick(this.renderInit))}}};He.render=Ne;var Be=He,Re=(s("c975"),{class:"qdetails"});function ze(e,t,s,r,i,a){var o=Object(n["A"])("penalties-applied");return Object(n["u"])(),Object(n["f"])("table",Re,[Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",null,Object(n["D"])(e.$t("qdetails.part")),1),Object(n["i"])("th",null,Object(n["D"])(e.$t("penalties.applied")),1)])]),Object(n["i"])("tbody",null,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(s.parts,(function(e,t){return Object(n["u"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("td",null,Object(n["D"])(t+1),1),Object(n["i"])("td",null,[-1!=a.partHasPenalties.indexOf(t)?(Object(n["u"])(),Object(n["f"])(o,{key:0,class:"med-left",part:e,submitby:s.submitby},null,8,["part","submitby"])):Object(n["g"])("",!0)])])})),128))])])}var Je=s("c428"),We={name:"GbPenalties",props:["parts","submitby"],components:{PenaltiesApplied:Je["a"]},computed:{partHasPenalties:function(){for(var e=[],t=0;t<this.parts.length;t++)this.parts[t].hasOwnProperty("penalties")&&this.parts[t].penalties.length>0&&e.push(t);return e}}};We.render=ze;var Ze=We,Ke=s("f05b"),Ye=Object(n["i"])("br",null,null,-1);function Xe(e,t,s,r,i,a){var o=Object(n["A"])("tinymce-input");return Object(n["M"])((Object(n["u"])(),Object(n["f"])("div",null,[Object(n["h"])(Object(n["D"])(s.username?e.$t("gradebook.feedback_for",{name:s.username}):e.$t("gradebook.feedback"))+":",1),Ye,s.canedit&&!s.useeditor?(Object(n["u"])(),Object(n["f"])("textarea",{key:0,class:"fbbox",id:"fb"+s.qn,ref:"fbbox",rows:"2",cols:"60",value:s.value,onInput:t[1]||(t[1]=function(){return a.updateFeedback&&a.updateFeedback.apply(a,arguments)})},null,40,["id","value"])):s.canedit?(Object(n["u"])(),Object(n["f"])(o,{key:1,ref:"fbbox",id:"fb"+s.qn,value:s.value,onInput:a.updateFeedback},null,8,["id","value","onInput"])):(Object(n["u"])(),Object(n["f"])("div",{key:2,class:"fbbox",ref:"fbbox",innerHTML:s.value},null,8,["innerHTML"]))],512)),[[n["J"],s.show]])}function et(e,t,s,r,i,a){return Object(n["u"])(),Object(n["f"])("div",{id:a.computedId,ref:"inbox",class:"fbbox skipmathrender",rows:s.rows},null,8,["id","rows"])}s("d3b7");var tt={name:"TinymceInput",props:{id:{default:null},value:{default:""},rows:{default:2}},data:function(){return{objTinymce:null}},computed:{computedId:function(){return"editor"===this.id||""===this.id||null===this.id?"editor-"+this.guidGenerator():this.id}},mounted:function(){this.$refs.inbox.innerHTML=this.value,this.initEditor()},updated:function(){this.initEditor()},methods:{guidGenerator:function(){function e(){return Math.random().toString(36).substr(2,9)}return"ed-"+e()+"-"+e()},initEditor:function(){var e=this;window.initeditor("exact",this.computedId,null,!0,(function(t){t.on("input change keyup undo redo",(function(s){e.updateValue(t.getContent())})).on("blur",(function(t){e.$emit("blur",!0)})).on("focus",(function(t){e.$emit("focus",!0)})),e.objTinymce=t}))},updateValue:function(e){this.$emit("input",e)},focus:function(){this.objTinymce.focus()}},watch:{value:function(e,t){"string"!==typeof e&&(e=""),e!==this.objTinymce.getContent()&&this.objTinymce.setContent(e)}}};tt.render=et;var st=tt,nt={name:"GbFeedback",props:["show","canedit","useeditor","value","qn","username"],components:{TinymceInput:st},data:function(){return{rendered:!1}},methods:{updateFeedback:function(e){var t;t=this.useeditor?e:e.target.value,this.$emit("update",t)},renderInit:function(){this.rendered||this.canedit||(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.fbbox))},focus:function(){this.$refs.fbbox.focus()}},mounted:function(){this.renderInit()},watch:{value:function(e,t){this.rendered=!1,this.$nextTick(this.renderInit)}}};nt.render=Xe;var rt=nt,it={name:"GbScoreDetails",props:["qdata","qn","canedit","showfull"],components:{GbAllTries:Be,GbPenalties:Ze,MenuButton:ce["a"],Icons:Ke["a"],GbFeedback:rt},data:function(){return{curScores:!1,showfeedback:!1,showAllTries:!1,showPenalties:!1,showAutosaves:!1}},computed:{answeights:function(){if(!this.qdata.answeights||this.qdata.singlescore)return[1];var e=this.qdata.answeights.map((function(e){return parseFloat(e)})),t=e.reduce((function(e,t){return e+t}));return e.map((function(e){return e/t}))},partPoss:function(){for(var e=[],t=0;t<this.answeights.length;t++)e[t]=Math.round(1e3*this.qdata.points_possible*this.answeights[t])/1e3;return e},initScores:function(){for(var e=[],t=0;t<this.answeights.length;t++)if(this.qdata.singlescore)e.push(this.qdata.score);else if(this.qdata.scoreoverride&&"object"!==Object(Me["a"])(this.qdata.scoreoverride)){var s=this.qdata.scoreoverride*this.answeights[t]*this.qdata.points_possible;s=Math.round(1e3*s)/1e3,e.push(s)}else this.qdata.scoreoverride&&this.qdata.scoreoverride.hasOwnProperty(t)?this.qdata.parts[t]&&this.qdata.parts[t].points_possible?e.push(Math.round(1e3*this.qdata.scoreoverride[t]*this.qdata.parts[t].points_possible)/1e3):e.push(Math.round(1e3*this.qdata.scoreoverride[t]*this.answeights[t]*this.qdata.points_possible)/1e3):0!==this.maxTry&&this.qdata.parts[t].hasOwnProperty("score")?e.push(this.qdata.parts[t].score):e.push("N/A");return e},fullCreditLabel:function(){return this.answeights.length>1?this.$t("gradebook.full_credit_parts"):this.$t("gradebook.full_credit")},timeSpent:function(){var e=Math.round(10*this.qdata.timeactive.total/60)/10+" "+this.$t("gradebook.minutes");return e},useEditor:function(){return"undefined"!==typeof window.tinyMCE},isPractice:function(){return Z.ispractice},isLastVersion:function(){var e=Z.assessInfo.assess_versions.length-1;return Z.assessInfo.has_practice&&e--,Z.curAver===e},maxTry:function(){for(var e=0,t=0;t<this.qdata.parts.length;t++)this.qdata.parts[t]&&this.qdata.parts[t].try&&this.qdata.parts[t].try>e&&(e=this.qdata.parts[t].try);return e},questionEditUrl:function(){var e="id="+this.qdata.qsetid+"&cid="+Z.cid;return e+="&aid="+Z.aid+"&qid="+this.qdata.qid,Z.APIbase+"../course/moddataset.php?"+e},questionErrorUrl:function(){if(Z.assessInfo.qerror_cid){var e="0-"+this.qdata.qsetid+"-"+this.qdata.seed+"-reperr-"+Z.assessInfo.ver,t="add=new&cid="+Z.assessInfo.qerror_cid+"&quoteq="+e+"&to="+this.qdata.qowner+"&title=Problem%20with%20question%20id%20"+this.qdata.qsetid;return Z.APIbase+"../msgs/msglist.php?"+t}return""},useInMsg:function(){var e=this.qn+"-"+this.qdata.qsetid+"-"+this.qdata.seed+"-"+Z.aid+"-"+Z.assessInfo.ver,t="add=new&cid="+Z.cid+"&quoteq="+e+"&to="+Z.uid;return Z.APIbase+"../msgs/msglist.php?"+t},moreOptions:function(){var e=this,t=[{label:this.$t("gradebook.use_in_msg"),link:this.useInMsg},{label:this.$t("gradebook.view_edit")+" ID "+this.qdata.qsetid+" Seed "+this.qdata.seed,link:this.questionEditUrl},{label:Z.assessInfo.hasOwnProperty("qerrortitle")?Z.assessInfo.qerrortitle:this.$t("gradebook.msg_owner"),link:this.questionErrorUrl}];return!this.isPractice&&this.isLastVersion&&t.push({label:this.$t("gradebook.clear_qwork"),onclick:function(){return e.clearWork()}}),t},hasPenalties:function(){for(var e=0;e<this.qdata.parts.length;e++)if(this.qdata.parts[e].hasOwnProperty("penalties")&&this.qdata.parts[e].penalties.length>0)return!0;return!1},hasManual:function(){if(1===this.qdata.parts.length)return!1;for(var e=0;e<this.qdata.parts.length;e++)if(this.qdata.parts[e].hasOwnProperty("req_manual")&&!0===this.qdata.parts[e].req_manual)return!0;return!1},hasAutoSaves:function(){return this.qdata.hasOwnProperty("autosaves")},submitby:function(){return Z.assessInfo.submitby},qHelps:function(){if(this.qdata.jsparams){var e=this.qdata.jsparams.helps;for(var t in e)"video"===e[t].label?(e[t].icon="video",e[t].title=this.$t("helps.video")):"read"===e[t].label?(e[t].icon="file",e[t].title=this.$t("helps.read")):"ex"===e[t].label?(e[t].icon="file",e[t].title=this.$t("helps.written_example")):(e[t].icon="file",e[t].title=e[t].label);return e}return[]},showMessage:function(){return Z.assessInfo.hasOwnProperty("help_features")&&!0===Z.assessInfo.help_features.message&&!Z.assessInfo.can_edit_scores},postToForum:function(){return Z.assessInfo.hasOwnProperty("help_features")&&Z.assessInfo.help_features.forum},quoteQ:function(){var e=this.qdata.questionsetid,t=this.qdata.seed,s=2;return this.qn+"-"+e+"-"+t+"-"+Z.aid+"-"+s},messageHref:function(){var e=window.imasroot+"/msgs/msglist.php?";return e+=window.$.param({cid:Z.cid,add:"new",quoteq:this.quoteQ,to:"instr"}),e},forumHref:function(){var e=window.imasroot+"/forums/thread.php?";return e+=window.$.param({cid:Z.cid,forum:Z.assessInfo.help_features.forum,modify:"new",quoteq:this.quoteQ}),e}},methods:{updateScore:function(e,t){if(""===this.curScores[e].trim())K.setScoreOverride(this.qn,e,"");else{var s=this.qdata.points_possible*this.answeights[e];K.setScoreOverride(this.qn,e,this.curScores[e]/s)}},revealFeedback:function(){var e=this;this.showfeedback=!0,this.$nextTick((function(){return e.$refs.fbbox.focus()}))},updateFeedback:function(e){K.setFeedback(this.qn,e)},allFull:function(){for(var e=0;e<this.answeights.length;e++)this.$set(this.curScores,e,this.partPoss[e]),K.setScoreOverride(this.qn,e,this.curScores[e]/this.partPoss[e])},manualFull:function(){for(var e=0;e<this.answeights.length;e++)this.qdata.parts[e]&&this.qdata.parts[e].hasOwnProperty("req_manual")&&!0===this.qdata.parts[e].req_manual&&(this.$set(this.curScores,e,this.partPoss[e]),K.setScoreOverride(this.qn,e,this.curScores[e]/this.partPoss[e]))},clearWork:function(){Z.clearAttempts.type="qver",Z.clearAttempts.qn=this.qn,Z.clearAttempts.show=!0},initCurScores:function(){this.$set(this,"curScores",this.initScores),this.showfeedback=null!==this.qdata.feedback&&this.qdata.feedback.length>0},showRubric:function(e){window.imasrubrics||(window.imasrubrics=Z.assessInfo.rubrics),this.showfeedback=!0,window.imasrubric_show(this.qdata.rubric,this.partPoss[e],"scorebox"+this.qn+(this.partPoss.length>1?"-"+e:""),"fb"+this.qn,this.qn+1+(this.partPoss.length>1?" part "+(e+1):""),600)}},mounted:function(){this.initCurScores()},watch:{qdata:{handler:function(e,t){this.initCurScores()},deep:!0}}};s("f27e");it.render=Se;var at=it,ot={key:0,class:"dialog-overlay",ref:"wrap"},ct={key:0,class:"clearoptions"},ut={key:0},lt={key:1,class:"clearoptions"},bt={key:0},dt={key:2,class:"clearoptions"},ht={key:0},pt={key:1},ft={key:2},Ot={class:"noticetext"},jt={class:"flexrow",style:{"justify-content":"space-between"}};function vt(e,t,s,r,i,a){return a.showModal?(Object(n["u"])(),Object(n["f"])("div",ot,[Object(n["i"])("div",{class:"dialog pane-body",role:"alertdialog","aria-modal":"true","aria-label":e.$t("gradebook.clear_hdr"),"aria-describedby":"clearoptions",tabindex:"-1"},["all"===a.showType?(Object(n["u"])(),Object(n["f"])("div",ct,[Object(n["i"])("p",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"0","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_completely_msg")),1)])]),a.isByQuestion?(Object(n["u"])(),Object(n["f"])("p",ut,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"1","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_all_work_msg")),1)])])):Object(n["g"])("",!0)])):"attempt"===a.showType?(Object(n["u"])(),Object(n["f"])("div",lt,[Object(n["i"])("p",null,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"0","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_attempt_regen_msg")),1)])]),a.isLastAttempt?(Object(n["u"])(),Object(n["f"])("p",bt,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"1","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_attempt_msg")),1)])])):Object(n["g"])("",!0)])):"qver"===a.showType?(Object(n["u"])(),Object(n["f"])("div",dt,[a.isByQuestion?(Object(n["u"])(),Object(n["f"])("p",ht,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"0","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_qver_regen_msg")),1)])])):(Object(n["u"])(),Object(n["f"])("p",pt,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"0","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_qver_regen_msg2")),1)])])),a.isLastQAttempt?(Object(n["u"])(),Object(n["f"])("p",ft,[Object(n["i"])("label",null,[Object(n["M"])(Object(n["i"])("input",{type:"radio",value:"1","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.type=t})},null,512),[[n["G"],e.type]]),Object(n["h"])(" "+Object(n["D"])(e.$t("gradebook.clear_qver_msg")),1)])])):Object(n["g"])("",!0)])):Object(n["g"])("",!0),Object(n["i"])("p",Ot,Object(n["D"])(e.$t("gradebook.clear_warning")),1),Object(n["i"])("div",jt,[Object(n["i"])("button",{class:"primary",onClick:t[8]||(t[8]=function(){return a.close&&a.close.apply(a,arguments)})}," Cancel "),Object(n["i"])("button",{class:"secondary",onClick:t[9]||(t[9]=function(){return a.doAction&&a.doAction.apply(a,arguments)})}," Continue ")])],8,["aria-label"])],512)):Object(n["g"])("",!0)}var gt=s("649c"),wt=s.n(gt),mt={name:"GbClearAttempts",data:function(){return{type:0,dialog:null}},computed:{showModal:function(){return Z.clearAttempts.show},showType:function(){return Z.clearAttempts.type},isByQuestion:function(){return"by_question"===Z.assessInfo.submitby},isLastAttempt:function(){var e=Z.assessInfo.assess_versions.length-1;return Z.assessInfo.has_practice&&e--,Z.curAver===e},isLastQAttempt:function(){var e=Z.assessInfo.assess_versions[Z.curAver].questions[Z.clearAttempts.qn].length-1;return Z.curQver[Z.clearAttempts.qn]===e}},methods:{close:function(){Z.clearAttempts.show=!1,window.$(document).off("keyup.dialog"),this.dialog.destroy()},doAction:function(){K.clearAttempt(this.type)}},updated:function(){var e=this;Z.clearAttempts.show&&(window.$(document).on("keyup.dialog",(function(t){"Escape"===t.key&&e.close()})),this.dialog=new wt.a(this.$refs.wrap),this.dialog.show())}};mt.render=vt;var yt=mt,kt=s("4632"),qt=s("619f"),_t=s("96ec"),Dt=s("0597"),At=s("c49e"),xt=(s("6e40"),{components:{GbQuestion:te,GbShowwork:ae,GbAssessSelect:Oe,GbQuestionSelect:qe,GbScoreDetails:at,GbClearAttempts:yt,SummaryCategories:kt["a"],ErrorDialog:qt["a"],GbFeedback:rt,ConfirmDialog:_t["a"],InterQuestionTextList:Dt["a"],InterQuestionText:At["a"]},data:function(){return{showOverride:!1,assessOverride:"",hide100:!1,hidePerfect:!1,hideNonzero:!1,hideZero:!1,hideUnanswered:!1,hideFeedback:!1,hideNowork:!1,showFilters:!1,showEndmsg:!1,showExcused:!1,showAllWork:!1,hidetexts:!0}},computed:{assessInfoLoaded:function(){return null!==Z.assessInfo},aData:function(){return Z.assessInfo},viewFull:function(){return this.aData.viewfull},canEdit:function(){return Z.assessInfo.can_edit_scores&&this.viewFull},canSubmit:function(){return!Z.inTransit},useEditor:function(){return"undefined"!==typeof window.tinyMCE},isByQuestion:function(){return"by_question"===this.aData.submitby},startedString:function(){return 0===this.aData.starttime?this.$t("gradebook.not_started"):this.aData.starttime_disp},lastchangeString:function(){return 0===this.aData.lastchange?this.$t("gradebook.not_submitted"):this.aData.lastchange_disp},totalTimeOnTask:function(){return Math.round(10*this.aData.timeontask/60)/10+" "+this.$t("gradebook.minutes")},attemptCount:function(){for(var e=0,t=0;t<this.aData.assess_versions.length;t++)this.aData.assess_versions[t].status<3&&e++;return e},extensionString:function(){return"latepass"===this.aData.extended_with.type?this.$tc("setlist.latepass_used",this.aData.extended_with.n):this.$t("setlist.extension")},curQuestions:function(){return this.aData.assess_versions[Z.curAver].questions},curAver:function(){return Z.curAver},curQver:function(){return Z.curQver},curQuestionVers:function(){for(var e=[],t=0;t<this.curQuestions.length;t++)e[t]=this.curQuestions[t][this.curQver[t]];return e},curEndmsg:function(){return this.aData.assess_versions[Z.curAver].endmsg||""},showCategories:function(){var e=!1;for(var t in this.curQuestionVers)if(this.curQuestionVers[t].hasOwnProperty("category")&&""!==this.curQuestionVers[t].category&&null!==this.curQuestionVers[t].category){e=!0;break}var s=this.curQuestionVers[0].hasOwnProperty("score")&&!isNaN(Number(this.curQuestionVers[0].score));return e&&s},scoreCalc:function(){if("by_question"===this.aData.submitby)return this.$t("gradebook.best_on_question");if("best"===this.aData.keepscore){var e=this.$t("gradebook.keep_best");return"number"===typeof this.aData.gbscore&&(e+=" ("+this.$tc("gradebook.attempt_n",this.aData.scored_version+1)+")"),e}return"average"===this.aData.keepscore?this.$t("gradebook.keep_avg"):"last"===this.aData.keepscore?this.$t("gradebook.keep_last"):""},showViewAsStu:function(){return this.aData.has_active_attempt||0===this.aData.scored_version&&-1===this.aData.assess_versions[0].status},viewAsStuUrl:function(){return"index.php?cid="+Z.cid+"&aid="+Z.aid+"&uid="+Z.uid},showQuestion:function(){for(var e={},t=0;t<this.curQuestions.length;t++){var s=this.curQuestions[t][this.curQver[t]],n=!0;this.hide100&&Math.abs(s.score-s.points_possible)<.002||this.hidePerfect&&Math.abs(s.rawscore-1)<.002||this.hideUnanswered&&0===s.parts.reduce((function(e,t){return Math.max(e,t.try)}),0)||this.hideZero&&Math.abs(s.rawscore)<.002||this.hideNonzero&&Math.abs(s.rawscore)>.002&&Math.abs(s.rawscore)<.998||this.hideFeedback&&null!==s.feedback&&""!==s.feedback?n=!1:!this.hideNowork||s.hasOwnProperty("work")&&null!==s.work&&""!==s.work||(n=!1),e[t]=n}return e},exceptionActionLabel:function(){return this.aData.hasexception?this.$t("gradebook.edit_exception"):this.$t("gradebook.make_exception")},assessFeedback:function(){return this.aData.assess_versions[Z.curAver].feedback||""},savedMsg:function(){return""===Z.saving?"":this.$t("gradebook."+Z.saving)},latepassBlockMsg:function(){var e;switch(this.aData.latepass_status){case 7:e="practice";break;case 8:e="gb";break;case 2:e="lpcutoff";break;case 3:e="courseend";break;case 4:e="pastdue";break;case 5:e="toolate";break;case 6:e="toofew";break}return this.$t("gradebook.latepass_blocked_"+e)},isUnsubmitted:function(){return"by_assessment"===this.aData.submitby&&0===this.aData.assess_versions[Z.curAver].status},hasError:function(){return null!==Z.errorMsg},errorMsg:function(){return Z.errorMsg},confirmObj:function(){return Z.confirmObj},lastQ:function(){return this.aData.assess_versions[Z.curAver].questions.length-1},textList:function(){return Z.assessInfo.hasOwnProperty("interquestion_text")?Z.assessInfo.interquestion_text:[]}},methods:{changeAssessVersion:function(e){var t=this;e!==Z.curAver&&(Object.keys(Z.scoreOverrides).length>0||Object.keys(Z.feedbacks).length>0?Z.confirmObj={body:"gradebook.unsaved_warn",action:function(){return t.doChangeAssessVersion(e)}}:this.doChangeAssessVersion(e))},doChangeAssessVersion:function(e){e!==Z.curAver&&(this.hidetexts=!0,3===this.aData.assess_versions[e].status?K.loadGbAssessVersion(0,!0):K.loadGbAssessVersion(e,!1))},changeQuestionVersion:function(e,t){if(t!==Z.curQver[e]){var s=!1,n=new RegExp("^"+Z.curAver+"-"+e+"-");for(var r in Z.scoreOverrides)n.test(r)&&(s=!0);for(var i in Z.feedbacks)n.test(i)&&(s=!0);s?Z.confirmObj={body:"gradebook.unsaved_warn",action:function(){return K.loadGbQuestionVersion(e,t)}}:K.loadGbQuestionVersion(e,t)}},updateFeedback:function(e){K.setFeedback(null,e)},setScoreOverride:function(e){var t=e.target.value.trim();t!==this.aData.scoreoverride&&(Z.scoreOverrides.gen=t,this.assessOverride=""),Z.saving=""},submitChanges:function(e){!this.aData.hasOwnProperty("scoreoverride")&&this.showOverride&&(""!==this.assessOverride&&(Z.scoreOverrides.gen=this.assessOverride),this.showOverride=!1);var t=!0===e;K.saveChanges(t)},submitForm:function(){this.submitChanges(!0)},exit:function(){window.location=window.exiturl},clearAttempts:function(e){Z.clearAttempts.type=e,Z.clearAttempts.show=!0},clearLPblock:function(){K.clearLPblock()},submitVersion:function(){K.endAssess()},redeemLatePass:function(){window.location=this.APIbase+"../course/redeemlatepass.php?cid="+Z.cid+"&aid="+Z.aid},makeException:function(){var e=Z.APIbase+"../course/exception.php";e+="?cid="+Z.cid+"&aid="+Z.aid+"&uid="+Z.uid,e+="&from=gb",window.location=e},showAllAns:function(){window.$("span[id^=ans]").toggleClass("hidden",!1).show(),window.$(".sabtn").replaceWith("<span>Answer: </span>"),window.$(".keybtn").attr("aria-expanded","true"),window.$("div[id^=dsbox]").toggleClass("hidden",!1).attr("aria-hidden",!1).attr("aria-expanded",!0),window.$("input[aria-controls^=dsbox]").attr("aria-expanded",!0)},beforeUnload:function(e){if(Object.keys(Z.scoreOverrides).length>0||Object.keys(Z.feedbacks).length>0)return e.preventDefault(),e.returnValue="You have unsaved changes","You have unsaved changes"},clearError:function(){Z.errorMsg=null},closeConfirm:function(){Z.confirmObj=null},previewFiles:function(){window.previewallfiles()},toggleFloatingScoreboxes:function(){window.toggleScrollingScoreboxes()},loadTexts:function(){Z.assessInfo.hasOwnProperty("intro")||K.loadGbTexts()}},created:function(){window.$(window).on("beforeunload",this.beforeUnload),"undefined"!==typeof window.APIbase?Z.APIbase=window.APIbase:Z.APIbase="vue/";var e=window.location.search.replace(/^.*cid=(\d+).*$/,"$1"),t=window.location.search.replace(/^.*aid=(\d+).*$/,"$1"),s=window.location.search.replace(/^.*uid=(\d+).*$/,"$1"),n=window.location.search.replace(/^.*stu=(\d+).*$/,"$1");null!==Z.assessInfo&&Z.cid===e&&Z.aid===t&&Z.uid===s||(Z.cid=e,window.cid=e,Z.aid=t,Z.uid=s,Z.stu=n,Z.queryString="?cid="+Z.cid+"&aid="+Z.aid+"&uid="+Z.uid,K.loadGbAssessData())}});s("79d5");xt.render=J;var $t=xt,It=s("9225");Object(n["e"])($t).use(It["a"]).mount("#app")},f012:function(e,t,s){},f27e:function(e,t,s){"use strict";s("77a1")}});
//# sourceMappingURL=gbviewassess.js.map