(self["webpackChunkimathas_assess2"]=self["webpackChunkimathas_assess2"]||[]).push([[64],{7956:function(e,t,s){"use strict";s.d(t,{N:function(){return l},h:function(){return r}});s(560);var i=s(2262),n=s(6252),a=s(6978),o=s(9437);const r=(0,i.qj)({assessInfo:null,APIbase:null,aid:null,cid:null,uid:null,queryString:"",inAssess:!1,inTransit:!1,autoSaving:!1,errorMsg:null,confirmObj:null,lastLoaded:[],inProgress:!1,autosaveQueue:{},autosaveTimeactive:{},timeActive:{},timeActivated:{},initValues:{},initTimes:{},work:{},autosaveTimer:null,somethingDirty:!1,noUnload:!1,timelimit_timer:null,timelimit_expired:!1,timelimit_grace_expired:!1,timelimit_restricted:0,enddate_timer:null,showwork_timer:null,showwork_expired:!1,show_enddate_dialog:!1,inPrintView:!1,enableMQ:!0,lastPos:null,livepollServer:"",livepollSettings:{showQuestionDefault:!0,showResultsLiveDefault:!1,showResultsAfter:!0,showAnswersAfter:!0,useTimer:!1,questionTimelimit:60},livepollStuCnt:0,livepollResults:{}}),l={loadAssessData(e,t){let s=r.queryString;!0===t&&(s+="&reset=1"),r.inTransit?window.setTimeout((()=>this.loadAssessData(e,t)),20):(r.inTransit=!0,r.errorMsg=null,r.inAssess=!1,window.$.ajax({url:r.APIbase+"loadassess.php"+s,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((t=>{t.hasOwnProperty("error")?this.handleError(t.error):(r.inProgress=!1,r.timelimit_expired=!1,clearTimeout(r.timelimit_timer),t=this.processSettings(t),r.assessInfo=t,"undefined"!==typeof e&&null!==e&&e())})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},startAssess(e,t,s,i,n){r.inTransit?window.setTimeout((()=>this.startAssess(e,t,s,i)),20):(r.inTransit=!0,r.errorMsg=null,window.$.ajax({url:r.APIbase+"startassess.php"+r.queryString,type:"POST",dataType:"json",data:{practice:e,preview_all:n?1:0,password:t,in_print:r.inPrintView?1:0,new_group_members:s.join(","),cur_group:r.assessInfo.stugroupid,has_ltisourcedid:r.assessInfo.is_lti&&r.assessInfo.has_ltisourcedid?1:0},xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{if(e.hasOwnProperty("error"))this.handleError(e.error);else if(window.imathasDraw.reset(),e=this.processSettings(e),r.assessInfo=Object.assign({},r.assessInfo,e),r.autosaveQueue={},r.autosaveTimeactive={},r.initValues={},r.initTimes={},r.timeActive={},r.timeActivated={},r.work={},r.inAssess=!0,e.error)this.handleError(e.error);else if(r.assessInfo.has_active_attempt){if(r.inProgress=!0,"undefined"!==typeof i&&null!==i)return void i();"skip"===r.assessInfo.displaymethod?""!==r.assessInfo.intro||r.assessInfo.resources.length>0?a.Z.push("/skip/0"):a.Z.push("/skip/1"):"full"===r.assessInfo.displaymethod?r.assessInfo.hasOwnProperty("interquestion_pages")?""!==r.assessInfo.intro||r.assessInfo.resources.length>0?a.Z.push("/full/page/0"):a.Z.push("/full/page/1"):a.Z.push("/full"):"video_cued"===r.assessInfo.displaymethod?a.Z.push("/videocued"):"livepoll"===r.assessInfo.displaymethod&&a.Z.push("/livepoll")}})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},loadQuestion(e,t,s,i){if(this.prepForSave("all"),r.inTransit)return void window.setTimeout((()=>this.loadQuestion(e,t,s)),20);if(r.somethingDirty&&null==i)return void window.setTimeout((()=>this.loadQuestion(e,t,s,!0)),50);r.inTransit=!0,t&&(this.clearInitValue(e),r.assessInfo.hasOwnProperty("scoreerrors")&&r.assessInfo.scoreerrors.hasOwnProperty(e)&&delete r.assessInfo.scoreerrors[e]);const n=new FormData;n.append("qn",e),n.append("practice",r.assessInfo.in_practice),n.append("regen",t?1:0),n.append("jumptoans",s?1:0),r.assessInfo.preview_all&&n.append("preview_all",!0),Object.keys(r.autosaveQueue).length>0&&(l.clearAutosaveTimer(),this.addAutosaveData(n)),window.$.ajax({url:r.APIbase+"loadquestion.php"+r.queryString,type:"POST",dataType:"json",data:n,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((s=>{s.hasOwnProperty("error")?this.handleError(s.error):(s.saved_autosaves&&this.markAutosavesDone(),delete s.saved_autosaves,t&&r.assessInfo.questions[e].jsparams&&window.imathasAssess.clearparams(r.assessInfo.questions[e].jsparams),s=this.processSettings(s),this.copySettings(s))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1}))},prepForSave(e){for(let t in window.callbackstack)t=parseInt(t),("all"===e||e.indexOf(t<1e3?t:Math.floor(t/1e3)-1)>-1)&&window.callbackstack[t](t);"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave()},submitAssessment(){let e="header.confirm_assess_submit";if("by_assessment"===r.assessInfo.submitby){let t=0;const s=this.getChangedQuestions();for(const e in r.assessInfo.questions)(r.assessInfo.questions[e].try>0||r.assessInfo.questions[e].hasOwnProperty("parts_entered")&&r.assessInfo.questions[e].hasOwnProperty("answeights")&&r.assessInfo.questions[e].parts_entered.length>=r.assessInfo.questions[e].answeights.length||s.hasOwnProperty(e))&&t++;const i=r.assessInfo.questions.length;t!==i&&(e="header.confirm_assess_unattempted_submit"),r.confirmObj={body:e,action:()=>{var e=[];for(let t=0;t<r.assessInfo.questions.length;t++)e.push(t);this.submitQuestion(e,!0)}}}},submitWork(){if(r.inTransit)return void window.setTimeout((()=>this.submitWork()),20);"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),r.inTransit=!0;const e={};window.$(".swbox").each((function(){const e=parseInt(this.id.substr(2));r.assessInfo.questions[e].hasOwnProperty("work")&&this.value===r.assessInfo.questions[e].work||(r.work[e]=this.value)}));for(const t in r.work)e[t]=r.work[t];if(0===Object.keys(e).length)return r.inTransit=!1,r.errorMsg=null,void(r.inAssess?a.Z.push("/summary"):"yes"===r.assessInfo.available?a.Z.push("/"):window.location=window.exiturl);window.$.ajax({url:r.APIbase+"savework.php"+r.queryString,type:"POST",dataType:"json",data:{work:e},xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{if(e.hasOwnProperty("error")&&"workafter_expired"!==e.error)return this.handleError(e.error),void("already_submitted"===e.error&&(e=this.processSettings(e),this.copySettings(e)));r.errorMsg=null;for(const t in r.work)r.assessInfo.questions[parseInt(t)].work=r.work[t],delete r.work[t];r.inAssess?a.Z.push("/summary"):"yes"===r.assessInfo.available?a.Z.push("/"):window.location=window.exiturl})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1}))},submitQuestion(e,t){if(r.somethingDirty=!1,this.clearAutosaveTimer(),r.inTransit)return void window.setTimeout((()=>this.submitQuestion(e,t)),20);r.inTransit=!0,"object"!==typeof e&&(e=[e]),this.prepForSave(e);const s=[],i=this.getChangedQuestions(e);let o=!1;for(let n=0;n<e.length;n++){const t=parseInt(e[n]);document.getElementById("sw"+t)&&(r.work[t]=document.getElementById("sw"+t).value),r.work[t]&&r.work[t]!==l.getInitValue(t,"sw"+t)&&(o=!0)}if(0===Object.keys(i).length&&!o&&!t)return r.errorMsg="nochange",void(r.inTransit=!1);window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),window.setTimeout((()=>this.clearAutosave(e)),100);const u=new FormData;let d;const h=[];for(const n in i){if("full"!==r.assessInfo.displaymethod){if(r.timeActivated.hasOwnProperty(n)){const e=new Date;r.timeActive[n]+=e-r.timeActivated[n]}h.push(r.timeActive[n])}let e;1===i[n].length&&0===i[n][0]&&(d=window.imathasAssess.preSubmit(n),!1!==d&&u.append("qn"+n+"-val",d));for(let t=0;t<i[n].length;t++)e=1e3*(parseInt(n)+1)+i[n][t],d=window.imathasAssess.preSubmit(e),!1!==d&&u.append("qn"+e+"-val",d)}for(let n=0;n<e.length;n++){const t=parseInt(e[n]);var c=new RegExp("^(qn|tc|qs)("+t+"\\b|"+(t+1)+"\\d{3})");window.$("#questionwrap"+t).find("input,select,textarea").each((function(e,t){t.name.match(c)&&("radio"!==t.type&&"checkbox"!==t.type||t.checked)&&("file"===t.type&&t.files.length>0?u.append(t.name,t.files[0]):"file"===t.type?document.getElementById(t.name+"-autosave")&&u.append(t.name,"file-autosave"):u.append(t.name,window.imathasAssess.preSubmitString(t.name,t.value)))})),r.work[t]&&r.work[t]!==l.getInitValue(t,"sw"+t)&&u.append("sw"+t,r.work[t]),s[n]=r.lastLoaded[t].getTime()}u.append("toscoreqn",JSON.stringify(i)),u.append("timeactive",h.join(",")),u.append("lastloaded",s.join(",")),u.append("verification",JSON.stringify(this.getVerificationData(i))),t&&u.append("endattempt",t),r.assessInfo.in_practice&&u.append("practice",!0),r.assessInfo.preview_all&&u.append("preview_all",!0),this.addAutosaveData(u,Object.keys(i));const p=1===e.length&&r.assessInfo.questions[e[0]].jsparams&&r.assessInfo.questions[e[0]].jsparams.hasseqnext;window.$.ajax({url:r.APIbase+"scorequestion.php"+r.queryString,type:"POST",dataType:"json",data:u,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((s=>{if(s.hasOwnProperty("error"))return this.handleError(s.error),void("already_submitted"===s.error&&(s=this.processSettings(s),this.copySettings(s)));r.errorMsg=null,s.saved_autosaves&&this.markAutosavesDone(),delete s.saved_autosaves;for(const e in i)r.assessInfo.hasOwnProperty("scoreerrors")&&r.assessInfo.scoreerrors.hasOwnProperty(e)&&delete r.assessInfo.scoreerrors[e],r.initValues.hasOwnProperty(e)&&delete r.initValues[e],r.work.hasOwnProperty(e)&&delete r.work[e];s=this.processSettings(s),this.copySettings(s),!r.assessInfo.in_practice&&window.inTreeReader&&this.updateTreeReader();let o=!1;for(let e=0;e<r.assessInfo.questions.length;e++)if(2&r.assessInfo.questions[e].showwork){o=!0;break}t?(r.inProgress=!1,o&&!r.assessInfo.in_practice?a.Z.push("/showwork"):a.Z.push("/summary")):1===e.length&&(r.assessInfo.questions[e[0]].hadSeqNext=p,(0,n.Y3)((()=>{var t;p?(t=window.$("#questionwrap"+e[0]).find(".seqsep").last().next()[0],window.$("#questionwrap"+e[0]).find(".seqsep").last().focus()):(t=document.getElementById("questionwrap"+e[0]).parentNode.parentNode,window.$(t).find(".scoreresult").focus());var s=t.getBoundingClientRect();(s.top<0||s.bottom>document.documentElement.clientHeight)&&t.scrollIntoView()})))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1}))},gotoSummary(){let e=!1;for(let t=0;t<r.assessInfo.questions.length;t++)if(2&r.assessInfo.questions[t].showwork){e=!0,r.assessInfo.showwork_after=!0;break}"by_question"===r.assessInfo.submitby&&(e&&!r.assessInfo.in_practice?a.Z.push("/showwork"):a.Z.push("/summary"))},doAutosave(e,t,s){r.inTransit?window.setTimeout((()=>this.doAutosave(e,t,s)),20):(r.somethingDirty=!1,r.autosaveQueue.hasOwnProperty(e)||(r.autosaveQueue[e]=[]),-1===r.autosaveQueue[e].indexOf(t)&&r.autosaveQueue[e].push(t),r.autosaveTimeactive[e]=s,null===r.autosaveTimer&&(r.autosaveTimer=window.setTimeout((()=>{this.submitAutosave(!0)}),6e4)))},clearAutosave(e){for(const t in e)r.autosaveQueue.hasOwnProperty(e[t])&&delete r.autosaveQueue[e[t]];0===Object.keys(r.autosaveQueue).length&&this.clearAutosaveTimer()},clearAutosaveTimer(){window.clearTimeout(r.autosaveTimer),r.autosaveTimer=null},addAutosaveData(e,t){t=t||[];const s={},i={};let n;for(const o in r.autosaveQueue){if(-1!==t.indexOf(o))continue;i[o]=r.autosaveQueue[o],1===r.autosaveQueue[o].length&&0===r.autosaveQueue[o][0]&&(n=window.imathasAssess.preSubmit(o),!1!==n&&e.append("qn"+o+"-val",n));const l=[];let u;for(const t in r.autosaveQueue[o]){const s=r.autosaveQueue[o][t];"sw"!==s?(0===s&&l.push(o),u=1e3*(1*o+1)+1*s,l.push(u),n=window.imathasAssess.preSubmit(u),!1!==n&&e.append("qn"+u+"-val",n)):e.append("sw"+o,r.work[o])}var a=new RegExp("^(qn|tc|qs)("+l.join("\\b|")+"\\b)");window.$("#questionwrap"+o).find("input,select,textarea").each((function(t,s){s.name.match(a)&&("radio"!==s.type&&"checkbox"!==s.type||s.checked)&&("file"===s.type?0===s.files.length?e.append(s.name,""):e.append(s.name,s.files[0]):e.append(s.name,window.imathasAssess.preSubmitString(s.name,s.value)))})),s[o]=r.lastLoaded[o].getTime()}e.append("autosave-tosaveqn",JSON.stringify(i)),e.append("autosave-lastloaded",JSON.stringify(s)),e.append("autosave-verification",JSON.stringify(this.getVerificationData(i))),"full"===r.assessInfo.displaymethod?e.append("autosave-timeactive",""):e.append("autosave-timeactive",JSON.stringify(r.autosaveTimeactive))},markAutosavesDone(){for(const e in r.autosaveQueue)for(const t in r.autosaveQueue[e])r.assessInfo.questions[parseInt(e)].hasOwnProperty("parts_entered")&&-1===r.assessInfo.questions[parseInt(e)].parts_entered.indexOf(r.autosaveQueue[e][t])&&r.assessInfo.questions[parseInt(e)].parts_entered.push(r.autosaveQueue[e][t]);r.autosaveQueue={}},submitAutosave(e){if(r.somethingDirty=!1,this.clearAutosaveTimer(),0===Object.keys(r.autosaveQueue).length)return;if(r.inTransit)return void window.setTimeout((()=>this.submitAutosave(e)),20);r.inTransit=!0,r.autoSaving=!0,this.prepForSave(Object.keys(r.autosaveQueue));const t=new FormData;if(this.addAutosaveData(t),r.assessInfo.in_practice&&t.append("practice",!0),r.assessInfo.preview_all&&t.append("preview_all",!0),!1===e&&navigator.sendBeacon)return navigator.sendBeacon(r.APIbase+"autosave.php"+r.queryString,t),r.inTransit=!1,r.autoSaving=!1,void(r.autosaveQueue={});window.$.ajax({url:r.APIbase+"autosave.php"+r.queryString,type:"POST",dataType:"json",data:t,async:e,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{if(e.hasOwnProperty("error"))return this.handleError(e.error),void("already_submitted"===e.error&&(e=this.processSettings(e),this.copySettings(e)));"done"===e.autosave&&(this.markAutosavesDone(),delete e.autosave),e=this.processSettings(e),this.copySettings(e)})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1,r.autoSaving=!1}))},handleTimelimitUp(){r.assessInfo.has_active_attempt&&(r.errorMsg="timesup_submitting",this.prepForSave("all"),setTimeout((()=>{const e=Object.keys(this.getChangedQuestions());this.submitQuestion(e,!0)}),1e3))},handleShowworklimitUp(){"undefined"!==typeof window.tinyMCE&&window.tinyMCE.triggerSave(),r.errorMsg="workafter_submitting",r.showwork_expired=!0,setTimeout((()=>{this.submitWork()}),1e3)},handleDueDate(){l.submitAutosave(),r.show_enddate_dialog=!0},endAssess(e){r.somethingDirty=!1,this.clearAutosaveTimer(),window.MQeditor.resetEditor(),window.imathasAssess.clearTips(),r.inTransit?window.setTimeout((()=>this.endAssess(e)),20):(r.inTransit=!0,r.errorMsg=null,window.$.ajax({url:r.APIbase+"endassess.php"+r.queryString,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((t=>{t.hasOwnProperty("error")?this.handleError(t.error):(t=this.processSettings(t),this.copySettings(t),r.inProgress=!1,"function"===typeof e&&e())})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},getScores(){r.inTransit?window.setTimeout((()=>this.getScores()),20):(r.inTransit=!0,window.$.ajax({url:r.APIbase+"getscores.php"+r.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{e.hasOwnProperty("error")?this.handleError(e.error):(e=this.processSettings(e),this.copySettings(e))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},getQuestions(){r.inTransit?window.setTimeout((()=>this.getQuestions()),20):(r.inTransit=!0,window.$.ajax({url:r.APIbase+"getquestions.php"+r.queryString,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{e.hasOwnProperty("error")?this.handleError(e.error):(e=this.processSettings(e),this.copySettings(e))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},redeemLatePass(e){r.inTransit?window.setTimeout((()=>this.redeemLatePass(e)),20):(r.inTransit=!0,window.$.ajax({url:r.APIbase+"uselatepass.php"+r.queryString,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).done((t=>{t.hasOwnProperty("error")?this.handleError(t.error):(t=this.processSettings(t),this.copySettings(t),"function"===typeof e?e():a.Z.push("/"))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},routeToStart(){a.Z.push("/")},setLivepollStatus(e){r.inTransit?window.setTimeout((()=>this.setLivepollStatus(e)),20):(r.inTransit=!0,r.errorMsg=null,window.$.ajax({url:r.APIbase+"livepollstatus.php"+r.queryString,type:"POST",dataType:"json",data:e,xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{e.hasOwnProperty("error")?this.handleError(e.error):(e=this.processSettings(e),this.copySettings(e))})).fail(((e,t,s)=>{this.handleError("parsererror"===t?"parseerror":"noserver")})).always((e=>{r.inTransit=!1})))},getVerificationData(e){const t={},s="by_question"===r.assessInfo.submitby,i=r.assessInfo.prev_attempts.length;for(const n in e){const e=[],a=r.assessInfo.questions[n];for(let t=0;t<a.parts.length;t++)e[t]=a.parts[t].try;t[n]={tries:e,regen:s?a.regen:i}}return t},setInitValue(e,t,s){r.initValues.hasOwnProperty(e)||(r.initValues[e]={});let i=0;if(t.match(/^sw/))i="sw";else{const n=t.match(/^(qs|qn|tc)(\d+)/),a=n[2];a>1e3&&(i=a%1e3),"draw"===r.assessInfo.questions[e].jsparams[a].qtype&&""===s&&(s=";;;;;;;;")}r.assessInfo.questions[e].hasOwnProperty("usedautosave")&&-1!==r.assessInfo.questions[e].usedautosave.indexOf(i)||r.initValues[e].hasOwnProperty(t)||(r.initValues[e][t]=s)},getInitValue(e,t){return r.initValues.hasOwnProperty(e)&&r.initValues[e].hasOwnProperty(t)?r.initValues[e][t]:""},clearInitValue(e){r.initValues[e]={}},getInitTimeactive(e){if(r.assessInfo.questions[e].hasOwnProperty("autosave_timeactive")){var t=r.assessInfo.questions[e].autosave_timeactive;return r.assessInfo.questions[e].autosave_timeactive=0,t}return 0},setRendered(e,t){r.assessInfo&&(r.assessInfo.questions[e].rendered=t)},getChangedQuestions(e){if("object"!==typeof e){if(!r.assessInfo.hasOwnProperty("questions"))return{};e=[];for(let t=0;t<r.assessInfo.questions.length;t++)e.push(t)}const t={};let s;for(let n=0;n<e.length;n++){const a=e[n];r.assessInfo.questions[a].showwork&&r.work.hasOwnProperty(a)&&r.work[a]!==l.getInitValue(a,"sw"+a)&&(t.hasOwnProperty(a)||(t[a]=[]));var i=new RegExp("^(qn|tc|qs)("+a+"\\b|"+(1*a+1)+"\\d{3})");if(window.$("#questionwrap"+a).find("input,select,textarea").each((function(e,n){if(null!==(s=n.name.match(i))){let e=!1;if("radio"===n.type||"checkbox"===n.type?n.checked&&n.value!==l.getInitValue(a,n.name)?e=!0:n.checked||n.value!==l.getInitValue(a,n.name)||(e=!0):("file"===n.type&&null!==document.getElementById(n.name+"-autosave")||n.value.trim()!==l.getInitValue(a,n.name)&&""!==n.value.trim())&&(e=!0),e){t.hasOwnProperty(a)||(t[a]=[]);let e=0;const i=parseInt(s[2]);i>1e3&&(e=i%1e3),-1===t[a].indexOf(e)&&t[a].push(e)}}})),r.assessInfo.questions[a].hasOwnProperty("jsparams")){const e=r.assessInfo.questions[a].jsparams;for(const s in e)if(e.submitall||s.match(/\d/)&&e[s].hasOwnProperty("submitblank")){let e=0;s>1e3&&(e=s%1e3),t.hasOwnProperty(a)||(t[a]=[]),-1===t[a].indexOf(e)&&t[a].push(e)}}}return t},handleError(e){r.assessInfo.hasOwnProperty("is_lti")&&r.assessInfo.is_lti&&"no_session"===e&&(e="lti_no_session"),r.errorMsg=e},updateTreeReader(){let e=0;for(const i in r.assessInfo.questions)r.assessInfo.questions[i].try>0&&e++;let t=0;e===r.assessInfo.questions.length?t=2:e>0&&(t=1);try{top.updateTRunans(r.aid,t)}catch(s){}},enableMQ(){r.enableMQ=!0,window.imathasAssess.clearLivePreviewTimeouts(),window.$("input[type=button][id^=pbtn],button[id^=pbtn]").hide(),window.$("span[id^=p] span[id^=lpbuf]").empty(),window.MQeditor.toggleMQAll("input[data-mq]",!0)},disableMQ(){r.enableMQ=!1,window.$("input[type=button][id^=pbtn],button[id^=pbtn]").show().trigger("click"),window.MQeditor.toggleMQAll("input[data-mq]",!1)},copySettings(e){if(e.hasOwnProperty("questions")){r.assessInfo.hasOwnProperty("questions")||(r.assessInfo.questions=[]);for(const t in e.questions){const s=parseInt(t);null===e.questions[t].category&&r.assessInfo.questions.hasOwnProperty(s)&&r.assessInfo.questions[s].hasOwnProperty("category")&&(e.questions[t].category=r.assessInfo.questions[s].category),r.assessInfo.questions[s]=e.questions[t]}delete e.questions}r.assessInfo=Object.assign({},r.assessInfo,e)},processSettings(e){if(e.hasOwnProperty("questions"))for(const t in e.questions){const s=e.questions[t];if(e.questions[t].canretry=s.try<s.tries_max,e.questions[t].canretry_primary=e.questions[t].canretry,e.questions[t].tries_remaining=s.tries_max-s.try,s.hasOwnProperty("parts")){let i=1e10,n=0,a=!1;for(const e in s.parts){const t=s.tries_max-s.parts[e].try,o=s.hasOwnProperty("answeights")&&0===parseFloat(s.answeights[e])||s.parts[e].hasOwnProperty("points_possible")&&0===parseFloat(s.parts[e].points_possible);t<i&&!o&&(i=t),t>n&&!o&&(n=t),t>0&&(!s.parts[e].hasOwnProperty("rawscore")||s.parts[e].rawscore<1||s.parts[e].req_manual)&&(a=!0)}e.questions[t].canretry_primary=a,i!==n&&(e.questions[t].tries_remaining_range=[i,n])}"undefined"!==s.hasOwnProperty("regens_max")&&s.regen<s.regens_max-1?(e.questions[t].canregen=!0,e.questions[t].regens_remaining=s.regens_max-s.regen-1):(e.questions[t].canregen=!1,e.questions[t].regens_remaining=0),e.questions[t].has_details=s.hasOwnProperty("parts")&&(s.parts.length>1||s.parts[0].hasOwnProperty("penalties")&&s.parts[0].penalties.length>0),0!==e.questions[t].withdrawn&&(e.questions[t].canretry=!1,e.questions[t].tries_remaining=0,e.questions[t].canregen=!1,e.questions[t].regens_remaining=0),r.lastLoaded[t]=new Date}if(e.hasOwnProperty("showscores")&&(e.show_scores_during="during"===e.showscores),e.hasOwnProperty("regen")&&(e.regens_remaining=e.regens_max-e.regen-1),e.hasOwnProperty("enableMQ")&&(r.enableMQ=e.enableMQ),e.hasOwnProperty("enddate_in")&&e.enddate_in>0&&null===r.timelimit_timer&&e.enddate_in<1728e3){window.clearTimeout(r.enddate_timer);const t=(new Date).getTime(),s=1e3*e.enddate_in;e.enddate_local=t+s,r.enddate_timer=setTimeout((()=>{this.handleDueDate()}),s)}if(e.hasOwnProperty("showwork_cutoff_in")){window.clearTimeout(r.showwork_timer);const t=(new Date).getTime(),s=1e3*e.showwork_cutoff_in;e.showwork_local_cutoff_expires=t+s,s>0?(r.showwork_timer=setTimeout((()=>{this.handleShowworklimitUp()}),s),r.showwork_expired=!1):r.showwork_expired=!0}if(e.hasOwnProperty("timelimit_expiresin")){window.clearTimeout(r.timelimit_timer),window.clearTimeout(r.enddate_timer);const t=(new Date).getTime();e.hasOwnProperty("timelimit_expires")&&(e.timelimit_expires===e.enddate?r.timelimit_restricted=1:e.timelimit_grace===e.enddate&&(r.timelimit_restricted=2));const s=1e3*e.timelimit_expiresin,i=1e3*e.timelimit_gracein;e.timelimit_local_expires=t+s,e.timelimit_local_grace=i>0?t+i:0,s>0?(e.timelimit_gracein>0?r.timelimit_timer=setTimeout((()=>{this.handleTimelimitUp()}),i):r.timelimit_timer=setTimeout((()=>{this.handleTimelimitUp()}),s),r.timelimit_expired=!1,r.timelimit_grace_expired=!1):(r.timelimit_expired=!0,r.timelimit_grace_expired=!0,e.timelimit_gracein>0&&i>0&&(r.timelimit_timer=setTimeout((()=>{this.handleTimelimitUp()}),i),r.timelimit_grace_expired=!1))}else e.timelimit>0&&(e.enddate_in<e.timelimit?r.timelimit_restricted=1:e.enddate_in<e.timelimit+e.overtime_grace?r.timelimit_restricted=2:r.timelimit_restricted=0);if(e.hasOwnProperty("questions")&&e.hasOwnProperty("interquestion_text")&&(0,o.a)(e,e.questions),e.hasOwnProperty("interquestion_text")&&(0,o.W)(e,e.questions),e.hasOwnProperty("noprint")&&1===e.noprint){const e=document.createElement("style");e.type="text/css",e.media="print",e.innerText="body { display: none;}",document.head.appendChild(e)}if(e.hasOwnProperty("livepoll_server")&&""===r.livepollServer){const t=document.createElement("script");t.src="https://"+e.livepoll_server+":3000/socket.io/socket.io.js",document.head.appendChild(t),r.livepollServer=e.livepoll_server}return e.hasOwnProperty("useMQ")&&(!0!==e.useMQ||r.enableMQ?!1===e.useMQ&&r.enableMQ&&this.disableMQ():this.enableMQ()),e.hasOwnProperty("name")&&(window.document.title=e.name),e}}},5965:function(e,t,s){s(560),function(t){"use strict";var s,i=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],n=9;function a(e,t){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.container=e,this.dialog=e.querySelector('dialog, [role="dialog"], [role="alertdialog"]'),this.role=this.dialog.getAttribute("role")||"dialog",this.useDialog="show"in document.createElement("dialog")&&"DIALOG"===this.dialog.nodeName,this._listeners={},this.create(t)}function o(e){return Array.prototype.slice.call(e)}function r(e,t){return o((t||document).querySelectorAll(e))}function l(e){return NodeList.prototype.isPrototypeOf(e)?o(e):Element.prototype.isPrototypeOf(e)?[e]:"string"===typeof e?r(e):void 0}function u(e){var t=d(e),s=e.querySelector("[autofocus]")||t[0];s&&s.focus()}function d(e){return r(i.join(","),e).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}function h(e,t){var s=d(e),i=s.indexOf(document.activeElement);t.shiftKey&&0===i?(s[s.length-1].focus(),t.preventDefault()):t.shiftKey||i!==s.length-1||(s[0].focus(),t.preventDefault())}function c(e){var t=o(e.parentNode.childNodes),s=t.filter((function(e){return 1===e.nodeType}));return s.splice(s.indexOf(e),1),s}a.prototype.create=function(e){return this._targets=this._targets||l(e)||c(this.container),this.shown=this.dialog.hasAttribute("open"),this.dialog.setAttribute("role",this.role),this.useDialog?this.container.setAttribute("data-a11y-dialog-native",""):this.shown?this.container.removeAttribute("aria-hidden"):this.container.setAttribute("aria-hidden",!0),this._fire("create"),this},a.prototype.show=function(e){return this.shown||(this.shown=!0,s=document.activeElement,this.useDialog?this.dialog.showModal(e instanceof Event?void 0:e):(this.dialog.setAttribute("open",""),this.container.removeAttribute("aria-hidden"),this._targets.forEach((function(e){e.setAttribute("aria-hidden","true")}))),u(this.dialog),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e)),this},a.prototype.hide=function(e){return this.shown?(this.shown=!1,this.useDialog?this.dialog.close(e instanceof Event?void 0:e):(this.dialog.removeAttribute("open"),this.container.setAttribute("aria-hidden","true"),this._targets.forEach((function(e){e.removeAttribute("aria-hidden")}))),s&&s.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e),this):this},a.prototype.destroy=function(){return this.hide(),this._fire("destroy"),this._listeners={},this},a.prototype.on=function(e,t){return"undefined"===typeof this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t),this},a.prototype.off=function(e,t){var s=this._listeners[e].indexOf(t);return s>-1&&this._listeners[e].splice(s,1),this},a.prototype._fire=function(e,t){var s=this._listeners[e]||[];s.forEach(function(e){e(this.container,t)}.bind(this))},a.prototype._bindKeypress=function(e){this.shown&&e.which===n&&h(this.dialog,e)},a.prototype._maintainFocus=function(e){this.shown&&!this.container.contains(e.target)&&u(this.dialog)},"undefined"!==typeof e.exports?e.exports=a:"object"===typeof t&&(t.A11yDialog=a)}("undefined"!==typeof s.g?s.g:window)},703:function(e,t,s){"use strict";s.d(t,{Q:function(){return i}});s(6265);function i(e){const t=e.getElementsByTagName("iframe");for(const s of t)if(s.src&&s.src.match(/enablejsapi/))s.contentWindow.postMessage('{"event":"command","func":"pauseVideo"}',"*");else if(s.src&&s.src.match(/(youtu|vimeo|screencast)/)){const e=s.src;s.src=e}}},3568:function(e,t,s){"use strict";s.d(t,{a:function(){return o}});s(6265),s(560);var i=s(8552);const n={en:{short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"}}};var a=s(790);const o=(0,i.o)({locale:"en",fallbackLocale:"en",messages:{en:a},dateTimeFormats:n}),r=["en"];function l(e){return o.locale=e,document.querySelector("html").setAttribute("lang",e),e}function u(e){return o.locale===e||r.includes(e)?Promise.resolve(l(e)):s(2695)("./"+e+".json").then((t=>(o.setLocaleMessage(e,t.default),r.push(e),l(e))))}var d=document.getElementsByTagName("html")[0].getAttribute("lang").substring(0,2);"en"!==d&&u(d)},4845:function(e,t,s){"use strict";s.d(t,{w:function(){return n}});var i=s(7956);const n={computed:{qsAttempted(){const e=[];for(const t in i.h.assessInfo.questions)e[t]=0,"by_assessment"===i.h.assessInfo.submitby&&1===i.h.assessInfo.questions[t].tries_max&&i.h.assessInfo.questions[t].hasOwnProperty("parts_entered")&&i.h.assessInfo.questions[t].hasOwnProperty("answeights")?i.h.assessInfo.questions[t].parts_entered.length>=i.h.assessInfo.questions[t].answeights.length?e[t]=1:i.h.assessInfo.questions[t].parts_entered.length>0&&(e[t]=.5):i.h.assessInfo.questions[t].try>0&&(e[t]=1);return e}}}},9437:function(e,t,s){"use strict";s.d(t,{W:function(){return n},a:function(){return i}});s(560);function i(e,t){let s=-1;const i=e.interquestion_text,n=[];for(const a in t)if(t[a].hasOwnProperty("text")){const e=t[a].text;if(JSON.stringify(e)===JSON.stringify(s))for(let t=0;t<e.length;t++)n[n.length-1-t].displayUntil=a;else{for(let t=0;t<e.length;t++)n.push(Object.assign({orig:1e5},i[e[t]])),n[n.length-1].displayBefore=a,n[n.length-1].displayUntil=a;s=e.slice()}}else s=-1;for(const a in i)i[a].hasOwnProperty("displayBefore")&&n.push(Object.assign({orig:a},i[a])),i[a].hasOwnProperty("atend")&&(n.push(Object.assign({orig:a},i[a])),n[n.length-1].displayBefore=t.length,n[n.length-1].displayUntil=t.length);n.length>0&&(n.sort((function(e,t){return parseInt(e.displayBefore)===parseInt(t.displayBefore)?e.orig-t.orig:e.displayBefore-t.displayBefore})),e.interquestion_text=n)}function n(e,t){e.interquestion_pages=[];let s=0;for(const i in e.interquestion_text)if(e.interquestion_text[i].displayBefore=parseInt(e.interquestion_text[i].displayBefore),e.interquestion_text[i].displayUntil=parseInt(e.interquestion_text[i].displayUntil),e.interquestion_text[i].forntype=parseInt(e.interquestion_text[i].forntype)>0,e.interquestion_text[i].ispage=parseInt(e.interquestion_text[i].ispage)>0,e.interquestion_text[i].ispage){if(e.interquestion_pages.length>0){const t=[];for(let n=s;n<e.interquestion_text[i].displayBefore;n++)t.push(n);s=e.interquestion_text[i].displayBefore,e.interquestion_pages[e.interquestion_pages.length-1][0].questions=t}e.interquestion_pages.push([e.interquestion_text[i]])}else e.interquestion_pages.length>0&&e.interquestion_pages[e.interquestion_pages.length-1].push(e.interquestion_text[i]);if(e.interquestion_pages.length>0&&t){const i=[];for(let e=s;e<t.length;e++)i.push(e);e.interquestion_pages[e.interquestion_pages.length-1][0].questions=i}else delete e.interquestion_pages}},6978:function(e,t,s){"use strict";s.d(t,{Z:function(){return mn}});s(6265),s(7267);var i=s(6252),n=s(2201),a=s(7956),o=(s(560),s(3577));const r={class:"home flexpanes"},l={style:{"flex-grow":"1"}},u=["innerHTML"],d={class:"settings-list"},h={key:0,class:"flexrow"},c={key:1,class:"flexrow"},p={key:0,class:"noticetext"},m={key:1,class:"noticetext"},w=(0,i._)("br",null,null,-1),f={key:0},g={key:1},y={key:2,class:"noticetext"},_={key:3},b=(0,i._)("br",null,null,-1),k={key:4},v=(0,i._)("br",null,null,-1),q={key:5},x=["href"],I=["href"],D={key:6,class:"noticetext"},$={key:0};function T(e,t,s,n,a,T){const S=(0,i.up)("settings-list"),P=(0,i.up)("icons"),A=(0,i.up)("password-entry"),O=(0,i.up)("group-entry"),z=(0,i.up)("summary-gb-score"),Q=(0,i.up)("previous-attempts");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",l,[(0,i._)("h1",null,(0,o.zw)(T.aInfo.name),1),(0,i._)("div",{class:"med-below",innerHTML:T.aInfo.summary,ref:"summary"},null,8,u),(0,i.Wm)(S),(0,i._)("div",d,[T.aInfo.has_password?((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",null,[(0,i.Wm)(P,{name:"lock",size:"small"})]),(0,i.Wm)(A,{modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t),onOnenter:T.startAssess},null,8,["modelValue","onOnenter"])])):(0,i.kq)("",!0),T.aInfo.isgroup>0?((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",null,[(0,i.Wm)(P,{name:"group",size:"small"})]),(0,i.Wm)(O,{onUpdateNewGroup:T.updateNewGroup},null,8,["onUpdateNewGroup"])])):(0,i.kq)("",!0)]),null!==T.errorMsg?((0,i.wg)(),(0,i.iD)("p",p,(0,o.zw)(T.errorMsg),1)):(0,i.kq)("",!0),""!==T.timeLimitExpired?((0,i.wg)(),(0,i.iD)("p",m,[(0,i.Wm)(P,{name:"alert"}),(0,i.Uk)(" "+(0,o.zw)(T.timeLimitExpired)+" ",1),w,""!==T.timeLimitExt?((0,i.wg)(),(0,i.iD)("span",f,[(0,i.Wm)(P,{name:"alert"}),(0,i.Uk)(" "+(0,o.zw)(T.timeLimitExt),1)])):((0,i.wg)(),(0,i.iD)("span",g,[(0,i._)("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=(...e)=>T.endAssess&&T.endAssess(...e))},(0,o.zw)(e.$t("closed.submit_now")),1)]))])):""!==T.timeLimitExt?((0,i.wg)(),(0,i.iD)("p",y,[(0,i.Wm)(P,{name:"alert"}),(0,i.Uk)(" "+(0,o.zw)(T.timeLimitExt),1)])):(0,i.kq)("",!0),T.canAddWork?((0,i.wg)(),(0,i.iD)("p",_,[(0,i.Uk)((0,o.zw)(e.$t("work.add_prev")),1),b,(0,i._)("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=t=>e.$router.push("/showwork"))},(0,o.zw)(e.$t("work.add")),1)])):(0,i.kq)("",!0),T.showReset?((0,i.wg)(),(0,i.iD)("p",k,[(0,i.Uk)((0,o.zw)(e.$t("launch.resetmsg"))+" ",1),v,(0,i._)("button",{type:"button",class:"secondary",onClick:t[3]||(t[3]=(...e)=>T.doReset&&T.doReset(...e))},(0,o.zw)(e.$t("launch.doreset")),1)])):(0,i.kq)("",!0),T.showTutorLinks?((0,i.wg)(),(0,i.iD)("p",q,[(0,i.Uk)((0,o.zw)(e.$t("launch.gblinks"))+": ",1),(0,i._)("a",{href:T.aInfo.tutor_gblinks[0],target:"_blank"},(0,o.zw)(e.$t("launch.scorelist")),9,x),(0,i.Uk)("   "),(0,i._)("a",{href:T.aInfo.tutor_gblinks[1],target:"_blank"},(0,o.zw)(e.$t("launch.itemanalysis")),9,I)])):(0,i.kq)("",!0),T.aInfo.view_as_stu?((0,i.wg)(),(0,i.iD)("p",D,(0,o.zw)(e.$t("launch.view_as_stu",{name:T.aInfo.stu_fullname})),1)):(0,i.kq)("",!0),(0,i._)("p",null,[T.okToLaunch?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",class:"primary",onClick:t[4]||(t[4]=(...e)=>T.startAssess&&T.startAssess(...e))},(0,o.zw)(T.startLabel),1)):(0,i.kq)("",!0),(0,i._)("input",{type:"submit",style:{display:"none"},onClick:t[5]||(t[5]=(...e)=>T.startAssess&&T.startAssess(...e)),value:"Submit"}),T.showPreviewAll?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"secondary",onClick:t[6]||(t[6]=(...e)=>T.teacherPreviewAll&&T.teacherPreviewAll(...e))},(0,o.zw)(e.$t("closed.teacher_previewall_button")),1)):(0,i.kq)("",!0),T.hasExit?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",class:"secondary",onClick:t[7]||(t[7]=(...e)=>T.exitAssess&&T.exitAssess(...e))},(0,o.zw)(e.$t("closed.exit")),1)):(0,i.kq)("",!0)])]),T.aInfo.hasOwnProperty("prev_attempts")&&T.aInfo.prev_attempts.length>0?((0,i.wg)(),(0,i.iD)("div",$,[(0,i.Wm)(z),(0,i.Wm)(Q,{caption:e.$t("prev.previous_attempts")},null,8,["caption"])])):(0,i.kq)("",!0)])}const S={class:"settings-list"},P={key:0,class:"noticetext"},A={key:1,class:"small subdued"},O={key:2,class:"small subdued"},z={key:3,class:"small subdued"};function Q(e,t,s,n,a,r){const l=(0,i.up)("icons");return(0,i.wg)(),(0,i.iD)("div",S,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.settingRows,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"flexrow",key:s},[(0,i._)("div",null,[(0,i.Wm)(l,{name:e.icon,size:"small"},null,8,["name"])]),(0,i._)("div",null,[(0,i._)("div",{class:(0,o.C_)({strikethrough:!!e.altstr})},(0,o.zw)(e.str),3),e.altstr?((0,i.wg)(),(0,i.iD)("div",P,(0,o.zw)(e.altstr),1)):(0,i.kq)("",!0),e.sub?((0,i.wg)(),(0,i.iD)("div",A,(0,o.zw)(e.sub),1)):(0,i.kq)("",!0),e.alert?((0,i.wg)(),(0,i.iD)("div",O,[(0,i.Wm)(l,{name:"alert",size:"micro"}),(0,i.Uk)(" "+(0,o.zw)(e.alert),1)])):(0,i.kq)("",!0),e.latepass?((0,i.wg)(),(0,i.iD)("div",z,[(0,i.Uk)((0,o.zw)(e.latepass)+" ",1),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.redeemLatePass&&r.redeemLatePass(...e)),class:"slim secondary"},(0,o.zw)(e.latepass_label),1)])):(0,i.kq)("",!0)])])))),128))])}var M=s(1038),C={name:"SettingsList",components:{Icons:M.Z},data:function(){return{now:new Date}},computed:{settingRows(){var e=[],t=a.h.assessInfo;return t.in_practice?e.push({icon:"alert",str:this.$t("setlist.practice")}):(e.push(this.getPointsObj()),t.enddate<2e9&&e.push(this.getDateObj()),"by_assessment"===t.submitby&&t.allowed_attempts>1&&e.push(this.getAttemptsObj()),t.timelimit>0&&e.push(this.getTimelimitObj())),e}},methods:{getPointsObj(){var e=a.h.assessInfo,t={icon:"square-check",str:this.$t("setlist.points_possible",{pts:e.points_possible})};return a.h.assessInfo.hasOwnProperty("excused")&&(t.alert=this.$t("setlist.excused")),t},getDateObj(){var e=a.h.assessInfo,t=e.enddate_disp,s={icon:"calendar",str:this.$t("setlist.due_at",{date:t})};if(e.hasOwnProperty("original_enddate")){var i=e.original_enddate_disp;if(s.sub=this.$t("setlist.originally_due",{date:i}),"latepass"===e.extended_with.type?s.sub+=" "+this.$tc("setlist.latepass_used",e.extended_with.n):s.sub+=" "+this.$t("setlist.extension"),e.exceptionpenalty>0){const t=(new Date).getTime();1e3*e.original_enddate>t?s.alert=this.$t("setlist.penalty_after",{p:e.exceptionpenalty,date:e.original_enddate_disp}):s.alert=this.$t("setlist.penalty",{p:e.exceptionpenalty})}}return e.can_use_latepass>0&&(s.latepass=this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),s.latepass_label=this.$tc("closed.use_latepass",e.can_use_latepass)),s},getAttemptsObj(){var e,t,s,i,n=a.h.assessInfo,o=n.allowed_attempts-n.prev_attempts.length;let r="";n.hasOwnProperty("attemptext")&&(r=0===n.prev_attempts.length?this.$tc("setlist.take",o):this.$tc("setlist.take_more",o),o=Math.max(0,o-n.attemptext)),t=0===n.prev_attempts.length?this.$tc("setlist.take",o):this.$tc("setlist.take_more",o),n.has_active_attempt?(e=this.$t("setlist.attempt_inprogress"),s=this.$t("setlist.cur_attempt_n_of",{n:n.prev_attempts.length+1,nmax:n.allowed_attempts})):(e=t,s=""),"best"===n.keepscore?s+=this.$t("setlist.keep_highest"):"average"===n.keepscore?s+=this.$t("setlist.keep_average"):"last"===n.keepscore&&(s+=this.$t("setlist.keep_last"));const l=n.prev_attempts.length+1;if(l>n.retake_penalty.n&&n.retake_penalty.penalty>0){const e=n.retake_penalty.penalty*(l-n.retake_penalty.n);i=this.$t("setlist.retake_penalty",{p:e})}return{icon:"retake",str:e,altstr:r,sub:s,alert:i}},getTimelimitObj(){var e=a.h.assessInfo,t={icon:"timer"};if(e.has_active_attempt&&e.timelimit_ext&&e.timelimit_ext<0)t.str=this.$t("setlist.timelimit_ext_used",{n:Math.abs(e.timelimit_ext)});else{var s=e.timelimit*e.timelimit_multiplier;e.overtime_grace>0?t.str=this.$t(e.overtime_penalty>0?"setlist.timelimit_wgrace_penalty":"setlist.timelimit_wgrace",{time:this.formatTimeLimit(s),grace:this.formatTimeLimit(e.overtime_grace*e.timelimit_multiplier),penalty:e.overtime_penalty}):t.str=this.$t("setlist.timelimit",{time:this.formatTimeLimit(s)}),1===a.h.timelimit_restricted?t.altstr=this.$t("setlist.timelimit_restricted",{due:e.enddate_disp}):2===a.h.timelimit_restricted&&(t.altstr=this.$t(e.overtime_penalty>0?"setlist.timelimit_wgrace_restricted_penalty":"setlist.timelimit_wgrace_restricted",{time:this.formatTimeLimit(s),due:e.enddate_disp,penalty:e.overtime_penalty})),e.timelimit_multiplier>1&&(t.sub=this.$t("setlist.timelimit_extend",{time:this.formatTimeLimit(e.timelimit)}))}if(e.has_active_attempt)if(a.h.timelimit_expired)a.h.timelimit_grace_expired?e.timelimit_ext&&e.timelimit_ext>0&&(t.str=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext})):t.alert=this.$t("setlist.time_grace_expires",{date:e.timelimit_expires_disp,grace:e.timelimit_grace_disp});else{const s=e.timelimit_expires_disp;e.overtime_grace>0&&e.timelimit_grace>e.timelimit_expires?t.alert=this.$t("setlist.time_expires_wgrace",{date:s,grace:e.timelimit_grace_disp}):t.alert=this.$t("setlist.time_expires",{date:s})}else e.timelimit_ext&&e.timelimit_ext>0&&(t.alert=this.$t("setlist.timelimit_ext",{n:e.timelimit_ext}));return t},formatTimeLimit(e){const t=Math.floor(e/3600),s=Math.floor(e/60)-60*t,i=e-60*s-3600*t;let n="";return t>0&&(n+=this.$tc("hours",t)),s>0&&(""!==n&&(n+=" "),n+=this.$tc("minutes",s)),i>0&&(""!==n&&(n+=" "),n+=this.$tc("seconds",i)),n},redeemLatePass(){var e=a.h.assessInfo;a.h.confirmObj={body:this.$tc("closed.latepassn",e.latepasses_avail)+" "+this.$tc("setlist.latepass_needed",e.can_use_latepass,{n:e.can_use_latepass,date:e.latepass_extendto_disp}),ok:this.$tc("closed.use_latepass",e.can_use_latepass),action:()=>a.N.redeemLatePass()}}}},j=s(3744);const L=(0,j.Z)(C,[["render",Q]]);var W=L,E=s(9963);const Z={for:"password"},H=["value"];function U(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("label",Z,(0,o.zw)(e.$t("password.label")),1),(0,i._)("input",{value:s.modelValue,id:"password",name:"password",type:"password",autocomplete:"off",onInput:t[0]||(t[0]=(...e)=>r.handleInput&&r.handleInput(...e)),onKeydown:t[1]||(t[1]=(0,E.D2)(((...e)=>r.handleEnter&&r.handleEnter(...e)),["enter"]))},null,40,H)])}var N={name:"PasswordEntry",props:["modelValue"],methods:{handleInput(e){this.$emit("update:modelValue",e.target.value)},handleEnter(e){e.preventDefault(),e.stopPropagation(),this.$emit("onenter")}}};const F=(0,j.Z)(N,[["render",U]]);var Y=F;const V={key:0},B={key:1},R={key:0},K={class:"no-margin-top"},G=["onClick"],J={key:2},X={key:3},ee={for:"addtogroup"},te={value:"0"},se=["value"];function ie(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,(0,o.zw)(e.$t("group.isgroup")),1),r.canViewAll?((0,i.wg)(),(0,i.iD)("div",V,(0,o.zw)(r.teacherNote),1)):r.groupMembers.length>0?((0,i.wg)(),(0,i.iD)("div",B,[(0,i.Uk)((0,o.zw)(e.$t("group.members"))+" ",1),r.showMax?((0,i.wg)(),(0,i.iD)("span",R," ("+(0,o.zw)(e.$t("group.max",{n:r.groupMax}))+") ",1)):(0,i.kq)("",!0),(0,i._)("ul",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.groupMembers,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},[(0,i.Uk)((0,o.zw)(t.name)+" ",1),t.new?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"plain slim subdued",tabindex:"0",onClick:e=>r.removeMember(t.index)},(0,o.zw)(e.$t("group.remove")),9,G)):(0,i.kq)("",!0)])))),128))])])):r.isPresetGroups?((0,i.wg)(),(0,i.iD)("div",J,(0,o.zw)(e.$t("group.needpreset")),1)):(0,i.kq)("",!0),r.canAddMembers?((0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("label",ee,(0,o.zw)(e.$t("group.add")),1),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.newMember=t),id:"addtogroup"},[(0,i._)("option",te,(0,o.zw)(e.$t("group.select")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.availableUsers,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.id,key:e.id},(0,o.zw)(e.name),9,se)))),128))],512),[[E.bM,e.newMember]]),(0,i._)("button",{class:"slim",onClick:t[1]||(t[1]=(...e)=>r.addMember&&r.addMember(...e))},(0,o.zw)(e.$t("group.addbutton")),1)])):(0,i.kq)("",!0)])}var ne={name:"GroupEntry",data:function(){return{newMember:0,newGroupMembers:[]}},computed:{groupMax(){return a.h.assessInfo.groupmax},groupMembers(){var e=[];if(!a.h.assessInfo.hasOwnProperty("group_members"))return e;for(let t=0;t<a.h.assessInfo.group_members.length;t++)e.push({name:a.h.assessInfo.group_members[t],new:!1});for(let t=0;t<this.newGroupMembers.length;t++)e.push({name:a.h.assessInfo.group_avail[this.newGroupMembers[t]],new:!0,index:t});return e},availableUsers(){var e=[];for(const t in a.h.assessInfo.group_avail)-1===this.newGroupMembers.indexOf(t)&&e.push({id:t,name:a.h.assessInfo.group_avail[t]});return e},showMax(){return 2===a.h.assessInfo.isgroup},canAddMembers(){return!this.canViewAll&&2===a.h.assessInfo.isgroup&&this.groupMembers.length<a.h.assessInfo.groupmax},isPresetGroups(){return 3===a.h.assessInfo.isgroup},canViewAll(){return a.h.assessInfo.can_view_all},teacherNote(){return this.isPresetGroups?this.$t("group.teacher_preset"):this.$t("group.teacher_auto",{n:a.h.assessInfo.groupmax})}},methods:{removeMember(e){this.newGroupMembers.splice(e,1),this.handleChange()},addMember(){this.newMember>0&&(this.newGroupMembers.push(this.newMember),this.newMember=0,this.handleChange())},handleChange(){this.$emit("update-new-group",this.newGroupMembers)}}};const ae=(0,j.Z)(ne,[["render",ie]]);var oe=ae;const re={class:"pane-body"},le={class:"scorelist med-below"},ue={key:0},de={key:0,class:"med-left"},he={key:0},ce=["href"];function pe(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",re,[(0,i._)("table",le,[(0,i._)("caption",null,(0,o.zw)(s.caption),1),(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.$t("prev.date")),1),r.prevAttempts[0].hasOwnProperty("score")?((0,i.wg)(),(0,i.iD)("th",ue,(0,o.zw)(e.$t("prev.score")),1)):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.prevAttempts,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,(0,o.zw)(e.date),1),e.hasOwnProperty("score")?((0,i.wg)(),(0,i.iD)("td",de,(0,o.zw)(Math.round(1e3*e.score/r.totPoss)/10)+"% ",1)):(0,i.kq)("",!0)])))),128))]),r.showGbLink?((0,i.wg)(),(0,i.iD)("p",he,[(0,i._)("a",{href:r.gbUrl},(0,o.zw)(e.$t("prev.viewingb")),9,ce)])):(0,i.kq)("",!0)])}var me={name:"PreviousAttempts",props:["caption"],computed:{prevAttempts(){return a.h.assessInfo.prev_attempts},totPoss(){return a.h.assessInfo.points_possible},ainfo(){return a.h.assessInfo},showGbLink(){const e=a.h.assessInfo.viewingb;return("immediately"===e||"after_take"===e)&&this.prevAttempts.length>0&&!a.h.assessInfo.can_view_all},gbUrl(){let e="gbviewassess.php?";return e+="cid="+a.h.cid,e+="&aid="+a.h.aid,e+="&uid="+a.h.uid,e}}};const we=(0,j.Z)(me,[["render",pe]]);var fe=we;const ge={key:0,class:"pane-header"},ye=(0,i._)("br",null,null,-1),_e={class:"small subdued"};function be(e,t,s,n,a,r){return r.showGBScore?((0,i.wg)(),(0,i.iD)("div",ge,[(0,i._)("strong",null,(0,o.zw)(e.$t("summary.recordedscore"))+": "+(0,o.zw)(r.gbScore)+"%",1),ye,(0,i._)("span",_e,(0,o.zw)(r.scoreUsed),1)])):(0,i.kq)("",!0)}var ke={name:"SummaryGbScore",computed:{ainfo(){return a.h.assessInfo},scoreUsed(){return"override"===this.ainfo.scored_attempt.kept?this.$t("summary.use_override"):"best"===this.ainfo.keepscore&&"by_assessment"===this.ainfo.submitby?this.$t("setlist.keep_highest"):"best"===this.ainfo.keepscore&&"by_question"===this.ainfo.submitby?this.$t("setlist.keep_highest_q"):"average"===this.ainfo.keepscore?this.$t("setlist.keep_average"):"last"===this.ainfo.keepscore?this.$t("setlist.keep_last"):""},showGBScore(){return this.ainfo.hasOwnProperty("scored_attempt")&&this.ainfo.scored_attempt.hasOwnProperty("score")&&"none"!==this.ainfo.showscores},gbScore(){return Math.round(1e3*this.ainfo.scored_attempt.score/this.ainfo.points_possible)/10}}};const ve=(0,j.Z)(ke,[["render",be]]);var qe=ve,xe={name:"Launch",components:{SettingsList:W,PasswordEntry:Y,GroupEntry:oe,SummaryGbScore:qe,PreviousAttempts:fe,Icons:M.Z},data:function(){return{password:"",newGroupMembers:[]}},computed:{aInfo(){return a.h.assessInfo},errorMsg(){return null===a.h.errorMsg?null:this.$t("error."+a.h.errorMsg)},startLabel(){return this.aInfo.has_active_attempt?this.$t("launch.continue_assess"):"by_assessment"===this.aInfo.submitby&&this.aInfo.prev_attempts.length>0?this.$t("launch.retake_assess"):this.$t("launch.start_assess")},timeLimitExpired(){if(a.h.timelimit_expired&&a.h.timelimit_grace_expired&&this.aInfo.has_active_attempt){const e=this.aInfo.timelimit_expires_disp;return this.$t("setlist.time_expired",{date:e})}return""},timeLimitExt(){return this.aInfo.timelimit_ext&&this.aInfo.timelimit_ext>0&&this.aInfo.has_active_attempt?this.$t("setlist.timelimit_ext",{n:this.aInfo.timelimit_ext}):""},okToLaunch(){return!(!this.showPreviewAll&&3===this.aInfo.isgroup&&0===this.aInfo.group_members.length)&&!(this.aInfo.timelimit>0&&this.aInfo.has_active_attempt&&(a.h.timelimit_expired&&"kick_out"===this.aInfo.timelimit_type||a.h.timelimit_grace_expired&&"allow_overtime"===this.aInfo.timelimit_type)&&""===this.timeLimitExt)},showPreviewAll(){return a.h.assessInfo.can_view_all&&!this.aInfo.view_as_stu},showReset(){return this.aInfo.is_teacher&&!this.aInfo.view_as_stu&&(this.aInfo.has_active_attempt||this.aInfo.prev_attempts.length>0||this.aInfo.has_unsubmitted_scored)},hasExit(){return window.exiturl&&""!==window.exiturl},canAddWork(){return(!this.aInfo.has_active_attempt||"by_question"===this.aInfo.submitby)&&this.aInfo.showwork_after&&(0===this.aInfo.showwork_cutoff||this.aInfo.showwork_cutoff_in>0)},showTutorLinks(){return this.aInfo.hasOwnProperty("tutor_gblinks")}},methods:{startAssess(){if(!this.okToLaunch)return;const e=this.aInfo.timelimit;if(this.aInfo.has_password){const e=document.getElementById("password");e&&e.value!==this.password&&(this.password=e.value)}0===e?this.reallyStartAssess():a.h.confirmObj={body:"launch.timewarning",ok:"launch.start_assess",action:()=>this.reallyStartAssess()}},teacherPreviewAll(){a.N.startAssess(!1,"",[],null,!0)},reallyStartAssess(){const e=this.password;this.password="",a.N.startAssess(!1,e,this.newGroupMembers)},endAssess(){a.N.endAssess()},doReset(){a.N.loadAssessData(null,!0)},updateNewGroup(e){this.newGroupMembers=e},exitAssess(){window.location=window.exiturl}},mounted(){if("livepoll"===this.aInfo.displaymethod){var e=document.createElement("script");e.src="https://"+this.aInfo.livepoll_server+":3000/socket.io/socket.io.js",document.getElementsByTagName("head")[0].appendChild(e)}else if("video_cued"===this.aInfo.displaymethod&&!window.YT){const e=document.createElement("script");e.id="yt_player_api",e.src="https://www.youtube.com/player_api",document.head.appendChild(e)}setTimeout(window.drawPics,50),window.rendermathnode(this.$refs.summary),window.initlinkmarkup(this.$refs.summary)}};const Ie=(0,j.Z)(xe,[["render",T]]);var De=Ie;const $e={class:"home flexpanes"},Te={style:{"flex-grow":"1"}},Se={key:0},Pe=["href"],Ae=["href"],Oe={key:1},ze=(0,i._)("br",null,null,-1),Qe={key:2},Me=(0,i._)("br",null,null,-1),Ce={key:3},je=(0,i._)("br",null,null,-1),Le={key:4},We={key:5},Ee=(0,i._)("br",null,null,-1),Ze={key:0},He=(0,i._)("br",null,null,-1),Ue={key:6},Ne={key:0},Fe=(0,i._)("br",null,null,-1),Ye={key:7},Ve=(0,i._)("br",null,null,-1),Be={key:8},Re=(0,i._)("br",null,null,-1),Ke={key:0};function Ge(e,t,s,n,a,r){const l=(0,i.up)("icons"),u=(0,i.up)("summary-gb-score"),d=(0,i.up)("previous-attempts");return(0,i.wg)(),(0,i.iD)("div",$e,[(0,i._)("div",Te,[(0,i._)("h1",null,(0,o.zw)(r.settings.name),1),(0,i._)("p",null,(0,o.zw)(r.closedMessage),1),r.showTutorLinks?((0,i.wg)(),(0,i.iD)("p",Se,[(0,i.Uk)((0,o.zw)(e.$t("launch.gblinks"))+": ",1),(0,i._)("a",{href:r.settings.tutor_gblinks[0],target:"_blank"},(0,o.zw)(e.$t("launch.scorelist")),9,Pe),(0,i.Uk)("   "),(0,i._)("a",{href:r.settings.tutor_gblinks[1],target:"_blank"},(0,o.zw)(e.$t("launch.itemanalysis")),9,Ae)])):(0,i.kq)("",!0),r.hasActive?((0,i.wg)(),(0,i.iD)("p",Oe,[(0,i.Uk)((0,o.zw)(r.hasActiveMsg)+" ",1),ze,(0,i._)("button",{type:"button",class:"primary",onClick:t[0]||(t[0]=(...e)=>r.endAssess&&r.endAssess(...e))},(0,o.zw)(e.$t("closed.submit_now")),1)])):r.canAddWork?((0,i.wg)(),(0,i.iD)("p",Qe,[(0,i.Uk)((0,o.zw)(e.$t("work.add_prev")),1),Me,(0,i._)("button",{type:"button",class:"secondary",onClick:t[1]||(t[1]=t=>e.$router.push("/showwork"))},(0,o.zw)(e.$t("work.add")),1)])):(0,i.kq)("",!0),r.settings.can_use_latepass>0&&r.showLatePassOffer?((0,i.wg)(),(0,i.iD)("p",Ce,[(0,i.Uk)((0,o.zw)(e.$tc("closed.latepassn",r.settings.latepasses_avail))+" ",1),je,(0,i.Uk)(" "+(0,o.zw)(r.latepassExtendMsg),1)])):(0,i.kq)("",!0),"practice"===r.settings.available&&0===r.settings.can_use_latepass?((0,i.wg)(),(0,i.iD)("p",Le,(0,o.zw)(e.$t("closed.practice_no_latepass")),1)):"practice"===r.settings.available&&r.settings.can_use_latepass>0?((0,i.wg)(),(0,i.iD)("p",We,[(0,i.Uk)((0,o.zw)(e.$t("closed.practice_w_latepass"))+" ",1),Ee,(0,i.Wm)(l,{name:"alert",size:"micro"}),(0,i.Uk)(" "+(0,o.zw)(e.$t("closed.will_block_latepass"))+" ",1),r.settings.hasOwnProperty("excused")?((0,i.wg)(),(0,i.iD)("span",Ze,[He,(0,i.Wm)(l,{name:"alert",size:"micro"}),(0,i.Uk)(" "+(0,o.zw)(e.$t("setlist.excused")),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),r.canViewScored?((0,i.wg)(),(0,i.iD)("p",Ue,[(0,i.Uk)((0,o.zw)(e.$t("closed.can_view_scored"))+" ",1),r.settings.can_use_latepass>0?((0,i.wg)(),(0,i.iD)("span",Ne,[Fe,(0,i.Wm)(l,{name:"alert",size:"micro"}),(0,i.Uk)(" "+(0,o.zw)(e.$t("closed.will_block_latepass")),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("p",null,[""!=r.primaryButton?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"primary",onClick:t[2]||(t[2]=(...e)=>r.handlePrimary&&r.handlePrimary(...e))},(0,o.zw)(r.primaryButton),1)):(0,i.kq)("",!0),r.canViewScored?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"secondarybtn",onClick:t[3]||(t[3]=(...e)=>r.handleViewScored&&r.handleViewScored(...e))},(0,o.zw)(e.$t("closed.view_scored")),1)):(0,i.kq)("",!0),""!=r.secondaryButton?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"secondarybtn",onClick:t[4]||(t[4]=(...e)=>r.handleSecondary&&r.handleSecondary(...e))},(0,o.zw)(r.secondaryButton),1)):(0,i.kq)("",!0)]),r.canViewAll&&r.showReset?((0,i.wg)(),(0,i.iD)("p",Ye,[(0,i.Uk)((0,o.zw)(e.$t("launch.resetmsg"))+" ",1),Ve,(0,i._)("button",{type:"button",class:"primary",onClick:t[5]||(t[5]=(...e)=>r.doReset&&r.doReset(...e))},(0,o.zw)(e.$t("launch.doreset")),1)])):(0,i.kq)("",!0),r.canViewAll?((0,i.wg)(),(0,i.iD)("p",Be,[(0,i.Uk)((0,o.zw)(e.$t("closed.teacher_preview"))+" ",1),Re,(0,i._)("button",{class:"primary",onClick:t[6]||(t[6]=(...e)=>r.teacherPreview&&r.teacherPreview(...e))},(0,o.zw)(e.$t("closed.teacher_preview_button")),1),(0,i._)("button",{class:"secondary",onClick:t[7]||(t[7]=(...e)=>r.teacherPreviewAll&&r.teacherPreviewAll(...e))},(0,o.zw)(e.$t("closed.teacher_previewall_button")),1)])):(0,i.kq)("",!0)]),r.settings.hasOwnProperty("prev_attempts")&&r.settings.prev_attempts.length>0?((0,i.wg)(),(0,i.iD)("div",Ke,[(0,i.Wm)(u),(0,i.Wm)(d,{caption:e.$t("prev.scored_attempts")},null,8,["caption"])])):(0,i.kq)("",!0)])}var Je={name:"Closed",components:{Icons:M.Z,PreviousAttempts:fe,SummaryGbScore:qe},computed:{settings(){return a.h.assessInfo},closedMessage(){return"hidden"===this.settings.available?this.$t("closed.hidden"):"notyet"===this.settings.available?this.$t("closed.notyet",{sd:this.settings.startdate_disp,ed:this.settings.enddate_disp}):"practice"===this.settings.available||"pastdue"===this.settings.available?this.$t("closed.pastdue",{ed:this.settings.enddate_disp}):"needprereq"===this.settings.available?this.$t("closed.needprereq")+" "+this.$t("closed.prereqreq",{score:this.settings.reqscorevalue,name:this.settings.reqscorename}):this.settings.hasOwnProperty("pasttime")?this.$t("closed.pasttime"):!1===this.settings.has_active_attempt&&!1===this.settings.can_retake?this.$t("closed.no_attempts"):""},hasActive(){return"by_assessment"===this.settings.submitby&&("yes"===this.settings.available&&this.settings.has_active_attempt||"yes"!==this.settings.available&&this.settings.has_unsubmitted_scored)},hasActiveMsg(){if(this.settings.hasOwnProperty("timelimit_expiresin")){const e=1e3*this.settings.timelimit_expiresin;return e<0?this.$t("closed.unsubmitted_overtime"):this.$t("closed.unsubmitted_pastdue")}return this.$t("closed.unsubmitted_pastdue")},showLatePassOffer(){return"needprereq"!==this.settings.available&&!this.settings.hasOwnProperty("pasttime")},latepassExtendMsg(){return this.$tc("closed.latepass_needed",this.settings.can_use_latepass,{n:this.settings.can_use_latepass,date:this.settings.latepass_extendto_disp})},primaryAction(){return this.settings.can_use_latepass>0&&this.showLatePassOffer?"latepass":"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl?"exit":""},primaryButton(){return"latepass"===this.primaryAction?this.$tc("closed.use_latepass",this.settings.can_use_latepass):"practice"===this.primaryAction?this.$t("closed.do_practice"):"exit"===this.primaryAction?this.$t("closed.exit"):""},secondaryAction(){return"practice"!==this.primaryAction&&"practice"===this.settings.available?"practice":window.exiturl&&""!==window.exiturl&&"exit"!==this.primaryAction?"exit":""},secondaryButton(){return"practice"===this.secondaryAction?this.$t("closed.do_practice"):"exit"===this.secondaryAction?this.$t("closed.exit"):""},canViewScored(){return!this.canViewAll&&1===this.settings.can_viewingb&&this.settings.prev_attempts.length>0&&("practice"===this.settings.available||"pastdue"===this.settings.available)},canViewAll(){return a.h.assessInfo.can_view_all},showReset(){return a.h.assessInfo.hasOwnProperty("show_reset")||a.h.assessInfo.is_teacher&&!a.h.assessInfo.view_as_stu&&(a.h.assessInfo.has_active_attempt||a.h.assessInfo.prev_attempts.length>0||a.h.assessInfo.has_unsubmitted_scored)},canAddWork(){return a.h.assessInfo.showwork_after&&(0===a.h.assessInfo.showwork_cutoff||a.h.assessInfo.showwork_cutoff_in>0)},showTutorLinks(){return a.h.assessInfo.hasOwnProperty("tutor_gblinks")}},methods:{handleViewScored(){0===this.settings.can_use_latepass?window.location=a.h.APIbase+"gbviewassess.php?cid="+a.h.cid+"&aid="+a.h.aid+"&uid="+a.h.uid:a.h.confirmObj={body:"closed.confirm",action:()=>{window.location=a.h.APIbase+"gbviewassess.php?cid="+a.h.cid+"&aid="+a.h.aid+"&uid="+a.h.uid}}},handlePrimary(){"latepass"===this.primaryAction?a.N.redeemLatePass():"practice"===this.primaryAction?a.N.startAssess(!0,"",[]):"exit"===this.primaryAction&&(window.location=window.exiturl)},handleSecondary(){"practice"===this.secondaryAction&&0===this.settings.can_use_latepass?a.N.startAssess(!0,"",[]):"practice"===this.secondaryAction?a.h.confirmObj={body:"closed.confirm",action:()=>{a.N.startAssess(!0,"",[])}}:"exit"===this.secondaryAction&&(window.location=window.exiturl)},teacherPreview(){a.N.startAssess(!1,"",[])},teacherPreviewAll(){a.N.startAssess(!1,"",[],null,!0)},doReset(){a.N.loadAssessData(null,!0)},endAssess(){a.N.endAssess()}}};const Xe=(0,j.Z)(Je,[["render",Ge]]);var et=Xe;const tt={class:"home"},st={class:"flexpanes"},it={style:{"flex-grow":"1"}},nt=["innerHTML"],at={key:1},ot={id:"excusedlist"},rt={key:2},lt=(0,i._)("p",null," ",-1),ut={key:0};function dt(e,t,s,n,a,r){const l=(0,i.up)("summary-header"),u=(0,i.up)("summary-diag-info"),d=(0,i.up)("summary-score-total"),h=(0,i.up)("summary-score-list"),c=(0,i.up)("summary-categories"),p=(0,i.up)("vue-tab"),m=(0,i.up)("summary-reshow-questions"),w=(0,i.up)("vue-tabs"),f=(0,i.up)("summary-gb-score"),g=(0,i.up)("previous-attempts");return(0,i.wg)(),(0,i.iD)("div",tt,[(0,i.Wm)(l,{class:"headerpane"}),(0,i._)("div",st,[(0,i._)("div",it,[(0,i.Wm)(u),(0,i.Wm)(d),r.ainfo.hasOwnProperty("endmsg")&&""!=r.ainfo.endmsg?((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:r.ainfo.endmsg,class:"introtext"},null,8,nt)):(0,i.kq)("",!0),r.ainfo.hasOwnProperty("newexcused")&&Object.keys(r.ainfo.newexcused).length>0?((0,i.wg)(),(0,i.iD)("div",at,[(0,i._)("p",null,(0,o.zw)(e.$t("summary.new_excused")),1),(0,i._)("ul",ot,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.ainfo.newexcused,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,o.zw)(e),1)))),128))])])):(0,i.kq)("",!0),r.showScores?((0,i.wg)(),(0,i.iD)("div",rt,[(0,i.Wm)(w,{id:"scoretabs"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{name:e.$t("summary.scorelist")},{default:(0,i.w5)((()=>[(0,i.Wm)(h),lt,r.hasCategories?((0,i.wg)(),(0,i.j4)(c,{key:0,data:r.ainfo.questions},null,8,["data"])):(0,i.kq)("",!0)])),_:1},8,["name"]),r.showReviewQ?((0,i.wg)(),(0,i.j4)(p,{key:0,name:e.$t("summary.reshowquestions")},{default:(0,i.w5)((({active:e})=>[(0,i.Wm)(m,{active:e},null,8,["active"])])),_:1},8,["name"])):(0,i.kq)("",!0)])),_:1})])):(0,i.kq)("",!0)]),r.ainfo.hasOwnProperty("prev_attempts")&&r.ainfo.prev_attempts.length>0?((0,i.wg)(),(0,i.iD)("div",ut,[(0,i.Wm)(f),(0,i.Wm)(g,{caption:e.$t("prev.all_attempts")},null,8,["caption"])])):(0,i.kq)("",!0)])])}const ht={class:"assess-header headerpane"},ct={style:{"flex-grow":"1"}};function pt(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",ht,[(0,i._)("div",ct,[(0,i._)("h1",null,(0,o.zw)(r.ainfo.name),1)]),(0,i._)("div",null,[""!=r.retakeLabel?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>r.retake&&r.retake(...e))},(0,o.zw)(r.retakeLabel),1)):(0,i.kq)("",!0),r.hasExit?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>r.exit&&r.exit(...e))},(0,o.zw)(e.$t("closed.exit")),1)):(0,i.kq)("",!0)])])}var mt={name:"SummaryHeader",computed:{ainfo(){return a.h.assessInfo},retakeLabel(){return"by_assessment"===this.ainfo.submitby&&this.ainfo.prev_attempts.length<this.ainfo.allowed_attempts?this.$t("launch.retake_assess"):"by_question"===this.ainfo.submitby&&a.h.inAssess&&this.ainfo.has_active_attempt?this.$t("launch.continue_assess"):""},hasExit(){return window.exiturl&&""!==window.exiturl&&!this.ainfo.is_lti}},methods:{exit(){window.location=window.exiturl},retake(){a.h.assessInfo=null,this.$router.push("/")}}};const wt=(0,j.Z)(mt,[["render",pt]]);var ft=wt;const gt={key:0},yt={class:"larger"},_t=(0,i._)("br",null,null,-1),bt={key:0},kt=(0,i._)("br",null,null,-1),vt={key:1},qt=(0,i._)("br",null,null,-1),xt={key:1};function It(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",null,[r.showTotal?((0,i.wg)(),(0,i.iD)("p",gt,[(0,i._)("strong",yt,(0,o.zw)(e.$t("summary.score"))+": "+(0,o.zw)(r.scoreTotalPercent)+"% ",1),_t,(0,i.Uk)(" "+(0,o.zw)(e.$tc("summary.scorepts",r.ainfo.points_possible,{pts:r.scoreTotal,poss:r.ainfo.points_possible}))+" ",1),r.retakePenalty>0?((0,i.wg)(),(0,i.iD)("span",bt,[kt,(0,i.Uk)(" "+(0,o.zw)(e.$t("summary.retake_penalty",{n:r.retakePenalty})),1)])):(0,i.kq)("",!0),r.latePenalty>0?((0,i.wg)(),(0,i.iD)("span",vt,[qt,(0,i.Uk)(" "+(0,o.zw)(e.$t("summary.late_penalty",{n:r.latePenalty})),1)])):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("p",xt,(0,o.zw)(e.$t("summary.no_total"))+" "+(0,o.zw)(e.$t("summary.viewwork_"+r.viewWorkType)),1))])}var Dt={name:"SummaryScoreTotal",components:{},computed:{ainfo(){return a.h.assessInfo},showTotal(){return"none"!==this.ainfo.showscores},scoreTotal(){if(this.ainfo.hasOwnProperty("score"))return this.ainfo.score;{let e=0;for(const t in this.ainfo.questions)e+=this.ainfo.questions[t].score;return e}},retakePenalty(){if("by_question"===this.ainfo.submitby)return 0;const e=this.ainfo.prev_attempts.length;return e>this.ainfo.retake_penalty.n?this.ainfo.retake_penalty.penalty*(e-this.ainfo.retake_penalty.n):0},latePenalty(){if("by_question"===this.ainfo.submitby)return 0;let e=0;for(const t in this.ainfo.questions){const s=this.ainfo.questions[t].parts;for(let t=0;t<s.length;t++)if(s[t].hasOwnProperty("penalties")&&s[t].penalties.hasOwnProperty("late"))e+=s[t].penalties.late;else if(e>0)return 0}return e},scoreTotalPercent(){return Math.round(1e3*this.scoreTotal/this.ainfo.points_possible)/10},viewWorkType(){return"never"===this.ainfo.viewingb?"never":"after_due"===this.ainfo.viewingb?"never"===this.ainfo.scoresingb?"work_after":"after_due":"after_lp"===this.ainfo.viewingb?"never"===this.ainfo.scoresingb?"work_after_lp":"after_lp":"never"===this.ainfo.scoresingb?"work":"after_due"===this.ainfo.scoresingb?"work_scores_after":"immediately"}}};const $t=(0,j.Z)(Dt,[["render",It]]);var Tt=$t;const St={class:"scorelist"},Pt=(0,i._)("caption",{class:"sr-only"},"Scores",-1),At={key:0,class:"small subdued"},Ot={key:0},zt={key:1};function Qt(e,t,s,n,a,r){const l=(0,i.up)("icons"),u=(0,i.up)("question-details-table"),d=(0,i.up)("click-to-show");return(0,i.wg)(),(0,i.iD)("table",St,[Pt,(0,i._)("tr",null,[(0,i._)("th",null,(0,o.zw)(e.$t("scorelist.question")),1),(0,i._)("th",null,(0,o.zw)(e.$t("scorelist.score")),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questions,((t,s)=>((0,i.wg)(),(0,i.iD)("tr",{key:s},[(0,i._)("td",null,[(0,i.Wm)(l,{name:t.status},null,8,["name"]),(0,i.Uk)(" "+(0,o.zw)(e.$t("question_n",{n:s+1}))+" ",1),t.extracredit?((0,i.wg)(),(0,i.iD)("em",At,(0,o.zw)(e.$t("extracredit")),1)):(0,i.kq)("",!0)]),r.noTries[s]?((0,i.wg)(),(0,i.iD)("td",Ot,(0,o.zw)(e.$t("scorelist.unattempted")),1)):((0,i.wg)(),(0,i.iD)("td",zt,[(0,i.Uk)((0,o.zw)(e.$tc("scorelist.pts",t.points_possible,{pts:t.gbscore,poss:t.points_possible}))+"    ",1),t.has_details?((0,i.wg)(),(0,i.j4)(d,{key:0,class:"question-details",id:"qd_"+s},{button:(0,i.w5)((()=>[(0,i.Wm)(l,{name:"info",size:"small"}),(0,i.Uk)(" "+(0,o.zw)(e.$t("header.details")),1)])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{qinfo:t,showtries:!1},null,8,["qinfo"])])),_:2},1032,["id"])):(0,i.kq)("",!0)]))])))),128))])}var Mt=s(5697);const Ct=["id","aria-controls","aria-expanded"],jt=["id"];function Lt(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("span",null,[(0,i._)("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[0]||(t[0]=(...e)=>o.triggerOpen&&o.triggerOpen(...e)),onKeydown:[t[1]||(t[1]=(0,E.D2)((0,E.iM)(((...e)=>o.triggerOpen&&o.triggerOpen(...e)),["prevent"]),["enter"])),t[2]||(t[2]=(0,E.D2)((0,E.iM)(((...e)=>o.triggerOpen&&o.triggerOpen(...e)),["prevent"]),["space"]))],class:"dropdown-button","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[(0,i.WI)(e.$slots,"button")],40,Ct),e.open?((0,i.wg)(),(0,i.iD)("div",{key:0,id:s.id+"_pane"},[(0,i.WI)(e.$slots,"default")],8,jt)):(0,i.kq)("",!0)])}var Wt={name:"ClickToShow",props:["id"],data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen(e){this.open="boolean"===typeof e?e:!this.open,this.open||this.$refs.button.focus()}}};const Et=(0,j.Z)(Wt,[["render",Lt]]);var Zt=Et,Ht={name:"SummaryScoreList",components:{Icons:M.Z,QuestionDetailsTable:Mt.Z,ClickToShow:Zt},computed:{questions(){return a.h.assessInfo.questions},noTries(){var e={};for(const t in this.questions)if(this.questions[t].hasOwnProperty("parts")){let s=!0;for(const e in this.questions[t].parts)if(this.questions[t].parts[e].try>0){s=!1;break}e[t]=s}else e[t]=!0;return e}}};const Ut=(0,j.Z)(Ht,[["render",Qt]]);var Nt=Ut;const Ft={key:0},Yt={class:"big"},Vt={class:"pii-full-name"};function Bt(e,t,s,n,a,r){return r.showDiagInfo?((0,i.wg)(),(0,i.iD)("div",Ft,[(0,i._)("p",Yt,[(0,i._)("span",Vt,(0,o.zw)(r.diagUserName),1)]),(0,i._)("p",null,(0,o.zw)(e.$d(new Date,"long")),1)])):(0,i.kq)("",!0)}var Rt={name:"SummaryDiagInfo",computed:{showDiagInfo(){return a.h.assessInfo.is_diag},diagUserName(){return a.h.assessInfo.userfullname+": "+a.h.assessInfo.diag_userid}}};const Kt=(0,j.Z)(Rt,[["render",Bt]]);var Gt=Kt;function Jt(e,t,s,n,a,o){const r=(0,i.up)("full-question-header"),l=(0,i.up)("question");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.questions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(r,{qn:t,showretry:!1},null,8,["qn"]),((0,i.wg)(),(0,i.j4)(l,{qn:t,key:"sq"+t,active:s.active,disabled:!0},null,8,["qn","active"]))])))),128))])}var Xt=s(4015),es=s(5530),ts={name:"SummaryReshowQuestions",props:["active"],components:{Question:Xt.Z,FullQuestionHeader:es.Z},computed:{questions(){return a.h.assessInfo.questions}}};const ss=(0,j.Z)(ts,[["render",Jt]]);var is=ss,ns=s(6569);const as=["id"],os=["aria-selected","onClick","onKeydown","aria-controls","id"];function rs(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("ul",{class:"vuetablist",id:s.id},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.tabs,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s,class:(0,o.C_)({active:t.hash===e.activeTabHash}),"aria-selected":t.hash===e.activeTabHash,ref_for:!0,ref:"tab",tabindex:"0",onClick:e=>r.setActive(s),onKeydown:e=>r.handleKey(e,s),"aria-controls":t.hash,id:t.hash+"_tab"},(0,o.zw)(t.name),43,os)))),128))],8,as),(0,i.WI)(e.$slots,"default",{ref:"slot"})])}var ls={name:"VueTabs",props:["id"],data:function(){return{activeTabHash:"",tabs:[]}},provide(){return{addTab:e=>{const t=this.tabs.push(e);1===t&&(this.activeTabHash=e.hash)},activeTabHash:(0,i.Fl)((()=>this.activeTabHash))}},methods:{setActive(e){this.activeTabHash=this.tabs[e].hash,this.$nextTick((()=>{document.getElementById(this.tabs[e].hash).focus()}))},setFocus(e){this.$refs.tab[e].focus()},handleKey(e,t){const s=this.tabs.length,i=e.key.toLowerCase();"enter"===i||" "===i?this.setActive(t):"arrowleft"===i?this.setFocus((t-1+s)%s):"arrowright"===i?this.setFocus((t+1)%s):"home"===i?this.setFocus(0):"end"===i&&this.setFocus(s-1)}}};const us=(0,j.Z)(ls,[["render",rs]]);var ds=us;const hs=["id","aria-labelledby"];function cs(e,t,s,n,a,o){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{tabindex:"0",id:e.hash,"aria-labelledby":e.hash+"_tab",class:"vuetabpanel"},[(0,i.WI)(e.$slots,"default",{active:e.active})],8,hs)),[[E.F8,e.active]])}var ps={name:"VueTab",data:function(){return{active:!1,hash:""}},props:["name"],inject:["addTab","activeTabHash"],created(){this.hash="vuetab_"+this.name.toLowerCase().replace(/ /g,"-"),this.addTab({name:this.name,hash:this.hash})},watch:{activeTabHash(){this.active=this.activeTabHash===this.hash}}};const ms=(0,j.Z)(ps,[["render",cs]]);var ws=ms,fs={name:"Summary",components:{SummaryHeader:ft,SummaryScoreTotal:Tt,SummaryGbScore:qe,SummaryScoreList:Nt,SummaryCategories:ns.Z,SummaryReshowQuestions:is,SummaryDiagInfo:Gt,PreviousAttempts:fe,VueTabs:ds,VueTab:ws},data:function(){return{activeTab:0}},computed:{ainfo(){return a.h.assessInfo},hasScore(){return a.h.assessInfo.hasOwnProperty("score")},showTotal(){return"none"!==this.ainfo.showscores},showScores(){return"during"===this.ainfo.showscores||"at_end"===this.ainfo.showscores},showReviewQ(){return this.ainfo.questions&&null!==this.ainfo.questions[0].html},hasCategories(){let e=!1;if(!this.showScores)return!1;for(const t in this.ainfo.questions)if(this.ainfo.questions[t].hasOwnProperty("category")&&""!==this.ainfo.questions[t].category&&null!==this.ainfo.questions[t].category){e=!0;break}return e}},methods:{loadScoresIfNeeded(){this.hasScore||a.N.getScores()}},created(){this.loadScoresIfNeeded()},updated(){this.loadScoresIfNeeded()}};const gs=(0,j.Z)(fs,[["render",dt]]);var ys=gs;const _s={class:"home"},bs={class:"assess-header headerpane"},ks={style:{"flex-grow":"1"}},vs={key:0},qs={key:0},xs={key:1},Is={key:1};function Ds(e,t,s,n,a,r){const l=(0,i.up)("timer"),u=(0,i.up)("full-question-header"),d=(0,i.up)("question"),h=(0,i.up)("showwork-input");return(0,i.wg)(),(0,i.iD)("div",_s,[(0,i._)("div",bs,[(0,i._)("div",ks,[(0,i._)("h1",null,(0,o.zw)(e.$t("work.add"))+": "+(0,o.zw)(r.ainfo.name),1)]),r.ainfo.showwork_cutoff>0?((0,i.wg)(),(0,i.j4)(l,{key:0,total:60*r.ainfo.showwork_cutoff,end:r.ainfo.showwork_local_cutoff_expires,grace:0},null,8,["total","end"])):(0,i.kq)("",!0),(0,i._)("div",null,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.save&&r.save(...e)),class:"primary"},(0,o.zw)(r.saveLabel),1)])]),r.readyToShow?((0,i.wg)(),(0,i.iD)("div",vs,[r.ainfo.showwork_cutoff>0?((0,i.wg)(),(0,i.iD)("p",qs,(0,o.zw)(e.$tc("work.duein",{date:r.ainfo.showwork_cutoff_expires_disp})),1)):(0,i.kq)("",!0),0===r.questions.length?((0,i.wg)(),(0,i.iD)("p",xs,(0,o.zw)(e.$t("work.noquestions")),1)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questions,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(u,{qn:t,showretry:!1},null,8,["qn"]),null!==e.html?((0,i.wg)(),(0,i.j4)(d,{qn:t,key:"sq"+t,active:!0,disabled:!0,getwork:2,onWorkchanged:e=>r.workChanged(t,e)},null,8,["qn","onWorkchanged"])):((0,i.wg)(),(0,i.iD)("div",Is,[(0,i.Wm)(h,{id:"sw"+t,value:e.work,rows:"3",onInput:e=>r.workChanged(t,e)},null,8,["id","value","onInput"])]))])))),128)),(0,i._)("div",null,[(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>r.save&&r.save(...e)),class:"primary"},(0,o.zw)(r.saveLabel),1)])])):(0,i.kq)("",!0)])}var $s=s(3496),Ts=s(7575),Ss={name:"Summary",components:{Question:Xt.Z,FullQuestionHeader:es.Z,ShowworkInput:$s.Z,Timer:Ts.Z},data:function(){return{loaded:!1,duringAssess:!1,work:{}}},computed:{ainfo(){return a.h.assessInfo},mode(){return a.h.inAssess?"aftertake":"gb"},readyToShow(){return"gb"===this.mode&&a.h.assessInfo.hasOwnProperty("questions")||"aftertake"===this.mode&&a.h.assessInfo.hasOwnProperty("score")},hasScore(){return a.h.assessInfo.hasOwnProperty("score")},questions(){var e={};for(var t in a.h.assessInfo.questions)2&a.h.assessInfo.questions[t].showwork&&(e[t]=a.h.assessInfo.questions[t]);return e},saveLabel(){return a.h.inAssess?this.$t("work.save_continue"):this.$t("work.save")}},methods:{loadScoresIfNeeded(){"gb"!==this.mode||this.readyToShow?"aftertake"!==this.mode||this.readyToShow||a.N.getScores():a.N.getQuestions()},workChanged(e,t){a.h.work[e]=t},save(){a.N.submitWork()}},created(){this.loadScoresIfNeeded()},updated(){this.loadScoresIfNeeded()}};const Ps=(0,j.Z)(Ss,[["render",Ds]]);var As=Ps;const Os={class:"home"},zs=["aria-label"],Qs=["onClick","onKeypress"],Ms=["aria-hidden"];function Cs(e,t,s,n,a,r){const l=(0,i.up)("assess-header"),u=(0,i.up)("skip-question-header"),d=(0,i.up)("intro-text"),h=(0,i.up)("icons"),c=(0,i.up)("router-link"),p=(0,i.up)("inter-question-text-skiplist"),m=(0,i.up)("question");return(0,i.wg)(),(0,i.iD)("div",Os,[(0,i._)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,E.iM)((t=>e.$refs.scrollpane.focus()),["prevent"]))},(0,o.zw)(e.$t("jumptocontent")),1),(0,i.Wm)(l),(0,i.Wm)(u,{qn:r.qn},null,8,["qn"]),(0,i._)("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[(0,i.Wm)(d,{active:-1==r.qn,html:r.intro,key:"-1"},null,8,["active","html"]),-1==r.qn?((0,i.wg)(),(0,i.j4)(c,{key:0,to:"/skip/1",custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,E.D2)(t,["enter"]),role:"link"},[(0,i.Wm)(h,{name:"right",alt:""}),(0,i.Uk)(" "+(0,o.zw)(e.$t("question.firstq")),1)],40,Qs)])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(p,{pos:"before",qn:r.qn},null,8,["qn"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questionArray,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,o.C_)({inactive:e!=r.qn}),"aria-hidden":e!=r.qn},[(0,i.Wm)(m,{qn:e,active:e==r.qn,getwork:1},null,8,["qn","active"])],10,Ms)))),128)),(0,i.Wm)(p,{pos:"after",qn:r.qn},null,8,["qn"])],8,zs)])}var js=s(9683);const Ls={id:"skip-question-header"},Ws={class:"flexrow wrap",style:{"flex-grow":"1"}},Es=["aria-label"],Zs=["onClick","onKeypress","disabled","aria-label","title"],Hs=["onClick","onKeypress","disabled","aria-label","title"];function Us(e,t,s,n,a,o){const r=(0,i.up)("skip-question-list-item"),l=(0,i.up)("menu-button"),u=(0,i.up)("icons"),d=(0,i.up)("router-link"),h=(0,i.up)("question-header-icons");return(0,i.wg)(),(0,i.iD)("div",Ls,[(0,i._)("div",Ws,[(0,i._)("div",{id:"skip-question-select",role:"navigation","aria-label":e.$t("regions.qnav")},[(0,i.Wm)(l,{id:"qnav",options:o.navOptions,selected:o.curOption,onChange:o.changeQuestion,searchby:"dispqn"},{default:(0,i.w5)((({option:e,selected:t})=>[(0,i.Wm)(r,{showretry:o.anyHaveRetry,showretake:o.anyHaveRetake,option:e,selected:t},null,8,["showretry","showretake","option","selected"])])),_:1},8,["options","selected","onChange"]),o.showNextPrev?((0,i.wg)(),(0,i.j4)(d,{key:0,to:"/skip/"+(o.dispqn-1),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,E.D2)(t,["enter"]),role:"link",disabled:s.qn<(this.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous"),title:e.$t("previous")},[(0,i.Wm)(u,{name:"left"})],40,Zs)])),_:1},8,["to"])):(0,i.kq)("",!0),o.showNextPrev?((0,i.wg)(),(0,i.j4)(d,{key:1,to:"/skip/"+(o.dispqn+1),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,E.D2)(t,["enter"]),role:"link",disabled:s.qn>=o.ainfo.questions.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next"),title:e.$t("next")},[(0,i.Wm)(u,{name:"right"})],40,Hs)])),_:1},8,["to"])):(0,i.kq)("",!0)],8,Es)]),(0,i.Wm)(h,{showscore:o.showScore,curQData:o.curQData,qn:s.qn,showretry:!0},null,8,["showscore","curQData","qn"])])}var Ns=s(6438),Fs=s(8584);const Ys={class:"flex-nowrap-center"},Vs={class:"qname-wrap"},Bs=["title"],Rs={key:0,class:"small subdued"},Ks={key:1,class:"subdued"},Gs={key:2,class:"redoicon"},Js={key:3,class:"redoicon"};function Xs(e,t,s,n,a,r){const l=(0,i.up)("icons");return(0,i.wg)(),(0,i.iD)("span",Ys,[s.option.dispqn>0?((0,i.wg)(),(0,i.j4)(l,{key:0,name:r.statusIcon,class:"qstatusicon"},null,8,["name"])):(0,i.kq)("",!0),(0,i._)("span",Vs,[(0,i._)("span",{class:(0,o.C_)({greystrike:s.option.withdrawn>0}),title:r.nameHover},[(0,i.Uk)((0,o.zw)(r.nameDisp)+" ",1),s.option.extracredit?((0,i.wg)(),(0,i.iD)("em",Rs,(0,o.zw)(e.$t("extracredit")),1)):(0,i.kq)("",!0)],10,Bs)]),""===r.scoreDisplay||s.selected?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",Ks,(0,o.zw)(r.scoreDisplay),1)),s.showretry&&!s.selected?((0,i.wg)(),(0,i.iD)("span",Gs,[s.option.canretry?((0,i.wg)(),(0,i.j4)(l,{key:0,name:"retry"})):(0,i.kq)("",!0)])):(0,i.kq)("",!0),s.showretake&&!s.selected?((0,i.wg)(),(0,i.iD)("span",Js,[s.option.regens_remaining?((0,i.wg)(),(0,i.j4)(l,{key:0,name:"retake"})):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])}var ei={name:"SkipQuestionListItem",props:["option","showretry","showretake","selected"],components:{Icons:M.Z},computed:{statusIcon(){return 0===this.option.dispqn?"none":this.option.status},nameDisp(){return 0===this.option.dispqn?this.$t("intro"):this.$t("question_n",{n:this.option.dispqn})},nameHover(){return 0!==this.option.withdrawn?this.$t("header.withdrawn"):""},scoreDisplay(){return 0===this.option.dispqn?"":this.option.hasOwnProperty("gbscore")&&this.option.tries_max>1?this.option.gbscore+"/"+this.$tc("header.pts",this.option.points_possible):"("+this.$tc("header.pts",this.option.points_possible)+")"}}};const ti=(0,j.Z)(ei,[["render",Xs]]);var si=ti,ii=s(4845),ni={name:"SkipQuestionHeader",props:["qn"],components:{QuestionHeaderIcons:Ns.Z,Icons:M.Z,MenuButton:Fs.Z,SkipQuestionListItem:si},mixins:[ii.w],data:function(){return{}},computed:{ainfo(){return a.h.assessInfo},curQData(){return a.h.assessInfo.questions[this.qn]},dispqn(){return parseInt(this.qn)+1},hasIntro(){return""!==a.h.assessInfo.intro||a.h.assessInfo.resources.length>0},navOptions(){var e=[];this.hasIntro&&e.push({internallink:"/skip/0",dispqn:0,withdrawn:0});for(const t in a.h.assessInfo.questions){const s=parseInt(t)+1,i={internallink:"/skip/"+s,dispqn:s};for(const e in a.h.assessInfo.questions[t])i[e]=a.h.assessInfo.questions[t][e];"unattempted"===i.status&&(1===this.qsAttempted[t]?i.status="attempted":this.qsAttempted[t]>0&&(i.status="partattempted")),e.push(i)}return e},showScore(){return this.qn>-1&&a.h.assessInfo.questions[this.qn].hasOwnProperty("gbscore")},anyHaveRetry(){for(const e in a.h.assessInfo.questions)if(a.h.assessInfo.questions[e].canretry)return!0;return!1},anyHaveRetake(){for(const e in a.h.assessInfo.questions)if(a.h.assessInfo.questions[e].regens_remaining)return!0;return!1},curOption(){return this.hasIntro?this.dispqn:this.dispqn-1},showNextPrev(){return Object.keys(this.navOptions).length>1}},methods:{changeQuestion(e){}}};const ai=(0,j.Z)(ni,[["render",Us]]);var oi=ai;const ri={key:0};function li(e,t,s,n,a,o){const r=(0,i.up)("inter-question-text");return o.texts.length>0?((0,i.wg)(),(0,i.iD)("div",ri,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.texts,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.wy)((0,i.Wm)(r,{class:"questionpane introtext",textobj:e,active:o.showtext[t]},null,8,["textobj","active"]),[[E.F8,o.showtext[t]]])])))),128))])):(0,i.kq)("",!0)}var ui=s(6564),di={name:"InterQuestionTextSkiplist",props:["qn","pos"],components:{InterQuestionText:ui.Z},computed:{lastQuestion(){return a.h.assessInfo.questions.length-1},showtext(){const e=[];for(const t in this.texts){const s=this.texts[t];e[t]="before"===this.pos&&this.qn>=s.displayBefore&&this.qn<=s.displayUntil||"after"===this.pos&&this.qn===this.lastQuestion}return e},texts(){if(!a.h.assessInfo.hasOwnProperty("interquestion_text"))return[];const e=[];for(const t in a.h.assessInfo.interquestion_text){const s=a.h.assessInfo.interquestion_text[t];("before"===this.pos&&s.displayBefore<=this.lastQuestion||"after"===this.pos&&s.displayBefore>this.lastQuestion)&&""!==s.text&&e.push({html:s.text,expanded:!0,displayBefore:s.displayBefore,displayUntil:s.displayUntil})}return e}}};const hi=(0,j.Z)(di,[["render",li]]);var ci=hi,pi=s(1436),mi={name:"skip",components:{SkipQuestionHeader:oi,Question:Xt.Z,InterQuestionTextSkiplist:ci,AssessHeader:js.Z,IntroText:pi.Z,Icons:M.Z},computed:{qn(){return parseInt(this.$route.params.qn)-1},intro(){return a.h.assessInfo.intro},questionArray(){const e={};for(let t=0;t<a.h.assessInfo.questions.length;t++)e[t]=t;return e}}};const wi=(0,j.Z)(mi,[["render",Cs]]);var fi=wi;const gi={class:"home"},yi={key:0,class:"headerpane noticetext"},_i=["href"],bi=["href"],ki=["aria-label"],vi={key:1};function qi(e,t,s,n,a,r){const l=(0,i.up)("assess-header"),u=(0,i.up)("intro-text"),d=(0,i.up)("inter-question-text-list"),h=(0,i.up)("full-question-header"),c=(0,i.up)("question");return(0,i.wg)(),(0,i.iD)("div",gi,[(0,i._)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,E.iM)((t=>e.$refs.scrollpane.focus()),["prevent"]))},(0,o.zw)(e.$t("jumptocontent")),1),(0,i.Wm)(l),r.isPreviewAll?((0,i.wg)(),(0,i.iD)("p",yi,[(0,i.Uk)((0,o.zw)(e.$t("header.preview_all"))+" ",1),(0,i._)("button",{type:"button",class:"secondary",onClick:t[1]||(t[1]=(...e)=>r.showAllAns&&r.showAllAns(...e))},(0,o.zw)(e.$t("gradebook.show_all_ans")),1),(0,i._)("button",{type:"button",class:"secondary",onClick:t[2]||(t[2]=t=>e.showTexts=!e.showTexts)},(0,o.zw)(r.textToggleLabel),1),(0,i._)("a",{href:r.settingsLink},(0,o.zw)(e.$t("links.settings")),9,_i),(0,i.Uk)("  "),(0,i._)("a",{href:r.questionsLink},(0,o.zw)(e.$t("links.questions")),9,bi)])):(0,i.kq)("",!0),(0,i._)("div",{class:"scrollpane fulldisp",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[r.hasIntro?((0,i.wg)(),(0,i.j4)(u,{key:0,active:e.showTexts,html:r.intro},null,8,["active","html"])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questionArray,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(d,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"])),[[E.F8,e.showTexts]]),(0,i.Wm)(h,{qn:t},null,8,["qn"]),((0,i.wg)(),(0,i.j4)(c,{qn:t,active:"true",key:"q"+t,getwork:1},null,8,["qn"]))])))),128)),(0,i.wy)((0,i.Wm)(d,{pos:"after",qn:r.lastQ,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"]),[[E.F8,e.showTexts]])],8,ki),r.showSubmit?((0,i.wg)(),(0,i.iD)("p",vi,[(0,i._)("button",{type:"button",class:"primary",onClick:t[3]||(t[3]=(...e)=>r.submitAssess&&r.submitAssess(...e))},(0,o.zw)(e.$t("header.assess_submit")),1)])):(0,i.kq)("",!0)])}var xi=s(5713),Ii={name:"Full",data:function(){return{showTexts:!0}},components:{Question:Xt.Z,AssessHeader:js.Z,FullQuestionHeader:es.Z,InterQuestionTextList:xi.Z,IntroText:pi.Z},computed:{intro(){return a.h.assessInfo.intro},hasIntro(){return""!==a.h.assessInfo.intro||a.h.assessInfo.resources.length>0},isPreviewAll(){return!!a.h.assessInfo.preview_all},questionArray(){const e={};for(let t=0;t<a.h.assessInfo.questions.length;t++)e[t]=t;return e},lastQ(){return a.h.assessInfo.questions.length-1},showSubmit(){return"by_assessment"===a.h.assessInfo.submitby},textToggleLabel(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},textList(){return a.h.assessInfo.hasOwnProperty("interquestion_text")?a.h.assessInfo.interquestion_text:[]},settingsLink(){return"../course/addassessment2.php?id="+a.h.aid+"&cid="+a.h.cid},questionsLink(){return"../course/addquestions2.php?aid="+a.h.aid+"&cid="+a.h.cid}},methods:{submitAssess(){a.N.submitAssessment()},showAllAns(){window.$("span[id^='ans']").removeClass("hidden").toggle(),window.$(".keybtn").attr("aria-expanded",(function(e,t){return!JSON.parse(t)}))}}};const Di=(0,j.Z)(Ii,[["render",qi]]);var $i=Di;const Ti={class:"home print"},Si={class:"assess-header headerpane"},Pi={style:{"flex-grow":"1"}},Ai={class:"pii-full-name"},Oi={class:"hideonprint headerpane"},zi={class:"scrollpane"};function Qi(e,t,s,n,a,r){const l=(0,i.up)("intro-text"),u=(0,i.up)("inter-question-text-list"),d=(0,i.up)("full-question-header"),h=(0,i.up)("question");return(0,i.wg)(),(0,i.iD)("div",Ti,[(0,i._)("div",Si,[(0,i._)("h1",Pi,(0,o.zw)(r.ainfo.name),1),(0,i._)("div",null,[(0,i._)("span",Ai,(0,o.zw)(r.ainfo.userfullname),1)])]),(0,i._)("p",Oi,[(0,i._)("strong",null,(0,o.zw)(e.$t("print.print_version")),1),(0,i._)("button",{type:"button",class:"primary",onClick:t[0]||(t[0]=(...e)=>r.doPrint&&r.doPrint(...e))},(0,o.zw)(e.$t("print.print")),1),(0,i._)("button",{type:"button",onClick:t[1]||(t[1]=t=>e.showTexts=!e.showTexts)},(0,o.zw)(r.textToggleLabel),1),(0,i._)("button",{type:"button",onClick:t[2]||(t[2]=t=>e.showQs=!e.showQs)},(0,o.zw)(r.qToggleLabel),1)]),(0,i._)("div",zi,[""!==r.intro?((0,i.wg)(),(0,i.j4)(l,{key:0,active:e.showTexts,html:r.intro},null,8,["active","html"])):(0,i.kq)("",!0),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.questionArray,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.wy)(((0,i.wg)(),(0,i.j4)(u,{pos:"beforeexact",qn:t,key:"iqt"+t,textlist:r.textList,lastq:r.lastQ,active:e.showTexts},null,8,["qn","textlist","lastq","active"])),[[E.F8,e.showTexts]]),e.showQs?((0,i.wg)(),(0,i.j4)(d,{key:0,qn:t},null,8,["qn"])):(0,i.kq)("",!0),(0,i.wy)(((0,i.wg)(),(0,i.j4)(h,{class:"med-left",qn:t,active:e.showQs,key:"q"+t,disabled:!0},null,8,["qn","active"])),[[E.F8,e.showQs]])])))),128)),(0,i.wy)((0,i.Wm)(u,{pos:"after",qn:r.lastQ,active:e.showTexts,textlist:r.textList,lastq:r.lastQ},null,8,["qn","active","textlist","lastq"]),[[E.F8,e.showTexts]])])])])}var Mi={name:"Print",components:{Question:Xt.Z,FullQuestionHeader:es.Z,InterQuestionTextList:xi.Z,IntroText:pi.Z},data:function(){return{showTexts:!0,showQs:!0}},computed:{ainfo(){return a.h.assessInfo},intro(){return a.h.assessInfo.intro},questionArray(){const e={};for(let t=0;t<a.h.assessInfo.questions.length;t++)e[t]=t;return e},lastQ(){return a.h.assessInfo.questions.length-1},textToggleLabel(){return this.showTexts?this.$t("print.hide_text"):this.$t("print.show_text")},qToggleLabel(){return this.showQs?this.$t("print.hide_qs"):this.$t("print.show_qs")},textList(){return a.h.assessInfo.hasOwnProperty("interquestion_text")?a.h.assessInfo.interquestion_text:[]}},methods:{doPrint(){window.print()}}};const Ci=(0,j.Z)(Mi,[["render",Qi]]);var ji=Ci;const Li={class:"home"},Wi=["aria-label"],Ei=["aria-hidden"],Zi={key:0,class:"noqtext"},Hi={key:1},Ui={key:0},Ni=(0,i._)("p",null," ",-1),Fi={key:1};function Yi(e,t,s,n,a,r){const l=(0,i.up)("assess-header"),u=(0,i.up)("full-paged-nav"),d=(0,i.up)("intro-text"),h=(0,i.up)("inter-question-text-list"),c=(0,i.up)("full-question-header"),p=(0,i.up)("question"),m=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Li,[(0,i._)("a",{href:"#",class:"sr-only",id:"skipnav",onClick:t[0]||(t[0]=(0,E.iM)((t=>e.$refs.scrollpane.focus()),["prevent"]))},(0,o.zw)(e.$t("jumptocontent")),1),(0,i.Wm)(l),(0,i.Wm)(u,{page:r.page},null,8,["page"]),(0,i._)("div",{class:"scrollpane",role:"region",ref:"scrollpane",tabindex:"-1","aria-label":e.$t("regions.questions")},[(0,i.Wm)(d,{active:-1===r.page&&r.hasIntro,html:r.intro},null,8,["active","html"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.allPages,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,o.C_)({inactive:t!==r.page}),"aria-hidden":t!==r.page},[0===e[0].questions.length?((0,i.wg)(),(0,i.iD)("div",Zi,[((0,i.wg)(),(0,i.j4)(h,{pos:"all",textlist:e,lastq:r.lastQ[t],active:t===r.page,key:"iqtp"+t},null,8,["textlist","lastq","active"]))])):((0,i.wg)(),(0,i.iD)("div",Hi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e[0].questions,(s=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:"fullpaged"},[((0,i.wg)(),(0,i.j4)(h,{pos:"beforeexact",qn:s,key:"iqt"+s,textlist:e,lastq:r.lastQ[t],active:t===r.page},null,8,["qn","textlist","lastq","active"])),(0,i._)("div",null,[(0,i.Wm)(c,{qn:s},null,8,["qn"]),((0,i.wg)(),(0,i.j4)(p,{qn:s,active:t===r.page,key:"q"+s,getwork:1},null,8,["qn","active"]))])])))),128)),((0,i.wg)(),(0,i.j4)(h,{id:"aftertext",pos:"after",qn:e[0].questions[e[0].questions.length-1],key:"iqte"+t,textlist:e,lastq:r.lastQ[t],active:t===r.page},null,8,["qn","textlist","lastq","active"]))]))],10,Ei)))),128)),r.page<r.allPages.length-1?((0,i.wg)(),(0,i.iD)("div",Ui,[Ni,(0,i._)("p",null,[(0,i.Wm)(m,{to:"/full/page/"+(r.page+2)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("pages.next")),1)])),_:1},8,["to"])])])):r.showSubmit?((0,i.wg)(),(0,i.iD)("p",Fi,[(0,i._)("button",{type:"button",class:"primary",onClick:t[1]||(t[1]=(...e)=>r.submitAssess&&r.submitAssess(...e))},(0,o.zw)(e.$t("header.assess_submit")),1)])):(0,i.kq)("",!0)],8,Wi)])}const Vi=["aria-label"],Bi=["onClick","onKeypress","disabled","aria-label"],Ri=["onClick","onKeypress","disabled","aria-label"];function Ki(e,t,s,n,a,o){const r=(0,i.up)("full-paged-list-item"),l=(0,i.up)("menu-button"),u=(0,i.up)("icons"),d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",{class:"subheader pagenav",role:"navigation","aria-label":e.$t("regions.pagenav")},[(0,i.Wm)(l,{id:"qnav",options:o.navOptions,selected:o.disppage,searchby:"title"},{default:(0,i.w5)((({option:e,selected:t})=>[(0,i.Wm)(r,{option:e,selected:t},null,8,["option","selected"])])),_:1},8,["options","selected"]),o.showNextPrev?((0,i.wg)(),(0,i.j4)(d,{key:0,to:"/full/page/"+(o.disppage-1),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,E.D2)(t,["enter"]),role:"link",disabled:s.page<(this.hasIntro?0:1),class:"secondarybtn",id:"qprev","aria-label":e.$t("previous")},[(0,i.Wm)(u,{name:"left"})],40,Bi)])),_:1},8,["to"])):(0,i.kq)("",!0),o.showNextPrev?((0,i.wg)(),(0,i.j4)(d,{key:1,to:"/full/page/"+(o.disppage+1),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,E.D2)(t,["enter"]),role:"link",disabled:s.page>=o.pagesData.length-1,class:"secondarybtn",id:"qnext","aria-label":e.$t("next")},[(0,i.Wm)(u,{name:"right"})],40,Ri)])),_:1},8,["to"])):(0,i.kq)("",!0)],8,Vi)}const Gi={class:"flex-nowrap-center"},Ji={class:"qname-wrap"},Xi={class:"subdued nowrap"};function en(e,t,s,n,a,r){const l=(0,i.up)("icons");return(0,i.wg)(),(0,i.iD)("span",Gi,[(0,i._)("span",Ji,["none"!==r.statusIcon?((0,i.wg)(),(0,i.j4)(l,{key:0,name:r.statusIcon,class:"qstatusicon"},null,8,["name"])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,o.zw)(r.nameDisp),1)]),(0,i._)("span",Xi,(0,o.zw)(r.qStatus),1)])}var tn={name:"FullPagedListItem",props:["option","selected"],components:{Icons:M.Z},computed:{statusIcon(){return 0===this.option.disppage?"none":this.option.numquestions===this.option.numattempted?"attempted":"unattempted"},nameDisp(){return 0===this.option.disppage?this.$t("intro"):this.option.title},qStatus(){return 0===this.option.disppage||0===this.option.numquestions?"":this.$t("header.answered",{n:this.option.numattempted,tot:this.option.numquestions})}}};const sn=(0,j.Z)(tn,[["render",en]]);var nn=sn,an={name:"FullPagedNav",props:["page"],components:{Icons:M.Z,MenuButton:Fs.Z,FullPagedListItem:nn},mixins:[ii.w],data:function(){return{}},computed:{disppage(){return parseInt(this.page)+1},pagesData(){return a.h.assessInfo.interquestion_pages},hasIntro(){return""!==a.h.assessInfo.intro||a.h.assessInfo.resources.length>0},navOptions(){var e=[];this.hasIntro&&(e[0]={internallink:"/full/page/0",title:this.$t("intro"),disppage:0});for(const t in this.pagesData){const s=parseInt(t)+1;let i=0;for(let e=0;e<this.pagesData[t][0].questions.length;e++){const s=this.pagesData[t][0].questions[e];("unattempted"!==a.h.assessInfo.questions[s].status||1===this.qsAttempted[s])&&i++}e[s]={disppage:s,title:this.pagesData[t][0].pagetitle,internallink:"/full/page/"+s,numquestions:this.pagesData[t][0].questions.length,numattempted:i}}return e},showNextPrev(){return Object.keys(this.navOptions).length>1}}};const on=(0,j.Z)(an,[["render",Ki]]);var rn=on,ln={name:"FullPaged",components:{Question:Xt.Z,AssessHeader:js.Z,FullPagedNav:rn,FullQuestionHeader:es.Z,InterQuestionTextList:xi.Z,IntroText:pi.Z},computed:{page(){return parseInt(this.$route.params.page)-1},allPages(){return a.h.assessInfo.interquestion_pages},intro(){return a.h.assessInfo.intro},hasIntro(){return""!==a.h.assessInfo.intro||a.h.assessInfo.resources.length>0},showSubmit(){return"by_assessment"===a.h.assessInfo.submitby},lastQ(){const e=[];let t;for(const s in this.allPages)t=this.allPages[s][0].questions,e[s]=t[t.length-1];return e}},methods:{submitAssess(){a.N.submitAssessment()}}};const un=(0,j.Z)(ln,[["render",Yi]]);var dn=un;const hn=()=>s.e(924).then(s.bind(s,3365)),cn=()=>s.e(924).then(s.bind(s,7429)),pn=(0,n.p7)({history:(0,n.r5)(window.imasroot+"/assess2/"),routes:[{path:"/",name:"launch",component:De,beforeEnter:(e,t,s)=>{("yes"===a.h.assessInfo.available||"practice"===a.h.assessInfo.available&&a.h.assessInfo.in_practice)&&(a.h.assessInfo.has_active_attempt||a.h.assessInfo.can_retake)?s():s({path:"/closed",replace:!0})}},{path:"/closed",name:"closed",component:et,beforeEnter:(e,t,s)=>{("yes"===a.h.assessInfo.available||"practice"===a.h.assessInfo.available&&a.h.assessInfo.in_practice)&&(a.h.assessInfo.has_active_attempt||a.h.assessInfo.can_retake)?s({path:"/",replace:!0}):s()}},{path:"/skip/:qn",name:"skip",component:fi,beforeEnter:(e,t,s)=>{a.h.inProgress?s():s({path:"/",replace:!0})}},{path:"/full",name:"full",component:$i,beforeEnter:(e,t,s)=>{a.h.inProgress?s():s({path:"/",replace:!0})}},{path:"/full/page/:page",name:"fullpaged",component:dn,beforeEnter:(e,t,s)=>{a.h.inProgress?s():s({path:"/",replace:!0})}},{path:"/videocued",component:hn,beforeEnter:(e,t,s)=>{a.h.inProgress?s():s({path:"/",replace:!0})}},{path:"/livepoll",component:cn,beforeEnter:(e,t,s)=>{a.h.inProgress?s():s({path:"/",replace:!0})}},{path:"/summary",name:"summary",component:ys,beforeEnter:(e,t,s)=>{!("yes"===a.h.assessInfo.available||"practice"===a.h.assessInfo.available&&a.h.assessInfo.in_practice)||a.h.assessInfo.has_active_attempt&&"by_question"!==a.h.assessInfo.submitby?s({path:"/",replace:!0}):s()}},{path:"/showwork",name:"showwork",component:As,beforeEnter:(e,t,s)=>{a.h.assessInfo.in_practice||a.h.assessInfo.has_active_attempt&&"by_question"!==a.h.assessInfo.submitby||a.h.showwork_expired?s({path:"/",replace:!0}):s()}},{path:"/print",name:"print",component:ji,beforeEnter:(e,t,s)=>{if("yes"===a.h.assessInfo.available&&a.h.assessInfo.has_active_attempt||"practice"===a.h.assessInfo.available||a.h.assessInfo.can_view_all)if(a.h.inPrintView=!0,a.h.assessInfo.hasOwnProperty("questions"))s();else{const e="practice"===a.h.assessInfo.available;a.N.startAssess(e,"",[],(()=>s()))}else s({path:"/",replace:!0})}}],scrollBehavior(e,t,s){return s||{x:0,y:0}}});pn.beforeEach(((e,t,s)=>{"undefined"!==typeof window.APIbase?a.h.APIbase=window.APIbase:a.h.APIbase="vue/";const i=window.location.search.replace(/^.*cid=(\d+).*$/,"$1"),n=window.location.search.replace(/^.*aid=(\d+).*$/,"$1");let o=0;window.location.search.match(/uid=/)&&(o=window.location.search.replace(/^.*uid=(\d+).*$/,"$1")),null===a.h.assessInfo||a.h.cid!==i||a.h.aid!==n||a.h.uid!==o?(a.h.cid=i,window.cid=i,a.h.aid=n,a.h.uid=o,a.h.queryString="?cid="+a.h.cid+"&aid="+a.h.aid,0!==a.h.uid&&(a.h.queryString+="&uid="+a.h.uid),a.N.loadAssessData((()=>s()))):a.h.inPrintView&&"/print"!==e.name?s({path:"/print",replace:!0}):s()})),pn.afterEach(((e,t)=>{(0,i.Y3)(window.sendLTIresizemsg)}));var mn=pn},9683:function(e,t,s){"use strict";s.d(t,{Z:function(){return L}});s(6265);var i=s(6252),n=s(3577);const a=["aria-label"],o={style:{"flex-grow":"1"}},r={class:"med-left subdued"},l={class:"flexgroup"},u=["disabled"],d={key:1,class:"noticetext"},h=["disabled"],c={class:"assess-header"},p=["href","aria-label"],m=["aria-label","aria-pressed"],w=(0,i._)("span",{class:"switch-toggle__ui"},null,-1);function f(e,t,s,f,g,y){const _=(0,i.up)("timer"),b=(0,i.up)("icons"),k=(0,i.up)("resource-pane"),v=(0,i.up)("dropdown"),q=(0,i.up)("tooltip-span"),x=(0,i.up)("badged-icon"),I=(0,i.up)("lti-menu");return(0,i.wg)(),(0,i.iD)("div",{id:"assess-header",class:(0,n.C_)({"assess-header":!0,headerpane:!0,practice:y.ainfo.in_practice}),role:"region","aria-label":e.$t("regions.aheader")},[(0,i._)("div",o,[(0,i._)("h1",null,(0,n.zw)(y.ainfo.name),1),(0,i._)("div",null,[(0,i._)("span",{class:(0,n.C_)({practicenotice:y.ainfo.in_practice})},(0,n.zw)(y.curScorePoints),3),(0,i.Uk)(),(0,i._)("span",r,(0,n.zw)(y.curAnswered),1)])]),y.ainfo.timelimit>0?((0,i.wg)(),(0,i.j4)(_,{key:0,total:y.ainfo.timelimit,end:y.ainfo.timelimit_local_expires,grace:y.ainfo.timelimit_local_grace},null,8,["total","end","grace"])):(0,i.kq)("",!0),(0,i._)("div",l,[3===y.saveStatus?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"secondary",onClick:t[0]||(t[0]=(...e)=>y.handleSaveWork&&y.handleSaveWork(...e)),disabled:!y.canSubmit},(0,n.zw)(e.$t("header.work_save")),9,u)):(0,i.kq)("",!0),1===y.saveStatus||2===y.saveStatus?((0,i.wg)(),(0,i.iD)("span",d,(0,n.zw)(1===y.saveStatus?e.$t("header.work_saving"):e.$t("header.work_saved")),1)):(0,i.kq)("",!0),""!==y.assessSubmitLabel?((0,i.wg)(),(0,i.iD)("button",{key:2,class:(0,n.C_)({primary:y.primarySubmit,secondary:!y.primarySubmit}),onClick:t[1]||(t[1]=(...e)=>y.handleSubmit&&y.handleSubmit(...e)),disabled:!y.canSubmit},(0,n.zw)(y.assessSubmitLabel),11,h)):(0,i.kq)("",!0)]),(0,i._)("div",c,[y.ainfo.resources.length>0?((0,i.wg)(),(0,i.j4)(v,{key:0,id:"resource-dropdown",tip:e.$t("header.resources_header")},{button:(0,i.w5)((()=>[(0,i.Wm)(b,{name:"file",size:"medium"})])),default:(0,i.w5)((()=>[(0,i.Wm)(k)])),_:1},8,["tip"])):(0,i.kq)("",!0),y.showPrint?((0,i.wg)(),(0,i.j4)(q,{key:1,tip:e.$t("print.print_version")},{default:(0,i.w5)((()=>[(0,i._)("a",{href:y.printLink,class:"noextlink",target:"_blank","aria-label":e.$t("print.print_version")},[(0,i.Wm)(b,{name:"print",size:"medium"})],8,p)])),_:1},8,["tip"])):(0,i.kq)("",!0),(0,i.Wm)(q,{tip:y.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),style:{display:"inline-block"}},{default:(0,i.w5)((()=>[(0,i._)("button",{onClick:t[2]||(t[2]=(...e)=>y.toggleMQuse&&y.toggleMQuse(...e)),class:(0,n.C_)({plain:!0,"switch-toggle":!0}),"aria-label":y.MQenabled?e.$t("header.disable_mq"):e.$t("header.enable_mq"),"aria-pressed":y.MQenabled},[(0,i.Wm)(b,{name:y.MQenabled?"eqned":"eqnedoff",color:y.MQenabled?"#060":"#600",size:"medium"},null,8,["name","color"]),w],8,m)])),_:1},8,["tip"]),y.ainfo.is_lti&&y.ainfo.lti_showmsg?((0,i.wg)(),(0,i.j4)(x,{key:2,link:y.msglink,icon:"message",label:"lti.msgs",cnt:y.ainfo.lti_msgcnt},null,8,["link","cnt"])):(0,i.kq)("",!0),y.ainfo.is_lti&&y.ainfo.help_features.forum>0?((0,i.wg)(),(0,i.j4)(x,{key:3,link:y.forumlink,icon:"forum",label:"lti.forum",cnt:y.ainfo.lti_forumcnt},null,8,["link","cnt"])):(0,i.kq)("",!0),y.ainfo.is_lti||y.ainfo.is_diag?((0,i.wg)(),(0,i.j4)(I,{key:4})):(0,i.kq)("",!0)])],10,a)}var g=s(7575),y=s(7520),_=s(2850),b=s(1038);function k(e,t,s,n,a,o){const r=(0,i.up)("icons"),l=(0,i.up)("menu-button");return(0,i.wg)(),(0,i.j4)(l,{options:o.LtiOptions,position:"right",nobutton:"true",noarrow:"true",searchby:"label",id:"ltimenubutton",header:e.$t("lti.more")},{button:(0,i.w5)((()=>[(0,i.Wm)(r,{name:"more",size:"medium"})])),_:1},8,["options","header"])}s(560);var v=s(8584),q=s(7956),x={name:"LtiMenu",components:{MenuButton:v.Z,Icons:b.Z},computed:{LtiOptions(){const e=[];return e.push({label:this.$t("lti.userprefs"),onclick:()=>{window.GB_show(this.$t("lti.userprefs"),q.h.APIbase+"../admin/ltiuserprefs.php?cid="+q.h.cid+"&greybox=true",800,"auto",!0,0,0,{label:"Update Info",func:"doSubmit"})}}),q.h.assessInfo.in_practice&&q.h.assessInfo.prev_attempts.length>0&&e.push({label:this.$t("closed.view_scored"),link:q.h.APIbase+"gbviewassess.php?cid="+q.h.cid+"&aid="+q.h.aid+"&uid="+q.h.uid,target:"_self"}),q.h.assessInfo.can_use_latepass&&e.push({label:this.$t("lti.use_latepass"),link:q.h.APIbase+"../course/redeemlatepass.php?cid="+q.h.cid+"&aid="+q.h.aid,target:"_self"}),e}}},I=s(3744);const D=(0,I.Z)(x,[["render",k]]);var $=D,T=s(9015);const S=["href","aria-label"],P={key:0,class:"badgeicon"};function A(e,t,s,a,o,r){const l=(0,i.up)("icons"),u=(0,i.up)("tooltip-span");return(0,i.wg)(),(0,i.j4)(u,{tip:e.$tc(s.label,s.cnt),style:{display:"inline-block"}},{default:(0,i.w5)((()=>[(0,i._)("a",{href:s.link,class:"noextlink badgewrap",target:"_blank","aria-label":e.$tc(s.label,s.cnt)},[(0,i.Wm)(l,{name:s.icon,size:"medium"},null,8,["name"]),s.cnt>0?((0,i.wg)(),(0,i.iD)("div",P,(0,n.zw)(s.cnt),1)):(0,i.kq)("",!0)],8,S)])),_:1},8,["tip"])}var O={name:"BadgedIcon",props:["link","icon","label","cnt"],components:{Icons:b.Z,TooltipSpan:T.Z},computed:{msglink(){return q.h.APIbase+"../msgs/msglist.php?cid="+q.h.cid},msgcnt(){return q.h.assessInfo.lti_msgcnt}}};const z=(0,I.Z)(O,[["render",A]]);var Q=z,M=s(4845),C={name:"AssessHeader",components:{Icons:b.Z,LtiMenu:$,Dropdown:y.Z,ResourcePane:_.Z,Timer:g.Z,TooltipSpan:T.Z,BadgedIcon:Q},data:function(){return{resourceMenuShowing:!1}},mixins:[M.w],computed:{ainfo(){return q.h.assessInfo},canSubmit(){return!q.h.inTransit},primarySubmit(){return"by_assessment"===this.ainfo.submitby&&Object.keys(q.h.initValues).length===this.ainfo.questions.length||"by_question"===this.ainfo.submitby&&this.qAttempted===this.ainfo.questions.length},curScorePoints(){let e=0,t=0;for(const s in this.ainfo.questions)0===this.ainfo.questions[s].extracredit&&(e+=1*this.ainfo.questions[s].points_possible),this.ainfo.show_scores_during&&this.ainfo.questions[s].hasOwnProperty("gbscore")&&(t+=1*this.ainfo.questions[s].gbscore);return t=Math.round(1e3*t)/1e3,this.ainfo.in_practice?this.$t("header.practicescore",{pts:t,poss:e}):this.ainfo.show_scores_during?this.$t("header.score",{pts:t,poss:e}):this.$tc("header.possible",e)},qAttempted(){let e=0;for(let t=0;t<this.qsAttempted.length;t++)1===this.qsAttempted[t]&&e++;return e},curAnswered(){const e=this.ainfo.questions.length;return this.$t("header.answered",{n:this.qAttempted,tot:e})},assessSubmitLabel(){return"by_assessment"===this.ainfo.submitby?this.$t("header.assess_submit"):this.hasShowWorkAfter&&!this.ainfo.in_practice?this.$t("work.add"):"during"===this.ainfo.showscores?this.$t("header.done"):""},saveStatus(){return q.h.autoSaving?1:0!==Object.keys(q.h.autosaveQueue).length||q.h.somethingDirty?3:2},showPrint(){return 1!==this.ainfo.noprint},printLink(){return window.location.pathname+window.location.search+"#/print"},MQenabled(){return q.h.enableMQ},hasShowWorkAfter(){let e=!1;if(q.h.assessInfo.hasOwnProperty("showwork_cutoff_in")&&q.h.assessInfo.showwork_cutoff_in<0)return!1;for(let t=0;t<q.h.assessInfo.questions.length;t++)if(2&q.h.assessInfo.questions[t].showwork){e=!0;break}return e},msglink(){return q.h.APIbase+"../msgs/msglist.php?cid="+q.h.cid},forumlink(){return q.h.APIbase+"../forums/thread.php?cid="+q.h.cid+"&forum= "+this.ainfo.help_features.forum}},methods:{handleSubmit(){"by_assessment"===this.ainfo.submitby?q.N.submitAssessment():q.N.gotoSummary()},handleSaveWork(){0===Object.keys(q.h.autosaveQueue).length?(q.h.autoSaving=!0,setTimeout((()=>{q.h.autoSaving=!1}),300)):q.N.submitAutosave()},toggleMQuse(){q.h.enableMQ?q.N.disableMQ():q.N.enableMQ()}}};const j=(0,I.Z)(C,[["render",f]]);var L=j},4643:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});s(6265);var i=s(6252),n=s(9963),a=s(3577);const o={class:"fullwrap",ref:"wrap"},r={class:"dialog-overlay",tabindex:"-1"},l={class:"pane-body",id:"confirm_body"},u={class:"flexrow flexright"};function d(e,t,s,d,h,c){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("div",{class:"dialog",ref:"dialog",role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm_hdr","aria-describedby":"confirm_body",tabindex:"-1",onClick:t[2]||(t[2]=(0,n.iM)((()=>{}),["stop"]))},[(0,i._)("div",l,[(0,i._)("p",null,(0,a.zw)(c.confirmBody),1),(0,i._)("div",u,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>c.doOk&&c.doOk(...e)),class:"primary",key:"okbtn"},(0,a.zw)(c.okMessage),1),""!==c.cancelMessage?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>c.doCancel&&c.doCancel(...e)),class:"secondary"},(0,a.zw)(c.cancelMessage),1)):(0,i.kq)("",!0)])])],512)])],512)}var h=s(5965),c=s.n(h),p={name:"ConfirmDialog",props:["data","lastpos"],data:function(){return{dialog:null}},computed:{confirmBody(){return this.$t(this.data.body)},okMessage(){return this.$t(this.data.ok?this.data.ok:"confirm.ok")},cancelMessage(){return this.$t(this.data.cancel?this.data.cancel:"confirm.cancel")}},methods:{doCancel(){"function"===typeof this.data.cancelaction&&this.data.cancelaction(),this.$emit("close")},doOk(){"function"===typeof this.data.action&&this.data.action(),this.$emit("close")}},mounted(){const e=this.lastpos||null;window.$(document).on("keyup.dialog",(e=>{"Escape"===e.key&&this.doCancel()})),this.dialog=new(c())(this.$refs.wrap),this.dialog.show(),window.innerHeight>2e3&&null!==e&&(this.$refs.dialog.style.top=Math.max(20,e-this.$refs.dialog.offsetHeight)+"px")},beforeUnmount(){window.$(document).off("keyup.dialog"),this.dialog.destroy()}},m=s(3744);const w=(0,m.Z)(p,[["render",d]]);var f=w},7911:function(e,t,s){"use strict";s.d(t,{Z:function(){return y}});s(6265);var i=s(6252),n=s(9963),a=s(3577);const o={class:"fullwrap",ref:"wrap"},r={class:"pane-header flexrow",id:"error_hdr"},l={style:{"flex-grow":"1"}},u=["aria-label"],d={class:"pane-body",id:"error_body"};function h(e,t,s,h,c,p){const m=(0,i.up)("icons");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",{class:"dialog-overlay",tabindex:"-1",onClick:t[2]||(t[2]=(...e)=>p.clearError&&p.clearError(...e))},[(0,i._)("div",{class:"dialog",ref:"dialog",role:"alertdialog","aria-modal":"true","aria-labelledby":"error_hdr","aria-describedby":"error_body",tabindex:"-1",onClick:t[1]||(t[1]=(0,n.iM)((()=>{}),["stop"]))},[(0,i._)("div",r,[(0,i._)("div",l,[(0,i.Wm)(m,{name:"alert"}),(0,i.Uk)(" "+(0,a.zw)(p.errorTitle),1)]),(0,i._)("button",{type:"button",class:"plain slim","aria-label":e.$t("close"),onClick:t[0]||(t[0]=(...e)=>p.clearError&&p.clearError(...e))},[(0,i.Wm)(m,{name:"close"})],8,u)]),(0,i._)("div",d,(0,a.zw)(p.errorMsg),1)],512)])],512)}var c=s(1038),p=s(5965),m=s.n(p),w={name:"ErrorDialog",props:["errormsg","lastpos"],data:function(){return{dialog:null}},components:{Icons:c.Z},computed:{isError(){return"string"===typeof this.errormsg},errorTitle(){return this.isError?this.$t("error.error"):this.errormsg.title},errorMsg(){return this.isError?this.$t("error."+this.errormsg):this.errormsg.msg}},methods:{clearError(){"no_session"===this.errormsg&&window.location.reload(),this.$emit("clearerror")}},mounted(){const e=this.lastpos||null;window.$(document).on("keyup.dialog",(e=>{"Escape"===e.key&&this.clearError()})),this.dialog=new(m())(this.$refs.wrap),this.dialog.show(),window.innerHeight>2e3&&null!==e&&(this.$refs.dialog.style.top=Math.max(20,e-this.$refs.dialog.offsetHeight)+"px")},beforeUnmount(){window.$(document).off("keyup.dialog"),this.dialog.destroy()}},f=s(3744);const g=(0,f.Z)(w,[["render",h]]);var y=g},5530:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});var i=s(6252),n=s(3577);const a={class:"full-question-header"},o={style:{"flex-grow":"1"}},r={key:0,class:"small subdued"};function l(e,t,s,l,u,d){const h=(0,i.up)("icons"),c=(0,i.up)("question-header-icons");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",o,[(0,i.Wm)(h,{name:d.statusIcon,class:"qstatusicon"},null,8,["name"]),(0,i._)("h2",{class:(0,n.C_)({inlineheader:!0,greystrike:0!==d.curQData.withdrawn})},[(0,i.Uk)((0,n.zw)(e.$t("question_n",{n:d.dispqn}))+" ",1),d.curQData.extracredit?((0,i.wg)(),(0,i.iD)("em",r,(0,n.zw)(e.$t("extracredit")),1)):(0,i.kq)("",!0)],2)]),(0,i.Wm)(c,{showscore:!0,curQData:d.curQData,qn:s.qn,showretry:s.showretry},null,8,["curQData","qn","showretry"])])}var u=s(6438),d=s(1038),h=s(4845),c=s(7956),p={name:"SkipQuestionHeader",props:["qn","showretry"],components:{QuestionHeaderIcons:u.Z,Icons:d.Z},mixins:[h.w],data:function(){return{}},computed:{ainfo(){return c.h.assessInfo},curQData(){return c.h.assessInfo.questions[this.qn]},dispqn(){return parseInt(this.qn)+1},statusIcon(){if(0===this.dispqn)return"none";if("unattempted"===this.curQData.status){if(1===this.qsAttempted[this.qn])return"attempted";if(this.qsAttempted[this.qn]>0)return"partattempted"}return this.curQData.status},nameHover(){return 0!==this.curQData.withdrawn?this.$t("header.withdrawn"):""}}},m=s(3744);const w=(0,m.Z)(p,[["render",l]]);var f=w},6564:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var i=s(6252),n=s(9963);const a=["innerHTML"];function o(e,t,s,o,r,l){return e.rendered?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:s.textobj.html,ref:"main"},null,8,a)),[[n.F8,e.expanded]]):(0,i.kq)("",!0)}var r=s(703),l={name:"InterQuestionText",props:["textobj","active"],components:{},data:function(){return{expanded:!0,rendered:!1}},methods:{renderMath(){this.rendered=!0,this.$nextTick((()=>{setTimeout(window.drawPics,100),window.initlinkmarkup(this.$refs.main),window.initSageCell(this.$refs.main),window.rendermathnode(this.$refs.main)}))}},updated(){this.active&&this.expanded&&!this.rendered&&this.renderMath()},mounted(){this.active&&this.expanded&&this.renderMath()},watch:{active:function(e,t){this.active&&this.expanded&&!this.rendered&&this.renderMath(),!1===e&&(0,r.Q)(this.$refs.main)}}},u=s(3744);const d=(0,u.Z)(l,[["render",o]]);var h=d},5713:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var i=s(6252);const n={key:0,class:"questionpane introtext"};function a(e,t,s,a,o,r){const l=(0,i.up)("inter-question-text");return r.texts.length>0?((0,i.wg)(),(0,i.iD)("div",n,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.texts,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{textobj:e,key:t,active:s.active},null,8,["textobj","active"])))),128))])):(0,i.kq)("",!0)}s(560);var o=s(6564),r={name:"InterQuestionTextList",props:["qn","pos","active","textlist","lastq"],components:{InterQuestionText:o.Z},computed:{texts(){return"all"===this.pos?this.allText:"after"===this.pos?this.postText:this.preText},allText(){const e=[];for(const t in this.textlist){const s=this.textlist[t];""!==s.text&&e.push({html:s.text,expanded:!0===s.forntype||this.qn===s.displayBefore})}return e},preText(){const e=[];for(const t in this.textlist){const s=this.textlist[t];("beforeexact"===this.pos&&this.qn===s.displayBefore||"beforeexact"!==this.pos&&this.qn>=s.displayBefore&&this.qn<=s.displayUntil)&&""!==s.text&&e.push({html:s.text,expanded:!0===s.forntype||this.qn===s.displayBefore})}return e},postText(){const e=[];if(this.qn===this.lastq)for(const t in this.textlist){const s=this.textlist[t];this.qn<s.displayBefore&&""!==s.text&&e.push({html:s.text,expanded:1===s.forntype||this.qn===s.displayBefore})}return e}}},l=s(3744);const u=(0,l.Z)(r,[["render",a]]);var d=u},1436:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var i=s(6252),n=s(9963);const a={class:"questionpane introtext"},o=["innerHTML"];function r(e,t,s,r,l,u){const d=(0,i.up)("resource-pane");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",a,[""!==s.html?((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:s.html,ref:"introtext"},null,8,o)):(0,i.kq)("",!0),(0,i.Wm)(d,{showicon:!0,style:{display:"inline-block"}})],512)),[[n.F8,s.active]])}var l=s(703),u=s(2850),d={name:"IntroText",components:{ResourcePane:u.Z},props:["html","active"],mounted(){""!==this.html&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.introtext),window.initSageCell(this.$refs.introtext),window.initlinkmarkup(this.$refs.introtext))},watch:{active:function(e,t){!1===e&&""!==this.html&&(0,l.Q)(this.$refs.introtext)}}},h=s(3744);const c=(0,h.Z)(d,[["render",r]]);var p=c},9516:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var i=s(6252),n=s(3577);const a={class:"listpane"};function o(e,t,s,o,r,l){return(0,i.wg)(),(0,i.iD)("ul",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.penalties,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},(0,n.zw)(t.pct)+"% "+(0,n.zw)(e.$t("penalties."+t.type)),1)))),128))])}var r={name:"PreviousAttempts",props:["part","submitby"],data:function(){return{expanded:!1}},computed:{penalties(){const e="by_question"===this.submitby,t=this.part.penalties;for(const s in t)"regen"===t[s].type&&e&&(t[s].type="trysimilar");return t}}},l=s(3744);const u=(0,l.Z)(r,[["render",o]]);var d=u},5697:function(e,t,s){"use strict";s.d(t,{Z:function(){return _}});var i=s(6252),n=s(3577);const a={class:"qdetails"},o={key:0},r={key:0},l={key:1},u={key:2},d={key:0},h={key:1},c={key:2};function p(e,t,s,p,m,w){const f=(0,i.up)("icons"),g=(0,i.up)("penalties-applied");return(0,i.wg)(),(0,i.iD)("table",a,[s.caption?((0,i.wg)(),(0,i.iD)("caption",o,(0,n.zw)(s.caption),1)):(0,i.kq)("",!0),(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,(0,n.zw)(e.$t("qdetails.part")),1),w.showScore?((0,i.wg)(),(0,i.iD)("th",r,(0,n.zw)(e.$t("qdetails.score")),1)):(0,i.kq)("",!0),w.doShowTries?((0,i.wg)(),(0,i.iD)("th",l,(0,n.zw)(e.$t("qdetails.try")),1)):(0,i.kq)("",!0),w.hasPenalty?((0,i.wg)(),(0,i.iD)("th",u,(0,n.zw)(e.$t("qdetails.penalties")),1)):(0,i.kq)("",!0)])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.parts,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,[(0,i.Wm)(f,{name:w.partIcons[t]},null,8,["name"]),(0,i.Uk)(" "+(0,n.zw)(t+1),1)]),w.showScore?((0,i.wg)(),(0,i.iD)("td",d,(0,n.zw)(e.score)+"/"+(0,n.zw)(e.points_possible),1)):(0,i.kq)("",!0),w.doShowTries?((0,i.wg)(),(0,i.iD)("td",h,(0,n.zw)(w.triesRemaining[t]),1)):(0,i.kq)("",!0),w.hasPenalty?((0,i.wg)(),(0,i.iD)("td",c,[-1!=w.partHasPenalties.indexOf(t)?((0,i.wg)(),(0,i.j4)(g,{key:0,part:e,submitby:s.submitby},null,8,["part","submitby"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])))),128))])])}s(560);var m=s(1038),w=s(9516),f={name:"QuestionDetailsTable",props:["qinfo","caption","showtries","submitby"],components:{Icons:m.Z,PenaltiesApplied:w.Z},computed:{parts(){return this.qinfo.parts},doShowTries(){return!(!1===this.showtries)},partHasPenalties(){const e=[];for(let t=0;t<this.parts.length;t++)this.parts[t].hasOwnProperty("penalties")&&this.parts[t].penalties.length>0&&e.push(t);return e},triesRemaining(){const e=[];for(let t=0;t<this.parts.length;t++)0===this.parts[t].points_possible?e[t]="":this.qinfo.hasOwnProperty("did_jump_to_ans")?e[t]=0:e[t]=this.qinfo.tries_max-this.parts[t].try;return e},hasPenalty(){return this.partHasPenalties.length>0},showScore(){return this.qinfo.hasOwnProperty("score")},partIcons(){const e=[];for(let t=0;t<this.parts.length;t++)0===this.parts[t].try?e[t]="unattempted":this.parts[t].hasOwnProperty("rawscore")?this.parts[t].rawscore>.99?e[t]="correct":this.parts[t].rawscore<.01?e[t]="incorrect":e[t]="partial":e[t]="attempted";return e}}},g=s(3744);const y=(0,g.Z)(f,[["render",p]]);var _=y},6438:function(e,t,s){"use strict";s.d(t,{Z:function(){return A}});var i=s(6252),n=s(3577);const a={class:"headericons"};function o(e,t,s,o,r,l){const u=(0,i.up)("icons"),d=(0,i.up)("tooltip-span"),h=(0,i.up)("question-details-pane"),c=(0,i.up)("dropdown");return(0,i.wg)(),(0,i.iD)("div",a,[""!==l.scoreDisplay?((0,i.wg)(),(0,i.j4)(d,{key:0,tip:l.scoreTip},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"square-check"}),(0,i.Uk)(" "+(0,n.zw)(l.scoreDisplay),1)])),_:1},8,["tip"])):(0,i.kq)("",!0),s.qn>=0&&s.curQData.canretry&&!1!==s.showretry?((0,i.wg)(),(0,i.j4)(d,{key:1,tip:l.retryInfo.msg},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"retry"}),(0,i.Uk)(" "+(0,n.zw)(l.retryInfo.cnt),1)])),_:1},8,["tip"])):(0,i.kq)("",!0),s.qn>=0&&s.curQData.canregen&&!1!==s.showretry?((0,i.wg)(),(0,i.j4)(d,{key:2,tip:e.$tc("qinfo.regens_remaining",s.curQData.regens_remaining)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"retake"}),(0,i.Uk)(" "+(0,n.zw)(s.curQData.regens_remaining),1)])),_:1},8,["tip"])):(0,i.kq)("",!0),l.showDetails?((0,i.wg)(),(0,i.j4)(c,{key:3,id:"qd-dd-"+s.qn,class:"question-details",tip:e.$t("qdetails.question_details")},{button:(0,i.w5)((()=>[(0,i.Wm)(u,{name:"info",size:"medium"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("header.details")),1)])),default:(0,i.w5)((()=>[(0,i.Wm)(h,{qn:s.qn},null,8,["qn"])])),_:1},8,["id","tip"])):(0,i.kq)("",!0)])}const r={class:"pane-header nowrap"},l={class:"pane-body"},u={key:0},d={key:1},h={class:"nowrap"},c={key:2},p={class:"nowrap"},m={key:4},w={key:5},f={class:"small subdued",style:{"text-align":"right"}},g=["href"];function y(e,t,s,a,o,y){const _=(0,i.up)("question-details-table"),b=(0,i.up)("penalties-applied");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",r,(0,n.zw)(e.$t("qdetails.question_details")),1),(0,i._)("div",l,[1===y.qinfo.extracredit?((0,i.wg)(),(0,i.iD)("p",u,(0,n.zw)(e.$t("qdetails.extracredit")),1)):(0,i.kq)("",!0),y.showGBScore?((0,i.wg)(),(0,i.iD)("p",d,[(0,i.Uk)((0,n.zw)(y.gbScoreString)+": ",1),(0,i._)("span",h,(0,n.zw)(e.$tc("scoreresult.scorepts",y.qinfo.points_possible,{pts:y.qinfo.gbscore,poss:y.qinfo.points_possible})),1)])):(0,i.kq)("",!0),y.showScore?((0,i.wg)(),(0,i.iD)("p",c,[(0,i.Uk)((0,n.zw)(e.$t("qdetails.lastscore"))+": ",1),(0,i._)("span",p,(0,n.zw)(e.$tc("scoreresult.scorepts",y.qinfo.points_possible,{pts:y.qinfo.score,poss:y.qinfo.points_possible})),1)])):(0,i.kq)("",!0),y.hasParts?((0,i.wg)(),(0,i.j4)(_,{key:3,caption:e.$t("qdetails.lasttry"),qinfo:y.qinfo,submitby:y.submitby},null,8,["caption","qinfo","submitby"])):(0,i.kq)("",!0),y.hasOnePartPenalties?((0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("p",null,(0,n.zw)(e.$t("penalties.applied"))+":",1),(0,i.Wm)(b,{class:"med-left",part:y.qinfo.parts[0],submitby:y.submitby},null,8,["part","submitby"])])):(0,i.kq)("",!0),y.hasCategory?((0,i.wg)(),(0,i.iD)("p",w,[(0,i._)("strong",null,(0,n.zw)(e.$t("qdetails.category"))+":",1),(0,i.Uk)(" "+(0,n.zw)(y.qinfo.category),1)])):(0,i.kq)("",!0),(0,i._)("p",f,[(0,i._)("a",{target:"license",href:y.licenseUrl},(0,n.zw)(e.$t("qdetails.license")),9,g)])])])}var _=s(7956),b=s(5697),k=s(9516),v={name:"QuestionDetailPane",props:["qn","className","id"],components:{QuestionDetailsTable:b.Z,PenaltiesApplied:k.Z},computed:{qinfo(){return _.h.assessInfo.questions[this.qn]},hasParts(){return this.qinfo.hasOwnProperty("parts")&&this.qinfo.parts.length>1&&0===this.qinfo.withdrawn&&this.qinfo.parts[0].hasOwnProperty("points_possible")&&!this.qinfo.singlescore},hasOnePartPenalties(){return this.qinfo.hasOwnProperty("parts")&&1===this.qinfo.parts.length&&this.qinfo.parts[0].hasOwnProperty("penalties")&&this.qinfo.parts[0].penalties.length>0},showScore(){return this.qinfo.hasOwnProperty("score")},showGBScore(){return this.qinfo.hasOwnProperty("gbscore")},gbScoreString(){return _.h.assessInfo.in_practice?this.$t("qdetails.bestpractice"):this.$t("qdetails.gbscore")},hasCategory(){return 1===_.h.assessInfo.showcat&&this.qinfo.hasOwnProperty("category")&&""!==this.qinfo.category&&null!==this.qinfo.category},submitby(){return _.h.assessInfo.submitby},licenseUrl(){return window.imasroot+"/course/showlicense.php?id="+this.qinfo.questionsetid}}},q=s(3744);const x=(0,q.Z)(v,[["render",y]]);var I=x,D=s(7520),$=s(9015),T=s(1038),S={name:"QuestionHeaderIcons",props:["showscore","curQData","qn","showretry"],components:{Dropdown:D.Z,Icons:T.Z,QuestionDetailsPane:I,TooltipSpan:$.Z},computed:{dispqn(){return parseInt(this.qn)+1},scoreDisplay(){return 0===this.dispqn?"":this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.curQData.gbscore+"/"+this.$tc("header.pts",this.curQData.points_possible):this.$tc("header.pts",this.curQData.points_possible)},scoreTip(){return this.showscore&&this.curQData.hasOwnProperty("gbscore")&&this.curQData.tries_max>1?this.$t("qdetails.gbscore"):this.$tc("header.possible",this.curQData.points_possible)},retryInfo(){if(this.qn<0)return{};let e,t;if(this.curQData.hasOwnProperty("tries_remaining_range")){const s=this.curQData.tries_remaining_range;e=this.$t("qinfo.tries_remaining_range",{min:s[0],max:s[1]}),t=s[0]+"-"+s[1]}else e=this.$tc("qinfo.tries_remaining",this.curQData.tries_remaining),t=this.curQData.tries_remaining;return{msg:e,cnt:t}},showDetails(){if(this.qn<0)return!1;const e=this.curQData.hasOwnProperty("category")&&""!==this.curQData.category;return this.curQData.has_details||e||this.curQData.hasOwnProperty("gbscore")}}};const P=(0,q.Z)(S,[["render",o]]);var A=P},2850:function(e,t,s){"use strict";s.d(t,{Z:function(){return g}});var i=s(6252),n=s(3577);const a={key:0,id:"resource-pane"},o={class:"pane-header"},r={class:"pane-body"},l={style:{"flex-grow":"1","margin-right":"12px"}},u=["onClick","title","aria-label"],d=["href","target","title","aria-label"];function h(e,t,s,h,c,p){const m=(0,i.up)("icons");return p.assessResources.length>0?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",o,[s.showicon?((0,i.wg)(),(0,i.j4)(m,{key:0,name:"file"})):(0,i.kq)("",!0),(0,i.Uk)(" Resources ")]),(0,i._)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.assessResources,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:"flexrow"},[(0,i._)("span",l,(0,n.zw)(t.label),1),(0,i._)("button",{onClick:e=>p.popout(t),class:"min1000",title:e.$t("resource.sidebar"),"aria-label":e.$t("resource.sidebar")+" "+t.label},[(0,i.Wm)(m,{name:"sidebar",alt:""})],8,u),(0,i._)("a",{class:"abutton",href:t.link,target:"res"+s,title:e.$t("resource.newtab"),"aria-label":e.$t("resource.newtab")+" "+t.label},[(0,i.Wm)(m,{name:"extlink",alt:""})],8,d)])))),128))])])):(0,i.kq)("",!0)}var c=s(7956),p=s(1038),m={name:"ResourcePane",props:["showicon"],components:{Icons:p.Z},computed:{assessResources(){return c.h.assessInfo.resources},docEl(){return window.document.documentElement}},methods:{popout(e){window.GB_show(e.label,e.link,760,"auto",!1,"left",["skip-question-header","assess-header","resource-dropdown"])}}},w=s(3744);const f=(0,w.Z)(m,[["render",h]]);var g=f},3496:function(e,t,s){"use strict";s.d(t,{Z:function(){return _}});s(6265);var i=s(6252),n=s(3577);const a={class:"showworkwrap"},o={key:0},r=["id","rows"],l={key:1,class:"feedbackwrap"},u={class:"nomark"},d=["href"],h=["onClick"],c={key:0,class:"noticetext"},p=(0,i._)("div",null,null,-1);function m(e,t,s,m,w,f){return(0,i.wg)(),(0,i.iD)("div",a,[0===f.worktype?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Uk)((0,n.zw)(e.$t("question.showwork"))+" ",1),(0,i._)("textarea",{id:f.computedId,ref:"inbox",class:"fbbox swbox",rows:s.rows},null,8,r)])):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Uk)((0,n.zw)(e.$t("question.uploadwork"))+" ",1),(0,i._)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filelist,((t,s)=>((0,i.wg)(),(0,i.iD)("li",{key:s},[(0,i._)("a",{href:t,class:"attach",target:"_blank"},(0,n.zw)(t.split("/").pop()),9,d),(0,i._)("button",{onClick:e=>f.removeFile(s)},(0,n.zw)(e.$t("group.remove")),9,h)])))),128)),(0,i._)("li",null,[(0,i._)("input",{type:"file",ref:"fileinput",onChange:t[0]||(t[0]=(...e)=>f.uploadFile&&f.uploadFile(...e))},null,544),e.uploading?((0,i.wg)(),(0,i.iD)("span",c,(0,n.zw)(e.$t("question.uploading")),1)):(0,i.kq)("",!0)])]),p]))])}s(560),s(7267);var w=s(7956),f={name:"ShowworkInput",props:{id:{default:null},value:{default:""},rows:{default:2},active:{default:!0}},data:function(){return{objTinymce:null,filelist:[],uploading:!1}},computed:{computedId:function(){return"editor"===this.id||""===this.id||null===this.id?"editor-"+this.guidGenerator():this.id},worktype:function(){return 4===w.h.assessInfo.showworktype?1:0}},mounted:function(){0===this.worktype&&(this.$refs.inbox.innerHTML=this.value),this.active&&this.initEditor()},updated:function(){this.active&&0===this.worktype&&null===this.objTinymce&&this.initEditor()},methods:{guidGenerator:function(){function e(){return Math.random().toString(36).substr(2,9)}return"ed-"+e()+"-"+e()},initEditor(){var e=this;1===this.worktype?(window.$(this.$refs.fileinput).on("focus",(function(t){e.$emit("focus",!0)})),this.updateFilelist(this.value),this.objTinymce={value:this.value}):window.tinymce?window.initeditor("exact",this.computedId,null,!1,(function(t){t.on("input change keyup undo redo",(function(s){e.updateValue(t.getContent())})).on("blur",(function(t){e.$emit("blur",!0)})).on("focus",(function(t){e.$emit("focus",!0)})),e.objTinymce=t})):(window.$(this.$refs.inbox).on("focus",(function(t){e.$emit("focus",!0)})).on("blur",(function(t){e.$emit("blur",!0)})).on("input change keyup undo redo",(function(t){e.updateValue(t.target.value)})),e.objTinymce=this.$refs.inbox)},updateFilelist:function(e){const t=[],s=e.match(/<(a[^>]*href|img[^>]*src)="(.*?)"/g);if(null!==s)for(let i=0;i<s.length;i++)t.push(s[i].replace(/^.*?(href|src)="(.*?)"/,"$2"));this.filelist=t},updateValue:function(e){e.length>3e4&&(e=e.substr(0,3e4)),this.$emit("input",e)},focus:function(){this.objTinymce.focus()},uploadFile:function(){window.doImageUploadResize(this.$refs.fileinput,(e=>{if(e.files[0].size>1536e4)return w.N.handleError("file_toolarge"),void(this.$refs.fileinput.value="");const t=new FormData;t.append("type","attach"),t.append("file",e.files[0]),this.uploading=!0,window.$.ajax({url:w.h.APIbase.replace(/\/\w+\/$/,"")+"/tinymce4/upload_handler.php",type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done((e=>{e.location?(this.filelist.push(e.location),this.updateValueFromFilelist()):w.N.handleError("file_upload_error")})).fail((e=>{w.N.handleError("file_upload_error")})).always((()=>{this.$refs.fileinput.value=null,this.uploading=!1}))}))},removeFile:function(e){w.h.confirmObj={body:"work.remove",action:()=>{const t=this.filelist[e];this.filelist.splice(e,1),this.updateValueFromFilelist(),window.$.ajax({url:w.h.APIbase+"../tinymce4/upload_handler.php",type:"POST",dataType:"json",data:{remove:t},xhrFields:{withCredentials:!0},crossDomain:!0})}}},updateValueFromFilelist:function(){let e="";if(this.filelist.length>0){e+='<ul class="nomark">';for(let t=0;t<this.filelist.length;t++)e+='<li><a href="'+this.filelist[t]+'" class="attach" target="_blank">'+this.filelist[t].split("/").pop()+"</a></li>";e+="</ul>"}this.objTinymce.value=e,this.$emit("input",e),this.$emit("blur",e)}},watch:{active:function(e,t){!0===e&&null===this.objTinymce&&this.initEditor()},value:function(e,t){"string"!==typeof e&&(e=""),1===this.worktype?e!==this.objTinymce.value&&this.updateFilelist(e):window.tinymce?e!==this.objTinymce.getContent()&&this.objTinymce.setContent(e):e!==this.objTinymce.value&&(this.objTinymce.value=e)}}},g=s(3744);const y=(0,g.Z)(f,[["render",m]]);var _=y},7575:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});s(6265);var i=s(6252),n=s(3577);const a={key:2,class:"sronly"};function o(e,t,s,o,r,l){const u=(0,i.up)("icons");return(0,i.wg)(),(0,i.iD)("button",{type:"button",class:"plain",id:"timerbox",onClick:t[0]||(t[0]=(...e)=>l.toggleShow&&l.toggleShow(...e))},[(0,i.Wm)(u,{name:"timer",size:"small"}),e.open?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({noticetext:0===e.hours&&60*e.minutes+e.seconds<l.warningTime})},(0,n.zw)(e.timeString),3)):(0,i.kq)("",!0),e.open?((0,i.wg)(),(0,i.j4)(u,{key:1,name:"close",size:"small",color:"subdued"})):((0,i.wg)(),(0,i.iD)("span",a,(0,n.zw)(e.$t("timer.show")),1))])}var r=s(1038),l={name:"Timer",props:["end","total","grace"],components:{Icons:r.Z},data:function(){return{hours:0,minutes:0,seconds:0,timeString:"",interval:null,open:!0,gaveWarning:!1}},created(){this.updateTimer(),this.interval=setInterval(this.updateTimer,1e3)},mounted(){var e=window.$("#timerbox"),t=e.offset();window.$(window).scroll((function(){var s=window.$(window).scrollTop();s>=t.top?e.addClass("sticky"):e.removeClass("sticky")}))},beforeUnmount(){clearInterval(this.interval)},computed:{warningTime(){return Math.max(60,Math.min(.05*this.total,300))}},methods:{updateTimer:function(){const e=(new Date).getTime();this.timeString="";let t=Math.max(0,this.end-e);0===t&&this.grace>0&&(t=Math.max(0,this.grace-e),this.timeString+=this.$t("timer.overtime")+" "),!this.gaveWarning&&t<1e3*this.warningTime&&(this.open=!0,this.gaveWarning=!0),this.hours=Math.floor(t/36e5),this.minutes=Math.floor(t%36e5/6e4),this.seconds=Math.floor(t%6e4/1e3),0===this.hours&&this.minutes<5?(this.timeString+=this.hours>0?this.hours+":":"",this.timeString+=(this.minutes<10?"0":"")+this.minutes+":",this.timeString+=(this.seconds<10?"0":"")+this.seconds):(this.timeString+=this.hours>0?this.hours+this.$tc("timer.hrs",this.hours):"",this.timeString+=this.minutes>0?this.minutes+this.$tc("timer.min",this.minutes):"")},toggleShow:function(){this.open=!this.open}}},u=s(3744);const d=(0,u.Z)(l,[["render",o]]);var h=d},4015:function(e,t,s){"use strict";s.d(t,{Z:function(){return G}});s(6265);var i=s(6252),n=s(3577),a=s(9963);const o={class:"questionwrap questionpane",ref:"main"},r={key:0},l={key:2,class:"scoreresult neutral",tabindex:"-1"},u={key:3,class:"noticetext"},d={key:4,class:"small"},h=["innerHTML","id"],c={key:7},p={key:8,class:"submitbtnwrap"},m=["disabled"],w={class:"sr-only"},f=["disabled"],g={key:9,class:"submitbtnwrap"},y=["onClick","onKeypress","disabled"];function _(e,t,s,_,b,k){const v=(0,i.up)("score-result"),q=(0,i.up)("icons"),x=(0,i.up)("question-helps"),I=(0,i.up)("showwork-input"),D=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",o,[k.questionContentLoaded?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",r,(0,n.zw)(e.$t("loading")),1)),k.showScore&&k.showResults?((0,i.wg)(),(0,i.j4)(v,{key:1,qdata:k.questionData,qn:s.qn},null,8,["qdata","qn"])):k.showScore&&k.questionData.canregen?((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>k.trySimilar&&k.trySimilar(...e))},[(0,i.Wm)(q,{name:"retake",alt:""}),(0,i.Uk)(" "+(0,n.zw)(e.$t("scoreresult.trysimilar")),1)])])):(0,i.kq)("",!0),0!==k.questionData.withdrawn?((0,i.wg)(),(0,i.iD)("p",u,[(0,i.Wm)(q,{name:"alert",color:"warn",size:"medium"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("question.withdrawn")),1)])):(0,i.kq)("",!0),k.errorsToShow.length>0?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.errorsToShow,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},(0,n.zw)(e),1)))),128))])])):(0,i.kq)("",!0),k.questionContentLoaded?((0,i.wg)(),(0,i.iD)("div",{key:5,innerHTML:k.questionData.html,class:"question",id:"questionwrap"+s.qn,ref:"thisqwrap"},null,8,h)):(0,i.kq)("",!0),k.showHelps?((0,i.wg)(),(0,i.j4)(x,{key:6,qn:s.qn},null,8,["qn"])):(0,i.kq)("",!0),k.showWork&&k.questionContentLoaded?((0,i.wg)(),(0,i.iD)("div",c,[2!==s.getwork?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[1]||(t[1]=t=>e.showWorkInput=!e.showWorkInput)},(0,n.zw)(e.showWorkInput?e.$t("work.hide"):e.$t("work.add")),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(I,{id:"sw"+s.qn,value:k.questionData.work,rows:"3",active:2===s.getwork||e.showWorkInput,onInput:k.updateWork,onBlur:k.workChanged,onFocus:k.workFocused},null,8,["id","value","active","onInput","onBlur","onFocus"])],512),[[a.F8,2===s.getwork||e.showWorkInput]])])):(0,i.kq)("",!0),k.showSubmit?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>k.submitQuestion&&k.submitQuestion(...e)),class:(0,n.C_)(k.submitClass),disabled:!k.canSubmit},[(0,i.Uk)((0,n.zw)(k.submitLabel)+" ",1),(0,i._)("span",w,(0,n.zw)(e.$t("question_n",{n:s.qn+1})),1)],10,m),k.canJumpToAnswer?((0,i.wg)(),(0,i.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=(...e)=>k.jumpToAnswer&&k.jumpToAnswer(...e)),class:"secondary",disabled:!k.canSubmit},(0,n.zw)(e.$t("question.jump_to_answer")),9,f)):(0,i.kq)("",!0)])):k.showNext?((0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(D,{to:"/skip/"+(this.qn+2),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,a.D2)(t,["enter"]),role:"link",class:"secondarybtn",disabled:!k.canSubmit},[(0,i.Wm)(q,{name:"right"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("question.next")),1)],40,y)])),_:1},8,["to"])])):(0,i.kq)("",!0)],512)}var b=s(7956);const k={key:0},v={key:1},q={key:2},x={key:3},I=["onClick","onKeypress"],D={key:3};function $(e,t,s,o,r,l){const u=(0,i.up)("icons"),d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(a.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.expanded?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.C_)(["scoreresult",l.status]),tabindex:"-1"},[l.showScores?((0,i.wg)(),(0,i.iD)("p",k,[(0,i.Uk)((0,n.zw)(e.$t("scoreresult.scorelast"))+" ",1),(0,i._)("strong",null,(0,n.zw)(e.$tc("scoreresult.scorepts",s.qdata.points_possible,{pts:s.qdata.score,poss:s.qdata.points_possible}))+". ",1),(0,i.Uk)(" "+(0,n.zw)(e.$t("scoreresult.see_details")),1)])):((0,i.wg)(),(0,i.iD)("p",v,(0,n.zw)(e.$t("scoreresult.submitted")),1)),l.hasManualScore?((0,i.wg)(),(0,i.iD)("p",q,[(0,i.Wm)(u,{name:"info"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("scoreresult.manual_grade")),1)])):(0,i.kq)("",!0),l.showRetryButtons?((0,i.wg)(),(0,i.iD)("p",x,[l.showNext?((0,i.wg)(),(0,i.j4)(d,{key:0,to:"/skip/"+(this.qn+2),custom:""},{default:(0,i.w5)((({navigate:t})=>[(0,i._)("button",{type:"button",onClick:t,onKeypress:(0,a.D2)(t,["enter"]),role:"link"},[(0,i.Wm)(u,{name:"right",alt:""}),(0,i.Uk)(" "+(0,n.zw)(e.$t("scoreresult.next")),1)],40,I)])),_:1},8,["to"])):(0,i.kq)("",!0),l.showSubmit?((0,i.wg)(),(0,i.iD)("button",{key:1,type:"button",class:"primary",onClick:t[0]||(t[0]=(...e)=>l.submitAssess&&l.submitAssess(...e))},(0,n.zw)(e.$t("header.assess_submit")),1)):(0,i.kq)("",!0),s.qdata.canregen?((0,i.wg)(),(0,i.iD)("button",{key:2,type:"button",onClick:t[1]||(t[1]=(...e)=>l.trySimilar&&l.trySimilar(...e))},[(0,i.Wm)(u,{name:"retake",alt:""}),(0,i.Uk)(" "+(0,n.zw)(e.$t("scoreresult.trysimilar")),1)])):(0,i.kq)("",!0),s.qdata.canretry_primary?((0,i.wg)(),(0,i.iD)("span",D,(0,n.zw)(e.$t("scoreresult.retryq")),1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)],2)):(0,i.kq)("",!0)])),_:1})}var T=s(1038),S={name:"ScoreResult",props:["qdata","qn"],data:function(){return{expanded:!0}},watch:{qdata:function(e){this.expanded=!0}},components:{Icons:T.Z},computed:{showScores(){return(!this.qdata.hasOwnProperty("parts")||1!==this.qdata.parts.length||!this.qdata.parts[0].req_manual)&&"during"===b.h.assessInfo.showscores},status(){if(!this.showScores||!this.qdata.hasOwnProperty("parts")||1===this.qdata.parts.length&&this.qdata.parts[0].req_manual)return"neutral";if(this.qdata.singlescore)return this.qdata.rawscore>.99?"correct":this.qdata.rawscore<.01?"incorrect":"partial";let e=0,t=0;for(let s=0;s<this.qdata.parts.length;s++)this.qdata.parts[s].hasOwnProperty("rawscore")&&(this.qdata.parts[s].rawscore>.99?e++:this.qdata.parts[s].rawscore<.01&&t++);return e===this.qdata.parts.length?"correct":t===this.qdata.parts.length?"incorrect":"partial"},hasManualScore(){if("during"!==b.h.assessInfo.showscores||!this.qdata.hasOwnProperty("parts"))return!1;for(let e=0;e<this.qdata.parts.length;e++)if(this.qdata.parts[e].hasOwnProperty("req_manual")&&this.qdata.parts[e].req_manual)return!0;return!1},showRetryButtons(){return"livepoll"!==b.h.assessInfo.displaymethod},showNext(){return"skip"===b.h.assessInfo.displaymethod&&this.qn<b.h.assessInfo.questions.length-1},showSubmit(){return"by_assessment"===b.h.assessInfo.submitby&&this.qn===b.h.assessInfo.questions.length-1}},methods:{trySimilar(){b.N.loadQuestion(this.qn,!0)},submitAssess(){b.N.submitAssessment()}}},P=s(3744);const A=(0,P.Z)(S,[["render",$]]);var O=A;const z=["id"],Q={class:"sr-only"},M=["aria-labelledby"],C=["onClick"],j={key:0,class:"sr-only"},L={key:0},W=["href"],E={key:1},Z=["href"];function H(e,t,s,o,r,l){const u=(0,i.up)("icons"),d=(0,i.up)("tooltip-span");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("span",{id:"qhelp"+s.qn},[(0,i.Uk)((0,n.zw)(e.$t("helps.help")),1),(0,i._)("span",Q,(0,n.zw)(e.$t("question_n",{n:s.qn+1})),1),(0,i.Uk)(": ")],8,z),(0,i._)("ul",{class:"helplist","aria-labelledby":"qhelp"+s.qn},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.qHelps,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i.Wm)(d,{tip:e.descr},{default:(0,i.w5)((()=>[(0,i._)("a",{href:"#",onClick:(0,a.iM)((t=>l.loadHelp(e)),["prevent"])},[(0,i.Wm)(u,{name:e.icon,alt:""},null,8,["name"]),(0,i.Uk)(" "+(0,n.zw)(e.title)+" ",1),(0,i._)("span",{class:(0,n.C_)({"sr-only":!l.showCnts})},(0,n.zw)(e.cnt),3),e.descr?((0,i.wg)(),(0,i.iD)("span",j,(0,n.zw)(e.descr),1)):(0,i.kq)("",!0)],8,C)])),_:2},1032,["tip"])])))),128)),l.showMessage?((0,i.wg)(),(0,i.iD)("li",L,[(0,i._)("a",{href:l.messageHref,target:"help"},[(0,i.Wm)(u,{name:"message"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("helps.message_instructor")),1)],8,W)])):(0,i.kq)("",!0),l.postToForum>0?((0,i.wg)(),(0,i.iD)("li",E,[(0,i._)("a",{href:l.forumHref,target:"help"},[(0,i.Wm)(u,{name:"forum"}),(0,i.Uk)(" "+(0,n.zw)(e.$t("helps.post_to_forum")),1)],8,Z)])):(0,i.kq)("",!0)],8,M)])}var U=s(9015),N={name:"QuestionHelps",props:["qn"],components:{Icons:T.Z,TooltipSpan:U.Z},computed:{showMessage(){return b.h.assessInfo.hasOwnProperty("help_features")&&!0===b.h.assessInfo.help_features.message},postToForum(){return b.h.assessInfo.hasOwnProperty("help_features")&&b.h.assessInfo.help_features.forum},qHelps(){const e={};if(b.h.assessInfo.questions[this.qn].jsparams){const t=b.h.assessInfo.questions[this.qn].jsparams.helps;for(const s in t)e.hasOwnProperty(t[s].label)?e[t[s].label]++:e[t[s].label]=1,"video"===t[s].label?(t[s].icon="video",t[s].title=this.$t("helps.video")):"read"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.read")):"ex"===t[s].label?(t[s].icon="file",t[s].title=this.$t("helps.written_example")):(t[s].icon="file",t[s].title=t[s].label),t[s].cnt=e[t[s].label];return t}return[]},showCnts(){return this.qHelps.filter((e=>e.cnt>1)).length>0},quoteQ(){const e=b.h.assessInfo.questions[this.qn].questionsetid,t=b.h.assessInfo.questions[this.qn].seed,s=2;return this.qn+"-"+e+"-"+t+"-"+b.h.aid+"-"+s},messageHref(){let e=window.imasroot+"/msgs/msglist.php?";return e+=window.$.param({cid:b.h.cid,add:"new",quoteq:this.quoteQ,to:"instr"}),e},forumHref(){let e=window.imasroot+"/forums/thread.php?";return e+=window.$.param({cid:b.h.cid,forum:b.h.assessInfo.help_features.forum,modify:"new",quoteq:this.quoteQ}),e}},methods:{loadHelp(e){if(e.ref){const t=e.ref.split(/-/),s="Q"+t[1]+": ";if(e.url.match(/watchvid\.php/)){const t=e.url.split(/url=/);window.recclick("extref",e.ref,s+decodeURIComponent(t[1]))}else window.recclick("extref",e.ref,s+e.url)}window.popupwindow("help",e.url,e.w,e.h,!0)}}};const F=(0,P.Z)(N,[["render",H]]);var Y=F,V=s(3496),B=s(703),R={name:"Question",props:["qn","active","state","seed","disabled","getwork"],components:{ScoreResult:O,QuestionHelps:Y,ShowworkInput:V.Z,Icons:T.Z},data:function(){return{work:"",lastWorkVal:"",showWorkInput:!1,loadingAttempted:!1}},computed:{questionData(){return b.h.assessInfo.questions[this.qn]},canSubmit(){return!b.h.inTransit},canJumpToAnswer(){return this.questionData.jump_to_answer},questionContentLoaded(){return null!==this.questionData.html},hasSeqNext(){return this.questionData.jsparams&&this.questionData.jsparams.hasseqnext},hasSubmitAll(){return this.questionData.jsparams&&1===this.questionData.jsparams.submitall},buttonsOk(){return b.h.inProgress&&this.questionContentLoaded&&!b.h.inPrintView&&!this.disabled&&0===this.questionData.withdrawn&&this.questionData.canretry},showSubmit(){return this.buttonsOk&&("by_question"===b.h.assessInfo.submitby||"during"===b.h.assessInfo.showscores||this.hasSeqNext)&&("livepoll"!==b.h.assessInfo.displaymethod||2===this.state)},showNext(){return this.buttonsOk&&!this.showSubmit&&"skip"===b.h.assessInfo.displaymethod&&this.qn<b.h.assessInfo.questions.length-1},submitClass(){return"by_assessment"!==b.h.assessInfo.submitby&&this.questionData.canretry_primary?"primary":"secondary"},showScore(){return b.h.inProgress&&!b.h.inPrintView&&!this.disabled&&!0!==this.questionData.hadSeqNext&&(this.questionData.hasOwnProperty("score")||"attempted"===this.questionData.status)&&(this.questionData.try>0||this.questionData.hasOwnProperty("tries_remaining_range"))&&0===this.questionData.withdrawn},showResults(){return b.h.assessInfo.show_results},submitLabel(){let e="question.";return"by_question"===b.h.assessInfo.submitby?e+="submit":"during"===b.h.assessInfo.showscores?e+="checkans":e+="saveans",this.hasSeqNext?e+="_seqnext":this.hasSubmitAll&&(e+="_submitall"),this.$t(e)},showHelps(){return b.h.assessInfo.hasOwnProperty("help_features")&&(!0===b.h.assessInfo.help_features.message||b.h.assessInfo.help_features.forum>0)||this.questionData.jsparams&&this.questionData.jsparams.helps.length>0},errorsToShow(){let e=[];return b.h.assessInfo.hasOwnProperty("scoreerrors")&&b.h.assessInfo.scoreerrors.hasOwnProperty(this.qn)&&(e=e.concat(b.h.assessInfo.scoreerrors[this.qn])),this.questionData.hasOwnProperty("errors")&&(e=e.concat(this.questionData.errors)),e},showWork(){return 1===this.getwork&&1&b.h.assessInfo.questions[this.qn].showwork||2===this.getwork&&2&b.h.assessInfo.questions[this.qn].showwork}},methods:{loadQuestionIfNeeded(e){this.questionContentLoaded&&!this.loadingAttempted&&(this.loadingAttempted=this.questionContentLoaded),this.questionContentLoaded||this.loadingAttempted||!this.active||null!==b.h.errorMsg?this.questionContentLoaded&&this.active&&!this.questionData.rendered&&!0!==e&&this.renderAndTrack():(this.loadingAttempted=!0,b.N.loadQuestion(this.qn,!1,!1))},submitQuestion(){b.N.submitQuestion(this.qn,!1),b.h.timeActive[this.qn]=0,b.h.timeActivated[this.qn]=new Date},jumpToAnswer(){b.h.confirmObj={body:"question.jump_warn",action:()=>b.N.loadQuestion(this.qn,!1,!0)}},updateTime(e){if(!b.h.timeActivated.hasOwnProperty(this.qn)||e)b.h.timeActivated[this.qn]=new Date;else if(b.h.timeActivated.hasOwnProperty(this.qn)){const e=new Date;b.h.timeActive[this.qn]+=e-b.h.timeActivated[this.qn],delete b.h.timeActivated[this.qn]}},addDirtyTrackers(){window.$("#questionwrap"+this.qn).find("input[name],select[name],textarea[name]").off("focus.dirtytrack").off("change.dirtytrack").off("input.dirtytrack").on("focus.dirtytrack",(function(){"radio"===this.type||"checkbox"===this.type||window.$(this).attr("data-lastval",window.$(this).val())})).on("input.dirtytrack",(function(){b.h.somethingDirty=!0})).on("change.dirtytrack",(function(){const e=window.$(this).val().trim();let t=!1;if(("radio"===this.type||"checkbox"===this.type||e!==window.$(this).attr("data-lastval")&&""!==e)&&(t=!0),t){b.h.somethingDirty=!0;const e=window.$(this).attr("name"),t=e.match(/^(qs|qn|tc)(\d+)/);if(null!==t){var s=1*t[2],i=0;s>=1e3&&(i=s%1e3,s=Math.floor(s/1e3+.001)-1);const e=new Date,n=b.h.timeActive[s]+(e-b.h.timeActivated[s]);b.N.doAutosave(s,i,n)}}}))},disableOutOfTries(){const e=this.questionData.tries_max;let t=0;for(const i in this.questionData.jsparams)i.match(/^\d+$/)&&t++;for(const i in this.questionData.parts){var s;this.questionData.parts[i].try>=e&&this.questionData.answeights[i]>0&&(s=1===Object.keys(this.questionData.parts).length&&t>1?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(this.qn+1)+"\\d{3}\\b)"):0===parseInt(i)?new RegExp("^(qn|tc|qs)("+this.qn+"\\b|"+(1e3*(this.qn+1)+1*i)+"\\b)"):new RegExp("^(qn|tc|qs)"+(1e3*(this.qn+1)+1*i)+"\\b"),window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(s)&&(t.disabled=!0)})))}},renderAndTrack(){!this.questionData.rendered&&this.active&&(setTimeout(window.drawPics,100),window.rendermathnode(this.$refs.thisqwrap),window.initSageCell(this.$refs.thisqwrap),window.initlinkmarkup(this.$refs.thisqwrap),window.setupSeqPartToggles(this.$refs.thisqwrap),this.updateTime(!0),this.setInitValues(),b.h.timeActive[this.qn]+=b.N.getInitTimeactive(this.qn),this.addDirtyTrackers(),this.work=this.questionData.work,window.$("#questionwrap"+this.qn).find(".seqsep").attr("aria-level","full"===b.h.assessInfo.displaymethod?3:2),this.disabled&&window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(e,t){t.name.match(/^(qn|tc|qs)\d/)&&(t.disabled=!0)})),window.imathasAssess.init(this.questionData.jsparams,b.h.enableMQ,this.$refs.thisqwrap),b.N.setRendered(this.qn,!0))},setInitValues(){var e=/^(qn|tc|qs)\d/,t=this.qn;window.$("#questionwrap"+this.qn).find("input,select,textarea").each((function(s,i){i.name.match(e)&&("radio"===i.type||"checkbox"===i.type?i.checked&&b.N.setInitValue(t,i.name,i.value):b.N.setInitValue(t,i.name,window.$(i).val()))})),this.showWork&&(b.N.setInitValue(t,"sw"+this.qn,this.questionData.work),this.work=this.questionData.work)},updateWork(e){this.work=e},workChanged(){if(this.work!==this.lastWorkVal)if(b.h.work[this.qn]=this.work,1===this.getwork){const e=new Date,t=b.h.timeActive[this.qn]+(e-b.h.timeActivated[this.qn]);b.N.doAutosave(this.qn,"sw",t)}else 2===this.getwork&&this.$emit("workchanged",this.work)},workFocused(){this.lastWorkVal=this.work},trySimilar(){b.N.loadQuestion(this.qn,!0)}},updated(){this.questionContentLoaded?(this.disableOutOfTries(),this.renderAndTrack()):this.loadQuestionIfNeeded()},created(){this.loadQuestionIfNeeded(!0),b.h.timeActive.hasOwnProperty(this.qn)||(b.h.timeActive[this.qn]=0)},mounted(){this.questionContentLoaded&&(this.disableOutOfTries(),this.renderAndTrack())},beforeUnmount(){b.N.setRendered(this.qn,!1)},watch:{active:function(e,t){this.loadQuestionIfNeeded(),this.updateTime(e),!1===e&&(0,B.Q)(this.$refs.main)},state:function(e,t){(e>1&&t<=1||4===e&&t<4||3===e&&4===t)&&b.N.loadQuestion(this.qn,!1,!1)},qn:function(e,t){b.N.setRendered(t,!1)},seed:function(e,t){b.N.loadQuestion(this.qn,!1,!1)}}};const K=(0,P.Z)(R,[["render",_]]);var G=K},6569:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var i=s(6252),n=s(3577);const a={class:"scorelist"},o=(0,i._)("caption",{class:"sr-only"},"Category Scores",-1),r={class:"subdued med-left"};function l(e,t,s,l,u,d){return(0,i.wg)(),(0,i.iD)("table",a,[o,(0,i._)("tr",null,[(0,i._)("th",null,(0,n.zw)(e.$t("catlist.category")),1),(0,i._)("th",null,(0,n.zw)(e.$t("catlist.score")),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.catScores,((t,s)=>((0,i.wg)(),(0,i.iD)("tr",{key:s},[(0,i._)("td",null,(0,n.zw)(t.name),1),(0,i._)("td",null,[(0,i.Uk)((0,n.zw)(t.pct)+"% ",1),(0,i._)("span",r,(0,n.zw)(e.$tc("catlist.pts",t.poss,{pts:t.tot,poss:t.poss})),1)])])))),128))])}s(560);var u={name:"SummaryCategories",props:["data"],computed:{catScores(){const e=this.data,t=[];for(const s in e){if(!e[s].hasOwnProperty("category")||""===e[s].category)continue;let i=!1;for(let n=0;n<t.length;n++)if(t[n].name===e[s].category){t[n].tot+=e[s].score,t[n].poss+=e[s].points_possible,i=!0;break}i||t.push({name:e[s].category,tot:e[s].score,poss:e[s].points_possible})}for(let s=0;s<t.length;s++)t[s].pct=Math.round(1e3*t[s].tot/t[s].poss)/10;return t.sort((function(e,t){return e.name<t.name})),t}}},d=s(3744);const h=(0,d.Z)(u,[["render",l]]);var c=h},7520:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});s(6265);var i=s(6252),n=s(9963);const a=["id","aria-controls","aria-expanded"],o=["id"];function r(e,t,s,r,l,u){const d=(0,i.up)("tooltip-span");return(0,i.wg)(),(0,i.iD)("span",{onKeydown:t[3]||(t[3]=(0,n.D2)((e=>u.triggerOpen(!1)),["esc"])),class:"dropdown-wrap",onFocusin:t[4]||(t[4]=(...e)=>u.handleFocusin&&u.handleFocusin(...e)),onFocusout:t[5]||(t[5]=(...e)=>u.handleFocusout&&u.handleFocusout(...e))},[(0,i.Wm)(d,{show:!e.open&&s.tip,tip:s.tip},{default:(0,i.w5)((()=>[(0,i._)("span",{id:s.id,ref:"button",role:"button",tabindex:"0",onClick:t[0]||(t[0]=(...e)=>u.triggerOpen&&u.triggerOpen(...e)),onKeydown:[t[1]||(t[1]=(0,n.D2)((0,n.iM)(((...e)=>u.triggerOpen&&u.triggerOpen(...e)),["prevent"]),["enter"])),t[2]||(t[2]=(0,n.D2)((0,n.iM)(((...e)=>u.triggerOpen&&u.triggerOpen(...e)),["prevent"]),["space"]))],class:"dropdown-button noselect","aria-controls":s.id+"_pane","aria-expanded":e.open?"true":"false"},[(0,i.WI)(e.$slots,"button")],40,a)])),_:3},8,["show","tip"]),(0,i.Wm)(n.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.open?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"dropdown-pane",id:s.id+"_pane",ref:"pane"},[(0,i.WI)(e.$slots,"default")],8,o)):(0,i.kq)("",!0)])),_:3})],32)}var l=s(9015),u={name:"Dropdown",props:["id","position","tip"],components:{TooltipSpan:l.Z},data:function(){return{open:!1,closetimer:null}},methods:{triggerOpen(e){this.open="boolean"===typeof e?e:!this.open,this.open?this.$nextTick((()=>{this.$refs.pane.style.right="",this.$refs.pane.style.left="";const e=this.$refs.pane.getBoundingClientRect(),t=document.documentElement.clientWidth;e.right>t?this.$refs.pane.style.right="12px":e.left<0&&(this.$refs.pane.style.left="12px")})):this.$refs.button.focus()},handleFocusout(){this.closetimer=setTimeout((()=>{this.open=!1}),50)},handleFocusin(){clearTimeout(this.closetimer)}}},d=s(3744);const h=(0,d.Z)(u,[["render",r]]);var c=h},1038:function(e,t,s){"use strict";s.d(t,{Z:function(){return ye}});var i=s(6252),n=s(3577);const a=["width","height","stroke","stroke-width"],o=(0,i._)("polyline",{points:"17 1 21 5 17 9"},null,-1),r=(0,i._)("path",{d:"M3 11V9a4 4 0 0 1 4-4h14"},null,-1),l=(0,i._)("polyline",{points:"7 23 3 19 7 15"},null,-1),u=(0,i._)("path",{d:"M21 13v2a4 4 0 0 1-4 4H3"},null,-1),d=(0,i._)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),h=(0,i._)("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),c=(0,i._)("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),p=(0,i._)("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1),m=(0,i._)("polyline",{points:"1 4 1 10 7 10"},null,-1),w=(0,i._)("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},null,-1),f=(0,i._)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},null,-1),g=(0,i._)("line",{x1:"12",y1:"9",x2:"12",y2:"13"},null,-1),y=(0,i._)("line",{x1:"12",y1:"17",x2:"12",y2:"17"},null,-1),_=(0,i._)("circle",{cx:"12",cy:"12",r:"10"},null,-1),b=(0,i._)("line",{x1:"12",y1:"16",x2:"12",y2:"12"},null,-1),k=(0,i._)("line",{x1:"12",y1:"8",x2:"12",y2:"8"},null,-1),v=(0,i._)("circle",{cx:"12",cy:"12",r:"10"},null,-1),q=(0,i._)("polyline",{points:"12 6 12 12 16 14"},null,-1),x=(0,i._)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},null,-1),I=(0,i._)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"},null,-1),D=(0,i._)("polyline",{points:"9 11 12 14 22 4"},null,-1),$=(0,i._)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},null,-1),T=(0,i._)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},null,-1),S=(0,i._)("circle",{cx:"9",cy:"7",r:"4"},null,-1),P=(0,i._)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"},null,-1),A=(0,i._)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"},null,-1),O=["stroke"],z=["stroke"],Q=["stroke"],M=["fill"],C=["fill"],j=["stroke"],L=(0,i._)("polyline",{points:"6 9 6 2 18 2 18 9"},null,-1),W=(0,i._)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},null,-1),E=(0,i._)("rect",{x:"6",y:"14",width:"12",height:"8"},null,-1),Z={key:16,points:"15 18 9 12 15 6"},H={key:17,points:"9 18 15 12 9 6"},U=["fill"],N=(0,i.uE)('<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',5),F={key:20,d:"M18 6 L6 18 M6 6 L18 18"},Y=(0,i._)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},null,-1),V=(0,i._)("polyline",{points:"22,6 12,13 2,6"},null,-1),B={key:22,d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},R=(0,i._)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},null,-1),K=(0,i._)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},null,-1),G=(0,i._)("polyline",{points:"1 10 4 10 7 22 10 2 22 2"},null,-1),J=(0,i._)("rect",{x:"14",y:"7",width:"6",height:"12",rx:"2",ry:"2"},null,-1),X=(0,i._)("polyline",{points:"1 10 4 10 7 22 10 2 22 2"},null,-1),ee=(0,i._)("rect",{x:"14",y:"7",width:"6",height:"12",rx:"2",ry:"2"},null,-1),te=(0,i._)("polyline",{points:"0 2 24 22"},null,-1),se=["fill"],ie=["fill"],ne=["fill"],ae=(0,i._)("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},null,-1),oe=(0,i._)("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},null,-1),re=(0,i._)("path",{d:"M 9 12 h 6 M 9 16 h6"},null,-1),le=(0,i._)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},null,-1),ue=(0,i._)("polyline",{points:"15 3 21 3 21 9"},null,-1),de=(0,i._)("line",{x1:"10",y1:"14",x2:"21",y2:"3"},null,-1),he=(0,i._)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),ce=(0,i._)("line",{x1:"15",y1:"3",x2:"15",y2:"21"},null,-1),pe={key:0,class:"sronly"};function me(e,t,s,me,we,fe){return(0,i.wg)(),(0,i.iD)("i",null,[((0,i.wg)(),(0,i.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"svgicon",role:"img","aria-hidden":"true",viewBox:"0 0 24 24",width:fe.iconwidth,height:fe.iconwidth,fill:"none",stroke:fe.stroke,"stroke-width":fe.strokewidth,"stroke-linecap":"round","stroke-linejoin":"round"},["retake"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[o,r,l,u],64)):"calendar"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[d,h,c,p],64)):"retry"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[m,w],64)):"alert"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[f,g,y],64)):"info"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:4},[_,b,k],64)):"timer"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:5},[v,q],64)):"lock"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:6},[x,I],64)):"square-check"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:7},[D,$],64)):"group"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:8},[T,S,P,A],64)):"incorrect"==s.name?((0,i.wg)(),(0,i.iD)("path",{key:9,stroke:e.colors.wrong,d:"M18 6 L6 18 M6 6 L18 18"},null,8,O)):"correct"==s.name?((0,i.wg)(),(0,i.iD)("polyline",{key:10,stroke:e.colors.correct,points:"20 6 9 17 4 12"},null,8,z)):"partial"==s.name?((0,i.wg)(),(0,i.iD)("path",{key:11,stroke:e.colors.partial,d:"M 5.3,10.6 9,14.2 18.5,4.6 21.4,7.4 9,19.8 2.7,13.5 z"},null,8,Q)):"dot"==s.name?((0,i.wg)(),(0,i.iD)("circle",{key:12,cx:"12",cy:"12",r:"8",fill:e.colors.neutral},null,8,M)):"unattempted"==s.name?((0,i.wg)(),(0,i.iD)("circle",{key:13,cx:"12",cy:"12",r:"8",fill:e.colors.neutral},null,8,C)):"partattempted"==s.name?((0,i.wg)(),(0,i.iD)("circle",{key:14,cx:"12",cy:"12",r:"8",stroke:e.colors.neutral},null,8,j)):"print"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:15},[L,W,E],64)):"left"==s.name?((0,i.wg)(),(0,i.iD)("polyline",Z)):"right"==s.name?((0,i.wg)(),(0,i.iD)("polyline",H)):"downarrow"==s.name?((0,i.wg)(),(0,i.iD)("polygon",{key:18,fill:e.colors.dark,"stroke-linecap":"square",points:"6 6 18 6 12 14"},null,8,U)):"file"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:19},[N],64)):"close"==s.name?((0,i.wg)(),(0,i.iD)("path",F)):"message"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:21},[Y,V],64)):"forum"==s.name?((0,i.wg)(),(0,i.iD)("path",B)):"video"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:23},[R,K],64)):"eqned"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:24},[G,J],64)):"eqnedoff"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:25},[X,ee,te],64)):"more"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:26},[(0,i._)("circle",{fill:fe.stroke,cx:"12",cy:"12",r:"1"},null,8,se),(0,i._)("circle",{fill:fe.stroke,cx:"12",cy:"4",r:"1"},null,8,ie),(0,i._)("circle",{fill:fe.stroke,cx:"12",cy:"20",r:"1"},null,8,ne)],64)):"clipboard"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:27},[ae,oe,re],64)):"extlink"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:28},[le,ue,de],64)):"sidebar"==s.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:29},[he,ce],64)):(0,i.kq)("",!0)],8,a)),fe.alttext.length>0?((0,i.wg)(),(0,i.iD)("span",pe,(0,n.zw)(fe.alttext),1)):(0,i.kq)("",!0)])}var we={name:"Icons",data:function(){return{id:null,colors:{dark:"#000",neutral:"#00a",wrong:"#900",correct:"#090",partial:"#fb0",warn:"#900",subdued:"#757575"}}},props:["name","size","color","alt"],computed:{alttext(){return this.alt||""===this.alt?""===this.alt?"":this.$t(this.alt):this.$t("icons."+this.name)},stroke(){return this.color?this.colors.hasOwnProperty(this.color)?this.colors[this.color]:this.color:this.colors.dark},iconwidth(){switch(this.size){case"micro":return 12;case"small":return 16;case"medium":return 20}return 16},strokewidth(){switch(this.size){case"micro":return 2.5;case"small":return 2;case"medium":return 2}return 2}}},fe=s(3744);const ge=(0,fe.Z)(we,[["render",me]]);var ye=ge},8584:function(e,t,s){"use strict";s.d(t,{Z:function(){return w}});s(6265);var i=s(6252),n=s(9963),a=s(3577);const o=["id","tabindex","aria-controls","aria-expanded"],r=["aria-labelledby","aria-activedescendant","id"],l={key:0,class:"menubutton-header"};function u(e,t,s,u,d,h){const c=(0,i.up)("tooltip-span"),p=(0,i.up)("icons"),m=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",{class:"menubutton",onKeyup:t[2]||(t[2]=(0,n.D2)((e=>h.toggleOpen(!1)),["esc"])),onKeydown:[t[3]||(t[3]=(0,n.D2)((0,n.iM)((e=>h.handleUpDown(-1)),["prevent"]),["up"])),t[4]||(t[4]=(0,n.D2)((0,n.iM)((e=>h.handleUpDown(1)),["prevent"]),["down"])),t[5]||(t[5]=(...e)=>h.handleKeys&&h.handleKeys(...e))],onFocusin:t[6]||(t[6]=(...e)=>h.handleFocus&&h.handleFocus(...e)),onFocusout:t[7]||(t[7]=(...e)=>h.handleBlur&&h.handleBlur(...e))},[(0,i._)("button",{id:s.id,ref:"button",tabindex:e.open?-1:0,class:(0,a.C_)({nobutton:!!s.nobutton,"flex-nowrap-center":!0}),"aria-haspopup":"true","aria-controls":s.id+"_wrap","aria-expanded":e.open?"true":"false",onClick:t[0]||(t[0]=(...e)=>h.toggleOpen&&h.toggleOpen(...e)),onKeydown:t[1]||(t[1]=(0,n.D2)((0,n.iM)(((...e)=>h.toggleOpen&&h.toggleOpen(...e)),["prevent"]),["space"]))},[h.hasButton?(0,i.kq)("",!0):(0,i.WI)(e.$slots,"default",{key:0,option:s.options[s.selected],selected:!0}),(0,i.Wm)(c,{show:!e.open,tip:s.header},{default:(0,i.w5)((()=>[h.hasButton?(0,i.WI)(e.$slots,"button",{key:0}):(0,i.kq)("",!0)])),_:3},8,["show","tip"]),s.noarrow?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(p,{key:1,class:"mb_downarrow",name:"downarrow",size:"micro"}))],42,o),(0,i.Wm)(n.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.open?((0,i.wg)(),(0,i.iD)("ul",{key:0,role:"menu","aria-labelledby":s.id,"aria-activedescendant":s.id+"_"+e.curSelected,id:s.id+"_wrap",tabindex:"-1",class:(0,a.C_)({"menubutton-right":"right"==s.position})},[s.header?((0,i.wg)(),(0,i.iD)("li",l,(0,a.zw)(s.header),1)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.filteredOptions,((t,o)=>((0,i.wg)(),(0,i.iD)("li",{key:o,class:(0,a.C_)({listsubitem:t.subitem})},[t.internallink?((0,i.wg)(),(0,i.j4)(m,{key:0,to:t.internallink,onClick:h.toggleOpen,onMouseover:t=>e.curSelected=o,id:s.id+"_"+o,class:(0,a.C_)({"menubutton-focus":o==e.curSelected}),role:"menuitem",tabindex:"-1"},{default:(0,i.w5)((()=>[h.hasSlot?(0,i.WI)(e.$slots,"default",{key:0,option:t,selected:!1}):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,a.zw)(t.label),1)],64))])),_:2},1032,["to","onClick","onMouseover","id","class"])):((0,i.wg)(),(0,i.j4)((0,i.LL)(h.getLinkProps(t,o).is),(0,i.dG)({key:1},h.getLinkProps(t,o),{onClick:e=>h.linkClick(e,t),onKeydown:(0,n.D2)((e=>h.linkClick(e,t)),["enter"]),onMouseover:t=>e.curSelected=o,id:s.id+"_"+o,class:{"menubutton-focus":o==e.curSelected},role:t.onclick?"menuitem button":"menuitem",tabindex:"-1"}),{default:(0,i.w5)((()=>[h.hasSlot?(0,i.WI)(e.$slots,"default",{key:0,option:t,selected:!1}):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,a.zw)(t.label),1)],64))])),_:2},1040,["onClick","onKeydown","onMouseover","id","class","role"]))],2)))),128))],10,r)):(0,i.kq)("",!0)])),_:3})],32)}var d=s(1038),h=s(9015),c={name:"MenuButton",model:{prop:"selected",event:"change"},props:["options","selected","id","header","nobutton","noarrow","position","searchby"],components:{Icons:d.Z,TooltipSpan:h.Z},data:function(){return{open:!1,curSelected:0,keybuffer:"",closetimer:null,screenwidth:1200}},computed:{hasButton(){return!!this.$slots.button},hasSlot(){return!!this.$slots.default},filteredOptions(){const e={};for(const t in this.options)null!==this.options[t]&&(e[t]=this.options[t]);return e}},methods:{getLinkProps(e,t){return e.internallink?{is:"router-link",to:e.internallink}:e.link?{is:"a",href:e.link,target:e.target||"_blank"}:{is:"span"}},linkClick(e,t){t.link&&t.popup&&(e.preventDefault(),window.GB_show(t.label,t.link,400,400,!1),this.toggleOpen(!1,!0)),t.onclick&&(e.preventDefault(),t.onclick(),this.toggleOpen(!1,!0))},toggleOpen(e,t){this.open="boolean"===typeof e?e:!this.open,this.open?(this.screenwidth=document.documentElement.offsetWidth,this.curSelected=this.selected?this.selected:0,this.$nextTick(this.setMenuHeight),this.$nextTick(this.scrollToCurrent),this.$nextTick((()=>{document.getElementById(this.id+"_"+this.curSelected).focus()}))):t||this.$nextTick((()=>{document.getElementById(this.id).focus()}))},setMenuHeight(){const e=document.getElementById(this.id+"_wrap"),t=e.getBoundingClientRect(),s=e.clientHeight,i=t.top,n=window.innerHeight;e.style.height=i+s>n-30?n-i-30+"px":"auto",e.style.left="",e.style.right="",t.left<0&&(e.style.left="0px",e.style.right="auto")},scrollToCurrent(){const e=document.getElementById(this.id+"_"+this.curSelected),t=e.offsetTop,s=e.clientHeight,i=document.getElementById(this.id+"_wrap"),n=i.clientHeight,a=t-(n/2-s/2);i.scrollTop=a},handleUpDown(e){this.open?this.curSelected=(this.curSelected+e+this.options.length)%this.options.length:(this.toggleOpen(),1===e?this.curSelected=0:-1===e&&(this.curSelected=this.options.length-1)),this.$nextTick((()=>{document.getElementById(this.id+"_"+this.curSelected).focus()}))},processKeyBuffer(e){if(""!==this.keybuffer){const e=new RegExp("^"+this.keybuffer,"i");for(const t in this.options){const s=this.options[t][this.searchby].toString();if(s.match(e)){this.curSelected=t,this.$nextTick(this.scrollToCurrent);break}}}e&&(this.keybuffer="")},handleKeys(e){if(this.open){const t=e.key.toLowerCase();"home"===t?this.curSelected=0:"end"===t?this.curSelected=this.options.length-1:this.searchby&&this.options[Object.keys(this.options)[0]].hasOwnProperty(this.searchby)&&(t>="0"&&t<="9"||t>="a"&&t<="z")&&(this.keybuffer+=t,this.processKeyBuffer(!1),setTimeout((()=>this.processKeyBuffer(!0)),300))}},handleBlur(){this.closetimer=setTimeout((()=>{this.open=!1}),50)},handleFocus(){clearTimeout(this.closetimer)}}},p=s(3744);const m=(0,p.Z)(c,[["render",u]]);var w=m},9015:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});s(6265);var i=s(6252),n=s(9963),a=s(3577);function o(e,t,s,o,r,l){return(0,i.wg)(),(0,i.iD)("span",{onKeydown:t[0]||(t[0]=(0,n.D2)((e=>l.triggerOpen(e,!1)),["esc"])),class:"dropdown-wrap",onMouseover:t[1]||(t[1]=e=>l.triggerOpen(e,!0)),onMouseleave:t[2]||(t[2]=e=>l.triggerOpen(e,!1)),onTouchstart:t[3]||(t[3]=(...e)=>l.triggerOpen&&l.triggerOpen(...e)),onFocusin:t[4]||(t[4]=e=>l.triggerOpen(e,!0)),onFocusout:t[5]||(t[5]=e=>l.triggerOpen(e,!1)),tabindex:"-1"},[(0,i.WI)(e.$slots,"default"),(0,i.Wm)(n.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.open?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"dropdown-pane tooltip-pane",ref:"pane"},(0,a.zw)(s.tip),513)):(0,i.kq)("",!0)])),_:1})],32)}var r={name:"TooltipSpan",props:["tip","show"],data:function(){return{open:!1}},methods:{triggerOpen(e,t){"undefined"!==typeof this.tip&&""!==this.tip&&(!1===this.show?this.open=!1:this.open="boolean"===typeof t?t:!this.open,this.open&&this.$nextTick((()=>{this.$refs.pane.style.right="";const e=this.$refs.pane.getBoundingClientRect(),t=document.documentElement.clientWidth;e.right>=t&&(this.$refs.pane.style.right="12px")})),"touchstart"===e.type&&this.open&&e.currentTarget.focus(),"touchstart"===e.type&&e.cancelable)}}},l=s(3744);const u=(0,l.Z)(r,[["render",o]]);var d=u},2695:function(e,t,s){var i={"./de.json":[9929,987],"./en.json":[790]};function n(e){if(!s.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],n=t[0];return Promise.all(t.slice(1).map(s.e)).then((function(){return s.t(n,19)}))}n.keys=function(){return Object.keys(i)},n.id=2695,e.exports=n},790:function(e){"use strict";e.exports=JSON.parse('{"nth":"| first | second | third | fourth | {n}th","seconds":"1 second | {n} seconds","minutes":"1 minute | {n} minutes","hours":"1 hour | {n} hours","close":"Close","loading":"Loading...","intro":"Intro / Instructions","next":"Next","previous":"Previous","question_n":"Question {n}","extracredit":"Extra Credit","jumptocontent":"Skip Navigation","launch":{"continue_assess":"Resume","retake_assess":"Retake","start_assess":"Start","timewarning":"This assessment has a time limit. Once you start the assessment, the timer will not pause for any reason.  Are you sure you are ready to start?","resetmsg":"Teachers: you can reset your attempts on this assessment if desired.","doreset":"Reset","view_as_stu":"Acting as student: {name}","scorelist":"Score List","itemanalysis":"Item Analysis","gblinks":"Gradebook Links"},"closed":{"hidden":"This assessment is not currently available.","notyet":"This assessment is not yet available.  It will be available {sd} until {ed}.","pastdue":"This assessment was due {ed}.","pasttime":"The timelimit has expired on this assessment.","needprereq":"You have not yet met the prerequisite requirements to work on this assessment.","prereqreq":"A score of {score} on {name} is required.","no_attempts":"You have used all your attempts at this assessment.","latepassn":"You have one LatePass available. | You have {n} LatePasses available.","latepass_needed":"You can redeem one LatePass to reopen this assessment until {date} | You can redeem {n} LatePasses to reopen this assessment until {date}","practice_no_latepass":"This assessment is now open for un-graded practice.","practice_w_latepass":"You can also open the assessment for un-graded practice.","will_block_latepass":"If you do so, you will not be able to later use a LatePass.","confirm":"Are you SURE you want to do this? If you do, you will not be able to later use a LatePass.","can_view_scored":"You can review your scored assessment.","view_scored":"View scored assessment","use_latepass":"Redeem LatePass | Redeem {n} LatePasses","do_practice":"Practice","unsubmitted_pastdue":"You have an unsubmitted assessment attempt.","unsubmitted_overtime":"You have an unsubmitted assessment attempt whose time limit has expired.","submit_now":"Submit it now","exit":"Exit","teacher_preview":"This assessment is closed to students, but you can preview it.","teacher_preview_button":"Student Preview","teacher_previewall_button":"Teacher Preview"},"duedialog":{"due":"Due Date Reached","nowdue":"This assessment is due now.","byq_unsubmitted":"You have work that has not yet been submitted for grading.","bya_unsubmitted":"This assessment attempt has not been submitted for grading.","submitnow":"Submit for grading"},"setlist":{"practice":"This assessment is in un-graded practice mode.","points_possible":"{pts} points possible.","due_at":"Due {date}.","originally_due":"Originally due {date}.","latepass_used":"You used one LatePass. | You used {n} LatePasses.","extension":"You were granted an extension.","penalty":"A penalty of {p}% will be applied.","penalty_after":"A penalty of {p}% will be applied after {date}.","take":"You can take this assessment one time. | You can take this assessment {n} times.","take_more":"You can take this assessment one more time. | You can take this assessment {n} more times.","attempt_inprogress":"You have an assessment attempt in progress.","cur_attempt_n_of":"You are working on attempt {n} of {nmax}.","keep_highest_q":"Best attempt on each question recorded as grade.","keep_highest":"Highest scored attempt recorded as grade.","keep_average":"Average score recorded as grade.","keep_last":"Last attempt recorded as grade.","retake_penalty":"A penalty of {p}% will be applied on the next retake.","time_expires":"Your current assessment time limit expires at {date}.","time_expires_wgrace":"Your current assessment time limit expires at {date}, and the grace period ends {grace}.","time_expired":"Your current assessment time limit expired at {date}.","time_grace_expires":"Your current assessment time limit expired at {date}. The grace period ends {grace}.","timelimit":"Time limit: {time}.","timelimit_wgrace":"Time limit: {time}, with a grace period of {grace}.","timelimit_wgrace_penalty":"Time limit: {time}, with a grace period of {grace} subject to a {penalty}% penalty.","timelimit_extend":"Extended from the original {time}.","timelimit_restricted":"Because of the upcoming due date, your time limit will expire at the due date, {due}.","timelimit_wgrace_restricted":"Time limit: {time}, with a grace period which expires at the due date, {due}.","timelimit_wgrace_restricted_penalty":"Time limit: {time}, with a grace period subject to a {penalty}% penalty which expires at the due date, {due}.","timelimit_ext":"You have been given a {n} minute extension on the time limit","timelimit_ext_used":"You have used a {n} minute timelimit extension","excused":"You have been excused from this assignment. It will not be counted in your grade.","latepass_needed":"You can redeem one LatePass to extend the due date to {date} | You can redeem {n} LatePasses to extend the due date to {date}"},"group":{"isgroup":"This is a group assessment.","teacher_auto":"This assessment allows students to select their own group members, up to {n}.","teacher_preset":"This assessment uses groups that the instructor must create in advance.","needpreset":"You are not yet a member of a group.  Contact your instructor to be added to a group.","members":"Group Members","max":"max {n}","remove":"Remove","add":"Add to group:","select":"Select...","addbutton":"Add"},"password":{"requires":"This assessment requires a password.","label":"Password: "},"qinfo":{"tryn":"Try {n} of {nmax}","regenn":"Version {n} of {nmax}","tries_remaining":"1 try on this question remaining | {n} tries on this question remaining","tries_remaining_range":"{min} to {max} tries remaining depending on the part - see Details","regens_remaining":"You can Get a Similar Question 1 more time | You can Get a Similar Question {n} more times"},"question":{"submit":"Submit Question","checkans":"Check Answer","saveans":"Save Answer","next":"Next Question","submit_seqnext":"Submit Part","checkans_seqnext":"Check Part Answer","saveans_seqnext":"Next Part","submit_submitall":"Submit All Parts","checkans_submitall":"Check All Parts","saveans_submitall":"Save All Parts","withdrawn":"This question was withdrawn by the instructor. You do not need to complete this question.","jump_to_answer":"Jump to Answer","jump_warn":"This will use up your remaining tries at this version of the question.","showwork":"Show work here by typing it or attaching a file or picture","uploadwork":"Show work here by attaching a file or picture","uploading":"Uploading...","intronext":"To begin, navigate to a question using the selector or > Next button above.","firstq":"First Question"},"header":{"score":"Score: {pts}/{poss}","practicescore":"Practice score: {pts}/{poss}","possible":"1 point possible | {n} points possible","answered":"Answered: {n}/{tot}","assess_submit":"Submit and End","done":"Done","resources_header":"Resources","pts":"1 pt | {n} pts","details":"Details","warn_unattempted":"There appears to be unattempted questions. Are you sure you want to submit now?","withdrawn":"Question withdrawn","enable_mq":"Enable equation editor","disable_mq":"Disable equation editor","work_save":"Save progress","work_saved":"Progress saved","work_saving":"Saving...","confirm_assess_submit":"After submitting, you will not be able to change your answers on this version of the assessment. Are you ready to submit?","confirm_assess_unattempted_submit":"There appears to be unattempted questions. After submitting, you will not be able to change your answers on this version of the assessment. Are you ready to submit?","preview_all":"Instructor Preview of All Questions"},"resource":{"sidebar":"Open in a sidebar","newtab":"Open in a new tab"},"text":{"hide":"Hide text","show":"Show question text"},"error":{"error":"Error","invalid_password":"The password you entered was invalid","invalid_aid":"Invalid assessment ID","no_access":"You must be a student, teacher, or tutor to access this assessment","teacher_only":"You must be a teacher to access this feature","missing_param":"Missing required parameter on API call","not_avail":"The assessment is not currently available","not_ready":"The assessment is not ready for this action","not_practice":"The assessment is no longer in practice mode. Go back and open the assessment again.","timelimit_expired":"Timelimit has expired","timesup_submitting":"Timelimit has expired. Submitting now.","workafter_expired":"Time for adding work after has expired","workafter_submitting":"Time for adding work after has expired. Saving now.","out_of_regens":"No more Get a Similar Question remain","need_group":"Cannot start the assessment until you have been added to a group","out_of_attempts":"You have used all your assessment attempts","already_submitted":"Submission rejected. You have submitted this assessment elsewhere since it was displayed here, so the question(s) you were trying to submit may be out of date.","no_active_attempt":"You do not have an active attempt","no_session":"Your login session expired. To continue you will need to log in again.","lti_no_session":"Your session expired. Please go back to your LMS and open the assignment again.","fast_regen":"Hey, how about slowing down and trying the problem before hitting Get a Similar Question?  Wait 5 seconds before trying again.","nochange":"Your answers have not changed since your last submission.","noserver":"The site is not responding","parseerror":"Server sent an invalid response","livepoll_wrongquestion":"Submitted question is not the current question.","livepoll_notopen":"This question is not open for submissions.","need_relaunch":"Necessary information is missing. Please go back to your LMS and open the assignment again.","ytnotready":"YouTube is not ready yet. Please be patient for a few seconds.","file_upload_error":"Error uploading file","file_toolarge":"Error uploading file - too large. Must be under 15MB"},"confirm":{"ok":"OK","cancel":"Cancel"},"scoreresult":{"correct":"Correct","incorrect":"Incorrect","partial":"Partially correct","retry":"Retry this question","next":"Next question","retryq":"You can retry this question below","trysimilar":"Get a similar question","scorepts":"{pts} of {poss} pts | {pts} of {poss} pts","scorelast":"Score on last try:","submitted":"Question submitted.","see_details":"See Details for more.","manual_grade":"This question contains parts that must be graded by your instructor. They will show a score of 0 until they are graded."},"summary":{"no_total":"Your assessment has been submitted.","viewwork_work":"You can view your work in the gradebook.","viewwork_work_after":"You can view your work in the gradebook after the due date.","viewwork_immediately":"You can view your work and scores in the gradebook.","viewwork_after_due":"You can view your work and scores in the gradebook after the due date.","viewwork_work_scores_after":"You can view your work in the gradebook, and scores after the due date.","viewwork_work_after_lp":"You can view your work in the gradebook after the LatePass period.","viewwork_after_lp":"You can view your work and scores in the gradebook after the LatePass period.","viewwork_never":"","score":"Score","recordedscore":"Recorded Score","use_override":"Instructor grade override is recorded","scorepts":"{pts} of {poss} pt | {pts} of {poss} pts","retake_penalty":"{n}% retake penalty applied","late_penalty":"{n}% late work penalty applied","scorelist":"Score List","reshowquestions":"Review Questions","new_excused":"Based on your results in this assessment, the following assessments have been excused:"},"scorelist":{"question":"Question","score":"Score","pts":"{pts} of {poss} pt | {pts} of {poss} pts","unattempted":"Unattempted"},"catlist":{"category":"Category","score":"Score","pts":"{pts} of {poss} pt | {pts} of {poss} pts"},"prev":{"previous_attempts":"Previous Attempts","scored_attempts":"Scored Attempts","all_attempts":"All Attempts","date":"Date","score":"Score","viewingb":"Review work in gradebook"},"penalties":{"applied":"Penalties applied","retry":"Retry penalty","regen":"Assessment retake penalty","trysimilar":"Try Similar Question penalty","late":"Late work penalty","overtime":"Overtime penalty"},"qdetails":{"question_details":"Question Details","part":"Part","lasttry":"Results on last try:","score":"Score","try":"Tries Remaining","penalties":"Penalties","category":"Category","gbscore":"Recorded score","bestpractice":"Best practice score","lastscore":"Score on last try","license":"License","extracredit":"This question is extra credit"},"timer":{"hrs":"hr | hrs","min":"min | mins","overtime":"Overtime","show":"Show timelimit countdown"},"helps":{"help":"Question Help","message_instructor":"Message instructor","post_to_forum":"Post to forum","video":"Video","read":"Read","written_example":"Written Example"},"unload":{"alert":"Alert","unsubmitted_questions":"You have entered answers that have not yet been submitted. Are you sure you want to leave?","unsubmitted_assessment":"You have not submitted your assessment for grading yet. Don\'t forget to come back and do that.","unsubmitted_done_assessment":"You have attempted every question, but have not submitted your assessment yet. Don\'t forget to come back and do that.","unsubmitted_work":"You have unsubmitted work. If you leave now your work will be lost. Are you sure you want to leave?"},"pages":{"next":"Next Page"},"print":{"print_version":"Print Ready Version","print":"Print","hide_text":"Hide Intro and Between-Question Text","show_text":"Show Intro and Between-Question Text","hide_qs":"Hide Questions","show_qs":"Show Questions"},"videocued":{"start":"Start video","continue":"Continue video to {title}","skipto":"Jump video to {title}"},"livepoll":{"settings":"LivePoll Settings","show_question_default":"Show question on this screen when first selected","show_results_live_default":"Show results as they come in on this screen","show_results_after":"Show results on this screen after question is closed","show_answers_after":"Show correct answers automatically after question is closed","use_timer":"Use question timer","seconds":"seconds","show_question":"Show question on this screen","show_results":"Show results","show_answers":"Show correct answers","stucnt":"No students | 1 student | {n} students","open_input":"Open student input","close_input":"Close student input","new_version":"Generate a similar question","waiting":"Waiting for the instructor to start a question","numresults":"1 result received | {n} results received","answer":"Answer","frequency":"Frequency"},"lti":{"more":"More options","userprefs":"User Preferences","msgs":"Messages | Messages (1 new) | Messages ({n} new)","forum":"Forum | Forum (1 new) | Forum ({n} new)","use_latepass":"Redeem LatePass"},"icons":{"retake":"Reattempts","calendar":"Date","retry":"Retries","alert":"Alert","info":"Info","timer":"Timer","lock":"Lock","square-check":"Check","group":"Group","incorrect":"Incorrect","correct":"Correct","partial":"Partially correct","dot":"Dot","attempted":"Attempted","partattempted":"Partially attempted","unattempted":"Unattempted","print":"Print","left":"Previous","right":"Next","downarrow":"Expand","file":"File","close":"Close","message":"Message","forum":"Forum","video":"Video","eqned":"Equation editor","eqnedoff":"Equation editor disabled","more":"More","clipboard":"Clipboard","rubric":"Rubric","none":""},"gradebook":{"detail_title":"Review Assessment Attempts","started":"Started","lastchange":"Last Changed","time_onscreen":"Total time questions were on-screen | Total time questions were on-screen (all attempts)","time_on_version":"Time spent on this version","due":"Due Date","originally_due":"Originally Due","make_exception":"Make Exception","edit_exception":"Edit Exception","attempt_n":"Attempt {n}","version_n":"Version {n}","scored_attempt":"Scored attempt","practice_attempt":"Practice attempt","submitted":"Submitted","scored":"scored","score":"Score","not_started":"Not started","not_submitted":"Not submitted","best_on_question":"Grade is calculated on the best version of each question","keep_best":"Grade is calculated on the best assessment attempt","keep_avg":"Grade is calculated on the average of all assessment attempts","keep_last":"Grade is calculated on the last assessment attempt","full_credit_parts":"Full credit all parts","full_manual_parts":"Full credit all manually-graded parts","full_credit":"Full credit","add_feedback":"Add feedback","feedback":"Feedback","feedback_for":"Feedback for {name}","general_feedback":"General feedback","use_in_msg":"Use in Message","clear_hdr":"Delete confirmation","clear_all":"Delete all attempts","clear_attempt":"Delete this attempt","clear_qwork":"Delete work on question","question_id":"Question ID","seed":"Seed","msg_owner":"Message owner to report problems","had_help":"Had help available","save":"Save Changes","savenext":"Save and Next Student","return":"Return to Gradebook","gb_score":"Score in Gradebook","override":"Override score","overridden":"Overridden by teacher","view_as_stu":"View as student","print":"Print version","filters":"Filters and Options","hide":"Hide","hide_perfect":"Score = 100% (before penalties)","hide_100":"Score = 100% (after penalties)","hide_nonzero":"0 < score < 100% (before penalties)","hide_zero":"Score = 0","hide_fb":"Questions with Feedback","hide_nowork":"Questions without Work","hide_unans":"Unanswered questions","quick_grade":"Quick grade","saving":"Saving...","saved":"Saved","save_fail":"Error saving","clear_completely_msg":"Delete all student attempts, as if the student never started the assessment. If the student takes the assessment, they will get new versions of all questions.","clear_all_work_msg":"Delete all student work, but retain the most recent question versions.","clear_attempt_regen_msg":"Delete this assessment attempt completely. If the student retakes the assessment, they will get new versions of all questions.","clear_attempt_msg":"Delete work on this attempt. Student will be able to redo this attempt with the same question versions.","clear_qver_regen_msg":"Delete this question version entirely.","clear_qver_regen_msg2":"Delete student work on this question version, and generate a new version of the question.","clear_qver_msg":"Delete student work on this question version, but keep the version.","clear_warning":"WARNING: This action will delete student data and CAN NOT be undone.","unsaved_warn":"Warning: You have unsaved score or feedback changes. If you change versions now, your changes will be discarded.","unsubmitted":"This assessment attempt has not been submitted for grading.","show_tries":"Show all tries","show_penalties":"Show applied penalties","show_autosaves":"Show autosaves","all_tries":"All Tries","part_n":"Part {n}","try_n":"Try {n}","autosaves":"Autosaves","autosave_info":"Autosaves have been entered by the student but not submitted for grading, so are not included in the scoring.","autosave_byassess":"Autosaves will be scored when the assessment attempt is submitted for scoring.","view_edit":"View/Edit Question","show_all_ans":"Show All Answers","show_all_work":"Show All Work","no_versions":"No assessment attempts available to view yet","minutes":"minutes","avail_never":"Grade is currently hidden by the teacher.","avail_after_take":"Will show after you submit an assessment attempt.","avail_after_due":"Will show after the due date.","avail_after_lp":"Will show after the LatePass period.","latepass_blocked_practice":"Use of a LatePass is currently blocked because the student viewed the assessment in practice mode.","latepass_blocked_gb":"Use of a LatePass is currently blocked because the student viewed the assessment answers in the gradebook.","latepass_blocked_lpcutoff":"Use of a LatePass is currently blocked because it is past the LatePass cutoff date.","latepass_blocked_courseend":"Use of a LatePass is currently blocked because it is past the course end date.","latepass_blocked_pastdue":"Use of a LatePass is currently blocked because it is past the due date, and LatePasses are set to only allow use before.","latepass_blocked_toolate":"Use of a LatePass is currently blocked because it is too far past the due date to be reopened using the allowed number of LatePasses.","latepass_blocked_toofew":"Use of a LatePass is currently blocked because the student does not have enough LatePasses.","clear_latepass_block":"Clear Block","showwork":"View Work","hidework":"Hide Work","show_excused":"Show Auto-Excused","hide_excused":"Hide Auto-Excused","excused_list":"Based on the results of this assessment, the following assessments have been excused:","show_endmsg":"Show End Message","hide_endmsg":"Hide End Message","has_timeext":"Has a {n} minute time limit extension available","used_timeext":"Used a {n} minute time limit extension","attemptext":"Exception given for {n} additional versions","preview_files":"Preview All Files","introtexts":"Intro and between-question text","floating_scoreboxes":"Floating Scoreboxes","sidebyside":"Side-by-Side","no_edit":"You are in the gradebook. You cannot edit answers or submit questions from here.","activitylog":"Activity Log"},"work":{"add":"Add Work","hide":"Hide work entry","noquestions":"No questions require work","save":"Save Work","duein":"Work must be submitted by {date}","save_continue":"Save Work and Continue","add_prev":"You can still show or attach work for the previous attempt","remove":"Are you sure you want to remove this file?"},"regions":{"questions":"Questions and text","q_and_vid":"Video and questions","pagenav":"Page navigation","qnav":"Question navigation","qvidnav":"Video and question navigation","aheader":"Assessment info"},"links":{"settings":"Settings","questions":"Questions"}}')}}]);
//# sourceMappingURL=chunk-common.js.map