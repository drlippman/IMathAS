{"version":3,"file":"js/gbviewassess.js","mappings":"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","sources":["webpack://imathas-assess2/./src/gbviewassess/GBViewAssess.vue","webpack://imathas-assess2/./src/mixins/maptexts.js","webpack://imathas-assess2/./src/gbviewassess/gbstore.js","webpack://imathas-assess2/./src/gbviewassess/GbQuestion.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestion.vue?e1bf","webpack://imathas-assess2/./src/gbviewassess/GbShowwork.vue","webpack://imathas-assess2/./src/gbviewassess/GbShowwork.vue?74bf","webpack://imathas-assess2/./src/gbviewassess/GbAssessSelect.vue","webpack://imathas-assess2/./src/gbviewassess/GbAssessListItem.vue","webpack://imathas-assess2/./src/gbviewassess/GbAssessListItem.vue?def0","webpack://imathas-assess2/./src/gbviewassess/GbAssessSelect.vue?dc79","webpack://imathas-assess2/./src/gbviewassess/GbQuestionSelect.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestionListItem.vue","webpack://imathas-assess2/./src/gbviewassess/GbQuestionListItem.vue?3111","webpack://imathas-assess2/./src/gbviewassess/GbQuestionSelect.vue?de14","webpack://imathas-assess2/./src/gbviewassess/GbScoreDetails.vue","webpack://imathas-assess2/./src/gbviewassess/GbAllTries.vue","webpack://imathas-assess2/./src/gbviewassess/GbAllTries.vue?945a","webpack://imathas-assess2/./src/gbviewassess/GbPenalties.vue","webpack://imathas-assess2/./src/gbviewassess/GbPenalties.vue?9bc5","webpack://imathas-assess2/./src/gbviewassess/GbFeedback.vue","webpack://imathas-assess2/./src/components/TinymceInput.vue","webpack://imathas-assess2/./src/components/TinymceInput.vue?4b8b","webpack://imathas-assess2/./src/gbviewassess/GbFeedback.vue?9b23","webpack://imathas-assess2/./src/gbviewassess/GbScoreDetails.vue?0029","webpack://imathas-assess2/./src/gbviewassess/GbClearAttempts.vue","webpack://imathas-assess2/./src/gbviewassess/GbClearAttempts.vue?4fbd","webpack://imathas-assess2/./src/gbviewassess/GBViewAssess.vue?c6fc","webpack://imathas-assess2/./src/gbviewassess/main.js","webpack://imathas-assess2/webpack/bootstrap","webpack://imathas-assess2/webpack/runtime/chunk loaded","webpack://imathas-assess2/webpack/runtime/compat get default export","webpack://imathas-assess2/webpack/runtime/create fake namespace object","webpack://imathas-assess2/webpack/runtime/define property getters","webpack://imathas-assess2/webpack/runtime/ensure chunk","webpack://imathas-assess2/webpack/runtime/get javascript chunk filename","webpack://imathas-assess2/webpack/runtime/get mini-css chunk filename","webpack://imathas-assess2/webpack/runtime/global","webpack://imathas-assess2/webpack/runtime/hasOwnProperty shorthand","webpack://imathas-assess2/webpack/runtime/load script","webpack://imathas-assess2/webpack/runtime/make namespace object","webpack://imathas-assess2/webpack/runtime/runtimeId","webpack://imathas-assess2/webpack/runtime/publicPath","webpack://imathas-assess2/webpack/runtime/jsonp chunk loading","webpack://imathas-assess2/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\" role=\"main\">\r\n    <div v-if=\"!assessInfoLoaded\">\r\n      {{ $t('loading') }}\r\n    </div>\r\n    <div v-else class=\"gbmainview\">\r\n      <h1>{{ $t('gradebook.detail_title')}}</h1>\r\n      <h2><span class=\"pii-full-name\">{{ aData.userfullname }}</span></h2>\r\n      <h3>{{ aData.name }}</h3>\r\n\r\n      <div>\r\n        {{ $t('gradebook.started') }}: {{ startedString }}<br/>\r\n        {{ $t('gradebook.lastchange') }}: {{ lastchangeString }}\r\n        <span v-if=\"aData.timeontask > 0\">\r\n          <br/>\r\n          {{ $tc('gradebook.time_onscreen', attemptCount) }}:\r\n          {{ totalTimeOnTask }}\r\n        </span>\r\n        <span v-if=\"aData.hasOwnProperty('timelimit_ext')\">\r\n          <br/>\r\n          {{ $t('gradebook.'+ (aData.timelimit_ext > 0 ? 'has_timeext' : 'used_timeext'),\r\n            {n: Math.abs(aData.timelimit_ext)}) }}\r\n        </span>\r\n      </div>\r\n\r\n      <div>\r\n        {{ $t('gradebook.due')}}: {{ aData.enddate_disp }}\r\n          <button\r\n            v-if = \"canEdit && aData.can_make_exception\"\r\n            type=\"button\"\r\n            class=\"slim\"\r\n            @click = \"makeException\"\r\n          >\r\n            {{ exceptionActionLabel }}\r\n          </button>\r\n        <span v-if=\"aData.hasOwnProperty('original_enddate')\">\r\n          <br/>\r\n          {{ $t('gradebook.originally_due') }}:\r\n            {{ aData.original_enddate_disp }}.\r\n          {{ extensionString }}\r\n        </span>\r\n        <span v-if=\"aData.hasOwnProperty('attemptext')\">\r\n          <br/>\r\n          {{ $t('gradebook.attemptext', {n: aData.attemptext}) }}\r\n        </span>\r\n      </div>\r\n\r\n      <div v-if=\"canEdit && aData.latepass_status > 1\">\r\n        {{ latepassBlockMsg }}\r\n        <button\r\n          v-if=\"aData.latepass_status > 6\"\r\n          type=\"button\"\r\n          @click=\"clearLPblock\"\r\n        >\r\n          {{ $t('gradebook.clear_latepass_block' )}}\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <strong>\r\n          {{ $t('gradebook.gb_score') }}:\r\n          <span v-if=\"aData.hasOwnProperty('scoreoverride') && canEdit\">\r\n            <input id=\"assessoverride\" size=4\r\n              :value = \"aData.scoreoverride\"\r\n              @input = \"setScoreOverride\"\r\n              @keyup.enter=\"submitForm\"\r\n            />/{{ aData.points_possible }}\r\n          </span>\r\n          <span v-else>\r\n            <span v-if=\"!canEdit && aData.gbscore === 'N/A'\">\r\n              {{ $t('gradebook.avail_' + aData.scoresingb) }}\r\n            </span>\r\n            <span v-else>\r\n              {{ aData.gbscore }}/{{ aData.points_possible }}\r\n            </span>\r\n          </span>\r\n        </strong>\r\n        <span v-if=\"aData.hasOwnProperty('scoreoverride')\">\r\n          ({{ $t('gradebook.overridden') }})\r\n        </span>\r\n        <span v-else-if=\"canEdit\">\r\n          <button\r\n            class = \"slim\"\r\n            type=\"button\"\r\n            @click=\"showOverride = !showOverride\"\r\n          >\r\n            {{ $t('gradebook.override') }}\r\n          </button>\r\n          <span v-if=\"showOverride\">\r\n            <label for=\"assessoverride\">{{ $t('gradebook.override') }}</label>:\r\n            <input id=\"assessoverride\" size=4 v-model=\"assessOverride\" @keyup.enter=\"submitForm\" />\r\n          </span>\r\n        </span>\r\n        <button\r\n          v-if=\"canEdit\"\r\n          type=\"button\"\r\n          class=\"slim\"\r\n          @click=\"clearAttempts('all')\"\r\n        >\r\n          {{ $t('gradebook.clear_all') }}\r\n        </button>\r\n        <button\r\n          v-if=\"aData.hasOwnProperty('excused')\"\r\n          type=\"button\"\r\n          class=\"slim\"\r\n          @click=\"showExcused = !showExcused\"\r\n        >\r\n          {{ $t('gradebook.' + (showExcused ? 'hide' : 'show') + '_excused') }}\r\n        </button>\r\n      </div>\r\n\r\n      <div v-if=\"showExcused\" class=\"introtext\">\r\n        {{ $t('gradebook.excused_list') }}\r\n        <ul>\r\n          <li v-for=\"name in aData.excused\" :key=\"name\">\r\n            {{ name }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div v-if=\"canEdit\">\r\n        <a v-if=\"showViewAsStu\" :href=\"viewAsStuUrl\">\r\n          {{ $t('gradebook.view_as_stu') }}\r\n        </a>\r\n        <span v-if=\"showViewAsStu\">|</span>\r\n        <a :href=\"viewAsStuUrl + '#/print'\">\r\n          {{ $t('gradebook.print') }}\r\n        </a>\r\n      </div>\r\n\r\n      <div v-if=\"aData.assess_versions.length == 0\">\r\n        {{ $t('gradebook.no_versions') }}\r\n      </div>\r\n      <div v-else class=\"gbmainview\">\r\n        <div>\r\n          {{ scoreCalc }}\r\n          <div>\r\n            <gb-assess-select\r\n              style = \"display: inline-block\"\r\n              v-if = \"viewFull || aData.submitby === 'by_assessment'\"\r\n              :versions = \"aData.assess_versions\"\r\n              :submitby = \"aData.submitby\"\r\n              :haspractice = \"aData.has_practice\"\r\n              :selected = \"curAver\"\r\n              @setversion = \"changeAssessVersion\"\r\n            />\r\n            <button\r\n              v-if = \"!isByQuestion && canEdit && aData.assess_versions[curAver].status != -1\"\r\n              type=\"button\"\r\n              @click=\"clearAttempts('attempt')\"\r\n            >\r\n              {{ $t('gradebook.clear_attempt') }}\r\n            </button>\r\n          </div>\r\n          <div v-if=\"isUnsubmitted\">\r\n            {{ $t('gradebook.unsubmitted') }}\r\n            <button\r\n              type=\"button\"\r\n              @click=\"submitVersion\"\r\n            >\r\n              {{ $t('closed.submit_now') }}\r\n            </button>\r\n            <button\r\n              v-if=\"!canEdit && aData.can_use_latepass\"\r\n              type = \"button\"\r\n              @click = \"redeemLatePass\"\r\n            >\r\n              {{ $t('lti.use_latepass') }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if = \"curEndmsg !== ''\">\r\n          <button\r\n            v-if = \"viewFull\"\r\n            type=\"button\"\r\n            @click = \"showEndmsg = !showEndmsg\"\r\n          >\r\n            {{ $t('gradebook.' + (showEndmsg ? 'hide' : 'show') + '_endmsg') }}\r\n          </button>\r\n          <div\r\n            class=\"introtext\"\r\n            v-if=\"showEndmsg || !viewFull\"\r\n            v-html=\"curEndmsg\"\r\n          />\r\n        </div>\r\n\r\n        <div v-if=\"canEdit && viewFull\">\r\n          <button @click = \"showFilters = !showFilters\">\r\n            {{ $t('gradebook.filters') }}\r\n          </button>\r\n          <div v-if = \"showFilters\" class=\"tabpanel\">\r\n            <p>{{ $t('gradebook.hide') }}:</p>\r\n            <ul style=\"list-style-type: none; margin:0; padding-left: 15px;\">\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideUnanswered\">\r\n                  {{ $t('gradebook.hide_unans') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideZero\">\r\n                  {{ $t('gradebook.hide_zero') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideNonzero\">\r\n                  {{ $t('gradebook.hide_nonzero') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hidePerfect\">\r\n                  {{ $t('gradebook.hide_perfect') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hide100\">\r\n                  {{ $t('gradebook.hide_100') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideFeedback\">\r\n                  {{ $t('gradebook.hide_fb') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hideNowork\">\r\n                  {{ $t('gradebook.hide_nowork') }}\r\n                </label>\r\n              </li>\r\n              <li>\r\n                <label>\r\n                  <input type=checkbox v-model=\"hidetexts\" @change=\"loadTexts\">\r\n                  {{ $t('gradebook.introtexts') }}\r\n                </label>\r\n              </li>\r\n            </ul>\r\n            <p>\r\n              <button\r\n                type=\"button\"\r\n                @click = \"showAllAns\"\r\n              >\r\n                {{ $t('gradebook.show_all_ans') }}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                @click = \"showAllWork = !showAllWork\"\r\n              >\r\n                {{ $t('gradebook.show_all_work') }}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                @click = \"previewFiles\"\r\n              >\r\n                {{ $t('gradebook.preview_files') }}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                @click=\"toggleFloatingScoreboxes\"\r\n              >\r\n                {{ $t('gradebook.floating_scoreboxes') }}\r\n              </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div v-else-if=\"viewFull\">\r\n          <button @click=\"hidetexts = !hidetexts; loadTexts()\">\r\n            {{ $t(hidetexts ? 'print.show_text' : 'print.hide_text') }}\r\n          </button>\r\n        </div>\r\n\r\n        <div v-if=\"viewFull\">\r\n          <inter-question-text\r\n            v-if = \"aData.hasOwnProperty('intro') && aData.intro !== ''\"\r\n            v-show = \"!hidetexts\"\r\n            :active = \"!hidetexts\"\r\n            :textobj = \"{html: aData.intro}\"\r\n            class = \"questionpane introtext\"\r\n          />\r\n          <div\r\n            v-for = \"(qdata,qn) in curQuestions\"\r\n            :key = \"qn\"\r\n            :id = \"'qwrap' + (qn+1)\"\r\n          >\r\n            <inter-question-text-list\r\n              pos=\"beforeexact\"\r\n              :qn=\"qn\"\r\n              :key=\"'iqt'+qn\"\r\n              v-show = \"!hidetexts\"\r\n              :active = \"!hidetexts\"\r\n              :lastq = \"lastQ\"\r\n              :textlist = \"textList\"\r\n            />\r\n            <div class = \"bigquestionwrap\">\r\n              <div class=\"headerpane\">\r\n                <strong>\r\n                  {{ $tc('question_n', qn+1) }}.\r\n                </strong>\r\n                <em v-if=\"qdata[curQver[qn]].extracredit\" class=\"small subdued\">\r\n                  {{ $t('extracredit') }}\r\n                </em>\r\n\r\n                <gb-question-select\r\n                  v-if = \"aData.submitby === 'by_question'\"\r\n                  :versions=\"qdata\"\r\n                  :selected=\"curQver[qn]\"\r\n                  :qn=\"qn\"\r\n                  @setversion = \"changeQuestionVersion\"\r\n                  class = \"med-left\"\r\n                />\r\n                <span v-else-if = \"qdata[curQver[qn]].hasOwnProperty('gbscore') && qdata[curQver[qn]].gbscore !== 'N/A'\">\r\n                  {{ $t('gradebook.score') }}:\r\n                  <strong>\r\n                    {{ qdata[curQver[qn]].gbscore }}/{{ qdata[curQver[qn]].points_possible }}\r\n                  </strong>\r\n                </span>\r\n\r\n              </div>\r\n              <div class=\"scrollpane\">\r\n                <gb-question\r\n                  :class = \"{'inactive':!showQuestion[qn]}\"\r\n                  :qdata = \"qdata[curQver[qn]]\"\r\n                  :qn = \"qn\"\r\n                />\r\n                <gb-showwork\r\n                  :work = \"qdata[curQver[qn]].work\"\r\n                  :worktime = \"qdata[curQver[qn]].worktime\"\r\n                  :showall = \"showAllWork\"\r\n                />\r\n              </div>\r\n              <gb-score-details\r\n                :showfull = \"showQuestion[qn]\"\r\n                :canedit = \"canEdit\"\r\n                :qdata = \"qdata[curQver[qn]]\"\r\n                :qn = \"qn\"\r\n                @submitform = \"submitForm\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <inter-question-text-list\r\n            pos=\"after\"\r\n            :qn=\"lastQ\"\r\n            :active = \"!hidetexts\"\r\n            v-show = \"!hidetexts\"\r\n            :lastq = \"lastQ\"\r\n            :textlist = \"textList\"\r\n          />\r\n        </div>\r\n        <gb-feedback\r\n          qn=\"gen\"\r\n          :username=\"aData.userfullname\"\r\n          :show=\"viewFull && (canEdit || assessFeedback !== '')\"\r\n          :canedit = \"canEdit\"\r\n          :useeditor = \"useEditor\"\r\n          :value = \"assessFeedback\"\r\n          @update = \"updateFeedback\"\r\n        />\r\n        <div>\r\n          <button\r\n            v-if = \"canEdit\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges(true)\"\r\n          >\r\n            {{ $t('gradebook.save') }}\r\n          </button>\r\n          <button\r\n            v-if = \"canEdit && aData.nextstu\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges(false,true)\"\r\n          >\r\n            {{ $t('gradebook.savenext') }}\r\n          </button>\r\n          <span v-if=\"savedMsg !== ''\" class=\"noticetext\">\r\n            {{ savedMsg }}\r\n          </span>\r\n          <button\r\n            type = \"button\"\r\n            class = \"secondary\"\r\n            :disabled = \"!canSubmit\"\r\n            @click = \"exit\"\r\n          >\r\n            {{ $t('gradebook.return') }}\r\n          </button>\r\n        </div>\r\n        <div class=\"floatrightbutton\">\r\n          <div v-if=\"savedMsg !== ''\" class=\"noticetext\">\r\n            {{ savedMsg }}\r\n          </div>\r\n          <button\r\n            v-if = \"canEdit\"\r\n            type = \"button\"\r\n            :disabled = \"!canSubmit\"\r\n            class = \"primary\"\r\n            @click = \"submitChanges\"\r\n          >\r\n            {{ $t('gradebook.save') }}\r\n          </button>\r\n        </div>\r\n        <summary-categories\r\n          v-if = \"showCategories\"\r\n          :data = \"curQuestionVers\"\r\n        />\r\n        <gb-clear-attempts />\r\n        <div style=\"margin-bottom:100px\"></div>\r\n      </div>\r\n    </div>\r\n    <error-dialog\r\n      v-if=\"hasError\"\r\n      :errormsg=\"errorMsg\"\r\n      @clearerror=\"clearError\"\r\n    />\r\n    <confirm-dialog\r\n      v-if=\"confirmObj !== null\"\r\n      :data=\"confirmObj\"\r\n      @close=\"closeConfirm\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport GbQuestion from '@/gbviewassess/GbQuestion.vue';\r\nimport GbShowwork from '@/gbviewassess/GbShowwork.vue';\r\nimport GbAssessSelect from '@/gbviewassess/GbAssessSelect.vue';\r\nimport GbQuestionSelect from '@/gbviewassess/GbQuestionSelect.vue';\r\nimport GbScoreDetails from '@/gbviewassess/GbScoreDetails.vue';\r\nimport GbClearAttempts from '@/gbviewassess/GbClearAttempts.vue';\r\nimport SummaryCategories from '@/components/summary/SummaryCategories.vue';\r\nimport ErrorDialog from '@/components/ErrorDialog.vue';\r\nimport GbFeedback from '@/gbviewassess/GbFeedback.vue';\r\nimport ConfirmDialog from '@/components/ConfirmDialog.vue';\r\nimport InterQuestionTextList from '@/components/InterQuestionTextList.vue';\r\nimport InterQuestionText from '@/components/InterQuestionText.vue';\r\n\r\nimport '../assess2.css';\r\n\r\nexport default {\r\n  components: {\r\n    GbQuestion,\r\n    GbShowwork,\r\n    GbAssessSelect,\r\n    GbQuestionSelect,\r\n    GbScoreDetails,\r\n    GbClearAttempts,\r\n    SummaryCategories,\r\n    ErrorDialog,\r\n    GbFeedback,\r\n    ConfirmDialog,\r\n    InterQuestionTextList,\r\n    InterQuestionText\r\n  },\r\n  data: function () {\r\n    return {\r\n      showOverride: false,\r\n      assessOverride: '',\r\n      hide100: false,\r\n      hidePerfect: false,\r\n      hideNonzero: false,\r\n      hideZero: false,\r\n      hideUnanswered: false,\r\n      hideFeedback: false,\r\n      hideNowork: false,\r\n      showFilters: false,\r\n      showEndmsg: false,\r\n      showExcused: false,\r\n      showAllWork: false,\r\n      hidetexts: true\r\n    };\r\n  },\r\n  computed: {\r\n    assessInfoLoaded () {\r\n      return (store.assessInfo !== null);\r\n    },\r\n    aData () {\r\n      return store.assessInfo;\r\n    },\r\n    viewFull () {\r\n      return this.aData.viewfull;\r\n    },\r\n    canEdit () {\r\n      return store.assessInfo.can_edit_scores && this.viewFull;\r\n    },\r\n    canSubmit () {\r\n      return (!store.inTransit);\r\n    },\r\n    useEditor () {\r\n      return (typeof window.tinyMCE !== 'undefined');\r\n    },\r\n    isByQuestion () {\r\n      return (this.aData.submitby === 'by_question');\r\n    },\r\n    startedString () {\r\n      if (this.aData.starttime === 0) {\r\n        return this.$t('gradebook.not_started');\r\n      } else {\r\n        return this.aData.starttime_disp;\r\n      }\r\n    },\r\n    lastchangeString () {\r\n      if (this.aData.lastchange === 0) {\r\n        return this.$t('gradebook.not_submitted');\r\n      } else {\r\n        return this.aData.lastchange_disp;\r\n      }\r\n    },\r\n    totalTimeOnTask () {\r\n      return Math.round(10 * this.aData.timeontask / 60) / 10 + ' ' + this.$t('gradebook.minutes');\r\n    },\r\n    attemptCount () {\r\n      let cnt = 0;\r\n      for (let i = 0; i < this.aData.assess_versions.length; i++) {\r\n        if (this.aData.assess_versions[i].status < 3) {\r\n          cnt++;\r\n        }\r\n      }\r\n      return cnt;\r\n    },\r\n    extensionString () {\r\n      if (this.aData.extended_with.type === 'latepass') {\r\n        return this.$tc('setlist.latepass_used', this.aData.extended_with.n);\r\n      } else {\r\n        return this.$t('setlist.extension');\r\n      }\r\n    },\r\n    curQuestions () {\r\n      return this.aData.assess_versions[store.curAver].questions;\r\n    },\r\n    curAver () {\r\n      return store.curAver;\r\n    },\r\n    curQver () {\r\n      return store.curQver;\r\n    },\r\n    curQuestionVers () {\r\n      const out = [];\r\n      for (let qn = 0; qn < this.curQuestions.length; qn++) {\r\n        out[qn] = this.curQuestions[qn][this.curQver[qn]];\r\n      }\r\n      return out;\r\n    },\r\n    curEndmsg () {\r\n      return this.aData.assess_versions[store.curAver].endmsg || '';\r\n    },\r\n    showCategories () {\r\n      let hascat = false;\r\n      for (const i in this.curQuestionVers) {\r\n        if (this.curQuestionVers[i].hasOwnProperty('category') &&\r\n          this.curQuestionVers[i].category !== '' &&\r\n          this.curQuestionVers[i].category !== null\r\n        ) {\r\n          hascat = true;\r\n          break;\r\n        }\r\n      }\r\n      const hasScores = this.curQuestionVers[0].hasOwnProperty('score') &&\r\n        !isNaN(Number(this.curQuestionVers[0].score));\r\n      return hascat && hasScores;\r\n    },\r\n    scoreCalc () {\r\n      if (this.aData.submitby === 'by_question') {\r\n        return this.$t('gradebook.best_on_question');\r\n      } else if (this.aData.keepscore === 'best') {\r\n        let out = this.$t('gradebook.keep_best');\r\n        if (typeof this.aData.gbscore === 'number') {\r\n          out += ' (' + this.$tc('gradebook.attempt_n', this.aData.scored_version + 1) + ')';\r\n        }\r\n        return out;\r\n      } else if (this.aData.keepscore === 'average') {\r\n        return this.$t('gradebook.keep_avg');\r\n      } else if (this.aData.keepscore === 'last') {\r\n        return this.$t('gradebook.keep_last');\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    showViewAsStu () {\r\n      // show if there's an active attempt, or if there's only an instructor-generated\r\n      // non-started assessment version\r\n      return (this.aData.has_active_attempt ||\r\n        (this.aData.scored_version === 0 && this.aData.assess_versions[0].status === -1)\r\n      );\r\n    },\r\n    viewAsStuUrl () {\r\n      return 'index.php?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n    },\r\n    showQuestion () {\r\n      const out = {};\r\n      for (let i = 0; i < this.curQuestions.length; i++) {\r\n        const qdata = this.curQuestions[i][this.curQver[i]];\r\n        let showit = true;\r\n        if (this.hide100 && Math.abs(qdata.score - qdata.points_possible) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hidePerfect && Math.abs(qdata.rawscore - 1) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hideUnanswered && qdata.parts.reduce((a, c) => Math.max(a, c.try), 0) === 0) {\r\n          showit = false;\r\n        } else if (this.hideZero && Math.abs(qdata.rawscore) < 0.002) {\r\n          showit = false;\r\n        } else if (this.hideNonzero && Math.abs(qdata.rawscore) > 0.002 && Math.abs(qdata.rawscore) < 0.998) {\r\n          showit = false;\r\n        } else if (this.hideFeedback && qdata.feedback !== null && qdata.feedback !== '') {\r\n          showit = false;\r\n        } else if (this.hideNowork && (!qdata.hasOwnProperty('work') || qdata.work === null || qdata.work === '')) {\r\n          showit = false;\r\n        }\r\n        out[i] = showit;\r\n      }\r\n      return out;\r\n    },\r\n    exceptionActionLabel () {\r\n      if (this.aData.hasexception) {\r\n        return this.$t('gradebook.edit_exception');\r\n      } else {\r\n        return this.$t('gradebook.make_exception');\r\n      }\r\n    },\r\n    assessFeedback () {\r\n      return this.aData.assess_versions[store.curAver].feedback || '';\r\n    },\r\n    savedMsg () {\r\n      if (store.saving === '') {\r\n        return '';\r\n      } else {\r\n        return this.$t('gradebook.' + store.saving);\r\n      }\r\n    },\r\n    latepassBlockMsg () {\r\n      var m;\r\n      switch (this.aData.latepass_status) {\r\n        case 7: m = 'practice'; break;\r\n        case 8: m = 'gb'; break;\r\n        case 2: m = 'lpcutoff'; break;\r\n        case 3: m = 'courseend'; break;\r\n        case 4: m = 'pastdue'; break;\r\n        case 5: m = 'toolate'; break;\r\n        case 6: m = 'toofew'; break;\r\n      }\r\n      return this.$t('gradebook.latepass_blocked_' + m);\r\n    },\r\n    isUnsubmitted () {\r\n      return (this.aData.submitby === 'by_assessment' &&\r\n        this.aData.assess_versions[store.curAver].status === 0);\r\n    },\r\n    hasError () {\r\n      return (store.errorMsg !== null);\r\n    },\r\n    errorMsg () {\r\n      return store.errorMsg;\r\n    },\r\n    confirmObj () {\r\n      return store.confirmObj;\r\n    },\r\n    lastQ () {\r\n      return this.aData.assess_versions[store.curAver].questions.length - 1;\r\n    },\r\n    textList () {\r\n      if (!store.assessInfo.hasOwnProperty('interquestion_text')) {\r\n        return [];\r\n      } else {\r\n        return store.assessInfo.interquestion_text;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    changeAssessVersion (val) {\r\n      if (val === store.curAver) {\r\n        return; // not a change - abort\r\n      }\r\n      if (Object.keys(store.scoreOverrides).length > 0 ||\r\n        Object.keys(store.feedbacks).length > 0\r\n      ) {\r\n        store.confirmObj = {\r\n          body: 'gradebook.unsaved_warn',\r\n          action: () => this.doChangeAssessVersion(val)\r\n        };\r\n      } else {\r\n        this.doChangeAssessVersion(val);\r\n      }\r\n    },\r\n    doChangeAssessVersion (val) {\r\n      if (val !== store.curAver) {\r\n        this.hidetexts = true;\r\n        if (this.aData.assess_versions[val].status === 3) {\r\n          // requesting the practice version\r\n          actions.loadGbAssessVersion(0, true);\r\n        } else {\r\n          actions.loadGbAssessVersion(val, false);\r\n        }\r\n      }\r\n    },\r\n    changeQuestionVersion (qn, val) {\r\n      if (val === store.curQver[qn]) {\r\n        return; // same value - abort\r\n      }\r\n      let hasUnsaved = false;\r\n      const regex = new RegExp('^' + store.curAver + '-' + qn + '-');\r\n      for (const k in store.scoreOverrides) {\r\n        if (regex.test(k)) {\r\n          hasUnsaved = true;\r\n        }\r\n      }\r\n      for (const k in store.feedbacks) {\r\n        if (regex.test(k)) {\r\n          hasUnsaved = true;\r\n        }\r\n      }\r\n      if (hasUnsaved) {\r\n        store.confirmObj = {\r\n          body: 'gradebook.unsaved_warn',\r\n          action: () => actions.loadGbQuestionVersion(qn, val)\r\n        };\r\n      } else {\r\n        actions.loadGbQuestionVersion(qn, val);\r\n      }\r\n    },\r\n    updateFeedback (val) {\r\n      actions.setFeedback(null, val);\r\n    },\r\n    setScoreOverride (evt) {\r\n      const val = evt.target.value.trim();\r\n      if (val !== this.aData.scoreoverride) {\r\n        store.scoreOverrides.gen = val;\r\n        this.assessOverride = '';\r\n      }\r\n      store.saving = '';\r\n    },\r\n    submitChanges (exit, nextstu) {\r\n      if (!this.aData.hasOwnProperty('scoreoverride') && this.showOverride) {\r\n        if (this.assessOverride !== '') {\r\n          store.scoreOverrides.gen = this.assessOverride;\r\n        }\r\n        this.showOverride = false;\r\n      }\r\n      var doexit = (exit === true);\r\n      var donextstu = (nextstu === true);\r\n      actions.saveChanges(doexit, donextstu);\r\n    },\r\n    submitForm () {\r\n      this.submitChanges(true);\r\n    },\r\n    exit () {\r\n      window.location = window.exiturl;\r\n    },\r\n    clearAttempts (type) {\r\n      store.clearAttempts.type = type;\r\n      store.clearAttempts.show = true;\r\n    },\r\n    clearLPblock () {\r\n      actions.clearLPblock();\r\n    },\r\n    submitVersion () {\r\n      actions.endAssess();\r\n    },\r\n    redeemLatePass () {\r\n      window.location = this.APIbase + '../course/redeemlatepass.php?cid=' + store.cid + '&aid=' + store.aid;\r\n    },\r\n    makeException () {\r\n      let url = store.APIbase + '../course/exception.php';\r\n      url += '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n      url += '&from=gb';\r\n      window.location = url;\r\n    },\r\n    showAllAns () {\r\n      window.$('span[id^=ans]').toggleClass('hidden', false).show();\r\n      window.$('.sabtn').replaceWith('<span>Answer: </span>');\r\n      window.$('.keybtn').attr('aria-expanded', 'true');\r\n      window.$('div[id^=dsbox]').toggleClass('hidden', false).attr('aria-hidden', false)\r\n        .attr('aria-expanded', true);\r\n      window.$('input[aria-controls^=dsbox]').attr('aria-expanded', true);\r\n    },\r\n    beforeUnload (evt) {\r\n      if (Object.keys(store.scoreOverrides).length > 0 ||\r\n        Object.keys(store.feedbacks).length > 0\r\n      ) {\r\n        evt.preventDefault();\r\n        evt.returnValue = 'You have unsaved changes';\r\n        return 'You have unsaved changes';\r\n      }\r\n    },\r\n    clearError () {\r\n      store.errorMsg = null;\r\n    },\r\n    closeConfirm () {\r\n      store.confirmObj = null;\r\n    },\r\n    previewFiles () {\r\n      window.previewallfiles();\r\n    },\r\n    toggleFloatingScoreboxes () {\r\n      window.toggleScrollingScoreboxes();\r\n    },\r\n    loadTexts () {\r\n      if (!store.assessInfo.hasOwnProperty('intro')) {\r\n        actions.loadGbTexts();\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    window.$(window).on('beforeunload', this.beforeUnload);\r\n    if (typeof window.APIbase !== 'undefined') {\r\n      store.APIbase = window.APIbase;\r\n    } else {\r\n      store.APIbase = process.env.BASE_URL;\r\n    }\r\n    // if no assessinfo, or if cid/aid has changed, load data\r\n    const querycid = window.location.search.replace(/^.*cid=(\\d+).*$/, '$1');\r\n    const queryaid = window.location.search.replace(/^.*aid=(\\d+).*$/, '$1');\r\n    const queryuid = window.location.search.replace(/^.*uid=(\\d+).*$/, '$1');\r\n    const querystu = window.location.search.replace(/^.*stu=(\\d+).*$/, '$1');\r\n    if (store.assessInfo === null ||\r\n      store.cid !== querycid ||\r\n      store.aid !== queryaid ||\r\n      store.uid !== queryuid\r\n    ) {\r\n      store.cid = querycid;\r\n      window.cid = querycid; // some other functions need this in global scope\r\n      store.aid = queryaid;\r\n      store.uid = queryuid;\r\n      store.stu = querystu;\r\n      store.queryString = '?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.uid;\r\n      actions.loadGbAssessData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.med-pad-below {\r\n  padding-bottom: 16px;\r\n}\r\n.gbmainview > div {\r\n  margin-bottom: 16px;\r\n}\r\n.floatrightbutton {\r\n  position: fixed;\r\n  right: 10px;\r\n  bottom: 10px;\r\n  text-align: center;\r\n  z-index: 10;\r\n}\r\n.bigquestionwrap {\r\n  border: 1px solid #ccc;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n}\r\n.bigquestionwrap .headerpane {\r\n  padding: 8px;\r\n  background-color: #eee;\r\n}\r\n.hoverbox {\r\n  background-color: #fff; z-index: 9; box-shadow: 0px -3px 5px 0px rgb(0 0 0 / 75%);\r\n}\r\n</style>\r\n","export function mapInterquestionTexts (data, questions) {\r\n  let lasttext = -1;\r\n  const origtexts = data.interquestion_text;\r\n  const newtexts = [];\r\n  for (const i in questions) {\r\n    if (questions[i].hasOwnProperty('text')) {\r\n      const thistext = questions[i].text;\r\n      if (JSON.stringify(thistext) === JSON.stringify(lasttext)) { // same one\r\n        for (let j = 0; j < thistext.length; j++) {\r\n          newtexts[newtexts.length - 1 - j].displayUntil = i;\r\n        }\r\n      } else {\r\n        for (let j = 0; j < thistext.length; j++) {\r\n          newtexts.push(Object.assign({ orig: 1e5 }, origtexts[thistext[j]]));\r\n          newtexts[newtexts.length - 1].displayBefore = i;\r\n          newtexts[newtexts.length - 1].displayUntil = i;\r\n        }\r\n        lasttext = thistext.slice();\r\n      }\r\n    } else {\r\n      lasttext = -1;\r\n    }\r\n  }\r\n  for (const i in origtexts) {\r\n    if (origtexts[i].hasOwnProperty('displayBefore')) {\r\n      newtexts.push(Object.assign({ orig: i }, origtexts[i]));\r\n    }\r\n    if (origtexts[i].hasOwnProperty('atend')) {\r\n      newtexts.push(Object.assign({ orig: i }, origtexts[i]));\r\n      newtexts[newtexts.length - 1].displayBefore = questions.length;\r\n      newtexts[newtexts.length - 1].displayUntil = questions.length;\r\n    }\r\n  }\r\n  if (newtexts.length > 0) {\r\n    newtexts.sort(function (a, b) {\r\n      if (parseInt(a.displayBefore) === parseInt(b.displayBefore)) {\r\n        return (a.orig - b.orig);\r\n      } else {\r\n        return a.displayBefore - b.displayBefore;\r\n      }\r\n    });\r\n    data.interquestion_text = newtexts;\r\n  }\r\n}\r\n\r\nexport function mapInterquestionPages (data, questions) {\r\n  data.interquestion_pages = [];\r\n  let lastDisplayBefore = 0;\r\n  // ensure proper data type on these\r\n  for (const i in data.interquestion_text) {\r\n    data.interquestion_text[i].displayBefore = parseInt(data.interquestion_text[i].displayBefore);\r\n    data.interquestion_text[i].displayUntil = parseInt(data.interquestion_text[i].displayUntil);\r\n    data.interquestion_text[i].forntype = (parseInt(data.interquestion_text[i].forntype) > 0);\r\n    data.interquestion_text[i].ispage = (parseInt(data.interquestion_text[i].ispage) > 0);\r\n    if (data.interquestion_text[i].ispage) {\r\n      // if a new page, start a new array in interquestion_pages\r\n      // first, add a question list to the previous page\r\n      if (data.interquestion_pages.length > 0) {\r\n        const qs = [];\r\n        for (let j = lastDisplayBefore; j < data.interquestion_text[i].displayBefore; j++) {\r\n          qs.push(j);\r\n        }\r\n        lastDisplayBefore = data.interquestion_text[i].displayBefore;\r\n        data.interquestion_pages[data.interquestion_pages.length - 1][0].questions = qs;\r\n      }\r\n      // now start new page\r\n      data.interquestion_pages.push([data.interquestion_text[i]]);\r\n    } else if (data.interquestion_pages.length > 0) {\r\n      // if we've already started pages, push this to the current page\r\n      data.interquestion_pages[data.interquestion_pages.length - 1].push(data.interquestion_text[i]);\r\n    }\r\n  }\r\n  // if we have pages, add a question list to the last page\r\n  if (data.interquestion_pages.length > 0 && !!questions) {\r\n    const qs = [];\r\n    for (let j = lastDisplayBefore; j < questions.length; j++) {\r\n      qs.push(j);\r\n    }\r\n    data.interquestion_pages[data.interquestion_pages.length - 1][0].questions = qs;\r\n    // don't delete, as we may use it for print version\r\n    // delete data.interquestion_text;\r\n  } else {\r\n    delete data.interquestion_pages;\r\n  }\r\n}\r\n","import { reactive, nextTick } from 'vue';\r\nimport { mapInterquestionTexts } from '@/mixins/maptexts';\r\n\r\nexport const store = reactive({\r\n  assessInfo: null,\r\n  APIbase: null,\r\n  aid: null,\r\n  cid: null,\r\n  uid: null,\r\n  stu: 0,\r\n  queryString: '',\r\n  exitUrl: '',\r\n  inTransit: false,\r\n  saving: '',\r\n  errorMsg: null,\r\n  confirmObj: null,\r\n  curAver: 0,\r\n  ispractice: false,\r\n  curQver: [],\r\n  orig_submitby: null,\r\n  scoreOverrides: {},\r\n  feedbacks: {},\r\n  clearAttempts: {\r\n    show: false,\r\n    type: '',\r\n    qn: 0\r\n  }\r\n});\r\n\r\nexport const actions = {\r\n  loadGbAssessData (callback, keepversion) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbAssessData(callback, keepversion), 20);\r\n      return;\r\n    }\r\n    if (store.assessInfo === null && window.gbAssessData) {\r\n      store.assessInfo = window.gbAssessData;\r\n      if (typeof callback !== 'undefined') {\r\n        callback();\r\n      }\r\n    } else {\r\n      store.inTransit = true;\r\n      store.errorMsg = null;\r\n      window.$.ajax({\r\n        url: store.APIbase + 'gbloadassess.php' + store.queryString,\r\n        dataType: 'json',\r\n        xhrFields: {\r\n          withCredentials: true\r\n        },\r\n        crossDomain: true\r\n      })\r\n        .done(response => {\r\n          if (response.hasOwnProperty('error')) {\r\n            this.handleError(response.error);\r\n            return;\r\n          }\r\n          // reset store\r\n          store.assessInfo = response;\r\n          // set current versions to scored versions\r\n          store.curAver = response.scored_version;\r\n          this.setQverAsScored(response.scored_version);\r\n\r\n          if (typeof callback !== 'undefined') {\r\n            callback();\r\n          }\r\n          // initialize editor and answerbox highlighting\r\n          nextTick(() => {\r\n            window.initAnswerboxHighlights();\r\n            if (window.location.hash) {\r\n              const el = document.getElementById(window.location.hash.substring(1).replace(/\\//, ''));\r\n              if (el) {\r\n                el.scrollIntoView();\r\n              }\r\n            }\r\n          });\r\n        })\r\n        .fail((xhr, textStatus, errorThrown) => {\r\n          this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n        })\r\n        .always(response => {\r\n          store.inTransit = false;\r\n        });\r\n    }\r\n  },\r\n  loadGbAssessVersion (ver, practice) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbAssessVersion(ver, practice), 20);\r\n      return;\r\n    }\r\n    const qs = store.queryString + '&ver=' + ver + '&practice=' + (practice ? 1 : 0);\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadassessver.php' + qs,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n\r\n        if (practice) {\r\n          // practice gets scored as last ver\r\n          ver = store.assessInfo.assess_versions.length - 1;\r\n        }\r\n        // set into store\r\n        delete store.assessInfo.interquestion_text;\r\n        delete store.assessInfo.intro;\r\n\r\n        store.assessInfo.assess_versions[ver] = response;\r\n\r\n        // set current versions to scored versions\r\n        store.curAver = ver;\r\n        this.setQverAsScored(ver);\r\n        store.ispractice = practice;\r\n        if (practice) {\r\n          if (store.orig_submitby === null) {\r\n            store.orig_submitby = store.assessInfo.submitby;\r\n          }\r\n          store.assessInfo.submitby = 'by_question';\r\n        } else if (store.orig_submitby !== null) {\r\n          store.assessInfo.submitby = store.orig_submitby;\r\n        }\r\n\r\n        // initialize editor and answerbox highlighting\r\n        nextTick(() => {\r\n          window.initAnswerboxHighlights();\r\n        });\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  loadGbTexts (callback) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbTexts(callback), 20);\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadtexts.php' + store.queryString,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        const qs = [];\r\n        for (let i = 0; i < store.assessInfo.assess_versions[store.curAver].questions.length; i++) {\r\n          qs[i] = {};\r\n          if (store.assessInfo.assess_versions[store.curAver].questions[i][store.curQver[i]].hasOwnProperty('text')) {\r\n            qs[i] = { text: store.assessInfo.assess_versions[store.curAver].questions[i][store.curQver[i]].text.slice() };\r\n          }\r\n        }\r\n        if (response.hasOwnProperty('interquestion_text')) {\r\n          mapInterquestionTexts(response, qs);\r\n        }\r\n\r\n        store.assessInfo.intro = response.intro;\r\n        store.assessInfo.interquestion_text = response.interquestion_text;\r\n        if (callback) {\r\n          nextTick(() => {\r\n            callback();\r\n          });\r\n        }\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  loadGbQuestionVersion (qn, ver, forceload, beforeSet) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.loadGbQuestionVersion(qn, ver, forceload, beforeSet), 20);\r\n      return;\r\n    }\r\n    let qs = store.queryString + '&ver=' + ver + '&qn=' + qn;\r\n    qs += '&practice=' + (store.ispractice ? 1 : 0);\r\n    if (store.assessInfo.assess_versions[store.curAver].questions[qn][ver].html !== null &&\r\n      forceload !== true\r\n    ) {\r\n      // already have html loaded - just switch displayed version\r\n      store.curQver[qn] = ver;\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbloadquestionver.php' + qs,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        if (beforeSet) {\r\n          beforeSet();\r\n        }\r\n        store.assessInfo.assess_versions[store.curAver].questions[qn][ver] =\r\n          Object.assign(store.assessInfo.assess_versions[store.curAver].questions[qn][ver], response);\r\n        // set current versions to this version\r\n        store.curQver[qn] = ver;\r\n\r\n        // initialize answerbox highlighting\r\n        nextTick(() => {\r\n          window.initAnswerboxHighlights();\r\n        });\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  saveChanges (exit, nextstu) {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.saveChanges(exit), 20);\r\n      return;\r\n    }\r\n    let nextstuurl = '';\r\n    if (nextstu) {\r\n      nextstuurl = 'gbviewassess.php?cid=' + store.cid + '&aid=' + store.aid + '&uid=' + store.assessInfo.nextstu;\r\n      if (window.location.search.match(/from=/)) {\r\n        nextstuurl += '&from=' + window.location.search.replace(/^.*from=(\\w+).*$/, '$1');\r\n      }\r\n    }\r\n    if (Object.keys(store.scoreOverrides).length === 0 &&\r\n      Object.keys(store.feedbacks).length === 0\r\n    ) {\r\n      store.saving = 'saved';\r\n      if (exit) {\r\n        window.location = window.exiturl;\r\n      } else if (nextstu) {\r\n        window.location = nextstuurl;\r\n      }\r\n      return;\r\n    }\r\n    const qs = store.queryString;\r\n    store.inTransit = true;\r\n    store.saving = 'saving';\r\n    store.errorMsg = null;\r\n    const data = new FormData();\r\n    data.append('scores', JSON.stringify(store.scoreOverrides));\r\n    data.append('feedback', JSON.stringify(store.feedbacks));\r\n    data.append('practice', store.ispractice ? 1 : 0);\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbsave.php' + qs,\r\n      type: 'POST',\r\n      dataType: 'json',\r\n      data: data,\r\n      processData: false,\r\n      contentType: false,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        store.saving = 'saved';\r\n\r\n        if (exit || nextstu) {\r\n          store.scoreOverrides = {};\r\n          store.feedbacks = {};\r\n        }\r\n        if (exit) {\r\n          window.location = window.exiturl;\r\n          return;\r\n        } else if (nextstu) {\r\n          window.location = nextstuurl;\r\n          return;\r\n        }\r\n\r\n        // update store.assessInfo with the new scores so it\r\n        // can tell if we change anything\r\n        for (const key in store.scoreOverrides) {\r\n          if (key === 'gen') {\r\n            if (store.scoreOverrides.gen === '') {\r\n              delete store.assessInfo.scoreoverride;\r\n            } else {\r\n              store.assessInfo.gbscore = store.scoreOverrides.gen;\r\n              store.assessInfo.scoreoverride = store.scoreOverrides.gen;\r\n            }\r\n            continue;\r\n          }\r\n          // Update part score\r\n          const pts = key.split(/-/);\r\n          const qdata = store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]];\r\n          if (qdata.hasOwnProperty('scoreoverride') && store.scoreOverrides[key] === '') {\r\n            if (typeof qdata.scoreoverride === 'number') {\r\n              delete qdata.scoreoverride;\r\n            } else {\r\n              delete qdata.scoreoverride[pts[3]];\r\n            }\r\n          }\r\n          if (store.scoreOverrides.hasOwnProperty(key) && store.scoreOverrides[key] !== '') { // set or re-set scoreoverride on question part\r\n            if (!qdata.hasOwnProperty('scoreoverride')) {\r\n              store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].scoreoverride = {};\r\n            }\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].scoreoverride[pts[3]] =\r\n              store.scoreOverrides[key];\r\n          }\r\n        }\r\n        // update question scores\r\n        for (const key in response.newscores) {\r\n          const pts = key.split(/-/);\r\n          store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].score =\r\n            response.newscores[key][0];\r\n          // update part info\r\n          for (let i = 0; i < response.newscores[key][1].length; i++) {\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].parts[i] =\r\n              response.newscores[key][1][i];\r\n          }\r\n        }\r\n        // update feedbacks in store\r\n        for (const key in store.feedbacks) {\r\n          const pts = key.split(/-/);\r\n          if (pts[1] === 'g') { // general feedback\r\n            store.assessInfo.assess_versions[pts[0]].feedback =\r\n              store.feedbacks[key];\r\n          } else { // question feedback\r\n            store.assessInfo.assess_versions[pts[0]].questions[pts[1]][pts[2]].feedback =\r\n              store.feedbacks[key];\r\n          }\r\n        }\r\n\r\n        store.assessInfo.gbscore = response.gbscore;\r\n        store.assessInfo.scored_version = response.scored_version;\r\n        // Update question scored version\r\n        for (let an = 0; an < response.assess_info.length; an++) {\r\n          store.assessInfo.assess_versions[an].score = response.assess_info[an].score;\r\n          for (let qn = 0; qn < response.assess_info[an].scoredvers.length; qn++) {\r\n            if (!store.assessInfo.assess_versions[an].hasOwnProperty('questions')) {\r\n              continue; // questions not loaded for this version\r\n            }\r\n            const qvers = store.assessInfo.assess_versions[an].questions[qn];\r\n            for (let qv = 0; qv < qvers.length; qv++) {\r\n              if (qv === response.assess_info[an].scoredvers[qn]) {\r\n                qvers[qv].scored = true;\r\n              } else if (qvers[qv].scored) {\r\n                delete qvers[qv].scored;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // Update assessment scores\r\n        store.scoreOverrides = {};\r\n        store.feedbacks = {};\r\n      })\r\n      .fail(response => {\r\n        store.saving = 'save_fail';\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  clearLPblock () {\r\n    store.clearAttempts.type = 'practiceview';\r\n    this.clearAttempt(true);\r\n  },\r\n  clearAttempt (keepver) {\r\n    const data = {\r\n      type: store.clearAttempts.type,\r\n      keepver: keepver\r\n    };\r\n    if (store.clearAttempts.type === 'attempt' ||\r\n        store.clearAttempts.type === 'qver'\r\n    ) {\r\n      data.aver = store.curAver;\r\n    }\r\n    if (store.clearAttempts.type === 'qver') {\r\n      data.qn = store.clearAttempts.qn;\r\n      data.qver = store.curQver[data.qn];\r\n    }\r\n    window.$.ajax({\r\n      url: store.APIbase + 'gbclearattempt.php' + store.queryString,\r\n      type: 'POST',\r\n      dataType: 'json',\r\n      data: data,\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        // TODO: update displayed data rather than just exiting\r\n        if (store.clearAttempts.type === 'all' && data.keepver === 0) {\r\n          // cleared all - exit\r\n          window.location = window.exiturl;\r\n        } else if (store.clearAttempts.type === 'all') {\r\n          // reload whole mess\r\n          actions.loadGbAssessData();\r\n        } else if (store.clearAttempts.type === 'practiceview') {\r\n          store.assessInfo.latepass_status = data.latepass_status;\r\n        } else {\r\n          store.assessInfo.gbscore = response.gbscore;\r\n          store.assessInfo.scored_version = response.scored_version;\r\n          if (store.clearAttempts.type === 'attempt') {\r\n            // clear out any score overrides associated with this version\r\n            const regex = new RegExp('^' + data.aver + '-');\r\n            for (const key in store.scoreOverrides) {\r\n              if (key.match(regex)) {\r\n                delete store.scoreOverrides[key];\r\n              }\r\n            }\r\n            if (response.hasOwnProperty('newver')) {\r\n              // replace assessment attempt\r\n              store.assessInfo.assess_versions[data.aver] = response.newver;\r\n            } else {\r\n              // delete version\r\n              store.assessInfo.assess_versions.splice(data.aver, 1);\r\n              actions.loadGbAssessVersion(response.scored_version, false);\r\n            }\r\n            if (data.aver > 0) {\r\n              store.curAver = data.aver - 1;\r\n            }\r\n          } else if (store.clearAttempts.type === 'qver') {\r\n            // clear out any score overrides associated with this version\r\n            const regex = new RegExp('^' + data.aver + '-' + data.qn + '-' + data.qver + '-');\r\n            for (const key in store.scoreOverrides) {\r\n              if (key.match(regex)) {\r\n                delete store.scoreOverrides[key];\r\n              }\r\n            }\r\n            store.assessInfo.assess_versions[data.aver].score = response.assessinfo.score;\r\n            store.assessInfo.assess_versions[data.aver].status = response.assessinfo.status;\r\n            if (response.hasOwnProperty('newver')) {\r\n              // replace assessment attempt\r\n              store.assessInfo.assess_versions[data.aver].questions[data.qn][data.qver] = response.newver;\r\n              // set scored\r\n              store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version].scored = true;\r\n            } else {\r\n              // update curQver to new scored version, and set that version as scored\r\n              // use callback to delete this version on response\r\n              actions.loadGbQuestionVersion(data.qn, response.qinfo.scored_version, true,\r\n                () => {\r\n                  store.assessInfo.assess_versions[data.aver].questions[data.qn].splice(data.qver, 1);\r\n                  store.assessInfo.assess_versions[data.aver].questions[data.qn][response.qinfo.scored_version].scored = true;\r\n                }\r\n              );\r\n            }\r\n          }\r\n        }\r\n        // clear out any affected score overrides\r\n      })\r\n      .fail(response => {\r\n        this.handleError('send_fail');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n        store.clearAttempts.show = false;\r\n      });\r\n  },\r\n  endAssess () {\r\n    if (store.inTransit) {\r\n      window.setTimeout(() => this.endAssess(), 20);\r\n      return;\r\n    }\r\n    store.inTransit = true;\r\n    store.errorMsg = null;\r\n    window.$.ajax({\r\n      url: store.APIbase + 'endassess.php' + store.queryString,\r\n      dataType: 'json',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true\r\n    })\r\n      .done(response => {\r\n        if (response.hasOwnProperty('error')) {\r\n          this.handleError(response.error);\r\n          return;\r\n        }\r\n        // TODO: be more surgical.  For now, we'll just reload everything\r\n        store.assessInfo = null;\r\n        actions.loadGbAssessData();\r\n      })\r\n      .fail((xhr, textStatus, errorThrown) => {\r\n        this.handleError(textStatus === 'parsererror' ? 'parseerror' : 'noserver');\r\n      })\r\n      .always(response => {\r\n        store.inTransit = false;\r\n      });\r\n  },\r\n  setQverAsScored (aver) {\r\n    const qdata = store.assessInfo.assess_versions[aver].questions;\r\n    let qv;\r\n    qloop: for (let i = 0; i < qdata.length; i++) {\r\n      for (qv = 0; qv < qdata[i].length; qv++) {\r\n        if (qdata[i][qv].hasOwnProperty('scored')) {\r\n          store.curQver[i] = qv;\r\n          continue qloop;\r\n        }\r\n        // if no scored found, show last\r\n        store.curQver[i] = qdata[i].length - 1;\r\n      }\r\n    }\r\n  },\r\n  setScoreOverride (qn, pn, score) {\r\n    // get current assess and question versions\r\n    const av = store.curAver;\r\n    const qv = store.curQver[qn];\r\n\r\n    // compare new score against existing value\r\n    const qdata = store.assessInfo.assess_versions[av].questions[qn][qv];\r\n    const key = av + '-' + qn + '-' + qv + '-' + pn;\r\n    if (score === '') {\r\n      store.scoreOverrides[key] = '';\r\n    } else {\r\n      let scoreChanged = true;\r\n      if (qdata.singlescore) {\r\n        scoreChanged = (Math.abs(score - qdata.score / qdata.points_possible) > 0.001);\r\n      } else if (qdata.parts[pn]) {\r\n        scoreChanged = (Math.abs(score - qdata.parts[pn].score / qdata.parts[pn].points_possible) > 0.001);\r\n      }\r\n      if (qdata.parts[pn] && qdata.parts[pn].try > 0 &&\r\n        (score === '' || !scoreChanged)\r\n      ) {\r\n        // same as existing - don't submit as an override\r\n        delete store.scoreOverrides[key];\r\n      } else {\r\n        // different score - submit as override. Save raw score (0-1)?.\r\n        store.scoreOverrides[key] = Math.round(10000 * score) / 10000;\r\n      }\r\n    }\r\n    store.saving = '';\r\n  },\r\n  setFeedback (qn, feedback) {\r\n    // get current assess and question versions\r\n    const av = store.curAver;\r\n    let key = av;\r\n    let isNew = true;\r\n    if (qn === null) {\r\n      // assessment-level feedback\r\n      key += '-g';\r\n      if (feedback === store.assessInfo.assess_versions[store.curAver].feedback) {\r\n        isNew = false;\r\n      }\r\n    } else {\r\n      const qv = store.curQver[qn];\r\n      key += '-' + qn + '-' + qv;\r\n      if (feedback === store.assessInfo.assess_versions[store.curAver].questions[qn][qv].feedback) {\r\n        isNew = false;\r\n      }\r\n    }\r\n    if (isNew) {\r\n      store.feedbacks[key] = feedback;\r\n    } else {\r\n      delete store.feedbacks[key];\r\n    }\r\n    store.saving = '';\r\n  },\r\n  handleError (error) {\r\n    store.errorMsg = error;\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"questionwrap questionpane\">\r\n    <div\r\n      v-html=\"qdata.html\"\r\n      class = \"question\"\r\n      :id=\"'questionwrap' + qn\"\r\n      ref = \"thisqwrap\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbQuestion',\r\n  props: ['qdata', 'qn'],\r\n  data: function () {\r\n    return {\r\n      rendered: false\r\n    };\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered) {\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.thisqwrap);\r\n      window.initSageCell(this.$refs.thisqwrap);\r\n      window.initlinkmarkup(this.$refs.thisqwrap);\r\n      window.imathasAssess.init(this.qdata.jsparams, true, this.$refs.thisqwrap);\r\n      this.rendered = true;\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    qdata: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbQuestion.vue?vue&type=template&id=a5092568\"\nimport script from \"./GbQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class = \"questionpane viewworkwrap\" v-if=\"!!work\">\r\n    <div>\r\n      <button type=\"button\" class=\"slim\"\r\n        @click = \"show = !show\"\r\n      >\r\n        {{ btnLabel }}\r\n      </button>\r\n      <span class=\"small\" v-if=\"show && worktime !== '0'\">\r\n        {{ $t('gradebook.lastchange')}} {{ worktime }}\r\n      </span>\r\n    </div>\r\n    <transition name=\"fade\">\r\n      <div class=\"introtext\" ref=\"workbox\" v-show=\"show\" v-html=\"work\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbShowwork',\r\n  props: ['work', 'worktime', 'showall'],\r\n  data: function () {\r\n    return {\r\n      show: false,\r\n      rendered: false\r\n    };\r\n  },\r\n  computed: {\r\n    btnLabel () {\r\n      return this.$t(this.show ? 'gradebook.hidework' : 'gradebook.showwork');\r\n    }\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered || !this.work) {\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.workbox);\r\n      window.initlinkmarkup(this.$refs.workbox);\r\n      window.$(this.$refs.workbox).find('img').on('click', window.rotateimg);\r\n      this.rendered = true;\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    work: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    },\r\n    showall: function (newVal, oldVal) {\r\n      this.show = newVal;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbShowwork.vue?vue&type=template&id=8fd0e8ea\"\nimport script from \"./GbShowwork.vue?vue&type=script&lang=js\"\nexport * from \"./GbShowwork.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <menu-button id=\"assess_select\"\r\n      :options = \"navOptions\"\r\n      :selected = \"selected\"\r\n      :noarrow = \"navOptions.length == 1\"\r\n      searchby = \"ver\"\r\n    >\r\n      <template v-slot=\"{ option }\">\r\n        <gb-assess-list-item :option=\"option\" :submitby=\"submitby\"/>\r\n      </template>\r\n    </menu-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport GbAssessListItem from '@/gbviewassess/GbAssessListItem.vue';\r\nexport default {\r\n  name: 'GbAssessSelect',\r\n  props: ['versions', 'selected', 'submitby', 'haspractice'],\r\n  components: {\r\n    MenuButton,\r\n    GbAssessListItem\r\n  },\r\n  computed: {\r\n    navOptions () {\r\n      var out = [];\r\n      for (let i = 0; i < this.versions.length; i++) {\r\n        const thisoption = {\r\n          ver: i,\r\n          status: this.versions[i].status,\r\n          lastchange_disp: this.versions[i].lastchange_disp,\r\n          onclick: () => this.$emit('setversion', i)\r\n        };\r\n        if (this.versions[i].hasOwnProperty('score')) {\r\n          thisoption.score = this.versions[i].score;\r\n        }\r\n        out.push(thisoption);\r\n      }\r\n      return out;\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <span>\r\n    <strong>{{ attemptNum }}.</strong>\r\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\r\n      {{ $t('gradebook.score') }}:\r\n      <strong>{{ score }}</strong>.\r\n    </span>\r\n    <span v-if=\"option.hasOwnProperty('status')\">\r\n      {{ verStatus }}\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { store } from './gbstore';\r\n\r\nexport default {\r\n  name: 'GbAssessListItem',\r\n  props: ['option', 'submitby'],\r\n  computed: {\r\n    attemptNum () {\r\n      if (this.option.status === 3) {\r\n        return this.$t('gradebook.practice_attempt');\r\n      } else if (this.submitby === 'by_question') {\r\n        return this.$t('gradebook.scored_attempt');\r\n      } else {\r\n        return this.$tc('gradebook.attempt_n', this.option.ver + 1);\r\n      }\r\n    },\r\n    verStatus () {\r\n      if (this.option.status === -1) {\r\n        return this.$t('gradebook.not_started');\r\n      } else if (this.option.status === 0 && this.submitby === 'by_assessment') {\r\n        return this.$t('gradebook.not_submitted');\r\n      } else if (this.option.status === 1 || this.option.status === 2) {\r\n        let out = '';\r\n        if (this.submitby === 'by_question') {\r\n          out += this.$t('gradebook.lastchange');\r\n        } else {\r\n          out += this.$t('gradebook.submitted');\r\n        }\r\n        out += ' ' + this.option.lastchange_disp;\r\n        return out;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    score () {\r\n      return this.option.score + '/' + store.assessInfo.points_possible;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbAssessListItem.vue?vue&type=template&id=2bf22f68\"\nimport script from \"./GbAssessListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GbAssessListItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbAssessSelect.vue?vue&type=template&id=1610a721\"\nimport script from \"./GbAssessSelect.vue?vue&type=script&lang=js\"\nexport * from \"./GbAssessSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div style=\"display: inline-block\">\r\n    <menu-button :id=\"'qselect' + qn\"\r\n      :options = \"navOptions\"\r\n      :selected = \"selected\"\r\n      :noarrow = \"navOptions.length == 1\"\r\n      searchby = \"ver\"\r\n    >\r\n      <template v-slot=\"{ option }\">\r\n        <gb-question-list-item :option=\"option\" :total=\"navOptions.length\"/>\r\n      </template>\r\n    </menu-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport GbQuestionListItem from '@/gbviewassess/GbQuestionListItem.vue';\r\nexport default {\r\n  name: 'GbQuestionSelect',\r\n  props: ['versions', 'selected', 'qn'],\r\n  components: {\r\n    MenuButton,\r\n    GbQuestionListItem\r\n  },\r\n  computed: {\r\n    navOptions () {\r\n      var out = [];\r\n      for (let i = 0; i < this.versions.length; i++) {\r\n        const thisoption = {\r\n          ver: i,\r\n          ptsposs: this.versions[i].points_possible,\r\n          onclick: () => this.$emit('setversion', this.qn, i)\r\n        };\r\n        if (this.versions[i].hasOwnProperty('score')) {\r\n          thisoption.score = this.versions[i].score;\r\n          thisoption.scored = (this.versions[i].hasOwnProperty('scored') === true);\r\n        }\r\n        out.push(thisoption);\r\n      }\r\n      return out;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <span>\r\n    {{ attemptNum }}.\r\n    <span v-if=\"option.hasOwnProperty('score') && option.score !== 'N/A'\">\r\n      {{$t('gradebook.score')}}: <strong>{{ score }}</strong>\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'GbQuestionListItem',\r\n  props: ['option', 'total'],\r\n  computed: {\r\n    attemptNum () {\r\n      return this.$tc('gradebook.version_n', this.option.ver + 1) +\r\n        (this.option.scored ? '*' : '') + '/' + this.total;\r\n    },\r\n    score () {\r\n      return this.option.score + '/' + this.option.ptsposs;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbQuestionListItem.vue?vue&type=template&id=50eed8ce\"\nimport script from \"./GbQuestionListItem.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestionListItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbQuestionSelect.vue?vue&type=template&id=5d53b992\"\nimport script from \"./GbQuestionSelect.vue?vue&type=script&lang=js\"\nexport * from \"./GbQuestionSelect.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"scoredetails\">\r\n    <menu-button\r\n      v-if=\"canedit\"\r\n      class = \"floatright\"\r\n      :options = \"moreOptions\"\r\n      position = \"right\"\r\n      nobutton = \"true\"\r\n      noarrow = \"true\"\r\n      :id = \"'qmore' + qn\"\r\n    >\r\n      <template v-slot:button>\r\n        <icons name=\"more\" size=\"medium\"/>\r\n      </template>\r\n    </menu-button>\r\n    <div v-if=\"canedit || (qdata.hasOwnProperty('score') && qdata.score !== 'N/A')\">\r\n      {{ $t('gradebook.score') }}:\r\n      <span\r\n        v-for=\"(poss,i) in partPoss\"\r\n        :key=\"i\"\r\n      >\r\n        <input\r\n          v-if=\"canedit && !isPractice\"\r\n          type=\"text\"\r\n          size=\"4\"\r\n          :id=\"'scorebox' + qn + (partPoss.length > 1 ? '-' + i : '')\"\r\n          pattern=\"N\\/A|\\d*\\.?\\d*\"\r\n          v-model=\"curScores[i]\"\r\n          @input=\"updateScore(i, $event)\"\r\n          @keyup.enter=\"$emit('submitform')\"\r\n        /><span v-else>{{ curScores[i] }}</span>/{{ poss }}\r\n        <button\r\n          v-if=\"canedit && !isPractice && qdata.rubric > 0\"\r\n          class=\"plain nopad\"\r\n          @click=\"showRubric(i)\"\r\n        >\r\n          <icons name=\"clipboard\" alt=\"icons.rubric\" size=\"small\" />\r\n        </button>\r\n        <button\r\n          v-if=\"canedit && !isPractice && qdata.rubric > 0\"\r\n          style=\"display:none\"\r\n          class=\"plain nopad rubriclink\"\r\n          @click=\"showRubric(i)\"\r\n          :id=\"'rublink-scorebox' + qn + (partPoss.length > 1 ? '-' + i : '')\"\r\n        >\r\n          <icons name=\"clipboard\" alt=\"icons.rubric\" size=\"small\" />\r\n        </button>\r\n      </span>\r\n      <button\r\n        v-if=\"canedit && !isPractice\"\r\n        type=\"button\"\r\n        @click=\"allFull\"\r\n        class=\"slim\"\r\n      >\r\n        {{ fullCreditLabel }}\r\n      </button>\r\n      <button\r\n        v-if=\"canedit && hasManual && !isPractice\"\r\n        type=\"button\"\r\n        @click=\"manualFull\"\r\n        class=\"slim\"\r\n      >\r\n        {{ $t('gradebook.full_manual_parts') }}\r\n      </button>\r\n      <button\r\n        v-if=\"canedit && !isPractice && showfeedback === false\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"revealFeedback\"\r\n      >\r\n        {{ $t('gradebook.add_feedback') }}\r\n      </button>\r\n    </div>\r\n    <gb-feedback\r\n      :show=\"showfeedback\"\r\n      :canedit = \"canedit\"\r\n      :useeditor = \"useEditor\"\r\n      ref = \"fbbox\"\r\n      :qn = \"qn\"\r\n      :value = \"qdata.feedback\"\r\n      @update = \"updateFeedback\"\r\n    />\r\n\r\n    <div v-if=\"showfull\">\r\n      <span v-if=\"qdata.timeactive.total > 0\">\r\n        {{ $t('gradebook.time_on_version') }}:\r\n        {{ timeSpent }}.\r\n      </span>\r\n      <span v-if=\"qdata.lastchange\">\r\n        {{ $t('gradebook.lastchange') }}\r\n        {{ qdata.lastchange }}.\r\n      </span>\r\n      <button\r\n        v-if=\"maxTry > 1\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showAllTries = !showAllTries\"\r\n      >\r\n        {{ $t('gradebook.show_tries') }}\r\n      </button>\r\n      <button\r\n        v-if=\"hasPenalties\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showPenalties = !showPenalties\"\r\n      >\r\n        {{ $t('gradebook.show_penalties') }}\r\n      </button>\r\n      <button\r\n        v-if=\"hasAutoSaves\"\r\n        type=\"button\"\r\n        class=\"slim\"\r\n        @click=\"showAutosaves = !showAutosaves\"\r\n      >\r\n        {{ $t('gradebook.show_autosaves') }}\r\n      </button>\r\n    </div>\r\n    <gb-all-tries\r\n      v-if=\"showAllTries\"\r\n      :tries=\"qdata.other_tries\"\r\n      type=\"tries\"\r\n      :qn=\"qn\"\r\n    />\r\n    <gb-penalties\r\n      v-if=\"showPenalties\"\r\n      :parts=\"qdata.parts\"\r\n      :submitby=\"submitby\"\r\n    />\r\n    <gb-all-tries\r\n      v-if=\"showAutosaves\"\r\n      :tries=\"qdata.autosaves\"\r\n      type=\"autosave\"\r\n      :submitby=\"submitby\"\r\n      :qn=\"qn\"\r\n    />\r\n    <div v-if=\"showfull && qHelps.length > 0\">\r\n      {{ $t('gradebook.had_help') }}:\r\n      <a v-for=\"(help,idx) in qHelps\"\r\n        :key=\"idx\"\r\n        :href=\"help.url\"\r\n        target=\"_blank\"\r\n      >{{ help.title }}</a>\r\n    </div>\r\n    <div v-if=\"qdata.category\">\r\n      {{ $t('qdetails.category') }}:\r\n      {{ qdata.category }}\r\n    </div>\r\n    <div>\r\n      <a :href=\"messageHref\" target=\"help\" v-if=\"showMessage\">\r\n        <icons name=\"message\" />\r\n        {{ $t('helps.message_instructor') }}\r\n      </a>\r\n      <a :href=\"forumHref\" target=\"help\" v-if=\"postToForum > 0\">\r\n        <icons name=\"forum\" />\r\n        {{ $t('helps.post_to_forum') }}\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport GbAllTries from '@/gbviewassess/GbAllTries';\r\nimport GbPenalties from '@/gbviewassess/GbPenalties';\r\nimport Icons from '@/components/widgets/Icons';\r\nimport MenuButton from '@/components/widgets/MenuButton';\r\nimport GbFeedback from '@/gbviewassess/GbFeedback';\r\n\r\nexport default {\r\n  name: 'GbScoreDetails',\r\n  props: ['qdata', 'qn', 'canedit', 'showfull'],\r\n  components: {\r\n    GbAllTries,\r\n    GbPenalties,\r\n    MenuButton,\r\n    Icons,\r\n    GbFeedback\r\n  },\r\n  data: function () {\r\n    return {\r\n      curScores: false,\r\n      showfeedback: false,\r\n      showAllTries: false,\r\n      showPenalties: false,\r\n      showAutosaves: false\r\n    };\r\n  },\r\n  computed: {\r\n    answeights () {\r\n      if (!this.qdata.answeights || this.qdata.singlescore) { // if answeights not generated yet\r\n        return [1];\r\n      } else {\r\n        const answeights = this.qdata.answeights.map(x => parseFloat(x));\r\n        const answeightTot = answeights.reduce((a, c) => a + c);\r\n        return answeights.map(x => x / answeightTot);\r\n      }\r\n    },\r\n    partPoss () {\r\n      var out = [];\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        out[i] = Math.round(1000 * this.qdata.points_possible * this.answeights[i]) / 1000;\r\n      }\r\n      return out;\r\n    },\r\n    initScores () {\r\n      var out = [];\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        if (this.qdata.singlescore) {\r\n          out.push(this.qdata.score);\r\n        } else if (this.qdata.scoreoverride && typeof this.qdata.scoreoverride !== 'object') {\r\n          // handle the case of a single override\r\n          let partscore = this.qdata.scoreoverride * this.answeights[i] * this.qdata.points_possible;\r\n          partscore = Math.round(1000 * partscore) / 1000;\r\n          out.push(partscore);\r\n        } else if (this.qdata.scoreoverride && this.qdata.scoreoverride.hasOwnProperty(i)) {\r\n          if (this.qdata.parts[i] && this.qdata.parts[i].points_possible) {\r\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.qdata.parts[i].points_possible) / 1000);\r\n          } else {\r\n            out.push(Math.round(1000 * this.qdata.scoreoverride[i] * this.answeights[i] * this.qdata.points_possible) / 1000);\r\n          }\r\n        } else if (this.maxTry === 0 || !this.qdata.parts[i].hasOwnProperty('score')) { // not attempted or not showing\r\n          out.push('N/A');\r\n        } else {\r\n          out.push(this.qdata.parts[i].score);\r\n        }\r\n      }\r\n      return out;\r\n    },\r\n    fullCreditLabel () {\r\n      if (this.answeights.length > 1) {\r\n        return this.$t('gradebook.full_credit_parts');\r\n      } else {\r\n        return this.$t('gradebook.full_credit');\r\n      }\r\n    },\r\n    timeSpent () {\r\n      const out = Math.round(10 * this.qdata.timeactive.total / 60) / 10 + ' ' + this.$t('gradebook.minutes');\r\n      // TODO: Add per-try average?\r\n      return out;\r\n    },\r\n    useEditor () {\r\n      return (typeof window.tinyMCE !== 'undefined');\r\n    },\r\n    isPractice () {\r\n      return store.ispractice;\r\n    },\r\n    isLastVersion () {\r\n      let avercnt = store.assessInfo.assess_versions.length - 1;\r\n      if (store.assessInfo.has_practice) {\r\n        avercnt--;\r\n      }\r\n      return (store.curAver === avercnt);\r\n    },\r\n    maxTry () {\r\n      let maxtry = 0;\r\n      for (let i = 0; i < this.qdata.parts.length; i++) {\r\n        if (this.qdata.parts[i] && this.qdata.parts[i].try) {\r\n          if (this.qdata.parts[i].try > maxtry) {\r\n            maxtry = this.qdata.parts[i].try;\r\n          }\r\n        }\r\n      }\r\n      return maxtry;\r\n    },\r\n    questionEditUrl () {\r\n      let qs = 'id=' + this.qdata.qsetid + '&cid=' + store.cid;\r\n      qs += '&aid=' + store.aid + '&qid=' + this.qdata.qid;\r\n      return store.APIbase + '../course/moddataset.php?' + qs;\r\n    },\r\n    questionErrorUrl () {\r\n      if (store.assessInfo.qerror_cid) {\r\n        const quoteq = '0-' + this.qdata.qsetid + '-' + this.qdata.seed +\r\n          '-reperr-' + store.assessInfo.ver;\r\n        const qs = 'add=new&cid=' + store.assessInfo.qerror_cid +\r\n          '&quoteq=' + quoteq + '&to=' + this.qdata.qowner +\r\n          '&title=Problem%20with%20question%20id%20' +\r\n          this.qdata.qsetid;\r\n        return store.APIbase + '../msgs/msglist.php?' + qs;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    useInMsg () {\r\n      // TODO\r\n      const quoteq = this.qn + '-' + this.qdata.qsetid + '-' + this.qdata.seed +\r\n        '-' + store.aid + '-' + store.assessInfo.ver;\r\n      const qs = 'add=new&cid=' + store.cid +\r\n        '&quoteq=' + quoteq + '&to=' + store.uid;\r\n      return store.APIbase + '../msgs/msglist.php?' + qs;\r\n      // TODO: get GB to work for this.\r\n      // window.GB_show(this.$t('gradebook.send_msg'),\r\n      //  store.APIbase + '../msgs/msglist.php?'+qs, 800, 'auto');\r\n    },\r\n    moreOptions () {\r\n      const out = [\r\n        {\r\n          label: this.$t('gradebook.use_in_msg'),\r\n          link: this.useInMsg\r\n        },\r\n        {\r\n          label: this.$t('gradebook.view_edit') + ' ID ' + this.qdata.qsetid + ' Seed ' + this.qdata.seed,\r\n          link: this.questionEditUrl\r\n        },\r\n        {\r\n          label: (store.assessInfo.hasOwnProperty('qerrortitle')\r\n            ? store.assessInfo.qerrortitle : this.$t('gradebook.msg_owner')),\r\n          link: this.questionErrorUrl\r\n        }\r\n      ];\r\n      if (!this.isPractice && this.isLastVersion) {\r\n        out.push({\r\n          label: this.$t('gradebook.clear_qwork'),\r\n          onclick: () => this.clearWork()\r\n        });\r\n      }\r\n      return out;\r\n    },\r\n    hasPenalties () {\r\n      for (let pn = 0; pn < this.qdata.parts.length; pn++) {\r\n        if (this.qdata.parts[pn].hasOwnProperty('penalties') &&\r\n          this.qdata.parts[pn].penalties.length > 0\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    hasManual () {\r\n      if (this.qdata.parts.length === 1) {\r\n        return false;\r\n      }\r\n      for (let pn = 0; pn < this.qdata.parts.length; pn++) {\r\n        if (this.qdata.parts[pn].hasOwnProperty('req_manual') &&\r\n          this.qdata.parts[pn].req_manual === true\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    hasAutoSaves () {\r\n      return this.qdata.hasOwnProperty('autosaves');\r\n    },\r\n    submitby () {\r\n      return store.assessInfo.submitby;\r\n    },\r\n    qHelps () {\r\n      if (this.qdata.jsparams) {\r\n        const helps = this.qdata.jsparams.helps;\r\n        for (const i in helps) {\r\n          if (helps[i].label === 'video') {\r\n            helps[i].icon = 'video';\r\n            helps[i].title = this.$t('helps.video');\r\n          } else if (helps[i].label === 'read') {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = this.$t('helps.read');\r\n          } else if (helps[i].label === 'ex') {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = this.$t('helps.written_example');\r\n          } else {\r\n            helps[i].icon = 'file';\r\n            helps[i].title = helps[i].label;\r\n          }\r\n        }\r\n        return helps;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    showMessage () {\r\n      return (store.assessInfo.hasOwnProperty('help_features') &&\r\n        store.assessInfo.help_features.message === true &&\r\n        !store.assessInfo.can_edit_scores\r\n      );\r\n    },\r\n    postToForum () {\r\n      return (store.assessInfo.hasOwnProperty('help_features') &&\r\n        store.assessInfo.help_features.forum\r\n      );\r\n    },\r\n    quoteQ () {\r\n      const qsid = this.qdata.questionsetid;\r\n      const seed = this.qdata.seed;\r\n      const ver = 2; // TODO: send from backend\r\n      return this.qn + '-' + qsid + '-' + seed + '-' + store.aid + '-' + ver;\r\n    },\r\n    messageHref () {\r\n      let href = window.imasroot + '/msgs/msglist.php?';\r\n      href += window.$.param({\r\n        cid: store.cid,\r\n        add: 'new',\r\n        quoteq: this.quoteQ,\r\n        to: 'instr'\r\n      });\r\n      return href;\r\n    },\r\n    forumHref () {\r\n      let href = window.imasroot + '/forums/thread.php?';\r\n      href += window.$.param({\r\n        cid: store.cid,\r\n        forum: store.assessInfo.help_features.forum,\r\n        modify: 'new',\r\n        quoteq: this.quoteQ\r\n      });\r\n      return href;\r\n    }\r\n  },\r\n  methods: {\r\n    updateScore (pn, evt) {\r\n      if (this.curScores[pn].trim() === '') {\r\n        actions.setScoreOverride(this.qn, pn, '');\r\n      } else {\r\n        const partposs = this.qdata.points_possible * this.answeights[pn];\r\n        actions.setScoreOverride(this.qn, pn, this.curScores[pn] / partposs);\r\n      }\r\n    },\r\n    revealFeedback () {\r\n      this.showfeedback = true;\r\n      this.$nextTick(() => this.$refs.fbbox.focus());\r\n    },\r\n    updateFeedback (val) {\r\n      actions.setFeedback(this.qn, val);\r\n    },\r\n    allFull () {\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        this.$set(this.curScores, i, this.partPoss[i]);\r\n        actions.setScoreOverride(this.qn, i, this.curScores[i] / this.partPoss[i]);\r\n      }\r\n    },\r\n    manualFull () {\r\n      for (let i = 0; i < this.answeights.length; i++) {\r\n        if (this.qdata.parts[i] && this.qdata.parts[i].hasOwnProperty('req_manual') &&\r\n          this.qdata.parts[i].req_manual === true\r\n        ) {\r\n          this.$set(this.curScores, i, this.partPoss[i]);\r\n          actions.setScoreOverride(this.qn, i, this.curScores[i] / this.partPoss[i]);\r\n        }\r\n      }\r\n    },\r\n    clearWork () {\r\n      store.clearAttempts.type = 'qver';\r\n      store.clearAttempts.qn = this.qn;\r\n      store.clearAttempts.show = true;\r\n    },\r\n    initCurScores () {\r\n      this.$set(this, 'curScores', this.initScores);\r\n      this.showfeedback = (this.qdata.feedback !== null && this.qdata.feedback.length > 0);\r\n    },\r\n    showRubric (pn) {\r\n      if (!window.imasrubrics) {\r\n        window.imasrubrics = store.assessInfo.rubrics;\r\n      }\r\n      this.showfeedback = true;\r\n      window.imasrubric_show(\r\n        this.qdata.rubric,\r\n        this.partPoss[pn],\r\n        'scorebox' + this.qn + (this.partPoss.length > 1 ? '-' + pn : ''),\r\n        'fb' + this.qn,\r\n        (this.qn + 1) + (this.partPoss.length > 1 ? ' part ' + (pn + 1) : ''),\r\n        600\r\n      );\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initCurScores();\r\n  },\r\n  watch: {\r\n    qdata: {\r\n      handler: function (newVal, oldVal) {\r\n        this.initCurScores();\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.scoredetails {\r\n  border-top: 1px solid #ccc;\r\n  padding: 8px;\r\n}\r\n</style>\r\n","<template>\r\n  <div ref=\"trywrap\">\r\n    <p>\r\n      <strong v-if=\"type === 'tries'\">\r\n        {{ $t('gradebook.all_tries') }}\r\n      </strong>\r\n      <strong v-else-if=\"type === 'autosave'\">\r\n        {{ $t('gradebook.autosaves') }}\r\n      </strong>\r\n    </p>\r\n    <p v-if=\"type === 'autosave'\" class=\"subdued\">\r\n      {{ $t('gradebook.autosave_info') }}\r\n      <span v-if=\"submitby == 'by_assessment'\">\r\n        {{ $t('gradebook.autosave_byassess') }}\r\n      </span>\r\n      <span v-else>\r\n      </span>\r\n    </p>\r\n    <div\r\n      v-for=\"(part,index) in processedTries\"\r\n      :key = \"index\"\r\n      class=\"med-below med-left\"\r\n    >\r\n      <div v-if=\"processedTries.length > 1\">\r\n        <strong>{{ $t('gradebook.part_n', {n: index+1}) }}</strong>\r\n      </div>\r\n      <div v-for=\"(trystr, tryn) in part\" :key=\"tryn\">\r\n        <span v-if=\"type =='tries'\">\r\n          {{ $t('gradebook.try_n', {n: tryn+1}) }}:\r\n        </span>\r\n        <span v-html=\"trystr\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GbAllTries',\r\n  props: ['tries', 'qn', 'type', 'submitby'],\r\n  data: function () {\r\n    return {\r\n      rendered: false,\r\n      drawToRender: []\r\n    };\r\n  },\r\n  computed: {\r\n    processedTries () {\r\n      const out = [];\r\n      let pn, tn;\r\n      for (pn in this.tries) {\r\n        const partout = [];\r\n        for (tn in this.tries[pn]) {\r\n          if (typeof this.tries[pn][tn] === 'object' && this.tries[pn][tn][0] === 'draw') {\r\n            // drawing\r\n            const id = this.qn + '-' + pn + '-' + tn;\r\n            const drawwidth = this.tries[pn][tn][2][6];\r\n            const drawheight = this.tries[pn][tn][2][7];\r\n            partout[tn] = '<canvas id=\"canvasGBR' + id + '\" width=' + drawwidth + ' height=' + drawheight + '></canvas>';\r\n            partout[tn] += '<input type=\"hidden\" id=\"qnGBR' + id + '\"/>';\r\n          } else {\r\n            partout[tn] = this.tries[pn][tn];\r\n          }\r\n        }\r\n        out[pn] = partout;\r\n      }\r\n      return out;\r\n    }\r\n  },\r\n  methods: {\r\n    renderInit () {\r\n      if (this.rendered) {\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.trywrap);\r\n\r\n      // initialize any drawing canvases\r\n      let pn, tn;\r\n      for (pn in this.tries) {\r\n        for (tn in this.tries[pn]) {\r\n          if (typeof this.tries[pn][tn] === 'object' && this.tries[pn][tn][0] === 'draw') {\r\n            // drawing\r\n            let la = this.tries[pn][tn][1].replace(/\\(/g, '[').replace(/\\)/g, ']').split(';;');\r\n            if (la[0] !== '') {\r\n              la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\r\n            }\r\n            la = '[[' + la.join('],[') + ']]';\r\n            const id = this.qn + '-' + pn + '-' + tn;\r\n            const ref = this.tries[pn][tn][2][0] || '';\r\n\r\n            window.canvases['GBR' + id] = ref.slice();\r\n            window.canvases['GBR' + id].unshift('GBR' + id);\r\n            window.drawla['GBR' + id] = JSON.parse(la);\r\n            window.imathasDraw.initCanvases('GBR' + id);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    tries: function (newVal, oldVal) {\r\n      if (newVal !== null) {\r\n        this.rendered = false;\r\n        this.$nextTick(this.renderInit);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbAllTries.vue?vue&type=template&id=dd70f900\"\nimport script from \"./GbAllTries.vue?vue&type=script&lang=js\"\nexport * from \"./GbAllTries.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <table class=\"qdetails\">\r\n    <thead>\r\n      <tr>\r\n        <th>{{ $t('qdetails.part') }}</th>\r\n        <th>{{ $t('penalties.applied') }}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr\r\n        v-for=\"(part,index) in parts\"\r\n        :key = \"index\"\r\n      >\r\n        <td>{{ index + 1 }}</td>\r\n        <td>\r\n          <penalties-applied\r\n            v-if=\"partHasPenalties.indexOf(index) != -1\"\r\n            class = \"med-left\"\r\n            :part=\"part\"\r\n            :submitby=\"submitby\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport PenaltiesApplied from '@/components/PenaltiesApplied.vue';\r\n\r\nexport default {\r\n  name: 'GbPenalties',\r\n  props: ['parts', 'submitby'],\r\n  components: {\r\n    PenaltiesApplied\r\n  },\r\n  computed: {\r\n    partHasPenalties () {\r\n      const out = [];\r\n      for (let pn = 0; pn < this.parts.length; pn++) {\r\n        if (this.parts[pn].hasOwnProperty('penalties') &&\r\n          this.parts[pn].penalties.length > 0\r\n        ) {\r\n          out.push(pn);\r\n        }\r\n      }\r\n      return out;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./GbPenalties.vue?vue&type=template&id=433375f1\"\nimport script from \"./GbPenalties.vue?vue&type=script&lang=js\"\nexport * from \"./GbPenalties.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-show=\"show\">\r\n    {{ !username ?\r\n      $t('gradebook.feedback') :\r\n      $t('gradebook.feedback_for', {name: username})\r\n    }}:<br/>\r\n    <textarea\r\n      v-if=\"canedit && !useeditor\"\r\n      class=\"fbbox\"\r\n      :id=\"'fb' + qn\"\r\n      ref = \"fbbox\"\r\n      rows=\"2\"\r\n      cols=\"60\"\r\n      :value = \"value\"\r\n      @input=\"updateFeedback\"\r\n    ></textarea>\r\n    <tinymce-input\r\n      v-else-if=\"canedit\"\r\n      ref = \"fbbox\"\r\n      :id=\"'fb' + qn\"\r\n      :value = \"value\"\r\n      @input = \"updateFeedback\"\r\n    ></tinymce-input>\r\n    <div\r\n      v-else\r\n      class=\"fbbox\"\r\n      ref = \"fbbox\"\r\n      v-html=\"value\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TinymceInput from '@/components/TinymceInput.vue';\r\n\r\nexport default {\r\n  name: 'GbFeedback',\r\n  props: ['show', 'canedit', 'useeditor', 'value', 'qn', 'username'],\r\n  components: {\r\n    TinymceInput\r\n  },\r\n  data: function () {\r\n    return {\r\n      rendered: false\r\n    };\r\n  },\r\n  methods: {\r\n    updateFeedback (evt) {\r\n      let content;\r\n      if (this.useeditor) {\r\n        content = evt;\r\n      } else {\r\n        content = evt.target.value;\r\n      }\r\n      this.$emit('update', content);\r\n    },\r\n    renderInit () {\r\n      if (this.rendered || this.canedit) {\r\n        // only need to render for student viewers\r\n        return;\r\n      }\r\n      setTimeout(window.drawPics, 100);\r\n      window.rendermathnode(this.$refs.fbbox);\r\n    },\r\n    focus () {\r\n      this.$refs.fbbox.focus();\r\n    }\r\n  },\r\n  mounted () {\r\n    this.renderInit();\r\n  },\r\n  watch: {\r\n    value: function (newVal, oldVal) {\r\n      this.rendered = false;\r\n      this.$nextTick(this.renderInit);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    :id=\"computedId\"\r\n    ref=\"inbox\"\r\n    class=\"fbbox skipmathrender\"\r\n    :rows=\"rows\"\r\n  ></div>\r\n</template>\r\n\r\n<script>\r\n\r\n// based on Project: https://github.com/m3esma/vue-easy-tinymce\r\n// Copyright (c) 2018-present Mehdi Esmaeili (@m3esma)\r\n// Released under the MIT License.\r\n\r\nexport default {\r\n  name: 'TinymceInput',\r\n  props: {\r\n    id: { default: null },\r\n    value: { default: '' },\r\n    rows: { default: 2 }\r\n  },\r\n  data: function () {\r\n    return {\r\n      objTinymce: null\r\n    };\r\n  },\r\n  computed: {\r\n    computedId: function () {\r\n      if (this.id === 'editor' || this.id === '' || this.id === null) {\r\n        return 'editor-' + this.guidGenerator(); // put default value on computedId\r\n      } else {\r\n        return this.id;\r\n      }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.$refs.inbox.innerHTML = this.value;\r\n    this.initEditor();\r\n  },\r\n  updated: function () {\r\n    this.initEditor();\r\n  },\r\n  methods: {\r\n    guidGenerator: function () {\r\n      function s4 () {\r\n        return Math.random().toString(36).substr(2, 9);\r\n      }\r\n      return 'ed-' + s4() + '-' + s4();\r\n    },\r\n    initEditor () {\r\n      var component = this;\r\n      window.initeditor('exact', this.computedId, null, true, function (ed) {\r\n        ed.on('input change keyup undo redo', function (e) {\r\n          component.updateValue(ed.getContent());\r\n        }).on('blur', function (e) {\r\n          component.$emit('blur', true);\r\n        }).on('focus', function (e) {\r\n          component.$emit('focus', true);\r\n        });\r\n        component.objTinymce = ed;\r\n      });\r\n    },\r\n    updateValue: function (value) {\r\n      this.$emit('input', value);\r\n    },\r\n    focus: function () {\r\n      this.objTinymce.focus();\r\n    }\r\n  },\r\n  watch: {\r\n    value: function (newValue, oldValue) {\r\n      if (typeof newValue !== 'string') {\r\n        // handle null and undefined\r\n        newValue = '';\r\n      }\r\n      // if v-model content change programmability\r\n      if (newValue !== this.objTinymce.getContent()) {\r\n        this.objTinymce.setContent(newValue);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./TinymceInput.vue?vue&type=template&id=13878338\"\nimport script from \"./TinymceInput.vue?vue&type=script&lang=js\"\nexport * from \"./TinymceInput.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbFeedback.vue?vue&type=template&id=4f2a7185\"\nimport script from \"./GbFeedback.vue?vue&type=script&lang=js\"\nexport * from \"./GbFeedback.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GbScoreDetails.vue?vue&type=template&id=7c93526e\"\nimport script from \"./GbScoreDetails.vue?vue&type=script&lang=js\"\nexport * from \"./GbScoreDetails.vue?vue&type=script&lang=js\"\n\nimport \"./GbScoreDetails.vue?vue&type=style&index=0&id=7c93526e&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    v-if=\"showModal\"\r\n    class=\"dialog-overlay\"\r\n    ref = \"wrap\"\r\n  >\r\n    <div\r\n      class=\"dialog pane-body\"\r\n      role=\"alertdialog\"\r\n      aria-modal=\"true\"\r\n      :aria-label=\"$t('gradebook.clear_hdr')\"\r\n      aria-describedby=\"clearoptions\"\r\n      tabindex=\"-1\"\r\n    >\r\n      <div v-if=\"showType === 'all'\" class=\"clearoptions\">\r\n        <p>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_completely_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isByQuestion\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_all_work_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <div v-else-if=\"showType === 'attempt'\" class=\"clearoptions\">\r\n        <p>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_attempt_regen_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isLastAttempt\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_attempt_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <div v-else-if=\"showType === 'qver'\" class=\"clearoptions\">\r\n        <p v-if=\"isByQuestion\">\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_regen_msg') }}\r\n          </label>\r\n        </p>\r\n        <p v-else>\r\n          <label>\r\n            <input type=\"radio\" value=\"0\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_regen_msg2') }}\r\n          </label>\r\n        </p>\r\n        <p v-if=\"isLastQAttempt\">\r\n          <label>\r\n            <input type=\"radio\" value=\"1\" v-model=\"type\">\r\n            {{ $t('gradebook.clear_qver_msg') }}\r\n          </label>\r\n        </p>\r\n      </div>\r\n      <p class=\"noticetext\">\r\n        {{ $t('gradebook.clear_warning') }}\r\n      </p>\r\n      <div class=\"flexrow\" style=\"justify-content: space-between;\">\r\n        <button class=\"primary\" @click=\"close\">\r\n          Cancel\r\n        </button>\r\n        <button class=\"secondary\" @click=\"doAction\">\r\n          Continue\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store, actions } from './gbstore';\r\nimport A11yDialog from '../components/a11y-dialog';\r\n\r\nexport default {\r\n  name: 'GbClearAttempts',\r\n  data: function () {\r\n    return {\r\n      type: 0,\r\n      dialog: null\r\n    };\r\n  },\r\n  computed: {\r\n    showModal () {\r\n      return store.clearAttempts.show;\r\n    },\r\n    showType () {\r\n      return store.clearAttempts.type;\r\n    },\r\n    isByQuestion () {\r\n      return (store.assessInfo.submitby === 'by_question');\r\n    },\r\n    isLastAttempt () {\r\n      let avercnt = store.assessInfo.assess_versions.length - 1;\r\n      if (store.assessInfo.has_practice) {\r\n        avercnt--;\r\n      }\r\n      return (store.curAver === avercnt);\r\n    },\r\n    isLastQAttempt () {\r\n      const qvercnt = store.assessInfo.assess_versions[store.curAver].questions[store.clearAttempts.qn].length - 1;\r\n      return (store.curQver[store.clearAttempts.qn] === qvercnt);\r\n    }\r\n  },\r\n  methods: {\r\n    close () {\r\n      store.clearAttempts.show = false;\r\n      window.$(document).off('keyup.dialog');\r\n      this.dialog.destroy();\r\n    },\r\n    doAction () {\r\n      actions.clearAttempt(this.type);\r\n    }\r\n  },\r\n  updated () {\r\n    if (store.clearAttempts.show) {\r\n      window.$(document).on('keyup.dialog', (event) => {\r\n        if (event.key === 'Escape') {\r\n          this.close();\r\n        }\r\n      });\r\n      this.dialog = new A11yDialog(this.$refs.wrap);\r\n      this.dialog.show();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./GbClearAttempts.vue?vue&type=template&id=607a8dd7\"\nimport script from \"./GbClearAttempts.vue?vue&type=script&lang=js\"\nexport * from \"./GbClearAttempts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./GBViewAssess.vue?vue&type=template&id=10b909b3\"\nimport script from \"./GBViewAssess.vue?vue&type=script&lang=js\"\nexport * from \"./GBViewAssess.vue?vue&type=script&lang=js\"\n\nimport \"./GBViewAssess.vue?vue&type=style&index=0&id=10b909b3&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\r\nimport GBViewAssess from './GBViewAssess.vue';\r\nimport { i18n } from '../i18n';\r\n\r\n// Vue.config.productionTip = false;\r\n\r\n// Vue.use(VueResource)\r\n\r\ncreateApp(GBViewAssess)\r\n  .use(i18n)\r\n  .mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"lang-de-json\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"imathas-assess2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 836;","__webpack_require__.p = \"vue/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t836: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkimathas_assess2\"] = self[\"webpackChunkimathas_assess2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], function() { return __webpack_require__(983); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","role","class","_createElementVNode","for","style","_createElementBlock","$options","_toDisplayString","_ctx","userfullname","name","_hoisted_5","timeontask","_hoisted_6","_hoisted_7","hasOwnProperty","_hoisted_8","_hoisted_9","timelimit_ext","Math","abs","enddate_disp","can_make_exception","type","onClick","_hoisted_10","_hoisted_11","original_enddate_disp","_hoisted_12","_hoisted_13","n","attemptext","latepass_status","_hoisted_14","_hoisted_15","size","value","scoreoverride","onInput","onKeyup","points_possible","_hoisted_17","gbscore","_hoisted_19","_hoisted_18","scoresingb","_hoisted_20","_hoisted_21","_hoisted_22","$event","_Fragment","_renderList","excused","key","_hoisted_26","href","_hoisted_27","_hoisted_28","_hoisted_29","assess_versions","length","_hoisted_30","submitby","_createBlock","_component_gb_assess_select","versions","haspractice","has_practice","selected","onSetversion","status","_hoisted_32","can_use_latepass","_hoisted_33","innerHTML","_hoisted_35","onChange","_hoisted_38","_hoisted_39","intro","_component_inter_question_text","active","textobj","html","qdata","qn","_component_inter_question_text_list","pos","lastq","textlist","extracredit","_component_gb_question_select","_hoisted_44","_createVNode","_component_gb_question","_component_gb_showwork","work","worktime","showall","_component_gb_score_details","showfull","canedit","onSubmitform","_component_gb_feedback","username","show","useeditor","onUpdate","disabled","_hoisted_46","nextstu","_hoisted_47","_hoisted_49","_hoisted_52","_component_summary_categories","data","_component_gb_clear_attempts","_hoisted_53","_hoisted_2","_component_error_dialog","errormsg","onClearerror","_component_confirm_dialog","onClose","mapInterquestionTexts","questions","lasttext","origtexts","interquestion_text","newtexts","i","thistext","text","JSON","stringify","j","displayUntil","push","Object","assign","orig","displayBefore","slice","sort","a","b","parseInt","store","reactive","assessInfo","APIbase","aid","cid","uid","stu","queryString","exitUrl","inTransit","saving","errorMsg","confirmObj","curAver","ispractice","curQver","orig_submitby","scoreOverrides","feedbacks","clearAttempts","actions","loadGbAssessData","callback","keepversion","window","setTimeout","this","gbAssessData","$","ajax","url","dataType","xhrFields","withCredentials","crossDomain","done","response","handleError","error","scored_version","setQverAsScored","nextTick","initAnswerboxHighlights","location","hash","el","document","getElementById","substring","replace","scrollIntoView","fail","xhr","textStatus","errorThrown","always","loadGbAssessVersion","ver","practice","qs","loadGbTexts","loadGbQuestionVersion","forceload","beforeSet","saveChanges","exit","nextstuurl","search","match","keys","exiturl","FormData","append","processData","contentType","gen","pts","split","newscores","score","parts","feedback","an","assess_info","scoredvers","qvers","qv","scored","clearLPblock","clearAttempt","keepver","aver","qver","regex","RegExp","newver","splice","assessinfo","qinfo","endAssess","qloop","setScoreOverride","pn","av","scoreChanged","singlescore","try","round","setFeedback","isNew","$props","ref","props","rendered","methods","renderInit","drawPics","rendermathnode","$refs","thisqwrap","initSageCell","initlinkmarkup","imathasAssess","init","jsparams","mounted","watch","newVal","oldVal","$nextTick","__exports__","_Transition","computed","btnLabel","$t","workbox","find","on","rotateimg","_component_menu_button","options","noarrow","searchby","option","_component_gb_assess_list_item","_hoisted_1","_hoisted_3","attemptNum","$tc","verStatus","out","lastchange_disp","components","MenuButton","GbAssessListItem","navOptions","thisoption","onclick","$emit","_component_gb_question_list_item","total","ptsposs","GbQuestionListItem","position","nobutton","button","_component_icons","poss","pattern","_hoisted_4","rubric","alt","timeactive","lastchange","_component_gb_all_tries","tries","other_tries","_component_gb_penalties","autosaves","help","idx","target","title","category","part","index","trystr","tryn","drawToRender","processedTries","tn","partout","drawwidth","drawheight","trywrap","la","join","canvases","unshift","drawla","parse","imathasDraw","initCanvases","indexOf","_component_penalties_applied","PenaltiesApplied","partHasPenalties","penalties","rows","cols","_component_tinymce_input","default","objTinymce","computedId","guidGenerator","inbox","initEditor","updated","s4","random","toString","substr","component","initeditor","ed","e","updateValue","getContent","focus","newValue","oldValue","setContent","TinymceInput","updateFeedback","evt","content","fbbox","GbAllTries","GbPenalties","Icons","GbFeedback","curScores","showfeedback","showAllTries","showPenalties","showAutosaves","answeights","map","x","parseFloat","answeightTot","reduce","c","partPoss","initScores","partscore","maxTry","fullCreditLabel","timeSpent","useEditor","tinyMCE","isPractice","isLastVersion","avercnt","maxtry","questionEditUrl","qsetid","qid","questionErrorUrl","qerror_cid","quoteq","seed","qowner","useInMsg","moreOptions","label","link","qerrortitle","clearWork","hasPenalties","hasManual","req_manual","hasAutoSaves","qHelps","helps","icon","showMessage","help_features","message","can_edit_scores","postToForum","forum","quoteQ","qsid","questionsetid","messageHref","imasroot","param","add","to","forumHref","modify","updateScore","trim","partposs","revealFeedback","val","allFull","$set","manualFull","initCurScores","showRubric","imasrubrics","rubrics","imasrubric_show","handler","deep","tabindex","dialog","showModal","showType","isByQuestion","isLastAttempt","isLastQAttempt","qvercnt","close","off","destroy","doAction","event","A11yDialog","wrap","GbQuestion","GbShowwork","GbAssessSelect","GbQuestionSelect","GbScoreDetails","GbClearAttempts","SummaryCategories","ErrorDialog","ConfirmDialog","InterQuestionTextList","InterQuestionText","showOverride","assessOverride","hide100","hidePerfect","hideNonzero","hideZero","hideUnanswered","hideFeedback","hideNowork","showFilters","showEndmsg","showExcused","showAllWork","hidetexts","assessInfoLoaded","aData","viewFull","viewfull","canEdit","canSubmit","startedString","starttime","starttime_disp","lastchangeString","totalTimeOnTask","attemptCount","cnt","extensionString","extended_with","curQuestions","curQuestionVers","curEndmsg","endmsg","showCategories","hascat","hasScores","isNaN","Number","scoreCalc","keepscore","showViewAsStu","has_active_attempt","viewAsStuUrl","showQuestion","showit","rawscore","max","exceptionActionLabel","hasexception","assessFeedback","savedMsg","latepassBlockMsg","m","isUnsubmitted","hasError","lastQ","textList","changeAssessVersion","body","action","doChangeAssessVersion","changeQuestionVersion","hasUnsaved","k","test","submitChanges","doexit","donextstu","submitForm","submitVersion","redeemLatePass","makeException","showAllAns","toggleClass","replaceWith","attr","beforeUnload","preventDefault","returnValue","clearError","closeConfirm","previewFiles","previewallfiles","toggleFloatingScoreboxes","toggleScrollingScoreboxes","loadTexts","created","process","querycid","queryaid","queryuid","querystu","render","createApp","GBViewAssess","use","i18n","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","r","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","then","ns","create","def","current","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","promises","u","miniCssF","g","globalThis","Function","prop","prototype","call","inProgress","dataWebpackPrefix","l","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","Error","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}