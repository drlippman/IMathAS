{"version":3,"file":"js/special.js","mappings":"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","sources":["webpack://imathas-assess2/./src/views/Livepoll.vue","webpack://imathas-assess2/./src/components/LivepollNav.vue","webpack://imathas-assess2/./src/components/LivepollNav.vue?aa0e","webpack://imathas-assess2/./src/components/LivepollSettings.vue","webpack://imathas-assess2/./src/components/LivepollSettings.vue?3c85","webpack://imathas-assess2/./src/components/LivepollResults.vue","webpack://imathas-assess2/./src/components/LivepollResultsChoices.vue","webpack://imathas-assess2/./src/components/LivepollResultsChoices.vue?d1b9","webpack://imathas-assess2/./src/components/LivepollResultsGeneral.vue","webpack://imathas-assess2/./src/components/LivepollResultsGeneral.vue?b8f9","webpack://imathas-assess2/./src/components/LivepollResults.vue?5c3e","webpack://imathas-assess2/./src/views/Livepoll.vue?46f2","webpack://imathas-assess2/./src/views/Videocued.vue","webpack://imathas-assess2/./src/components/VideocuedNav.vue","webpack://imathas-assess2/./src/components/VideocuedNavListItem.vue","webpack://imathas-assess2/./src/components/VideocuedNavListItem.vue?542f","webpack://imathas-assess2/./src/components/VideocuedNav.vue?75d1","webpack://imathas-assess2/./src/components/VideocuedResultNav.vue","webpack://imathas-assess2/./src/components/VideocuedResultNav.vue?91d8","webpack://imathas-assess2/./src/views/Videocued.vue?945a"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <assess-header></assess-header>\r\n    <livepoll-nav\r\n      v-if = \"isTeacher\"\r\n      :qn=\"curqn\"\r\n      @selectq=\"selectQuestion\"\r\n      @openq=\"openInput\"\r\n      @closeq=\"closeInput\"\r\n      @newversion=\"newVersion\"\r\n    />\r\n    <div\r\n      class = \"subheader\"\r\n      v-if = \"curstate > 0 && curqn > -1 && (isTeacher || timelimit>0)\"\r\n    >\r\n      <div v-if = \"isTeacher\" id=\"livepoll_qsettings\" style=\"flex-grow:1\">\r\n        <label>\r\n          <input type=\"checkbox\" v-model=\"showQuestion\" />\r\n          {{ $t('livepoll.show_question') }}\r\n        </label>\r\n        <label>\r\n          <input type=\"checkbox\" v-model=\"showResults\" />\r\n          {{ $t('livepoll.show_results') }}\r\n        </label>\r\n        <label>\r\n          <input type=\"checkbox\" v-model=\"showAnswers\" @change=\"updateShowAnswers\"/>\r\n          {{ showAnswersLabel }}\r\n        </label>\r\n      </div>\r\n      <div v-else style=\"flex-grow:1\">\r\n      </div>\r\n      <timer\r\n        v-if = \"timelimit > 0 && starttime > 0\"\r\n        :end = \"1000*(starttime + timelimit)\"\r\n        :total = \"timelimit\"\r\n      />\r\n    </div>\r\n    <div\r\n      v-if = \"!isTeacher && curstate>0\"\r\n    >\r\n      <h2>\r\n        {{ $t('question_n', { n: curqn+1 }) }}\r\n      </h2>\r\n    </div>\r\n    <div class=\"scrollpane\" :aria-label=\"$t('regions.questions')\">\r\n      <livepoll-settings\r\n        class = \"questionpane\"\r\n        v-if = \"isTeacher && (curstate === 0 || curqn === -1)\"\r\n      />\r\n      <div\r\n        class = \"questionpane\"\r\n        v-if = \"!isTeacher && curstate < 2\"\r\n      >\r\n        {{ $t('livepoll.waiting') }}\r\n      </div>\r\n      <question\r\n        v-if = \"curqn >= 0 && ((isTeacher && curstate>0) || (!isTeacher && curstate>1))\"\r\n        v-show = \"showQuestion\"\r\n        :qn = \"curqn\"\r\n        :active = \"true\"\r\n        :state = \"curstate\"\r\n        :seed=\"curseed\"\r\n      />\r\n\r\n      <livepoll-results\r\n        v-if = \"isTeacher\"\r\n        :showresults = \"showResults\"\r\n        :showans = \"curstate === 4\"\r\n        :qn = \"curqn\"\r\n        :key = \"curqn + '-' + curseed\"\r\n      />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AssessHeader from '@/components/AssessHeader.vue';\r\nimport LivepollNav from '@/components/LivepollNav.vue';\r\nimport LivepollSettings from '@/components/LivepollSettings.vue';\r\nimport LivepollResults from '@/components/LivepollResults.vue';\r\nimport Question from '@/components/question/Question.vue';\r\nimport Timer from '@/components/Timer.vue';\r\nimport { store, actions } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'livepoll',\r\n  components: {\r\n    LivepollNav,\r\n    Question,\r\n    LivepollSettings,\r\n    LivepollResults,\r\n    AssessHeader,\r\n    Timer\r\n  },\r\n  data: function () {\r\n    return {\r\n      showQuestion: true,\r\n      showResults: true,\r\n      showAnswers: true,\r\n      onSettings: false,\r\n      livepollTimer: null,\r\n      socket: null\r\n    };\r\n  },\r\n  computed: {\r\n    isTeacher () {\r\n      return store.assessInfo.is_teacher;\r\n    },\r\n    curqn () {\r\n      // In liveoll, .curquestion is display qn; 0 is settings\r\n      if (this.onSettings) {\r\n        return -1;\r\n      } else {\r\n        return parseInt(store.assessInfo.livepoll_status.curquestion) - 1;\r\n      }\r\n    },\r\n    curseed () {\r\n      return store.assessInfo.livepoll_status.seed;\r\n    },\r\n    curstate () {\r\n      return store.assessInfo.livepoll_status.curstate;\r\n    },\r\n    starttime () {\r\n      return store.assessInfo.livepoll_status.startt;\r\n    },\r\n    timelimit () {\r\n      if (store.livepollSettings.useTimer) {\r\n        return parseInt(store.livepollSettings.questionTimelimit);\r\n      } else if (store.assessInfo.livepoll_status.timelimit) {\r\n        return parseInt(store.assessInfo.livepoll_status.timelimit);\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    showAnswersLabel () {\r\n      if (this.curstate < 3) {\r\n        return this.$t('livepoll.show_answers_after');\r\n      } else {\r\n        return this.$t('livepoll.show_answers');\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateUsercount (data) {\r\n      // update store.livepollStuCnt\r\n      // receive usercount data\r\n      store.livepollStuCnt = data.cnt;\r\n      if (data.teachcnt === 0) {\r\n        store.assessInfo.livepoll_status.curstate = 0;\r\n      }\r\n    },\r\n    addResult (data) {\r\n      // add question result data\r\n      if (!store.livepollResults.hasOwnProperty(this.curqn)) {\r\n        this.$set(store.livepollResults, this.curqn, {});\r\n      }\r\n      data.score = JSON.parse(data.score);\r\n      data.ans = JSON.parse(data.ans);\r\n      this.$set(store.livepollResults[this.curqn], data.user, data);\r\n    },\r\n    showHandler (data) {\r\n      if (data.action === 'showq') {\r\n        // On question show, server sends as data:\r\n        //  action: \"showq\", qn: qn, seed: seed, startt:startt\r\n        actions.clearInitValue(data.qn);\r\n        if (data.startt.indexOf('-') !== -1) {\r\n          // startt might be startt-timelimit\r\n          const pts = data.startt.split('-');\r\n          data.startt = pts[0];\r\n          data.timelimit = pts[1];\r\n        } else {\r\n          data.timelimit = 0;\r\n        }\r\n        this.$set(store.assessInfo, 'livepoll_status', {\r\n          curstate: 2,\r\n          curquestion: parseInt(data.qn) + 1,\r\n          seed: parseInt(data.seed),\r\n          startt: parseInt(data.startt),\r\n          timelimit: parseInt(data.timelimit)\r\n        });\r\n      } else {\r\n        // On question stop, server sends as data:\r\n        //  action: newstate, qn: qn\r\n        this.$set(store.assessInfo, 'livepoll_status',\r\n          Object.assign(store.assessInfo.livepoll_status, {\r\n            curquestion: parseInt(data.qn) + 1,\r\n            curstate: parseInt(data.action),\r\n            timelimit: 0\r\n          }));\r\n      }\r\n    },\r\n    selectQuestion (dispqn) {\r\n      // called by teacher when they select a question\r\n      // If 0, show the settings\r\n      clearTimeout(this.livepollTimer);\r\n      const qn = parseInt(dispqn) - 1;\r\n      if (qn === -1) {\r\n        this.onSettings = true;\r\n        return;\r\n      } else {\r\n        this.onSettings = false;\r\n      }\r\n      if (qn !== this.curqn) {\r\n        // replace settings with defaults\r\n        this.showQuestion = store.livepollSettings.showQuestionDefault;\r\n        this.showResults = store.livepollSettings.showResultsLiveDefault;\r\n        this.showAnswers = store.livepollSettings.showAnswersAfter;\r\n        let nextState = 1;\r\n        if (store.livepollResults[qn] &&\r\n          Object.keys(store.livepollResults[qn]).length > 0\r\n        ) {\r\n          nextState = this.showAnswers ? 4 : 3;\r\n        }\r\n        if (qn >= 0) {\r\n          actions.setLivepollStatus({\r\n            newquestion: dispqn,\r\n            newstate: nextState\r\n          });\r\n        }\r\n      }\r\n    },\r\n    openInput () {\r\n      actions.setLivepollStatus({\r\n        newquestion: this.curqn + 1,\r\n        newstate: 2,\r\n        timelimit: this.timelimit\r\n      });\r\n      if (this.timelimit > 0) {\r\n        this.livepollTimer = window.setTimeout(\r\n          () => this.closeInput(),\r\n          1000 * this.timelimit);\r\n      }\r\n    },\r\n    closeInput () {\r\n      clearTimeout(this.livepollTimer);\r\n      const nextState = this.showAnswers ? 4 : 3;\r\n      if (store.livepollSettings.showResultsAfter) {\r\n        this.showResults = true;\r\n      }\r\n      actions.setLivepollStatus({\r\n        newquestion: this.curqn + 1,\r\n        newstate: nextState\r\n      });\r\n    },\r\n    newVersion () {\r\n      actions.setLivepollStatus({\r\n        newquestion: this.curqn + 1,\r\n        newstate: 1,\r\n        forceregen: 1\r\n      });\r\n      this.$set(store.livepollResults, this.curqn, {});\r\n    },\r\n    updateShowAnswers () {\r\n      // if already showing results, need to call the server with new state\r\n      if (this.curstate > 2) {\r\n        const nextState = this.showAnswers ? 4 : 3;\r\n        actions.setLivepollStatus({\r\n          newquestion: this.curqn + 1,\r\n          newstate: nextState\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // connect to livepoll server\r\n    const server = store.assessInfo.livepoll_server;\r\n    const LPdata = store.assessInfo.livepoll_data;\r\n\r\n    let querystr = 'room=' + LPdata.room + '&now=' + LPdata.now;\r\n    if (LPdata.sig) {\r\n      querystr += '&sig=' + encodeURIComponent(LPdata.sig);\r\n    }\r\n    this.socket = window.io('https://' + server + ':3000', { query: querystr });\r\n    this.socket.off();\r\n    this.socket.on('livepoll usercount', (data) => this.updateUsercount(data));\r\n    if (store.assessInfo.is_teacher) {\r\n      this.socket.on('livepoll qans', (data) => this.addResult(data));\r\n    } else {\r\n      this.socket.on('livepoll show', (data) => this.showHandler(data));\r\n    }\r\n  },\r\n  created () {\r\n    if (store.assessInfo.livepoll_status.curquestion === 0 && this.isTeacher) {\r\n      this.onSettings = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n#livepoll_qsettings > label {\r\n  margin-right: 8px;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"subheader\">\r\n    <div class=\"flexrow\" style=\"flex-grow:1\"\r\n      role=\"navigation\" :aria-label=\"$t('regions.qnav')\"\r\n    >\r\n      <menu-button id=\"qnav\"\r\n        :options = \"navOptions\"\r\n        :selected = \"dispqn\"\r\n        searchby = \"dispqn\"\r\n      >\r\n        <template v-slot=\"{ option }\">\r\n          {{ option.title }}\r\n        </template>\r\n      </menu-button>\r\n      <button\r\n        @click=\"selectQuestion(dispqn-1)\"\r\n        :disabled=\"dispqn <= 0\"\r\n        class=\"secondarybtn\"\r\n        id=\"qprev\"\r\n        :aria-label=\"$t('previous')\"\r\n        v-if = \"showNextPrev\"\r\n      >\r\n        <icons name=\"left\"/>\r\n      </button>\r\n      <button\r\n        @click=\"selectQuestion(dispqn+1)\"\r\n        :disabled=\"dispqn >= navOptions.length-1\"\r\n        class=\"secondarybtn\"\r\n        id=\"qnext\"\r\n        :aria-label=\"$t('next')\"\r\n        v-if = \"showNextPrev\"\r\n      >\r\n        <icons name=\"right\" />\r\n      </button>\r\n    </div>\r\n    <div style=\"flex-grow:1\">\r\n      <button\r\n        class = \"primary\"\r\n        v-if = \"curstate === 2 && dispqn > 0\"\r\n        @click = \"closeQuestion\"\r\n      >\r\n        {{ $t('livepoll.close_input') }}\r\n      </button>\r\n      <button\r\n        class = \"primary\"\r\n        v-else-if = \"curstate > 0 && dispqn > 0\"\r\n        @click = \"openQuestion\"\r\n      >\r\n        {{ $t('livepoll.open_input') }}\r\n      </button>\r\n      <button\r\n        class = \"secondary\"\r\n        v-if = \"curstate > 2 && dispqn > 0\"\r\n        @click = \"newVersion\"\r\n      >\r\n        <icons name=\"retake\" />\r\n        {{ $t('livepoll.new_version') }}\r\n      </button>\r\n    </div>\r\n    <div>\r\n      {{ studentCount }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport Icons from '@/components/widgets/Icons.vue';\r\nimport { store } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'LivepollNav',\r\n  props: ['qn'],\r\n  components: {\r\n    MenuButton,\r\n    Icons\r\n  },\r\n  computed: {\r\n    navOptions () {\r\n      var out = [];\r\n      out.push({\r\n        onclick: () => this.$emit('selectq', 0),\r\n        title: this.$t('livepoll.settings'),\r\n        dispqn: 0\r\n      });\r\n      for (const qn in store.assessInfo.questions) {\r\n        const dispqn = parseInt(qn) + 1;\r\n        out.push({\r\n          onclick: () => this.$emit('selectq', dispqn),\r\n          title: this.$t('question_n', { n: dispqn }),\r\n          dispqn: dispqn\r\n        });\r\n      }\r\n      return out;\r\n    },\r\n    showNextPrev () {\r\n      return (Object.keys(this.navOptions).length > 1);\r\n    },\r\n    dispqn () {\r\n      return parseInt(this.qn) + 1;\r\n    },\r\n    curstate () {\r\n      return store.assessInfo.livepoll_status.curstate;\r\n    },\r\n    studentCount () {\r\n      return this.$tc('livepoll.stucnt', store.livepollStuCnt);\r\n    }\r\n  },\r\n  methods: {\r\n    selectQuestion (n) {\r\n      this.$emit('selectq', n);\r\n    },\r\n    openQuestion () {\r\n      this.$emit('openq');\r\n    },\r\n    closeQuestion () {\r\n      this.$emit('closeq');\r\n    },\r\n    newVersion () {\r\n      this.$emit('newversion');\r\n    }\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n<style>\r\n.subheader {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  border-bottom: 1px solid #ccc;\r\n  align-items: center;\r\n}\r\n.subheader > *, .subheader > .flexrow > * {\r\n  margin: 4px 0;\r\n}\r\n</style>\r\n","import { render } from \"./LivepollNav.vue?vue&type=template&id=830e7d12\"\nimport script from \"./LivepollNav.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollNav.vue?vue&type=script&lang=js\"\n\nimport \"./LivepollNav.vue?vue&type=style&index=0&id=830e7d12&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <h2>{{ $t('livepoll.settings') }}</h2>\r\n    <p>\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"showQuestionDefault\"/>\r\n        {{ $t('livepoll.show_question_default') }}\r\n      </label>\r\n      <br/>\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"showResultsLiveDefault\"/>\r\n        {{ $t('livepoll.show_results_live_default') }}\r\n      </label>\r\n      <br/>\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"showResultsAfter\"/>\r\n        {{ $t('livepoll.show_results_after') }}\r\n      </label>\r\n      <br/>\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"showAnswersAfter\"/>\r\n        {{ $t('livepoll.show_answers_after') }}\r\n      </label>\r\n      <br/>\r\n      <label>\r\n        <input type=\"checkbox\" v-model=\"useTimer\"/>\r\n        {{ $t('livepoll.use_timer') }}\r\n      </label>\r\n      <span v-show=\"useTimer\">\r\n        <input type=\"text\" size=\"3\" v-model=\"questionTimelimit\" />\r\n        {{ $t('livepoll.seconds') }}\r\n      </span>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'LivepollSettings',\r\n  computed: {\r\n    showQuestionDefault: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'showQuestionDefault', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.showQuestionDefault;\r\n      }\r\n    },\r\n    showResultsLiveDefault: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'showResultsLiveDefault', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.showResultsLiveDefault;\r\n      }\r\n    },\r\n    showResultsAfter: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'showResultsAfter', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.showResultsAfter;\r\n      }\r\n    },\r\n    showAnswersAfter: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'showAnswersAfter', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.showAnswersAfter;\r\n      }\r\n    },\r\n    useTimer: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'useTimer', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.useTimer;\r\n      }\r\n    },\r\n    questionTimelimit: {\r\n      set (val) {\r\n        this.$set(store.livepollSettings, 'questionTimelimit', val);\r\n      },\r\n      get () {\r\n        return store.livepollSettings.questionTimelimit;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./LivepollSettings.vue?vue&type=template&id=52c5a7cf\"\nimport script from \"./LivepollSettings.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollSettings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"qinfo && qinfo.answeights\">\r\n    <p>{{ $tc('livepoll.numresults', numResults) }}</p>\r\n    <div v-show=\"showresults && numResults > 0\">\r\n      <div v-for=\"(resdata,pn) in results\" :key=\"qn + '-' + pn\" class=\"med-below\">\r\n        <livepoll-results-choices\r\n          v-if=\"resdata.hasOwnProperty('choices')\"\r\n          :results = \"resdata\"\r\n          :showans = \"showans\"\r\n        />\r\n        <livepoll-results-general\r\n          v-else\r\n          :results = \"resdata\"\r\n          :showans = \"showans\"\r\n          :itemid = \"qn + '-' + pn\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store } from '../basicstore';\r\nimport LivepollResultsChoices from '@/components/LivepollResultsChoices.vue';\r\nimport LivepollResultsGeneral from '@/components/LivepollResultsGeneral.vue';\r\n\r\nexport default {\r\n  name: 'LivepollResults',\r\n  props: ['qn', 'showresults', 'showans'],\r\n  components: {\r\n    LivepollResultsChoices,\r\n    LivepollResultsGeneral\r\n  },\r\n  computed: {\r\n    qinfo () {\r\n      return store.assessInfo.questions[this.qn];\r\n    },\r\n    numResults () {\r\n      if (store.livepollResults.hasOwnProperty(this.qn)) {\r\n        return Object.keys(store.livepollResults[this.qn]).length;\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    params () {\r\n      // reformat jsparams to be indexed by part number\r\n      const out = [];\r\n      for (let pn = 0; pn < this.qinfo.answeights.length; pn++) {\r\n        if (pn === 0 && this.qinfo.jsparams.hasOwnProperty(this.qn)) {\r\n          out[pn] = this.qinfo.jsparams[this.qn];\r\n        } else {\r\n          out[pn] = this.qinfo.jsparams[(this.qn + 1) * 1000 + pn];\r\n        }\r\n      }\r\n      return out;\r\n    },\r\n    results () {\r\n      const out = [];\r\n      for (let pn = 0; pn < this.qinfo.answeights.length; pn++) {\r\n        const datatots = {};\r\n        const scoredata = {};\r\n        // if has choices, initialize totals to 0\r\n        if (this.params[pn].hasOwnProperty('livepoll_choices')) {\r\n          for (let i = 0; i < this.params[pn].livepoll_choices.length; i++) {\r\n            datatots[i] = 0;\r\n            scoredata[i] = 0;\r\n          }\r\n        }\r\n        const parttype = this.params[pn].qtype;\r\n        const ischoices = (parttype === 'choices' || parttype === 'multans');\r\n        // mark the correct answers for choices and multans\r\n        if (ischoices) {\r\n          let anss;\r\n          if (parttype === 'choices') {\r\n            anss = this.params[pn].livepoll_ans.toString().split(/\\s+or\\s+/);\r\n          } else {\r\n            anss = this.params[pn].livepoll_ans.toString().split(/\\s*,\\s*/);\r\n          }\r\n          for (let i = 0; i < anss.length; i++) {\r\n            scoredata[anss[i]] = 1;\r\n          }\r\n        }\r\n        const condenseddrawarr = [];\r\n        let condenseddraw;\r\n        for (const uid in store.livepollResults[this.qn]) {\r\n          let stuans = store.livepollResults[this.qn][uid].ans[pn];\r\n          if (ischoices) {\r\n            stuans = stuans.toString().split('|');\r\n          } else if (parttype.match(/calc/) || parttype === 'numfunc') {\r\n            stuans = ['`' + stuans + '`'];\r\n          } else {\r\n            stuans = [stuans];\r\n          }\r\n          // condense drawing answer for comparison\r\n          if (parttype === 'draw') {\r\n            condenseddraw = this.condenseDraw(stuans[0]);\r\n            if (!condenseddrawarr.hasOwnProperty(condenseddraw)) {\r\n              condenseddrawarr[condenseddraw] = stuans[0];\r\n            }\r\n          }\r\n          // add student's answers to tallys\r\n          for (let pa = 0; pa < stuans.length; pa++) {\r\n            if (parttype === 'draw' && datatots.hasOwnProperty(condenseddrawarr[condenseddraw])) {\r\n              // if this drawing is the same condensed as another\r\n              datatots[condenseddrawarr[condenseddraw]] += 1;\r\n            } else if (datatots.hasOwnProperty(stuans[pa])) {\r\n              datatots[stuans[pa]] += 1;\r\n            } else {\r\n              // unseen answer - add to list\r\n              datatots[stuans[pa]] = 1;\r\n              scoredata[stuans[pa]] = store.livepollResults[this.qn][uid].score[pn];\r\n            }\r\n          }\r\n        } // end loop over results\r\n\r\n        let maxfreq = 1;\r\n        for (const i in datatots) {\r\n          if (datatots[i] > maxfreq) {\r\n            maxfreq = datatots[i];\r\n          }\r\n        }\r\n        out[pn] = {\r\n          datatots: datatots,\r\n          scoredata: scoredata,\r\n          maxfreq: maxfreq,\r\n          qtype: parttype\r\n        };\r\n        if (ischoices) {\r\n          out[pn].choices = this.params[pn].livepoll_choices;\r\n        }\r\n        if (parttype === 'draw') {\r\n          const initpts = this.params[pn].livepoll_drawinit;\r\n          for (let i = 1; i < Math.min(11, initpts.length); i++) {\r\n            initpts[i] = Number(initpts[i]);\r\n          }\r\n          out[pn].initpts = initpts;\r\n        }\r\n      } // end loop over parts\r\n      return out;\r\n    }\r\n  },\r\n  methods: {\r\n    condenseDraw (str) {\r\n      if (str === '') { return str; }\r\n      var la = str.replace(/\\(/g, '[').replace(/\\)/g, ']');\r\n      la = la.split(';;');\r\n      if (la[0] !== '') {\r\n        la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\r\n      }\r\n      la = '[[' + la.join('],[') + ']]';\r\n      var drawarr = JSON.parse(la);\r\n      if (drawarr[0].length > 0) { // has freehand lines\r\n        for (let i = 0; i < drawarr[0].length; i++) {\r\n          if (drawarr[0][i].length === 2) { // if line has two points, sort them\r\n            drawarr[0][i].sort(function (a, b) {\r\n              if (a[0] === b[0]) {\r\n                return (a[1] - b[1]);\r\n              } else {\r\n                return (a[0] - b[0]);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      } else if (drawarr.length > 4 && drawarr[4].length > 0) { // has ineq graphs\r\n        return str;\r\n      }\r\n      if (drawarr[1].length > 0) { // has dots\r\n        drawarr[1].sort(function (a, b) {\r\n          if (a[0] === b[0]) {\r\n            return (a[1] - b[1]);\r\n          } else {\r\n            return (a[0] - b[0]);\r\n          }\r\n        });\r\n      }\r\n      if (drawarr[2].length > 0) { // has opendots\r\n        drawarr[2].sort(function (a, b) {\r\n          if (a[0] === b[0]) {\r\n            return (a[1] - b[1]);\r\n          } else {\r\n            return (a[0] - b[0]);\r\n          }\r\n        });\r\n      }\r\n      var cc, newcc, m, b;\r\n      if (drawarr.length > 3 && drawarr[3].length > 0) { // handle twopoint curves\r\n        // type, x1, y1, x2, y2\r\n        //  0    1    2   3  4\r\n        for (let i = 0; i < drawarr[3].length; i++) {\r\n          cc = drawarr[3][i];\r\n          if (cc[0] === 5) { // standard line\r\n            if (cc[1] === cc[3]) {\r\n              newcc = [5, 'x', cc[1]];\r\n            } else {\r\n              m = (cc[4] - cc[2]) / (cc[3] - cc[1]);\r\n              b = cc[2] - m * cc[1];\r\n              newcc = [5, m.toFixed(4), b.toFixed(2)];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          } else if (cc[0] === 5.2) { // ray\r\n            if (cc[1] === cc[3]) {\r\n              newcc = [5.2, 'x', cc[1], cc[2]];\r\n            } else {\r\n              m = (cc[4] - cc[2]) / (cc[3] - cc[1]);\r\n              newcc = [5.2, m.toFixed(4), cc[1], cc[2]];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          } else if (cc[0] === 5.3) { // line seg\r\n            if (cc[1] < cc[3] || (cc[1] === cc[3] && cc[2] < cc[4])) {\r\n              newcc = [5.3, cc[1], cc[2], cc[3], cc[4]];\r\n            } else {\r\n              newcc = [5.3, cc[3], cc[4], cc[1], cc[2]];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          } else if (cc[0] === 6) { // parab\r\n            if (cc[1] === cc[3]) {\r\n              newcc = [6, 'x', cc[1], cc[2]];\r\n            } else {\r\n              m = (cc[4] - cc[2]) / ((cc[3] - cc[1]) * (cc[3] - cc[1]));\r\n              newcc = [6, m.toFixed(4), cc[1], cc[2]];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          } else if (cc[0] === 6.5) { // sqrt\r\n            if (cc[1] === cc[3]) {\r\n              newcc = [6.5, 'x', cc[1], cc[2]];\r\n            } else {\r\n              b = (cc[3] > cc[1]) ? 1 : -1;\r\n              m = (cc[4] - cc[2]) / Math.sqrt(Math.abs(cc[3] - cc[1]));\r\n              newcc = [6.5, m.toFixed(4), b, cc[1], cc[2]];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          } else if (cc[0] === 8) { // abs\r\n            if (cc[1] === cc[3]) {\r\n              newcc = [8, 'x', cc[1], cc[2]];\r\n            } else {\r\n              m = (cc[4] - cc[2]) / Math.abs(cc[3] - cc[1]);\r\n              newcc = [8, m.toFixed(4), cc[1], cc[2]];\r\n            }\r\n            drawarr[3][i] = newcc;\r\n          }\r\n        }\r\n      }\r\n      return JSON.stringify(drawarr);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n  .LPres td, .LPres th {padding: 8px; border: 1px solid #999;}\r\n  .LPres th {background-color: #eee;}\r\n  .LPres {border-collapse: collapse; border: 1px solid #999;}\r\n  .LPres tr td:first-child {padding-left: 30px;}\r\n  .LPshowcorrect td {background-color:#CCFFCC;}\r\n  .LPshowcorrect td:first-child {background:#CCFFCC  no-repeat 8px center;}\r\n  .LPshowwrong td {background-color:#FFCCCC;}\r\n  .LPshowwrong td:first-child {background:#FFCCCC  no-repeat 8px center;}\r\n  .LPshowpartial td {background-color:#FFEEAA;}\r\n  .LPshowpartial td:first-child {background: #FFEEAA  no-repeat 8px center;}\r\n  .LPresval {}\r\n  .LPresbarwrap {display:inline-block; width:100%;}\r\n  .LPresbar {display:inline-block; background-color: #CCCCCC; text-align:center; overflow:show; padding:5px 0px;}\r\n  .LPshowcorrect .LPresbar, .LPshowwrong  .LPresbar {background-color: #FFFFFF;}\r\n  .LPdrawgrid > div { margin: 8px; border: 1px solid #999;}\r\n</style>\r\n","<template>\r\n  <table class=\"LPres\">\r\n    <thead>\r\n      <tr>\r\n        <th>{{ $t('livepoll.answer') }}</th>\r\n        <th style=\"min-width:10em\">{{ $t('livepoll.frequency') }}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr\r\n        v-for = \"(choice,i) in results.choices\"\r\n        :key = \"i\"\r\n        :class = \"[showans ? (results.scoredata[i] > 0 ? 'LPshowcorrect' : 'LPshowwrong') : '']\"\r\n      >\r\n        <td v-html=\"choice\"></td>\r\n        <td>\r\n          <span class=\"LPresbarwrap\">\r\n            <span class=\"LPresbar\" :style=\"{width: Math.round(100*results.datatots[i]/results.maxfreq) +'%'}\">\r\n              <span class=\"LPresval\">{{ results.datatots[i] }}</span>\r\n            </span>\r\n          </span>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LivepollResultsChoices',\r\n  props: ['results', 'showans'],\r\n  methods: {\r\n    onUpdate () {\r\n      this.$nextTick(() => {\r\n        setTimeout(window.drawPics, 100);\r\n        window.rendermathnode(this.$refs.main);\r\n      });\r\n    }\r\n  },\r\n  mounted () {\r\n    this.onUpdate();\r\n  },\r\n  watch: {\r\n    results: function (newVal, oldVal) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./LivepollResultsChoices.vue?vue&type=template&id=25ec4680\"\nimport script from \"./LivepollResultsChoices.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResultsChoices.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    v-if=\"results.qtype === 'draw' && results.initpts[11] === 0\"\r\n    class=\"LPdrawgrid\"\r\n    ref=\"main\"\r\n  >\r\n    <div\r\n      v-for = \"(ans,i) in sortedKeys\"\r\n      :key = \"ans\"\r\n      :class = \"[showans ? (results.scoredata[ans] > 0 ? (\r\n          results.scoredata[ans] < .99 ? 'LPshowpartial' : 'LPshowcorrect'\r\n        ) : 'LPshowwrong') : '']\"\r\n    >\r\n      <canvas\r\n        class=\"drawcanvas\"\r\n        :id=\"'canvasLP' + itemid + '-' + i\"\r\n        :width = \"results.initpts[6]\"\r\n        :height = \"results.initpts[7]\"\r\n      ></canvas>\r\n      <input type=\"hidden\" :id=\"'qnLP' + itemid + '-' + i\" />\r\n    </div>\r\n  </div>\r\n  <table v-else class=\"LPres\" ref=\"main\">\r\n    <thead>\r\n      <tr>\r\n        <th>{{ $t('livepoll.answer') }}</th>\r\n        <th style=\"min-width:10em\">{{ $t('livepoll.frequency') }}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr\r\n        v-for = \"(ans,i) in sortedKeys\"\r\n        :key = \"ans\"\r\n        :class = \"[showans ? (results.scoredata[ans] > 0 ? (\r\n            results.scoredata[ans] < .99 ? 'LPshowpartial' : 'LPshowcorrect'\r\n          ) : 'LPshowwrong') : '']\"\r\n      >\r\n        <td v-if=\"results.qtype === 'draw'\">\r\n          <canvas\r\n            class=\"drawcanvas\"\r\n            :id=\"'canvasLP' + itemid + '-' + i\"\r\n            :width = \"results.initpts[6]\"\r\n            :height = \"results.initpts[7]\"\r\n          ></canvas>\r\n          <input type=\"hidden\" :id=\"'qnLP' + itemid + '-' + i\" />\r\n        </td>\r\n        <td v-else>\r\n          {{ ans }}\r\n        </td>\r\n        <td>\r\n          <span class=\"LPresbarwrap\">\r\n            <span class=\"LPresbar\" :style=\"{width: Math.round(100*results.datatots[ans]/results.maxfreq) +'%'}\">\r\n              <span class=\"LPresval\">{{ results.datatots[ans] }}</span>\r\n            </span>\r\n          </span>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LivepollResultsGeneral',\r\n  props: ['results', 'showans', 'itemid'],\r\n  computed: {\r\n    sortedKeys () {\r\n      const tots = this.results.datatots;\r\n      const keys = Object.keys(tots);\r\n      return keys.sort(function (a, b) { return tots[b] - tots[a]; });\r\n    }\r\n  },\r\n  methods: {\r\n    onUpdate () {\r\n      if (this.results.qtype === 'draw') {\r\n        for (let i = 0; i < this.sortedKeys.length; i++) {\r\n          let la = this.sortedKeys[i].replace(/\\(/g, '[').replace(/\\)/g, ']');\r\n          la = la.split(';;');\r\n          if (la[0] !== '') {\r\n            la[0] = '[' + la[0].replace(/;/g, '],[') + ']';\r\n          }\r\n          la = '[[' + la.join('],[') + ']]';\r\n          const uniqid = 'LP' + this.itemid + '-' + i;\r\n          window.canvases[uniqid] = this.results.initpts.slice();\r\n          window.canvases[uniqid].unshift(uniqid);\r\n          window.drawla[uniqid] = JSON.parse(la);\r\n        }\r\n        this.$nextTick(() => {\r\n          for (let i = 0; i < this.sortedKeys.length; i++) {\r\n            window.imathasDraw.initCanvases('LP' + this.itemid + '-' + i);\r\n          }\r\n        });\r\n      }\r\n      this.$nextTick(() => {\r\n        setTimeout(window.drawPics, 100);\r\n        window.rendermathnode(this.$refs.main);\r\n      });\r\n    }\r\n  },\r\n  mounted () {\r\n    this.onUpdate();\r\n  },\r\n  watch: {\r\n    results: function (newVal, oldVal) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./LivepollResultsGeneral.vue?vue&type=template&id=11b93220\"\nimport script from \"./LivepollResultsGeneral.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResultsGeneral.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./LivepollResults.vue?vue&type=template&id=1064a798\"\nimport script from \"./LivepollResults.vue?vue&type=script&lang=js\"\nexport * from \"./LivepollResults.vue?vue&type=script&lang=js\"\n\nimport \"./LivepollResults.vue?vue&type=style&index=0&id=1064a798&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Livepoll.vue?vue&type=template&id=7bcb5998\"\nimport script from \"./Livepoll.vue?vue&type=script&lang=js\"\nexport * from \"./Livepoll.vue?vue&type=script&lang=js\"\n\nimport \"./Livepoll.vue?vue&type=style&index=0&id=7bcb5998&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"home\">\r\n    <a href=\"#\" class=\"sr-only\" @click.prevent=\"$refs.scrollpane.focus()\">\r\n      {{ $t('jumptocontent') }}\r\n    </a>\r\n    <assess-header></assess-header>\r\n    <videocued-nav\r\n      :cue=\"cue\"\r\n      :toshow=\"toshow\"\r\n      @jumpto=\"jumpTo\"\r\n    >\r\n      <videocued-result-nav\r\n        class=\"med-left\"\r\n        :qn = \"qn\"\r\n        :cue = \"cue\"\r\n        @jumpto=\"jumpTo\"\r\n      />\r\n    </videocued-nav>\r\n    <div\r\n      class=\"scrollpane\"\r\n      role=\"region\"\r\n      ref=\"scrollpane\"\r\n      tabindex=\"-1\"\r\n      :aria-label=\"$t('regions.q_and_vid')\"\r\n    >\r\n      <intro-text\r\n        :active = \"cue == -1\"\r\n        :html = \"intro\"\r\n        key = \"-1\"\r\n      />\r\n      <div id = \"playerwrapper\" v-show = \"cue > -1 && qn === -1\">\r\n        <div\r\n          class=\"video-wrapper-wrapper\"\r\n          :style = \"{'max-width': videoWidth + 'px'}\"\r\n        >\r\n          <div\r\n            class=\"fluid-width-video-wrapper\"\r\n            :style = \"{'padding-bottom': aspectRatioPercent + '%'}\"\r\n          >\r\n            <div id = \"player\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        v-for=\"curqn in questionArray\"\r\n        :key=\"curqn\"\r\n        :aria-hidden = \"curqn != qn\"\r\n        :class=\"{inactive: curqn != qn}\"\r\n      >\r\n        <inter-question-text-list\r\n          pos = \"before\"\r\n          :qn = \"curqn\"\r\n          :active=\"curqn == qn\"\r\n          :textlist = \"textList\"\r\n          :lastq = \"lastQ\"\r\n        />\r\n        <full-question-header\r\n          v-show = \"curqn == qn\"\r\n          :qn = \"curqn\"\r\n        />\r\n        <question\r\n          :qn=\"curqn\"\r\n          :active=\"curqn == qn\"\r\n          :getwork=\"1\"\r\n        />\r\n        <inter-question-text-list\r\n          pos = \"after\"\r\n          :qn = \"curqn\"\r\n          :active=\"curqn == qn\"\r\n          :textlist = \"textList\"\r\n          :lastq = \"lastQ\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\nvideocued/0     Intro\r\nvideocued/#/v   Video segment #-1\r\nvideocued/#/q   Question following video segment #-1\r\nvideocued/#/f   Followup after question following video segment #-1\r\n\r\nOn question submission: (put in scoreresult?  Or add above <question> here?)\r\n if has followup:\r\n  show \"Continue to followuptitle\" option\r\n  if correct and has next segment, show \"Jump video to nextsegmentitle\" button\r\n else if has next segment\r\n  show \"Continue video to nextsegmenttitle\" button\r\n\r\nWill need to rebuild ytapi.js in the Vue code.\r\n\r\n*/\r\nimport AssessHeader from '@/components/AssessHeader.vue';\r\nimport VideocuedNav from '@/components/VideocuedNav.vue';\r\nimport FullQuestionHeader from '@/components/FullQuestionHeader.vue';\r\nimport InterQuestionTextList from '@/components/InterQuestionTextList.vue';\r\nimport VideocuedResultNav from '@/components/VideocuedResultNav.vue';\r\nimport Question from '@/components/question/Question.vue';\r\nimport IntroText from '@/components/IntroText.vue';\r\nimport { store } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'videocued',\r\n  components: {\r\n    FullQuestionHeader,\r\n    VideocuedNav,\r\n    Question,\r\n    VideocuedResultNav,\r\n    InterQuestionTextList,\r\n    AssessHeader,\r\n    IntroText\r\n  },\r\n  data: function () {\r\n    return {\r\n      videoWidth: 600,\r\n      aspectRatioPercent: 56.2,\r\n      ytplayer: null,\r\n      timer: null,\r\n      cue: 0,\r\n      toshow: 'v'\r\n    };\r\n  },\r\n  computed: {\r\n    curCue () {\r\n      if (this.cue > -1) {\r\n        return store.assessInfo.videocues[this.cue];\r\n      } else {\r\n        return {};\r\n      }\r\n    },\r\n    qn () {\r\n      if (this.toshow === 'q') {\r\n        return parseInt(this.curCue.qn);\r\n      } else {\r\n        return -1;\r\n      }\r\n    },\r\n    timeCues () {\r\n      const out = {};\r\n      for (const i in store.assessInfo.videocues) {\r\n        if (store.assessInfo.videocues[i].hasOwnProperty('qn')) {\r\n          out[store.assessInfo.videocues[i].time] = parseInt(i);\r\n        }\r\n      }\r\n      return out;\r\n    },\r\n    nextVidTimes () {\r\n      // we'll want to update the nav when a followup ends, or when a\r\n      // video segment with a question ends\r\n      const out = {};\r\n      for (let i = 0; i < store.assessInfo.videocues.length; i++) {\r\n        if (store.assessInfo.videocues[i].hasOwnProperty('followuptime') &&\r\n          store.assessInfo.videocues.hasOwnProperty(i + 1)\r\n        ) {\r\n          out[store.assessInfo.videocues[i].followuptime] = i;\r\n        } else if (!store.assessInfo.videocues[i].hasOwnProperty('qn') &&\r\n          store.assessInfo.videocues.hasOwnProperty(i + 1)\r\n        ) {\r\n          out[store.assessInfo.videocues[i].time] = i;\r\n        }\r\n      }\r\n      return out;\r\n    },\r\n    intro () {\r\n      return store.assessInfo.intro;\r\n    },\r\n    questionArray () {\r\n      const qnArray = {};\r\n      for (let i = 0; i < store.assessInfo.questions.length; i++) {\r\n        qnArray[i] = i;\r\n      }\r\n      return qnArray;\r\n    },\r\n    lastQ () {\r\n      return store.assessInfo.questions.length - 1;\r\n    },\r\n    textList () {\r\n      if (!store.assessInfo.hasOwnProperty('interquestion_text')) {\r\n        return [];\r\n      } else {\r\n        return store.assessInfo.interquestion_text;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    createPlayer () {\r\n      const supportsFullScreen = !!(document.exitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen || document.msExitFullscreen);\r\n      const pVarsInternal = {\r\n        autoplay: 0,\r\n        wmode: 'transparent',\r\n        fs: supportsFullScreen ? 1 : 0,\r\n        controls: 2,\r\n        rel: 0,\r\n        modestbranding: 1,\r\n        showinfo: 0,\r\n        origin: window.location.protocol + '//' + window.location.host\r\n      };\r\n      const ar = store.assessInfo.videoar.split(':');\r\n      const videoHeight = window.innerHeight - 50;\r\n      this.videoWidth = ar[0] / ar[1] * videoHeight;\r\n      this.aspectRatioPercent = Math.round(1000 * videoHeight / this.videoWidth) / 10;\r\n      this.ytplayer = new window.YT.Player('player', {\r\n        height: videoHeight,\r\n        width: this.videoWidth,\r\n        videoId: store.assessInfo.videoid,\r\n        playerVars: pVarsInternal,\r\n        events: {\r\n          onReady: () => this.handlePlayerReady(),\r\n          onStateChange: (event) => this.handlePlayerStateChange(event),\r\n          onError: (event) => this.handlePlayerError(event)\r\n        }\r\n      });\r\n    },\r\n    exitFullscreen () {\r\n      const isInFullScreen = (\r\n        document.fullscreenElement ||\r\n        document.webkitFullscreenElement ||\r\n        document.mozFullScreenElement ||\r\n        document.msFullscreenElement);\r\n      if (isInFullScreen) {\r\n        if (document.exitFullscreen) {\r\n          document.exitFullscreen();\r\n        } else if (document.webkitExitFullscreen) {\r\n          document.webkitExitFullscreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n          document.mozCancelFullScreen();\r\n        } else if (document.msExitFullscreen) {\r\n          document.msExitFullscreen();\r\n        }\r\n      }\r\n    },\r\n    checkTime () {\r\n      const curTime = Math.floor(this.ytplayer.getCurrentTime());\r\n      // If there's a queue for this time,\r\n      // But not if we jumped to a video and the queue is for the previous\r\n      // or if we jump to followup\r\n      if (this.timeCues.hasOwnProperty(curTime) &&\r\n        !(this.toshow === 'v' && this.cue === this.timeCues[curTime] + 1) &&\r\n        !(this.toshow === 'f' && this.cue === this.timeCues[curTime]) &&\r\n        this.ytplayer.getPlayerState() === window.YT.PlayerState.PLAYING\r\n      ) {\r\n        this.jumpTo(parseInt(this.timeCues[curTime]), 'q');\r\n      } else {\r\n        if (this.nextVidTimes.hasOwnProperty(curTime) &&\r\n          this.cue === this.nextVidTimes[curTime]\r\n        ) {\r\n          this.cue = this.cue + 1;\r\n          this.toshow = 'v';\r\n        }\r\n        // wait again\r\n        this.timer = window.setTimeout(() => { this.checkTime(); }, 200);\r\n      }\r\n    },\r\n    handlePlayerReady () {\r\n      // remove cruft to allow autofit to work\r\n      window.$('iframe#player').removeAttr('height').removeAttr('width')\r\n        .css('height', '').css('width', '');\r\n    },\r\n    handlePlayerStateChange (event) {\r\n      if (event.data === window.YT.PlayerState.PLAYING) {\r\n        // started playing video.  Start listing for the times\r\n        this.timer = window.setTimeout(() => { this.checkTime(); }, 200);\r\n      } else if (event.data === window.YT.PlayerState.ENDED) {\r\n        // video ended - check to see if there's a question to show.\r\n        if (this.toshow === 'v' && this.curCue.hasOwnProperty('qn')) {\r\n          window.clearTimeout(this.timer);\r\n          this.jumpTo(this.cue, 'q');\r\n        }\r\n      }\r\n    },\r\n    handlePlayerError (event) {\r\n      store.errorMsg = event.data;\r\n    },\r\n    jumpTo (newCueNum, newToshow) {\r\n      if (newCueNum === -1 || newToshow === 'q') {\r\n        // if showing a question, pause the video\r\n        this.exitFullscreen();\r\n        if (this.ytplayer) {\r\n          this.ytplayer.pauseVideo();\r\n        }\r\n      } else {\r\n        if (this.ytplayer === null || typeof this.ytplayer.seekTo !== 'function') {\r\n          store.errorMsg = 'ytnotready';\r\n          return;\r\n        }\r\n        const newCue = store.assessInfo.videocues[newCueNum];\r\n        let seektime = 0;\r\n        if (newToshow === 'v') {\r\n          if (newCueNum > 0) {\r\n            const prevCue = store.assessInfo.videocues[newCueNum - 1];\r\n            if (prevCue.hasOwnProperty('followuptime')) {\r\n              // if previous cue had followup, skip to end of that\r\n              seektime = prevCue.followuptime;\r\n            } else {\r\n              // otherwise, skip to end of previous main vid seg\r\n              seektime = prevCue.time;\r\n            }\r\n          }\r\n        } else if (newToshow === 'f') {\r\n          // start of followup is end of video segment\r\n          seektime = newCue.time;\r\n        }\r\n        // seek to right place in video\r\n        this.ytplayer.seekTo(seektime, true);\r\n        this.ytplayer.playVideo();\r\n      }\r\n      this.cue = newCueNum;\r\n      this.toshow = newToshow;\r\n    }\r\n  },\r\n  mounted () {\r\n    if (window.YT) {\r\n      this.createPlayer();\r\n    } else {\r\n      window.onYouTubePlayerAPIReady = () => {\r\n        this.createPlayer();\r\n      };\r\n      // async load YouTube API\r\n      const tag = document.createElement('script');\r\n      tag.src = 'https://www.youtube.com/player_api';\r\n      document.head.appendChild(tag);\r\n    }\r\n  },\r\n  created () {\r\n    // don't show intro if it's empty\r\n    if (store.assessInfo.intro !== '') {\r\n      this.cue = -1;\r\n      this.toshow = 'i';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"subheader\" role=\"navigation\" :aria-label=\"$t('regions.qvidnav')\">\r\n    <menu-button id=\"qnav\"\r\n      :options = \"navOptions\"\r\n      :selected = \"curOption\"\r\n      searchby = \"title\"\r\n    >\r\n      <template v-slot=\"{ option, selected }\">\r\n        <videocued-nav-list-item :option=\"option\" :selected=\"selected\" />\r\n      </template>\r\n    </menu-button>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuButton from '@/components/widgets/MenuButton.vue';\r\nimport VideocuedNavListItem from '@/components/VideocuedNavListItem.vue';\r\nimport { store } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'VideocuedNav',\r\n  props: ['cue', 'toshow'],\r\n  components: {\r\n    MenuButton,\r\n    VideocuedNavListItem\r\n  },\r\n  computed: {\r\n    hasIntro () {\r\n      return (store.assessInfo.intro !== '');\r\n    },\r\n    navOptions () {\r\n      var out = [];\r\n      if (this.hasIntro) {\r\n        out.push({\r\n          // internallink: '/videocued/0',\r\n          onclick: () => this.$emit('jumpto', -1, 'i'),\r\n          title: this.$t('intro'),\r\n          type: 'i'\r\n        });\r\n      }\r\n      /*\r\n       foreach viddata\r\n       link using segment title, jumps to previous segment end time\r\n       if has a qn,\r\n        link to jump to question\r\n        if has followup with showlink==true\r\n         show link with followuptitle, jumps to main segment end time\r\n      */\r\n      for (let i = 0; i < store.assessInfo.videocues.length; i++) {\r\n        const cuedata = store.assessInfo.videocues[i];\r\n        out.push({\r\n          // internallink: '/videocued/' + cuen + '/v',\r\n          onclick: () => this.$emit('jumpto', i, 'v'),\r\n          type: 'v',\r\n          title: cuedata.title,\r\n          cue: i\r\n        });\r\n        if (cuedata.hasOwnProperty('qn')) {\r\n          out.push({\r\n            // internallink: '/videocued/' + cuen + '/q',\r\n            onclick: () => this.$emit('jumpto', i, 'q'),\r\n            type: 'q',\r\n            title: this.$t('question_n', { n: parseInt(cuedata.qn) + 1 }),\r\n            qn: parseInt(cuedata.qn),\r\n            cue: i,\r\n            subitem: true\r\n          });\r\n        }\r\n        if (cuedata.hasOwnProperty('followuptime')) {\r\n          out.push({\r\n            // internallink: '/videocued/' + cuen + '/f',\r\n            onclick: () => this.$emit('jumpto', i, 'f'),\r\n            type: 'f',\r\n            title: cuedata.followuptitle,\r\n            cue: i,\r\n            subitem: true\r\n          });\r\n        }\r\n      }\r\n      return out;\r\n    },\r\n    curOption () {\r\n      const curCue = parseInt(this.cue);\r\n      if (curCue === -1 && this.hasIntro) {\r\n        return 0;\r\n      }\r\n      for (let i = this.hasIntro ? 1 : 0; i < this.navOptions.length; i++) {\r\n        if (this.navOptions[i].cue === curCue &&\r\n          this.navOptions[i].type === this.toshow\r\n        ) {\r\n          return i;\r\n        }\r\n      }\r\n      return -1;\r\n    },\r\n    showNextPrev () {\r\n      return (Object.keys(this.navOptions).length > 1);\r\n    },\r\n    prevLink () {\r\n      if (this.curOption <= 0) {\r\n        return '';\r\n      }\r\n      return this.navOptions[this.curOption - 1].internallink;\r\n    },\r\n    nextLink () {\r\n      if (this.curOption >= this.navOptions.length - 1) {\r\n        return '';\r\n      }\r\n      return this.navOptions[this.curOption + 1].internallink;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.subheader {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.subheader > * {\r\n  margin: 4px 0;\r\n}\r\n</style>\r\n","<template>\r\n  <span class=\"flex-nowrap-center\">\r\n    <span class=\"qname-wrap\">\r\n      <icons :name=\"statusIcon\" class=\"qstatusicon\" />\r\n      <span\r\n        :class=\"{greystrike: nameHover !== ''}\"\r\n        :title = \"nameHover\"\r\n      >\r\n        {{ option.title }}\r\n      </span>\r\n      {{ scoreDisplay }}\r\n    </span>\r\n    <span class=\"redoicon\" v-if=\"!selected\">\r\n      <icons name=\"retry\" v-if=\"canRetry\" />\r\n    </span>\r\n    <span class=\"redoicon\" v-if=\"!selected\">\r\n      <icons name=\"retake\" v-if=\"canRegen\" />\r\n    </span>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport Icons from '@/components/widgets/Icons.vue';\r\nimport { store } from '../basicstore';\r\nimport { attemptedMixin } from '@/mixins/attemptedMixin';\r\n\r\nexport default {\r\n  name: 'VideocuedNavListItem',\r\n  props: ['option', 'selected'],\r\n  components: {\r\n    Icons\r\n  },\r\n  mixins: [attemptedMixin],\r\n  computed: {\r\n    statusIcon () {\r\n      if (this.option.type === 'v' || this.option.type === 'f') {\r\n        return 'video';\r\n      } else if (this.option.type === 'q') {\r\n        if (store.assessInfo.questions[this.option.qn].status === 'unattempted') {\r\n          if (this.qsAttempted[this.option.qn] === 1) {\r\n            return 'attempted';\r\n          } else if (this.qsAttempted[this.option.qn] > 0) {\r\n            return 'partattempted';\r\n          }\r\n        }\r\n        return store.assessInfo.questions[this.option.qn].status;\r\n      } else {\r\n        return 'none';\r\n      }\r\n    },\r\n    nameHover () {\r\n      if (this.option.type === 'q' &&\r\n          store.assessInfo.questions[this.option.qn].withdrawn !== 0\r\n      ) {\r\n        return this.$t('header.withdrawn');\r\n      }\r\n      return '';\r\n    },\r\n    scoreDisplay () {\r\n      if (this.option.type !== 'q') {\r\n        return '';\r\n      } else {\r\n        const qdata = store.assessInfo.questions[this.option.qn];\r\n        if (qdata.hasOwnProperty('gbscore')) {\r\n          let str = qdata.canretry ? '(' : '[';\r\n          str += qdata.gbscore + '/' + qdata.points_possible;\r\n          str += qdata.canretry ? ')' : ']';\r\n          return str;\r\n        } else {\r\n          return this.$tc('header.pts', qdata.points_possible);\r\n        }\r\n      }\r\n    },\r\n    canRetry () {\r\n      if (this.option.type === 'q') {\r\n        const qdata = store.assessInfo.questions[this.option.qn];\r\n        return qdata.canretry;\r\n      }\r\n      return false;\r\n    },\r\n    canRegen () {\r\n      if (this.option.type === 'q') {\r\n        const qdata = store.assessInfo.questions[this.option.qn];\r\n        return qdata.regens_remaining;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n.greentext {\r\n  color: #090;\r\n}\r\n.orangetext {\r\n  color: #AA5D00;\r\n}\r\n.redtext {\r\n  color: #900;\r\n}\r\n.bluetext {\r\n  color: #009;\r\n}\r\n</style>\r\n","import { render } from \"./VideocuedNavListItem.vue?vue&type=template&id=1d0f86fb\"\nimport script from \"./VideocuedNavListItem.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedNavListItem.vue?vue&type=script&lang=js\"\n\nimport \"./VideocuedNavListItem.vue?vue&type=style&index=0&id=1d0f86fb&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./VideocuedNav.vue?vue&type=template&id=75c449d2\"\nimport script from \"./VideocuedNav.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedNav.vue?vue&type=script&lang=js\"\n\nimport \"./VideocuedNav.vue?vue&type=style&index=0&id=75c449d2&lang=css\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div\r\n    v-if = \"qn === -1 || showNav\"\r\n  >\r\n    <button\r\n      v-if=\"qn === -1 && cue === -1\"\r\n      @click = \"startVid\"\r\n      class = \"primary\"\r\n    >\r\n      {{ $t('videocued.start') }}\r\n    </button>\r\n\r\n    <button\r\n      v-if = \"qn > -1 && hasNextVid\"\r\n      @click = \"nextVidLink\"\r\n      :class=\"{'primary': status !== 'correct' || !showSkip}\"\r\n    >\r\n      {{ $t('videocued.continue', {'title': nextVidTitle}) }}\r\n    </button>\r\n\r\n    <button\r\n      v-if = \"qn > -1 && showSkip\"\r\n      @click = \"skipLink\"\r\n      class=\"primary\"\r\n    >\r\n      {{ $t('videocued.skipto', {'title': skipTitle}) }}\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { store } from '../basicstore';\r\n\r\nexport default {\r\n  name: 'VideocuedResultNav',\r\n  props: ['qn', 'cue'],\r\n  computed: {\r\n    qdata () {\r\n      return store.assessInfo.questions[this.qn];\r\n    },\r\n    showNav () {\r\n      return (store.inProgress &&\r\n        store.assessInfo.hasOwnProperty('questions') &&\r\n        this.qdata.hasOwnProperty('score') &&\r\n        (this.qdata.try > 0 ||\r\n          this.qdata.hasOwnProperty('tries_remaining_range')) &&\r\n        this.qdata.withdrawn === 0\r\n      );\r\n    },\r\n    showScores () {\r\n      return (store.assessInfo.showscores === 'during');\r\n    },\r\n    status () {\r\n      if (!this.showScores || !this.qdata.hasOwnProperty('parts')) {\r\n        return 'neutral';\r\n      }\r\n      for (let i = 0; i < this.qdata.parts.length; i++) {\r\n        if (this.qdata.parts[i].try === 0 ||\r\n            this.qdata.parts[i].rawscore < 0.98\r\n        ) {\r\n          return 'neutral';\r\n        }\r\n      }\r\n      return 'correct';\r\n    },\r\n    nextVidType () {\r\n      return store.assessInfo.videocues[this.cue].hasOwnProperty('followuptitle')\r\n        ? 'followup'\r\n        : 'nextseg';\r\n    },\r\n    hasNextVid () {\r\n      return (this.nextVidType === 'followup' ||\r\n        store.assessInfo.videocues.hasOwnProperty(this.cue + 1)\r\n      );\r\n    },\r\n    nextVidTitle () {\r\n      if (this.nextVidType === 'followup') {\r\n        return store.assessInfo.videocues[this.cue].followuptitle;\r\n      } else {\r\n        return store.assessInfo.videocues[this.cue + 1].title;\r\n      }\r\n    },\r\n    showSkip () {\r\n      return (this.status === 'correct' &&\r\n        this.nextVidType === 'followup' &&\r\n        store.assessInfo.videocues.hasOwnProperty(this.cue + 1)\r\n      );\r\n    },\r\n    skipTitle () {\r\n      return store.assessInfo.videocues[this.cue + 1].title;\r\n    }\r\n  },\r\n  methods: {\r\n    skipLink () {\r\n      this.$emit('jumpto', this.cue + 1, 'v');\r\n    },\r\n    nextVidLink () {\r\n      if (this.nextVidType === 'followup') {\r\n        this.$emit('jumpto', this.cue, 'f');\r\n      } else {\r\n        this.$emit('jumpto', this.cue + 1, 'v');\r\n      }\r\n    },\r\n    startVid () {\r\n      this.$emit('jumpto', 0, 'v');\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./VideocuedResultNav.vue?vue&type=template&id=8ad34b52\"\nimport script from \"./VideocuedResultNav.vue?vue&type=script&lang=js\"\nexport * from \"./VideocuedResultNav.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Videocued.vue?vue&type=template&id=fe3903f4\"\nimport script from \"./Videocued.vue?vue&type=script&lang=js\"\nexport * from \"./Videocued.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/d/imathas/assess2/vue-src/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","style","_createElementBlock","_createVNode","_component_assess_header","$options","_createBlock","_component_livepoll_nav","qn","onSelectq","onOpenq","onCloseq","onNewversion","_createElementVNode","type","_ctx","$event","_toDisplayString","onChange","_component_timer","end","total","_hoisted_5","n","_component_livepoll_settings","_component_question","active","state","seed","_component_livepoll_results","showresults","showans","key","role","_component_menu_button","options","selected","searchby","option","title","onClick","disabled","_component_icons","name","length","props","components","MenuButton","Icons","computed","navOptions","out","push","onclick","this","$emit","$t","dispqn","store","parseInt","showNextPrev","Object","keys","curstate","studentCount","$tc","methods","selectQuestion","openQuestion","closeQuestion","newVersion","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","size","showQuestionDefault","set","val","$set","get","showResultsLiveDefault","showResultsAfter","showAnswersAfter","useTimer","questionTimelimit","answeights","_Fragment","_renderList","resdata","pn","$props","hasOwnProperty","_component_livepoll_results_choices","results","_component_livepoll_results_general","itemid","choices","choice","i","scoredata","innerHTML","width","Math","round","datatots","maxfreq","onUpdate","$nextTick","setTimeout","window","drawPics","rendermathnode","$refs","main","mounted","watch","newVal","oldVal","ref","qtype","initpts","ans","height","_hoisted_6","_hoisted_9","sortedKeys","tots","sort","a","b","la","replace","split","join","uniqid","canvases","slice","unshift","drawla","JSON","parse","imathasDraw","initCanvases","LivepollResultsChoices","LivepollResultsGeneral","qinfo","numResults","params","jsparams","livepoll_choices","parttype","ischoices","anss","livepoll_ans","toString","condenseddrawarr","condenseddraw","uid","stuans","match","condenseDraw","pa","score","livepoll_drawinit","min","Number","str","cc","newcc","m","drawarr","toFixed","sqrt","abs","stringify","LivepollNav","Question","LivepollSettings","LivepollResults","AssessHeader","Timer","data","showQuestion","showResults","showAnswers","onSettings","livepollTimer","socket","isTeacher","curqn","curseed","starttime","timelimit","showAnswersLabel","updateUsercount","cnt","teachcnt","addResult","user","showHandler","action","actions","startt","indexOf","pts","curquestion","assign","clearTimeout","nextState","newquestion","newstate","openInput","closeInput","forceregen","updateShowAnswers","server","LPdata","querystr","room","now","sig","encodeURIComponent","io","query","off","on","created","render","href","scrollpane","focus","_component_videocued_nav","cue","toshow","onJumpto","_component_videocued_result_nav","tabindex","_component_intro_text","html","inactive","_component_inter_question_text_list","pos","textlist","lastq","_component_full_question_header","getwork","_component_videocued_nav_list_item","_renderSlot","greystrike","mixins","attemptedMixin","statusIcon","status","qsAttempted","nameHover","withdrawn","scoreDisplay","qdata","canretry","gbscore","points_possible","canRetry","canRegen","regens_remaining","VideocuedNavListItem","hasIntro","cuedata","subitem","followuptitle","curOption","curCue","prevLink","internallink","nextLink","showNav","try","showScores","parts","rawscore","nextVidType","hasNextVid","nextVidTitle","showSkip","skipTitle","skipLink","nextVidLink","startVid","FullQuestionHeader","VideocuedNav","VideocuedResultNav","InterQuestionTextList","IntroText","videoWidth","aspectRatioPercent","ytplayer","timer","timeCues","time","nextVidTimes","followuptime","intro","questionArray","qnArray","lastQ","textList","createPlayer","supportsFullScreen","document","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","pVarsInternal","autoplay","wmode","fs","controls","rel","modestbranding","showinfo","origin","location","protocol","host","ar","videoHeight","innerHeight","YT","Player","videoId","playerVars","events","onReady","handlePlayerReady","onStateChange","event","handlePlayerStateChange","onError","handlePlayerError","isInFullScreen","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkTime","curTime","floor","getCurrentTime","getPlayerState","PlayerState","PLAYING","jumpTo","$","removeAttr","css","ENDED","newCueNum","newToshow","pauseVideo","seekTo","newCue","seektime","prevCue","playVideo","onYouTubePlayerAPIReady","tag","createElement","src","head","appendChild"],"sourceRoot":""}