<html>

<head>
<style type="text/css">
.auto-style1 {
	font-weight: normal;
}
</style>
</head>

<body>
<h1>Macro Library matrix</h1>
Matrix functions.  Version 1.5, Dec 2017
<br>Contributors: David Lippman, Larry Green
<BR><ul>
<li><a href="#matrix">matrix</a></li>
<li><a href="#matrixformat">matrixformat</a></li>
<li><a href="#matrixdisplaytable">matrixdisplaytable</a></li>
<li><a href="#matrixsystemdisp">matrixsystemdisp</a></li>
<li><a href="#matrixgetentry">matrixgetentry</a></li>
<li><a href="#matrixgetrow">matrixgetrow</a></li>
<li><a href="#matrixgetcol">matrixgetcol</a></li>
<li><a href="#matrixgetsubmatrix">matrixgetsubmatrix</a></li>
<li><a href="#matrixsum">matrixsum</a></li>
<li><a href="#matrixdiff">matrixdiff</a></li>
<li><a href="#matrixscalar">matrixscalar</a></li>
<li><a href="#matrixprod">matrixprod</a></li>
<li><a href="#matrixaugment">matrixaugment</a></li>
<li><a href="#matrixrowscale">matrixrowscale</a></li>
<li><a href="#matrixrowswap">matrixrowswap</a></li>
<li><a href="#matrixrowcombine">matrixrowcombine</a></li>
<li><a href="#matrixrowcombine3">matrixrowcombine3</a></li>
<li><a href="#matrixidentity">matrixidentity</a></li>
<li><a href="#matrixtranspose">matrixtranspose</a></li>
<li><a href="#matrixrandinvertible">matrixrandinvertible</a></li>
<li><a href="#matrixrandunreduce">matrixrandunreduce</a></li>
<li><a href="#matrixinverse">matrixinverse</a></li>
<li><a href="#matrixinversefrac">matrixinversefrac</a></li>
<li><a href="#matrixsolve">matrixsolve</a></li>
<li><a href="#matrixsolvefrac">matrixsolvefrac</a></li>
<li><a href="#matrixreduce">matrixreduce</a></li>
<li><a href="#matrixnumsolutions">matrixnumsolutions</a></li>
<li><a href="#matrixround">matrixround</a></li>
<li><a href="#polyregression">polyregression</a></li>
<li><a href="#matrixGetRank">matrixGetRank</a></li>
<li><a href="#arrayIsZeroVector">arrayIsZeroVector</a></li>
<li><a href="#matrixFormMatrixFromEigValEigVec">matrixFormMatrixFromEigValEigVec</a></li>
<li><a href="#matrixIsRowsLinInd">matrixIsRowsLinInd</a></li>
<li><a href="#matrixIsColsLinInd">matrixIsColsLinInd</a></li>
<li><a href="#matrixIsEigVec">matrixIsEigVec</a></li>
<li><a href="#matrixIsEigVal">matrixIsEigVal</a></li>
<li><a href="#matrixGetRowSpace">matrixGetRowSpace</a></li>
<li><a href="#matrixGetColumnSpace">matrixGetColumnSpace</a></li>
<li><a href="#matrixAxbHasSolution">matrixAxbHasSolution</a></li>
<li><a href="#matrixAspansB">matrixAspansB</a></li>
<li><a href="#matrixAbasisForB">matrixAbasisForB</a></li>
<li><a href="#matrixGetMinor">matrixGetMinor</a></li>
<li><a href="#matrixDet">matrixDet</a></li>
<li><a href="#matrixRandomMatrix">matrixRandomMatrix</a></li>
<li><a href="#matrixRandomSpan">matrixRandomSpan</a></li>
<li><a href="#matrixNumberOfRows">matrixNumberOfRows</a></li>
<li><a href="#matrixNumberOfColumns">matrixNumberOfColumns</a></li>
<li><a href="#matrixParseStuans">matrixParseStuans</a></li>
</ul>
<h3><a name="matrix">matrix</a></h3>
matrix(vals,rows,cols)
<BR>Creates a new matrix item.  
<BR>Use matrixformat() to create display or $answer from a matrix item
<BR>vals: list or array of numbers to form matrix values: R1C1,R1C2,...,R2C1,R2C2,...
<BR>rows, cols: dimensions of matrix
<BR>To define a matrix using calculations use:
<BR>$m = matrix(array(3/2,2^3,5+1,3),2,2)
<BR><h3><a name="matrixformat">matrixformat</a></h3>
matrixformat(matrix)
<BR>Formats a matrix item into an ASCIIMath string for display or $answer
<BR><h3><a name="matrixdisplaytable">matrixdisplaytable</a></h3>
matrixdisplaytable(matrix, [matrixname, displayASCIIticks, linemode, header, tablestyle]) 
<BR>&nbsp;Create a string that is a valid HTML table syntax for display.
<BR>&nbsp;matrix: a matrix to be displayed in a HTML table
<BR>&nbsp;matrixname: a string that holds the matrix name, like A or B.  This does not contain 
<BR>&nbsp;&nbsp;&nbsp;tick marks - if you want them you need to supply them.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default empty string
<BR>&nbsp;displayASCIIticks: put tick marks around each element of the table, either 0 or 1.  
<BR>&nbsp;&nbsp;&nbsp;Use 0 if you are building an answerbox matrix.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 do not use math ticks (default)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 use math ticks
<BR>&nbsp;linemode: Show none, augments, or simplex, value is either 0, 1 or 2
<BR>&nbsp;&nbsp;&nbsp;&nbsp;0 show no lines  (default)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;1 show aumented line
<BR>&nbsp;&nbsp;&nbsp;&nbsp;2 show simplex  lines
<BR>&nbsp;header: list or array of the variables "x1,x2,x3" that are used for the column titles.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default none
<BR>&nbsp;tablestyle: for any additional styles for the table that you may want.  like "color:#40B3DF;"
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default none
<BR><h3><a name="matrixsystemdisp">matrixsystemdisp</a></h3>
matrixsystemdisp(matrix,[variables])
<BR>Writes out a matrix as an equivalent system of equations
<BR>variables is optional array of variables to use
<BR><h3><a name="matrixgetentry">matrixgetentry</a></h3>
matrixgetentry(matrix,row,col)
<BR>get entry from a matrix at given row and col
<BR>rows and cols are 0 indexed (first row is row 0)
<BR><h3><a name="matrixgetrow">matrixgetrow</a></h3>
matrixgetrow(matrix,row,[asArray])
<BR>get row of a matrix as a new 1xm matrix
<BR>&nbsp;&nbsp;or array if asArray is set to true
<BR>rows and cols are 0 indexed (first row is row 0)
<BR><h3><a name="matrixgetcol">matrixgetcol</a></h3>
matrixgetcol(matrix,col,[asArray])
<BR>get col of a matrix as a new nx1 matrix
<BR>&nbsp;&nbsp;or array if asArray is set to true
<BR>rows and cols are 0 indexed (first row is row 0)
<BR><h3><a name="matrixgetsubmatrix">matrixgetsubmatrix</a></h3>
matrixgetsubmatrix(matrix,rowselector,colselector)
<BR>gets submatrix.  rowselector and colselector are strings
<BR>with format:  "start:end".  ":" to select all 
<BR><h3><a name="matrixsum">matrixsum</a></h3>
matrixsum(matrix,matrix)
<BR>Adds two matrices
<BR><h3><a name="matrixdiff">matrixdiff</a></h3>
matrixdiff(matrix1,matrix2)
<BR>Subtracts matrix1-matrix2
<BR><h3><a name="matrixscalar">matrixscalar</a></h3>
matrixscalar(matrix,n)
<BR>Multiplies the matrix times the number n
<BR><h3><a name="matrixprod">matrixprod</a></h3>
matrixprod(matrix1,matrix2)
<BR>Calculates the matrix product matrix1*matrix2
<BR><h3><a name="matrixaugment">matrixaugment</a></h3>
matrixaugment(matrix1,matrix2)
<BR>Augments matrix2 to the right side of matrix1
<BR><h3><a name="matrixrowscale">matrixrowscale</a></h3>
matrixrowscale(matrix,row,n)
<BR>Multiplies row of matrix by n
<BR>matrix rows are 0-indexed; first row is row 0
<BR><h3><a name="matrixrowswap">matrixrowswap</a></h3>
matrixrowswap(matrix,row1,row2)
<BR>swaps rows in matrix
<BR>matrix rows are 0-indexed; first row is row 0
<BR><h3><a name="matrixrowcombine">matrixrowcombine</a></h3>
matrixrowcombine(matrix,row1,a,row2,b,endrow)
<BR>replaces endrow in matrix with a*row1 + b*row2
<BR>matrix rows are 0-indexed; first row is row 0
<BR><h3><a name="matrixrowcombine3">matrixrowcombine3</a></h3>
matrixrowcombine3(matrix,row1,a,row2,b,row3,c,endrow)
<BR>replaces endrow in matrix with a*row1 + b*row2 + c*row3
<BR>matrix rows are 0-indexed; first row is row 0
<BR><h3><a name="matrixidentity">matrixidentity</a></h3>
matrixidentity(n)
<BR>Creates an n x n identity matrix
<BR><h3><a name="matrixtranspose">matrixtranspose</a></h3>
matrixtranspose(m)
<BR>Calculates the transpose of the matrix m
<BR><h3><a name="matrixrandinvertible">matrixrandinvertible</a></h3>
randinvertible(n)
<BR>Creates a random n x n invertible matrix by applying random row combinations to an identity matrix
<BR>returns an array of two matrices:  M and M^-1
<BR><h3><a name="matrixrandunreduce">matrixrandunreduce</a></h3>
matrixrandunreduce(m,n)
<BR>Randomizes the matrix m by applying n random row combinations
<BR><h3><a name="matrixinverse">matrixinverse</a></h3>
matrixinverse(m)
<BR>Finds the inverse of nxn matrices.
<BR><h3><a name="matrixinversefrac">matrixinversefrac</a></h3>
matrixinversefrac(m)
<BR>Finds the inverse of nxn matrices, with the resulting entries as fractions
<BR>the fraction entries are strings, so do NOT try to use the result of this
<BR>for calculations.
<BR><h3><a name="matrixsolve">matrixsolve</a></h3>
matrixsolve(A,b)
<BR>solves the matrix equation Ax = b
<BR>A and b are both matrices
<BR>A is nxn, b is nxm
<BR>returns nxm matrix x so Ax = b
<BR><h3><a name="matrixsolvefrac">matrixsolvefrac</a></h3>
matrixsolvefrac(A,b)
<BR>solves the matrix equation Ax = b
<BR>A and b are both matrices
<BR>A is nxn, b is nxm
<BR>returns nxm matrix x so Ax = b
<BR>entries may be fractions (as strings), so don't 
<BR>try to use the result in calculations. 
<BR><h3><a name="matrixreduce">matrixreduce</a></h3>
matrixreduce(A,[rref,frac])
<BR>reduces the matrix A to echelon or reduced echelon form
<BR>A is a matrix
<BR>rref = true for rref, false for echelon (default)
<BR>frac = true for fraction output, false for decimal output (default)
<BR>&nbsp;&nbsp;if true, entries may be fractions (as strings), so don't 
<BR>&nbsp;&nbsp;try to use the result in calculations. 
<BR>NOTE:  In most cases, using matrixrandunreduce is a better option than using this!
<BR><h3><a name="matrixnumsolutions">matrixnumsolutions</a></h3>
matrixnumsolutions(A,n)
<BR>A is an arbitrary coefficient matrix augmented with n columns, after
<BR>&nbsp;being row reduced to reduced echelon form (see matrixreduce)
<BR>Returns the number of Ax=b equations that have at least one solution
<BR><h3><a name="matrixround">matrixround</a></h3>
matrixround(matrix, decimal places)
<BR>rounds each entry of the matrix the specified decimal places
<BR><h3><a name="polyregression">polyregression</a></h3>
polyregression(x,y,n)
<BR>find a nth degree polynomial that best fits the data 
<BR>x,y arrays of data
<BR>returns an array (intercept, linear coeff, quad coeff, ...)
<BR><br>
<h3><a name="matrixGetRank">matrixGetRank</a></h3>
<p>&nbsp;matrixGetRank(matrix)<br>
&nbsp;returns the rank of a matrix<br>
</p>
<h3><a name="arrayIsZeroVector">arrayIsZeroVector</a></h3>
<p>arrayIsZeroVector(vector)<br>vector is an array, not a matrix.<br>
determines if a vector is the 0 vector<br>
</p>
<h3><a name="matrixFormMatrixFromEigValEigVec">matrixFormMatrixFromEigValEigVec</a></h3>
<p>matrixFormMatrixFromEigValEigVec(eigenvalues,matrix of eigenvectors)<br>
eigenvalues: The eigenvalues of the matrix include multiple times if 
multiplicity &gt; 0<br>
matrix of eigenvectors: imput a matrix that consists of the eigenvectors of the 
original matrix<br>
returns the matrix PAP^-1<br>
</p>
<h3><a name="matrixIsRowsLinInd">matrixIsRowsLinInd</a></h3>
<p>matrixIsRowsLinInd(matrix)<br>
matrix: matrix's row vectors are the vectors we are looking at seeing if they 
are linearly independent<br>
&nbsp;returns true if they are LI and false if they are LD<br>
</p>
<h3><a name="matrixIsColsLinInd">matrixIsColsLinInd</a></h3>
<p>matrixIsColsLinInd(matrix)<br>
matrix: matrix's column vectors are the vectors we are looking at seeing if they 
are linearly independent<br>
&nbsp;returns true if they are LI and false if they are LD<br>
</p>
<h3><a name="matrixIsEigVec">matrixIsEigVec</a></h3>
<p>matrixIsEigVec(matrix,eigenvector)<br>
matrix: the matrix that we are testing<br>
eigenvector: the possible eigenvector that we are checking.&nbsp; It is an 
array, not a matrix.<br>
&nbsp;returns true is eigenvector is an eigenvector of matrix. Otherwise it 
returns false<br>
</p>
<h3><a name="matrixIsEigVal">matrixIsEigVal</a></h3>
<p>matrixIsEigVal(matrix,eigenvalue)<br>
matrix: the matrix that we are testing<br>
eigenvalue a real number that we are testing to see if it is an eigenvalue of 
matrix.<br>
</p>
<h3><a name="matrixGetRowSpace">matrixGetRowSpace</a></h3>
<p>matrixGetRowSpace(matrix)<br>
matrix: the matrix that we are finding the row space<br>
returns a matrix whose rows are a basis of the row space of matrix<br>
</p>
<h3><a name="matrixGetColumnSpace">matrixGetColumnSpace</a></h3>
<p>matrixGetColumnSpace(matrix)<br>
matrix: the matrix that we are finding the column space<br>
returns a matrix whose columns are a basis of the column space of matrix<br>
</p>
<h3><a name="matrixAxbHasSolution">matrixAxbHasSolution</a></h3>
<p>matrixAxbHasSolution(matrix A,matrix b)<br>
A is a marix and b is a mx1 matrix.<br>
returns true if there is a solution and false if there isn't one<br>
</p>
<h3><a name="matrixAspansB">matrixAspansB</a></h3>
<p>matrixAspansB(matrix A,matrix B)<br>
A is the possible spanning set<br>
This tests if the rows of A span the row space of B<br>
</p>
<h3><a name="matrixAbasisForB">matrixAbasisForB</a></h3>
<p>matrixAbasisForB(matrix A, matrix B)<br>
tests if the rows of A are a basis for the row space of B<br>
</p>
<h3><a name="matrixGetMinor">matrixGetMinor</a></h3>
<p>matrixGetMinor(matrix,rowNo,colNo)<br>
returns the n-1 by n-1 matrix minor obtained by removing the rowNo row and colNo 
column. Only works for a square matrix.<br>
</p>
<h3><a name="matrixDet">matrixDet</a></h3>
<p>det(matrix)<br>
returns the determinant of a matrix<br>
</p>
<h3><a name="matrixRandomMarix">matrixRandomMatrix</a></h3>
<p>matrixRandomMatrix(max values,minimum,number of rows,number of columns)<br>
returns matrix with random integer entries where the integers are between max and min values.<br>
For cases where you'll want to solve Ax=b, use matrixrandinvertible instead</p>
<h3><a name="matrixRandomSpan">matrixRandomSpan</a></h3>
<p>matrixRandomSpan(matrix)<br>returns a matrix of rows that span the row space 
of matrix<br>the number of rows of the spanning matrix will either be the same 
or one larger than the original matrix's number of rows.</p>
<h3><a name="matrixNumberOfRows">matrixNumberOfRows</a></h3>
<p>matrixNumberOfRows(matrix)<br>&nbsp;returns the number of rows of a matrix</p>
<h3><a name="matrixNumberOfColumns">matrixNumberOfColumns</a></h3>
<p>matrixNumberOfColumns(matrix)<br>/returns the number of columns of a matrix</p>

<h3><a name="matrixParseStuans">matrixParseStuans</a></h3>
<p>matrixParseStuans(student answer)</p>
<p>Converts a students matrix answer into a single array of values</p>
<p>student answer can come from <code>$stuanswers[$thisq]</code> for single-part
questions, or <code>getstuans($stuanswers, $thisq, (part index))</code> for 
multi-part</p>

<p>&nbsp;</p>
<p><br>
</p>
