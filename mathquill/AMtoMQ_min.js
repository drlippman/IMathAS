var AMtoMQ=function(){var t={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:10},e=[{input:"alpha",tag:"mi",output:"α",tex:null,ttype:0},{input:"beta",tag:"mi",output:"β",tex:null,ttype:0},{input:"chi",tag:"mi",output:"χ",tex:null,ttype:0},{input:"delta",tag:"mi",output:"δ",tex:null,ttype:0},{input:"Delta",tag:"mo",output:"Δ",tex:null,ttype:0},{input:"epsi",tag:"mi",output:"ε",tex:"epsilon",ttype:0},{input:"varepsilon",tag:"mi",output:"ɛ",tex:null,ttype:0},{input:"eta",tag:"mi",output:"η",tex:null,ttype:0},{input:"gamma",tag:"mi",output:"γ",tex:null,ttype:0},{input:"Gamma",tag:"mo",output:"Γ",tex:null,ttype:0},{input:"iota",tag:"mi",output:"ι",tex:null,ttype:0},{input:"kappa",tag:"mi",output:"κ",tex:null,ttype:0},{input:"lambda",tag:"mi",output:"λ",tex:null,ttype:0},{input:"Lambda",tag:"mo",output:"Λ",tex:null,ttype:0},{input:"mu",tag:"mi",output:"μ",tex:null,ttype:0},{input:"nu",tag:"mi",output:"ν",tex:null,ttype:0},{input:"omega",tag:"mi",output:"ω",tex:null,ttype:0},{input:"Omega",tag:"mo",output:"Ω",tex:null,ttype:0},{input:"phi",tag:"mi",output:"φ",tex:null,ttype:0},{input:"varphi",tag:"mi",output:"ϕ",tex:null,ttype:0},{input:"Phi",tag:"mo",output:"Φ",tex:null,ttype:0},{input:"pi",tag:"mi",output:"π",tex:null,ttype:0},{input:"Pi",tag:"mo",output:"Π",tex:null,ttype:0},{input:"psi",tag:"mi",output:"ψ",tex:null,ttype:0},{input:"Psi",tag:"mi",output:"Ψ",tex:null,ttype:0},{input:"rho",tag:"mi",output:"ρ",tex:null,ttype:0},{input:"sigma",tag:"mi",output:"σ",tex:null,ttype:0},{input:"Sigma",tag:"mo",output:"Σ",tex:null,ttype:0},{input:"tau",tag:"mi",output:"τ",tex:null,ttype:0},{input:"theta",tag:"mi",output:"θ",tex:null,ttype:0},{input:"vartheta",tag:"mi",output:"ϑ",tex:null,ttype:0},{input:"Theta",tag:"mo",output:"Θ",tex:null,ttype:0},{input:"upsilon",tag:"mi",output:"υ",tex:null,ttype:0},{input:"xi",tag:"mi",output:"ξ",tex:null,ttype:0},{input:"Xi",tag:"mo",output:"Ξ",tex:null,ttype:0},{input:"zeta",tag:"mi",output:"ζ",tex:null,ttype:0},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:0},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:0},{input:"sum",tag:"mo",output:"∑",tex:null,ttype:7},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:0},{input:"xor",tag:"mo",output:"⊕",tex:"oplus",ttype:0},{input:"oplus",tag:"mo",output:"⊕",tex:"oplus",ttype:0},{input:"ominus",tag:"mo",output:"⊖",tex:"ominus",ttype:0},{input:"neg",tag:"mo",output:"¬",tex:"neg",ttype:0},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:0},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:0},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:0},{input:"xx",tex:"times",ttype:0},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:0},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:0},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:0},{input:"geq",tag:"mo",output:"≥",tex:null,ttype:0},{input:"in",tag:"mo",output:"∈",tex:null,ttype:0},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:0},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:0},{input:"(",tag:"mo",output:"(",tex:null,ttype:4},{input:")",tag:"mo",output:")",tex:null,ttype:5},{input:"[",tag:"mo",output:"[",tex:null,ttype:4},{input:"]",tag:"mo",output:"]",tex:null,ttype:5},{input:"{",tag:"mo",output:"{",tex:"{",ttype:4,notexcopy:!0},{input:"}",tag:"mo",output:"}",tex:"}",ttype:5,notexcopy:!0},{input:"|",tag:"mo",output:"|",tex:null,ttype:9},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"<<",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:">>",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:4,invisible:!0},{input:":}",tag:"mo",output:":}",tex:null,ttype:5,invisible:!0},{input:"int",tag:"mo",output:"∫",tex:null,ttype:0},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:0},{input:"O/",tag:"mo",output:"∅",tex:"emptyset",ttype:0},{input:"oo",tag:"mo",output:"∞",tex:"infty",ttype:0},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:0},{input:"->",tag:"mo",output:"→",tex:"to",ttype:0},{input:"=>",tag:"mo",output:"⇒",tex:"implies",ttype:0},{input:"<=>",tag:"mo",output:"⇔",tex:"iff",ttype:0},{input:"rightleftharpoons",tag:"mo",output:"⇌",tex:null,ttype:0},{input:"RR",tag:"mo",output:"ℝ",tex:"mathbb{R}",ttype:0,notexcopy:!0},{input:"f",tag:"mi",output:"f",tex:null,ttype:1,func:!0,val:!0},{input:"degree",tag:"mo",tex:null,ttype:0},{input:"degrees",output:"degree",ttype:8},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:1,func:!0},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:1,func:!0},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:1,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",tex:null,ttype:1,func:!0},{input:"arccos",tag:"mo",output:"arccos",tex:null,ttype:1,func:!0},{input:"arctan",tag:"mo",output:"arctan",tex:null,ttype:1,func:!0},{input:"arcsec",tag:"mo",output:"arcsec",tex:null,ttype:1,func:!0},{input:"arccsc",tag:"mo",output:"arccsc",tex:null,ttype:1,func:!0},{input:"arccot",tag:"mo",output:"arccot",tex:null,ttype:1,func:!0},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:1,func:!0},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:1,func:!0},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:1,func:!0},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:1,func:!0},{input:"coth",tag:"mo",output:"coth",tex:null,ttype:1,func:!0},{input:"sech",tag:"mo",output:"sech",tex:null,ttype:1,func:!0},{input:"csch",tag:"mo",output:"csch",tex:null,ttype:1,func:!0},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:1,func:!0},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:1,func:!0},{input:"log",tag:"mo",output:"log",tex:null,ttype:1,func:!0},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:1,func:!0},{input:"abs",tag:"mo",output:"abs",tex:null,ttype:1},{input:"Sin",tag:"mo",output:"sin",tex:null,ttype:1,func:!0},{input:"Cos",tag:"mo",output:"cos",tex:null,ttype:1,func:!0},{input:"Tan",tag:"mo",output:"tan",tex:null,ttype:1,func:!0},{input:"Arcsin",tag:"mo",output:"arcsin",tex:null,ttype:1,func:!0},{input:"Arccos",tag:"mo",output:"arccos",tex:null,ttype:1,func:!0},{input:"Arctan",tag:"mo",output:"arctan",tex:null,ttype:1,func:!0},{input:"Sinh",tag:"mo",output:"sinh",tex:null,ttype:1,func:!0},{input:"Sosh",tag:"mo",output:"cosh",tex:null,ttype:1,func:!0},{input:"Tanh",tag:"mo",output:"tanh",tex:null,ttype:1,func:!0},{input:"Cot",tag:"mo",output:"cot",tex:null,ttype:1,func:!0},{input:"Sec",tag:"mo",output:"sec",tex:null,ttype:1,func:!0},{input:"Csc",tag:"mo",output:"csc",tex:null,ttype:1,func:!0},{input:"Log",tag:"mo",output:"log",tex:null,ttype:1,func:!0},{input:"Ln",tag:"mo",output:"ln",tex:null,ttype:1,func:!0},{input:"Abs",tag:"mo",output:"abs",tex:null,ttype:1,func:!0},{input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:1},{input:"root",tag:"mroot",output:"root",tex:null,ttype:2},{input:"frac",tag:"mfrac",output:"/",tex:null,ttype:2},{input:"/",tag:"mfrac",output:"/",tex:null,ttype:3},{input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:2},{input:"_",tag:"msub",output:"_",tex:null,ttype:3},{input:"^",tag:"msup",output:"^",tex:null,ttype:3},{input:"Sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:1},{input:"hat",tag:"mover",output:"^",tex:null,ttype:1,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:1,acc:!0},{input:"vec",tag:"mover",output:"→",tex:null,ttype:1,acc:!0},{input:"text",tag:"mtext",output:"text",tex:null,ttype:10},{input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:10},t];function u(t,e){return t.input>e.input?1:-1}var p,n,l,a=[];function r(t,e){var u;u="\\"==t.charAt(e)&&"\\"!=t.charAt(e+1)&&" "!=t.charAt(e+1)?t.slice(e+1):t.slice(e);for(var p=0;p<u.length&&u.charCodeAt(p)<=32;p+=1);return u.slice(p)}function o(t,e,u){if(0==u){var p,n;for(u=-1,p=t.length;u+1<p;)t[n=u+p>>1]<e?u=n:p=n;return p}for(var l=u;l<t.length&&t[l]<e;l++);return l}function i(t){for(var u,p,r,i=0,c="",g=!0,s=1;s<=t.length&&g;s++)p=t.slice(0,s),(i=o(a,p,i))<a.length&&t.slice(0,a[i].length)==a[i]&&(u=i,s=(c=a[i]).length),g=i<a.length&&t.slice(0,a[i].length)>=a[i];if(n=l,""!=c)return l=e[u].ttype,e[u];l=0,i=1,p=t.slice(0,1);for(var m=!0;"0"<=p&&p<="9"&&i<=t.length;)p=t.slice(i,i+1),i++;if("."==p&&(p=t.slice(i,i+1),i++,"0"<=p&&p<="9"))for(m=!1;"0"<=p&&p<="9"&&i<=t.length;)p=t.slice(i,i+1),i++;return m&&i>1||i>2?(p=t.slice(0,i-1),r="mn"):(i=2,r=("A">(p=t.slice(0,1))||p>"Z")&&("a">p||p>"z")?"mo":"mi"),"-"==p&&" "!==t.charAt(1)&&3==n?(l=3,{input:p,tag:r,output:p,ttype:1,func:!0,val:!0}):{input:p,tag:r,output:p,ttype:0,val:!0}}function c(t){var e;if("{"==t.charAt(0)&&"}"==t.charAt(t.length-1)){var u=0;"\\left"==(e=t.substr(1,5))?"("==(e=t.charAt(6))||"["==e||"{"==e?u=7:"\\lbrace"==(e=t.substr(6,7))&&(u=13):"("!=(e=t.charAt(1))&&"["!=e||(u=2),u>0&&("\\right)}"==(e=t.substr(t.length-8))||"\\right]}"==e||"\\right.}"==e?t=(t="{"+t.substr(u)).substr(0,t.length-8)+"}":"\\rbrace}"==e&&(t=(t="{"+t.substr(u)).substr(0,t.length-14)+"}"))}return t}function g(t){return"boolean"==typeof t.val&&t.val?pre="":pre="\\",null==t.tex?pre+t.input:pre+t.tex}function s(t){return null==t.tex?t.input:"\\"+t.tex}function m(e){var u,n,l,a,o="";if(null==(u=i(e=r(e,0)))||5==u.ttype&&p>0)return[null,e];switch(8==u.ttype&&(u=i(e=u.output+r(e,u.input.length))),u.ttype){case 7:case 0:e=r(e,u.input.length);var x=g(u);return"\\"==x.charAt(0)||"mo"==u.tag?[x,e]:["{"+x+"}",e];case 4:if(p++,l=h(e=r(e,u.input.length),!0),p--,l[0].match(/bmatrix/))return[n=l[0].substring(0,l[0].length-7),l[1]];var y=0;return"\\right"==l[0].substr(0,6)&&(")"==(b=l[0].charAt(6))||"]"==b||"}"==b?y=6:"."==b?y=7:"\\rbrace"==(b=l[0].substr(6,7))&&(y=13)),y>0?(l[0]=l[0].substr(y),n="boolean"==typeof u.invisible&&u.invisible?"{"+l[0]+"}":"{"+s(u)+l[0]+"}"):n="boolean"==typeof u.invisible&&u.invisible?"{"+l[0]+"}":"{\\left"+s(u)+l[0]+"}",[n,l[1]];case 10:return u!=t&&(e=r(e,u.input.length)),-1==(a="{"==e.charAt(0)?e.indexOf("}"):"("==e.charAt(0)?e.indexOf(")"):"["==e.charAt(0)?e.indexOf("]"):u==t?e.slice(1).indexOf('"')+1:0)&&(a=e.length),[o+="\\text{"+(b=e.slice(1,a))+"}",e=r(e,a+1)];case 1:return null==(l=m(e=r(e,u.input.length)))[0]?["{"+g(u)+"}",e]:"boolean"==typeof u.func&&u.func?"^"==(b=e.charAt(0))||"_"==b||"/"==b||"|"==b||","==b||1==u.input.length&&u.input.match(/\w/)&&"("!=b?["{"+g(u)+"}",e]:[n="{"+g(u)+"{"+l[0]+"}}",l[1]]:(l[0]=c(l[0]),"sqrt"==u.input?["\\sqrt{"+l[0]+"}",l[1]]:"abs"==u.input?["\\left|{"+l[0]+"}\\right|",l[1]]:"cancel"==u.input?["\\cancel{"+l[0]+"}",l[1]]:void 0!==u.rewriteleftright?["{\\left"+u.rewriteleftright[0]+l[0]+"\\right"+u.rewriteleftright[1]+"}",l[1]]:"boolean"==typeof u.acc&&u.acc?[g(u)+"{"+l[0]+"}",l[1]]:["{"+g(u)+"{"+l[0]+"}}",l[1]]);case 2:if(null==(l=m(e=r(e,u.input.length)))[0])return["{"+g(u)+"}",e];l[0]=c(l[0]);var f=m(l[1]);return null==f[0]?["{"+g(u)+"}",e]:(f[0]=c(f[0]),[o="color"==u.input?"{\\color{"+l[0].replace(/[\{\}]/g,"")+"}"+f[0]+"}":"root"==u.input?"{\\sqrt["+l[0]+"]{"+f[0]+"}}":"{"+g(u)+"{"+l[0]+"}{"+f[0]+"}}",f[1]]);case 3:return e=r(e,u.input.length),[u.output,e];case 6:return e=r(e,u.input.length),["{\\quad\\text{"+u.input+"}\\quad}",e];case 9:p++,l=h(e=r(e,u.input.length),!1),p--;var b="";return"|"==(b=l[0].charAt(l[0].length-1))?[n="{\\left|"+l[0]+"}",l[1]]:[n="{\\mid}",e];default:return e=r(e,u.input.length),["{"+g(u)+"}",e]}}function x(t){var e,u,p,n,l;if(u=i(t=r(t,0)),n=(l=m(t))[0],3==(e=i(t=l[1])).ttype&&"/"!=e.input){if(null==(l=m(t=r(t,e.input.length)))[0]?l[0]="{}":l[0]=c(l[0]),t=l[1],"_"==e.input)if("^"==(p=i(t)).input){var a=m(t=r(t,p.input.length));a[0]=c(a[0]),t=a[1],n="{"+n,n+="_{"+l[0]+"}",n+="^{"+a[0]+"}",n+="}"}else n+="_{"+l[0]+"}";else n=n+"^{"+l[0]+"}";void 0!==u.func&&u.func&&3!=(p=i(t)).ttype&&5!=p.ttype&&(n="{"+n+(l=x(t))[0]+"}",t=l[1])}return[n,t]}var y=!0;function h(t,e){var u,n,l,a,o="",g=!1;do{n=(l=x(t=r(t,0)))[0],3==(u=i(t=l[1])).ttype&&"/"==u.input?(null==(l=x(t=r(t,u.input.length)))[0]?l[0]="{}":l[0]=c(l[0]),t=l[1],n="\\frac{"+(n=c(n))+"}",o+=n+="{"+l[0]+"}",u=i(t)):null!=n&&(o+=n)}while((5!=u.ttype&&(9!=u.ttype||e)||0==p)&&null!=u&&""!=u.output);if(5==u.ttype||9==u.ttype){var m=o.length;if(y&&m>2&&"{"==o.charAt(0)&&o.indexOf(",")>0){var h=o.charAt(m-2);if(")"==h||"]"==h){var f=o.charAt(6);if("("==f&&")"==h&&"}"!=u.output||"["==f&&"]"==h){var b="\\begin{bmatrix}",v=new Array;v.push(0);var d=!0,A=0,$=[];$[0]=[0];var w=0,_=0;for(a=1;a<m-1;a++)o.charAt(a)==f&&A++,o.charAt(a)==h&&0==--A&&","==o.charAt(a+2)&&"{"==o.charAt(a+3)&&(v.push(a+2),$[w=a+2]=[a+2]),"["!=o.charAt(a)&&"("!=o.charAt(a)&&"{"!=o.charAt(a)||_++,"]"!=o.charAt(a)&&")"!=o.charAt(a)&&"}"!=o.charAt(a)||_--,","==o.charAt(a)&&1==_&&$[w].push(a);v.push(m);var q=-1;if(0==A&&v.length>0)for(a=0;a<v.length-1;a++){if(a>0&&(b+="\\\\"),0==a)if(1==$[v[a]].length)var O=[o.substr(v[a]+7,v[a+1]-v[a]-15)];else{O=[o.substring(v[a]+7,$[v[a]][1])];for(var E=2;E<$[v[a]].length;E++)O.push(o.substring($[v[a]][E-1]+1,$[v[a]][E]));O.push(o.substring($[v[a]][$[v[a]].length-1]+1,v[a+1]-8))}else if(1==$[v[a]].length)O=[o.substr(v[a]+8,v[a+1]-v[a]-16)];else{for(O=[o.substring(v[a]+8,$[v[a]][1])],E=2;E<$[v[a]].length;E++)O.push(o.substring($[v[a]][E-1]+1,$[v[a]][E]));O.push(o.substring($[v[a]][$[v[a]].length-1]+1,v[a+1]-8))}q>0&&O.length!=q?d=!1:-1==q&&(q=O.length),b+=O.join("&")}b+="\\end{bmatrix}",d&&(o=b)}}}t=r(t,u.input.length),"boolean"==typeof u.invisible&&u.invisible||(o+=n="\\right"+s(u)),g=!0}return p>0&&!g&&(o+="\\right)"),[o,t]}return function(){var t,p=[];for(t=0;t<e.length;t++)!e[t].tex||"boolean"==typeof e[t].notexcopy&&e[t].notexcopy||(p[p.length]={input:e[t].tex,tag:e[t].tag,output:e[t].output,ttype:e[t].ttype,acc:e[t].acc||!1});for((e=e.concat(p)).sort(u),t=0;t<e.length;t++)a[t]=e[t].input}(),function(t,e,u){return p=0,!0===u&&(y=!1),t=t.replace(/(&nbsp;|\u00a0|&#160;|{::})/g,""),document.getElementById(e)&&document.getElementById(e).getAttribute("data-mq").match(/(ntuple|string)/)&&(t=t.replace(/<([^<].*?,.*?[^>])>/g,"<<$1>>")),t=(t=(t=(t=(t=(t=t.replace(/&gt;/g,">")).replace(/&lt;/g,"<")).replace(/\s*\bor\b\s*/g,'" or "')).replace(/all\s+real\s+numbers/g,'"all real numbers"')).replace(/(\)|\])\s*u\s*(\(|\[)/g,"$1U$2")).replace(/\bDNE\b/gi,'"DNE"'),document.getElementById(e)&&document.getElementById(e).getAttribute("data-mq").match(/interval/)&&(t=t.replace(/\bU\b/g,"cup")),null==t.match(/\S/)?"":h(t.replace(/^\s+/g,""),!1)[0]}}();function MQtoAM(t,e){var u,p,n,l,a,r;if(t=(t=t.replace(/\\:/g," ")).replace(/\\operatorname{(\w+)}/g," $1"),e)t=t.replace(/\\Re/g,"RR");else{for(;-1!=(r=t.lastIndexOf("\\left|"));)-1!=(p=t.indexOf("\\right|",r+1))?(n=t.substring(0,r).match(/(arcsinh|arccosh|arctanh|arcsech|arccsch|arccoth|arcsin|arccos|arctan|arcsec|arccsc|arccot|sinh|cosh|tanh|sech|csch|coth|ln|log|exp|sin|cos|tan|sec|csc|cot)(\^\d+)?$/),t=(t=t.substring(0,p)+")"+(n?")":"")+t.substring(p+7)).substring(0,r)+(n?"(":"")+"abs("+t.substring(r+6)):t=t.substring(0,r)+"|"+t.substring(r+6);t=(t=(t=(t=(t=t.replace(/\\text{\s*or\s*}/g," or ")).replace(/\\text{all\s+real\s+numbers}/g,"all real numbers")).replace(/\\text{DNE}/g,"DNE")).replace(/\\varnothing/g,"DNE")).replace(/\\Re/g,"all real numbers")}for(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\begin{.?matrix}(.*?)\\end{.?matrix}/g,(function(t,e){return"[("+e.replace(/\\\\/g,"),(").replace(/&/g,",")+")]"}))).replace(/\\le(?=(\b|\d))/g,"<=")).replace(/\\ge(?=(\b|\d))/g,">=")).replace(/\\ne(?=(\b|\d))/g,"!=")).replace(/\+\-/g,"+ -")).replace(/\\pm/g,"+-")).replace(/\\approx/g,"~~")).replace(/(\\arrow|\\rightarrow)/g,"rarr")).replace(/\\rightleftharpoons/g,"rightleftharpoons")).replace(/\\sim/g,"~")).replace(/\\vee/g,"vv").replace(/\\wedge/g," ^^ ")).replace(/\\Rightarrow/g,"=>").replace(/\\Leftrightarrow/g,"<=>")).replace(/\\times/g,"xx")).replace(/\\left\\{/g,"lbrace").replace(/\\right\\}/g,"rbrace")).replace(/\\left/g,"")).replace(/\\right/g,"")).replace(/\\langle/g,"<<")).replace(/\\rangle/g,">>")).replace(/\\cdot/g,"*")).replace(/\\infty/g,"oo")).replace(/\\nthroot/g,"root")).replace(/\\mid/g,"|")).replace(/\\/g,"")).replace(/sqrt\[(.*?)\]/g,"root($1)")).replace(/(\d)frac/g,"$1 frac")).replace(/degree/g,"degree ");-1!=(r=t.indexOf("frac{"));){for(u=1,l=r+5;u>0&&l<t.length-1;)l++,"{"==(a=t.charAt(l))?u++:"}"==a&&u--;t=0==u?t.substring(0,r)+"("+t.substring(r+5,l)+")/"+t.substring(l+1):t.substring(0,r)+t.substring(r+4)}return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/_(\w)(\w)/g,"_$1 $2")).replace(/(\^|_)([+\-])([^\^])/g,"$1$2 $3")).replace(/\^(\w)(\w)/g,"^$1 $2")).replace(/_{([\d\.]+)}\^/g,"_$1^")).replace(/_{([\d\.]+)}([^\^])/g,"_$1 $2")).replace(/_{([\d\.]+)}$/g,"_$1")).replace(/_{(\w+)}$/g,"_($1)")).replace(/{/g,"(").replace(/}/g,")")).replace(/lbrace/g,"{").replace(/rbrace/g,"}")).replace(/\(([\d\.]+)\)\/\(([\d\.]+)\)/g,"$1/$2 ")).replace(/\/\(([\d\.]+)\)/g,"/$1")).replace(/\(([\d\.]+)\)\//g,"$1/")).replace(/\/\(([a-zA-Z])\)/g,"/$1")).replace(/\(([a-zA-Z])\)\//g,"$1/")).replace(/\^\((-?[\d\.]+)\)(\d)/g,"^$1 $2")).replace(/\^\(-1\)/g,"^-1")).replace(/\^\((-?[\d\.]+)\)/g,"^$1")).replace(/\/\(([a-zA-Z])\^([\d\.]+)\)/g,"/$1^$2 ")).replace(/\(([a-zA-Z])\^([\d\.]+)\)\//g,"$1^$2/")).replace(/text\(([^)]*)\)/g,"$1")).replace(/\(\s*(\w)/g,"($1").replace(/(\w)\s*\)/g,"$1)")).replace(/^\s+|\s+$/g,"")}