!function(na,ba){function ua(m,g){for(var f,e=[],a=0;a<m.length;++a){var d;if(!(d=oa[m[a]]))a:{d=na;for(var b=m[a].split(/[.\/]/),c=0;c<b.length;++c){if(!d[b[c]]){d=void 0;break a}d=d[b[c]]}}if(f=d,!f)throw"module definition dependecy not found: "+m[a];e.push(f)}g.apply(null,e)}function z(m,g,f){if("string"!=typeof m)throw"invalid module definition, module id must be defined and be a string";if(g===ba)throw"invalid module definition, dependencies must be specified";if(f===ba)throw"invalid module definition, definition function must be specified";
ua(g,function(){oa[m]=f.apply(null,arguments)})}var oa={};z("tinymce/geom/Rect",[],function(){function m(d,b,c){var e,f,k,n,p,t;return e=b.x,f=b.y,k=d.w,n=d.h,p=b.w,t=b.h,c=(c||"").split(""),"b"===c[0]&&(f+=t),"r"===c[1]&&(e+=p),"c"===c[0]&&(f+=a(t/2)),"c"===c[1]&&(e+=a(p/2)),"b"===c[3]&&(f-=n),"r"===c[4]&&(e-=k),"c"===c[3]&&(f-=a(n/2)),"c"===c[4]&&(e-=a(k/2)),g(e,f,k,n)}function g(a,b,c,e){return{x:a,y:b,w:c,h:e}}var f=Math.min,e=Math.max,a=Math.round;return{inflate:function(a,b,c){return g(a.x-
b,a.y-c,a.w+2*b,a.h+2*c)},relativePosition:m,findBestRelativePosition:function(a,b,c,e){var f,k;for(k=0;k<e.length;k++)if(f=m(a,b,e[k]),f.x>=c.x&&f.x+f.w<=c.w+c.x&&f.y>=c.y&&f.y+f.h<=c.h+c.y)return e[k];return null},intersect:function(a,b){var c,l,q,k;return c=e(a.x,b.x),l=e(a.y,b.y),q=f(a.x+a.w,b.x+b.w),k=f(a.y+a.h,b.y+b.h),0>q-c||0>k-l?null:g(c,l,q-c,k-l)},clamp:function(a,b,c){var f,q,k,n,p,t,v,B,r,h;return p=a.x,t=a.y,v=a.x+a.w,B=a.y+a.h,r=b.x+b.w,h=b.y+b.h,f=e(0,b.x-p),q=e(0,b.y-t),k=e(0,v-r),
n=e(0,B-h),p+=f,t+=q,c&&(v+=f,B+=q,p-=k,t-=n),v-=k,B-=n,g(p,t,v-p,B-t)},create:g,fromClientRect:function(a){return g(a.left,a.top,a.width,a.height)}}});z("tinymce/util/Promise",[],function(){function m(a,b){return function(){a.apply(b,arguments)}}function g(b){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof b)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];c(b,m(e,this),m(a,this))}function f(a){var b=
this;return null===this._state?void this._deferreds.push(a):void l(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(b){try{if(b===this)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var f=b.then;if("function"==typeof f)return void c(m(f,b),m(e,this),m(a,this))}this._state=!0;this._value=
b;d.call(this)}catch(p){a.call(this,p)}}function a(a){this._state=!1;this._value=a;d.call(this)}function d(){for(var a=0,b=this._deferreds.length;b>a;a++)f.call(this,this._deferreds[a]);this._deferreds=null}function b(a,b,c,d){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof b?b:null;this.resolve=c;this.reject=d}function c(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){d||(d=!0,c(e))}}if(window.Promise)return window.Promise;var l=
g.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},q=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return g.prototype["catch"]=function(a){return this.then(null,a)},g.prototype.then=function(a,c){var d=this;return new g(function(e,l){f.call(d,new b(a,c,e,l))})},g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&q(arguments[0])?arguments[0]:arguments);return new g(function(b,c){function d(f,h){try{if(h&&
("object"==typeof h||"function"==typeof h)){var l=h.then;if("function"==typeof l)return void l.call(h,function(a){d(f,a)},c)}a[f]=h;0===--e&&b(a)}catch(w){c(w)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},g});z("tinymce/util/Delay",
["tinymce/util/Promise"],function(m){function g(a,b){function c(a){window.setTimeout(a,0)}var e,f=window.requestAnimationFrame,k=["ms","moz","webkit"];for(e=0;e<k.length&&!f;e++)f=window[k[e]+"RequestAnimationFrame"];f||(f=c);f(a,b)}function f(a,b){return"number"!=typeof b&&(b=0),setTimeout(a,b)}function e(a,b){return"number"!=typeof b&&(b=0),setInterval(a,b)}var a;return{requestAnimationFrame:function(d,b){return a?void a.then(d):void(a=(new m(function(a){b||(b=document.body);g(a,b)})).then(d))},
setTimeout:f,setInterval:e,setEditorTimeout:function(a,b,c){return f(function(){a.removed||b()},c)},setEditorInterval:function(a,b,c){var f;return f=e(function(){a.removed?clearInterval(f):b()},c)},throttle:function(a,b){var c,e;return e=function(){var e=arguments;clearTimeout(c);c=f(function(){a.apply(this,e)},b)},e.stop=function(){clearTimeout(c)},e},clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}}});z("tinymce/Env",[],function(){var m=navigator,
g=m.userAgent,f,e,a,d,b,c,l,q,k,n,p;f=window.opera&&window.opera.buildNumber;l=/Android/.test(g);e=/WebKit/.test(g);a=(a=!e&&!f&&/MSIE/gi.test(g)&&/Explorer/gi.test(m.appName))&&/MSIE (\w+)\./.exec(g)[1];d=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==m.appName.indexOf("Netscape")?!1:11;m=-1==g.indexOf("Edge/")||a||d?!1:12;a=a||d||m;d=!e&&!d&&/Gecko/.test(g);b=-1!=g.indexOf("Mac");c=/(iPad|iPhone)/.test(g);q="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;
k=("matchMedia"in window?matchMedia("only screen and (max-device-width: 480px)").matches:!1)&&(l||c);n=("matchMedia"in window?matchMedia("only screen and (min-width: 800px)").matches:!1)&&(l||c);p=-1!=g.indexOf("Windows Phone");m&&(e=!1);g=!c||q||534<=g.match(/AppleWebKit\/(\d*)/)[1];return{opera:f,webkit:e,ie:a,gecko:d,mac:b,iOS:c,android:l,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=a,range:window.getSelection&&
"Range"in window,documentMode:a&&!m?document.documentMode||7:10,fileApi:q,ceFalse:!1===a||8<a,desktop:!k&&!n,windowsPhone:p}});z("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(m,g){function f(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)}function e(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}function a(a,b){var c,d=b;return c=a.path,c&&0<c.length&&(d=c[0]),a.deepPath&&
(c=a.deepPath(),c&&0<c.length&&(d=c[0])),d}function d(b,c){function d(){return!1}function e(){return!0}var f,l=c||{};for(f in b)k[f]||(l[f]=b[f]);if(l.target||(l.target=l.srcElement||document),g.experimentalShadowDom&&(l.target=a(b,l.target)),b&&q.test(b.type)&&void 0===b.pageX&&void 0!==b.clientX){var h=l.target.ownerDocument||document;f=h.documentElement;h=h.body;l.pageX=b.clientX+(f&&f.scrollLeft||h&&h.scrollLeft||0)-(f&&f.clientLeft||h&&h.clientLeft||0);l.pageY=b.clientY+(f&&f.scrollTop||h&&h.scrollTop||
0)-(f&&f.clientTop||h&&h.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=e;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=e;b&&(b.stopPropagation?b.stopPropagation():b.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=e;l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=d,l.isPropagationStopped=d,l.isImmediatePropagationStopped=d),"undefined"==typeof l.metaKey&&
(l.metaKey=!1),l}function b(a,b,c){function d(){c.domLoaded||(c.domLoaded=!0,b(q))}function k(){("complete"===h.readyState||"interactive"===h.readyState&&h.body)&&(e(h,"readystatechange",k),d())}function l(){try{h.documentElement.doScroll("left")}catch(a){return void m.setTimeout(l)}d()}var h=a.document,q={type:"ready"};return c.domLoaded?void b(q):(h.addEventListener?"complete"===h.readyState?d():f(a,"DOMContentLoaded",d):(f(h,"readystatechange",k),h.documentElement.doScroll&&a.self===a.top&&l()),
void f(a,"load",d))}function c(){function a(b,c){var d,e,f,h;if(d=(d=k[c])&&d[b.type])for(e=0,f=d.length;f>e&&(h=d[e],h&&!1===h.func.call(h.scope,b)&&b.preventDefault(),!b.isImmediatePropagationStopped());e++);}var c=this,k={},v,q,r,h,A;q=l+(+new Date).toString(32);h="onmouseenter"in document.documentElement;r="onfocusin"in document.documentElement;A={mouseenter:"mouseover",mouseleave:"mouseout"};v=1;c.domLoaded=!1;c.events=k;c.bind=function(e,l,C,y){function x(b){a(d(b||M.event),g)}var g,m,N,H,I,
J,F,M=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[q]?g=e[q]:(g=v++,e[q]=g,k[g]={});y=y||e;l=l.split(" ");for(N=l.length;N--;)H=l[N],J=x,I=F=!1,"DOMContentLoaded"===H&&(H="ready"),c.domLoaded&&"ready"===H&&"complete"==e.readyState?C.call(y,d({type:H})):(h||(I=A[H],I&&(J=function(b){var c,e;if(c=b.currentTarget,e=b.relatedTarget,e&&c.contains)e=c.contains(e);else for(;e&&e!==c;)e=e.parentNode;e||(b=d(b||M.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=c,a(b,g))})),r||"focusin"!==
H&&"focusout"!==H||(F=!0,I="focusin"===H?"focus":"blur",J=function(b){b=d(b||M.event);b.type="focus"===b.type?"focusin":"focusout";a(b,g)}),m=k[g][H],m?"ready"===H&&c.domLoaded?C({type:H}):m.push({func:C,scope:y}):(k[g][H]=m=[{func:C,scope:y}],m.fakeName=I,m.capture=F,m.nativeHandler=J,"ready"===H?b(e,J,c):f(e,I||H,J,F)));return e=m=0,C}};c.unbind=function(a,b,d){var f,h,l,v,n,r;if(!a||3===a.nodeType||8===a.nodeType)return c;if(f=a[q]){if(r=k[f],b)for(b=b.split(" "),l=b.length;l--;){if(n=b[l],h=r[n]){if(d)for(v=
h.length;v--;)if(h[v].func===d){var A=h.nativeHandler,g=h.fakeName,m=h.capture;h=h.slice(0,v).concat(h.slice(v+1));h.nativeHandler=A;h.fakeName=g;h.capture=m;r[n]=h}d&&0!==h.length||(delete r[n],e(a,h.fakeName||n,h.nativeHandler,h.capture))}}else{for(n in r)h=r[n],e(a,h.fakeName||n,h.nativeHandler,h.capture);r={}}for(n in r)return c;delete k[f];try{delete a[q]}catch(M){a[q]=null}}return c};c.fire=function(b,e,f){if(!b||3===b.nodeType||8===b.nodeType)return c;f=d(null,f);f.type=e;f.target=b;do(e=b[q])&&
a(f,e),b=b.parentNode||b.ownerDocument||b.defaultView||b.parentWindow;while(b&&!f.isPropagationStopped());return c};c.clean=function(a){var b,d,e=c.unbind;if(!a||3===a.nodeType||8===a.nodeType)return c;if(a[q]&&e(a),a.getElementsByTagName||(a=a.document),a&&a.getElementsByTagName)for(e(a),d=a.getElementsByTagName("*"),b=d.length;b--;)a=d[b],a[q]&&e(a);return c};c.destroy=function(){k={}};c.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var l="mce-data-",q=/^(?:mouse|contextmenu)|click/,
k={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c});z("tinymce/dom/Sizzle",[],function(){function m(a,b,c,d){var e,f,h,k,p;if((b?b.ownerDocument||b:z)!==F&&J(b),b=b||F,c=c||[],!a||"string"!=typeof a)return c;if(1!==(k=b.nodeType)&&9!==k)return[];if(S&&!d){if(e=va.exec(a))if(h=e[1])if(9===k){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else{if(b.ownerDocument&&
(f=b.ownerDocument.getElementById(h))&&D(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return ha.apply(c,b.getElementsByTagName(a)),c;if((h=e[3])&&w.getElementsByClassName)return ha.apply(c,b.getElementsByClassName(h)),c}if(w.qsa&&(!K||!K.test(a))){if(f=e=G,h=b,p=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){k=x(a);(e=b.getAttribute("id"))?f=e.replace(wa,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(h=k.length;h--;)k[h]=f+n(k[h]);h=sa.test(a)&&q(b.parentNode)||b;p=k.join(",")}if(p)try{return ha.apply(c,
h.querySelectorAll(p)),c}catch(C){}finally{e||b.removeAttribute("id")}}}return E(a.replace(ia,"$1"),b,c,d)}function g(){function a(c,d){return b.push(c+" ")>u.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function f(a){return a[G]=!0,a}function e(a){var b=F.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function a(a,b){for(var c=a.split("|"),d=a.length;d--;)u.attrHandle[c[d]]=b}function d(a,b){var c=b&&a,d=c&&1===a.nodeType&&
1===b.nodeType&&(~b.sourceIndex||aa)-(~a.sourceIndex||aa);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function b(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function c(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return f(function(b){return b=+b,f(function(c,d){for(var e,f=a([],c.length,b),h=f.length;h--;)c[e=f[h]]&&(c[e]=!(d[e]=c[e]))})})}function q(a){return a&&typeof a.getElementsByTagName!==
Z&&a}function k(){}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function p(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Y++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,h){var k,p,C=[W,f];if(h)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,h))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(p=b[G]||(b[G]={}),(k=p[d])&&k[0]===W&&k[1]===f)return C[2]=k[2];if(p[d]=C,C[2]=a(b,c,h))return!0}}}function t(a){return 1<a.length?function(b,
c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function v(a,b,c,d,e){for(var f,h=[],k=0,p=a.length,C=null!=b;p>k;k++)(f=a[k])&&(c&&!c(f,d,e)||(h.push(f),C&&b.push(k)));return h}function B(a,b,c,d,e,h){return d&&!d[G]&&(d=B(d)),e&&!e[G]&&(e=B(e,h)),f(function(f,h,k,p){var C,l,y=[],t=[],n=h.length,x;if(!(x=f)){x=b||"*";for(var u=k.nodeType?[k]:k,r=[],q=0,A=u.length;A>q;q++)m(x,u[q],r);x=r}x=!a||!f&&b?x:v(x,y,a,k,p);u=c?e||(f?a:n||d)?[]:h:x;if(c&&c(x,u,k,p),d)for(C=v(u,t),d(C,[],
k,p),k=C.length;k--;)(l=C[k])&&(u[t[k]]=!(x[t[k]]=l));if(f){if(e||a){if(e){C=[];for(k=u.length;k--;)(l=u[k])&&C.push(x[k]=l);e(null,u=[],C,p)}for(k=u.length;k--;)(l=u[k])&&-1<(C=e?X.call(f,l):y[k])&&(f[C]=!(h[C]=l))}}else u=v(u===h?u.splice(n,u.length):u),e?e(null,h,u,p):ha.apply(h,u)})}function r(a){var b,c,d,e=a.length,f=u.relative[a[0].type];c=f||u.relative[" "];for(var h=f?1:0,k=p(function(a){return a===b},c,!0),C=p(function(a){return-1<X.call(b,a)},c,!0),l=[function(a,c,d){return!f&&(d||c!==
N)||((b=c).nodeType?k(a,c,d):C(a,c,d))}];e>h;h++)if(c=u.relative[a[h].type])l=[p(t(l),c)];else{if(c=u.filter[a[h].type].apply(null,a[h].matches),c[G]){for(d=++h;e>d&&!u.relative[a[d].type];d++);return B(1<h&&t(l),1<h&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&r(a.slice(h,d)),e>d&&r(a=a.slice(d)),e>d&&n(a))}l.push(c)}return t(l)}function h(a,b){var c=0<b.length,d=0<a.length,e=function(e,f,h,k,p){var C,l,y,t=0,n="0",x=e&&[],r=[],q=N,A=e||d&&u.find.TAG("*",p),
w=W+=null==q?1:Math.random()||.1,B=A.length;for(p&&(N=f!==F&&f);n!==B&&null!=(C=A[n]);n++){if(d&&C){for(l=0;y=a[l++];)if(y(C,f,h)){k.push(C);break}p&&(W=w)}c&&((C=!y&&C)&&t--,e&&x.push(C))}if(t+=n,c&&n!==t){for(l=0;y=b[l++];)y(x,r,f,h);if(e){if(0<t)for(;n--;)x[n]||r[n]||(r[n]=ea.call(k));r=v(r)}ha.apply(k,r);p&&!e&&0<r.length&&1<t+b.length&&m.uniqueSort(k)}return p&&(W=w,N=q),x};return c?f(e):e}var A,w,u,C,y,x,L,E,N,H,I,J,F,M,S,K,P,U,D,G="sizzle"+-new Date,z=window.document,W=0,Y=0,O=g(),ca=g(),Q=
g(),da=function(a,b){return a===b&&(I=!0),0},Z=typeof ba,aa=-2147483648,R={}.hasOwnProperty,V=[],ea=V.pop,fa=V.push,ha=V.push,ga=V.slice,X=V.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},ia=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),la=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ma=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ta=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),qa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
xa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ra={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ya=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,pa=
/^[^{]+\{\s*\[native \w/,va=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,wa=/'|\\/g,ja=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ka=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{ha.apply(V=ga.call(z.childNodes),z.childNodes),V[z.childNodes.length].nodeType}catch(Aa){ha={apply:V.length?function(a,b){fa.apply(a,ga.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);
a.length=c-1}}}w=m.support={};y=m.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};J=m.setDocument=function(a){var b,c=a?a.ownerDocument||a:z;a=c.defaultView;var f;if(c!==F&&9===c.nodeType&&c.documentElement){F=c;M=c.documentElement;S=!y(c);var h;if(h=a){a:{try{f=a.top;break a}catch(k){}f=null}h=a!==f}f=(h&&(a.addEventListener?a.addEventListener("unload",function(){J()},!1):a.attachEvent&&a.attachEvent("onunload",function(){J()})),w.attributes=e(function(a){return a.className=
"i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=pa.test(c.getElementsByClassName),w.getById=e(function(a){return M.appendChild(a).id=G,!c.getElementsByName||!c.getElementsByName(G).length}),w.getById?(u.find.ID=function(a,b){if(typeof b.getElementById!==Z&&S){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},u.filter.ID=function(a){var b=a.replace(ja,ka);return function(a){return a.getAttribute("id")===
b}}):(delete u.find.ID,u.filter.ID=function(a){var b=a.replace(ja,ka);return function(a){return(a=typeof a.getAttributeNode!==Z&&a.getAttributeNode("id"))&&a.value===b}}),u.find.TAG=w.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==Z?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},u.find.CLASS=w.getElementsByClassName&&function(a,b){return S?b.getElementsByClassName(a):
void 0},P=[],K=[],(w.qsa=pa.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||K.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||K.push(":checked")}),
e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&K.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||K.push(":enabled",":disabled");a.querySelectorAll("*,:x");K.push(",.*:")})),(w.matchesSelector=pa.test(U=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&e(function(a){w.disconnectedMatch=U.call(a,"div");U.call(a,
"[s!='']:x");P.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),K=K.length&&new RegExp(K.join("|")),P=P.length&&new RegExp(P.join("|")),b=pa.test(M.compareDocumentPosition),D=b||
pa.test(M.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},da=b?function(a,b){if(a===b)return I=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!w.sortDetached&&b.compareDocumentPosition(a)===
d?a===c||a.ownerDocument===z&&D(z,a)?-1:b===c||b.ownerDocument===z&&D(z,b)?1:H?X.call(H,a)-X.call(H,b):0:4&d?-1:1)}:function(a,b){if(a===b)return I=!0,0;var e,f=0;e=a.parentNode;var h=b.parentNode,k=[a],p=[b];if(!e||!h)return a===c?-1:b===c?1:e?-1:h?1:H?X.call(H,a)-X.call(H,b):0;if(e===h)return d(a,b);for(e=a;e=e.parentNode;)k.unshift(e);for(e=b;e=e.parentNode;)p.unshift(e);for(;k[f]===p[f];)f++;return f?d(k[f],p[f]):k[f]===z?-1:p[f]===z?1:0},c)}else f=F;return f};m.matches=function(a,b){return m(a,
null,null,b)};m.matchesSelector=function(a,b){if((a.ownerDocument||a)!==F&&J(a),b=b.replace(ta,"='$1']"),!(!w.matchesSelector||!S||P&&P.test(b)||K&&K.test(b)))try{var c=U.call(a,b);if(c||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<m(b,F,null,[a]).length};m.contains=function(a,b){return(a.ownerDocument||a)!==F&&J(a),D(a,b)};m.attr=function(a,b){(a.ownerDocument||a)!==F&&J(a);var c=u.attrHandle[b.toLowerCase()],c=c&&R.call(u.attrHandle,b.toLowerCase())?c(a,
b,!S):ba;return c!==ba?c:w.attributes||!S?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};m.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};m.uniqueSort=function(a){var b,c=[],d=0,e=0;if(I=!w.detectDuplicates,H=!w.sortStable&&a.slice(0),a.sort(da),I){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return H=null,a};C=m.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;
for(a=a.firstChild;a;a=a.nextSibling)c+=C(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=C(b);return c};u=m.selectors={cacheLength:50,createPseudo:f,match:ra,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ja,ka),a[3]=(a[3]||a[4]||a[5]||"").replace(ja,ka),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=
a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||m.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&m.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ra.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&qa.test(c)&&(b=x(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ja,ka).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&
a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=O[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),O(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==Z&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(d){d=m.attr(d,a);return null==d?"!="===b:b?(d+="","="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+
d+" ").indexOf(c):"|="===b?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),h="last"!==a.slice(-4),k="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,p){var C,l,y,t,n;c=f!==h?"nextSibling":"previousSibling";var v=b.parentNode,x=k&&b.nodeName.toLowerCase();p=!p&&!k;if(v){if(f){for(;c;){for(l=b;l=l[c];)if(k?l.nodeName.toLowerCase()===x:1===l.nodeType)return!1;n=c="only"===a&&!n&&"nextSibling"}return!0}if(n=[h?v.firstChild:
v.lastChild],h&&p)for(p=v[G]||(v[G]={}),C=p[a]||[],t=C[0]===W&&C[1],y=C[0]===W&&C[2],l=t&&v.childNodes[t];l=++t&&l&&l[c]||(y=t=0)||n.pop();){if(1===l.nodeType&&++y&&l===b){p[a]=[W,t,y];break}}else if(p&&(C=(b[G]||(b[G]={}))[a])&&C[0]===W)y=C[1];else for(;(l=++t&&l&&l[c]||(y=t=0)||n.pop())&&((k?l.nodeName.toLowerCase()!==x:1!==l.nodeType)||!++y||(p&&((l[G]||(l[G]={}))[a]=[W,y]),l!==b)););return y-=e,y===d||0===y%d&&0<=y/d}}},PSEUDO:function(a,b){var c,d=u.pseudos[a]||u.setFilters[a.toLowerCase()]||
m.error("unsupported pseudo: "+a);return d[G]?d(b):1<d.length?(c=[a,a,"",b],u.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,c){for(var e,f=d(a,b),h=f.length;h--;)e=X.call(a,f[h]),a[e]=!(c[e]=f[h])}):function(a){return d(a,0,c)}):d}},pseudos:{not:f(function(a){var b=[],c=[],d=L(a.replace(ia,"$1"));return d[G]?f(function(a,b,c,e){var f;c=d(a,null,e,[]);for(e=a.length;e--;)(f=c[e])&&(a[e]=!(b[e]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:f(function(a){return function(b){return 0<
m(a,b).length}}),contains:f(function(a){return a=a.replace(ja,ka),function(b){return-1<(b.textContent||b.innerText||C(b)).indexOf(a)}}),lang:f(function(a){return xa.test(a||"")||m.error("unsupported lang: "+a),a=a.replace(ja,ka).toLowerCase(),function(b){var c;do if(c=S?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&
b.slice(1)===a.id},root:function(a){return a===M},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>
a.nodeType)return!1;return!0},parent:function(a){return!u.pseudos.empty(a)},header:function(a){return za.test(a.nodeName)},input:function(a){return ya.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,c){return[0>
c?c+b:c]}),even:l(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:l(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:l(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:l(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};u.pseudos.nth=u.pseudos.eq;for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[A]=b(A);for(A in{submit:!0,reset:!0})u.pseudos[A]=c(A);return k.prototype=u.filters=u.pseudos,u.setFilters=new k,x=m.tokenize=function(a,
b){var c,d,e,f,h,k,p;if(h=ca[a+" "])return b?0:h.slice(0);h=a;k=[];for(p=u.preFilter;h;){c&&!(d=la.exec(h))||(d&&(h=h.slice(d[0].length)||h),k.push(e=[]));c=!1;(d=ma.exec(h))&&(c=d.shift(),e.push({value:c,type:d[0].replace(ia," ")}),h=h.slice(c.length));for(f in u.filter)!(d=ra[f].exec(h))||p[f]&&!(d=p[f](d))||(c=d.shift(),e.push({value:c,type:f,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?m.error(a):ca(a,k).slice(0)},L=m.compile=function(a,b){var c,d=[],e=[],f=Q[a+" "];if(!f){b||
(b=x(a));for(c=b.length;c--;)f=r(b[c]),f[G]?d.push(f):e.push(f);f=Q(a,h(e,d));f.selector=a}return f},E=m.select=function(a,b,c,d){var e,f,h,k,p,C="function"==typeof a&&a,l=!d&&x(a=C.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),2<f.length&&"ID"===(h=f[0]).type&&w.getById&&9===b.nodeType&&S&&u.relative[f[1].type]){if(b=(u.find.ID(h.matches[0].replace(ja,ka),b)||[])[0],!b)return c;C&&(b=b.parentNode);a=a.slice(f.shift().value.length)}for(e=ra.needsContext.test(a)?0:f.length;e--&&(h=
f[e],!u.relative[k=h.type]);)if((p=u.find[k])&&(d=p(h.matches[0].replace(ja,ka),sa.test(f[0].type)&&q(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ha.apply(c,d),c;break}}return(C||L(a,l))(d,b,!S,c,sa.test(a)&&q(b.parentNode)||b),c},w.sortStable=G.split("").sort(da).join("")===G,w.detectDuplicates=!!I,J(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||
a("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||a("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||a("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),m});z("tinymce/util/Arr",[],function(){function m(e,a,d){var b,c;if(!e)return 0;if(d=d||e,e.length!==ba)for(b=0,c=e.length;c>b;b++){if(!1===a.call(d,e[b],b,e))return 0}else for(b in e)if(e.hasOwnProperty(b)&&!1===a.call(d,e[b],b,e))return 0;return 1}function g(e,a,d){var b,c;b=0;for(c=e.length;c>b;b++)if(a.call(d,e[b],b,e))return b;return-1}var f=Array.isArray||function(e){return"[object Array]"===
Object.prototype.toString.call(e)};return{isArray:f,toArray:function(e){var a=e,d,b;if(!f(e))for(a=[],d=0,b=e.length;b>d;d++)a[d]=e[d];return a},each:m,map:function(e,a){var d=[];return m(e,function(b,c){d.push(a(b,c,e))}),d},filter:function(e,a){var d=[];return m(e,function(b,c){a&&!a(b,c,e)||d.push(b)}),d},indexOf:function(e,a){var d,b;if(e)for(d=0,b=e.length;b>d;d++)if(e[d]===a)return d;return-1},reduce:function(e,a,d,b){var c=0;for(3>arguments.length&&(d=e[0]);c<e.length;c++)d=a.call(b,d,e[c],
c);return d},findIndex:g,find:function(e,a,d){a=g(e,a,d);return-1!==a?e[a]:ba},last:function(e){return e[e.length-1]}}});z("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(m,g){function f(a){return null===a||a===ba?"":(""+a).replace(d,"")}function e(a,c){return c?"array"==c&&g.isArray(a)?!0:typeof a==c:a!==ba}function a(b,c,d,e){e=e||this;b&&(d&&(b=b[d]),g.each(b,function(b,f){return!1===c.call(e,b,f,d)?!1:void a(b,c,d,e)}))}var d=/^\s*|\s*$/g;return{trim:f,isArray:g.isArray,is:e,
toArray:g.toArray,makeMap:function(a,c,d){a=a||[];"string"==typeof a&&(a=a.split(c||","));d=d||{};for(c=a.length;c--;)d[a[c]]={};return d},each:g.each,map:g.map,grep:g.filter,inArray:g.indexOf,extend:function(a,c){var d,e,f,n=arguments,p;d=1;for(e=n.length;e>d;d++)for(f in c=n[d],c)c.hasOwnProperty(f)&&(p=c[f],p!==ba&&(a[f]=p));return a},create:function(a,c,d){var e,f,n,p,t,v=0;if(a=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(a),n=a[3].match(/(^|\.)(\w+)$/i)[2],f=this.createNS(a[3].replace(/\.\w+$/,
""),d),!f[n]){if("static"==a[2])return f[n]=c,void(this.onCreate&&this.onCreate(a[2],a[3],f[n]));c[n]||(c[n]=function(){},v=1);f[n]=c[n];this.extend(f[n].prototype,c);a[5]&&(e=this.resolve(a[5]).prototype,p=a[5].match(/\.(\w+)$/i)[1],t=f[n],v?f[n]=function(){return e[p].apply(this,arguments)}:f[n]=function(){return this.parent=e[p],t.apply(this,arguments)},f[n].prototype[n]=f[n],this.each(e,function(a,b){f[n].prototype[b]=e[b]}),this.each(c,function(a,b){e[b]?f[n].prototype[b]=function(){return this.parent=
e[b],a.apply(this,arguments)}:b!=n&&(f[n].prototype[b]=a)}));this.each(c["static"],function(a,b){f[n][b]=a})}},walk:a,createNS:function(a,c){var d,e;c=c||window;a=a.split(".");for(d=0;d<a.length;d++)e=a[d],c[e]||(c[e]={}),c=c[e];return c},resolve:function(a,c){var d,e;c=c||window;a=a.split(".");d=0;for(e=a.length;e>d&&(c=c[a[d]],c);d++);return c},explode:function(a,c){return!a||e(a,"array")?a:g.map(a.split(c||","),f)},_addCacheSuffix:function(a){var c=m.cacheSuffix;return c&&(a+=(-1===a.indexOf("?")?
"?":"&")+c),a}}});z("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(m,g,f,e){function a(a){return"undefined"!=typeof a}function d(a,b){var c,d,e;b=b||A;e=b.createElement("div");c=b.createDocumentFragment();for(e.innerHTML=a;d=e.firstChild;)c.appendChild(d);return c}function b(a,c,e,f){var h;if("string"==typeof c)c=d(c,t(a[0]));else if(c.length&&!c.nodeType){if(c=q.makeArray(c),f)for(h=c.length-1;0<=h;h--)b(a,c[h],e,f);else for(h=0;h<
c.length;h++)b(a,c[h],e,f);return a}if(c.nodeType)for(h=a.length;h--;)e.call(a[h],c);return a}function c(a,b){return a&&b&&-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function l(a,b,c){var d,e;return b=q(b)[0],a.each(function(){c&&d==this.parentNode?e.appendChild(this):(d=this.parentNode,e=b.cloneNode(!1),this.parentNode.insertBefore(e,this),e.appendChild(this))}),a}function q(a,b){return new q.fn.init(a,b)}function k(a){return null===a||a===x?"":(""+a).replace(M,"")}function n(a,b){var c,d,e;if(a)if(c=
a.length,void 0===c)for(d in a){if(a.hasOwnProperty(d)&&(e=a[d],!1===b.call(e,d,e)))break}else for(d=0;c>d&&(e=a[d],!1!==b.call(e,d,e));d++);return a}function p(a,b){var c=[];return n(a,function(a,d){b(d,a)&&c.push(d)}),c}function t(a){return a?9==a.nodeType?a:a.ownerDocument:A}function v(a,b,c){var d=[];a=a[b];for("string"!=typeof c&&c instanceof q&&(c=c[0]);a&&9!==a.nodeType;){if(c!==ba){if(a===c)break;if("string"==typeof c&&q(a).is(c))break}1===a.nodeType&&d.push(a);a=a[b]}return d}function B(a,
b,c,d){var e=[];for(d instanceof q&&(d=d[0]);a;a=a[b])if(!c||a.nodeType===c){if(d!==ba){if(a===d)break;if("string"==typeof d&&q(a).is(d))break}e.push(a)}return e}function r(a,b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function h(a,b,c){n(c,function(c,d){a[c]=a[c]||{};a[c][b]=d})}var A=document,w=Array.prototype.push,u=Array.prototype.slice,C=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,y=m.Event,x,L=f.makeMap("children,contents,next,prev"),E=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
" "),N=f.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),H={"for":"htmlFor","class":"className",readonly:"readOnly"},I={"float":"cssFloat"},J={},F={},M=/^\s*|\s*$/g;return q.fn=q.prototype={constructor:q,selector:"",context:null,length:0,init:function(a,b){var c,e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b&&b.nodeType)this.context=b;else{if(b)return q(a).attr(b);this.context=b=document}if("string"==
typeof a){if(this.selector=a,c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:C.exec(a),!c)return q(b).find(a);if(c[1])for(e=d(a,t(b)).firstChild;e;)w.call(this,e),e=e.nextSibling;else{if(e=t(b).getElementById(c[2]),!e)return this;if(e.id!==c[2])return this.find(a);this.length=1;this[0]=e}}else this.add(a,!1);return this},toArray:function(){return f.toArray(this)},add:function(a,b){var c,d;if("string"==typeof a)return this.add(q(a));if(!1!==b)for(c=q.unique(this.toArray().concat(q.makeArray(a))),
this.length=c.length,d=0;d<c.length;d++)this[d]=c[d];else w.apply(this,q.makeArray(a));return this},attr:function(b,c){var d=this,e;if("object"==typeof b)n(b,function(a,b){d.attr(a,b)});else{if(!a(c)){if(d[0]&&1===d[0].nodeType){if(e=J[b],e&&e.get)return e.get(d[0],b);if(N[b])return d.prop(b)?b:x;c=d[0].getAttribute(b,2);null===c&&(c=x)}return c}this.each(function(){var a;if(1===this.nodeType){if(a=J[b],a&&a.set)return void a.set(this,c);null===c?this.removeAttribute(b,2):this.setAttribute(b,c,2)}})}return d},
removeAttr:function(a){return this.attr(a,null)},prop:function(b,c){var d=this;if(b=H[b]||b,"object"==typeof b)n(b,function(a,b){d.prop(a,b)});else{if(!a(c))return d[0]&&d[0].nodeType&&b in d[0]?d[0][b]:c;this.each(function(){1==this.nodeType&&(this[b]=c)})}return d},css:function(b,c){function d(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function e(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var f=this,h,k;if("object"==typeof b)n(b,function(a,b){f.css(a,b)});else if(a(c))b=
d(b),"number"!=typeof c||E[b]||(c+="px"),f.each(function(){var a=this.style;if(k=F[b],k&&k.set)return void k.set(this,c);try{this.style[I[b]||b]=c}catch(d){}null!==c&&""!==c||(a.removeProperty?a.removeProperty(e(b)):a.removeAttribute(b))});else{if(h=f[0],k=F[b],k&&k.get)return k.get(h);if(h.ownerDocument.defaultView)try{return h.ownerDocument.defaultView.getComputedStyle(h,null).getPropertyValue(e(b))}catch(p){return x}else if(h.currentStyle)return h.currentStyle[d(b)]}return f},remove:function(){for(var a,
b=this.length;b--;)a=this[b],y.clean(a),a.parentNode&&a.parentNode.removeChild(a);return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(b){var c;if(a(b)){c=this.length;try{for(;c--;)this[c].innerHTML=b}catch(d){q(this[c]).empty().append(b)}return this}return this[0]?this[0].innerHTML:""},text:function(b){var c;if(a(b)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=b:this[0].textContent=b;return this}return this[0]?
this[0].innerText||this[0].textContent:""},append:function(){return b(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return b(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?b(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?
b(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){return q(a).append(this),this},prependTo:function(a){return q(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return l(this,a)},wrapAll:function(a){return l(this,a,!0)},wrapInner:function(a){return this.each(function(){q(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){q(this).replaceWith(this.childNodes)})},
clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),q(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(a,b){var d=this;return"string"!=typeof a?d:(-1!==a.indexOf(" ")?n(a.split(" "),function(){d.toggleClass(this,b)}):d.each(function(d,e){var f,h;h=c(e,a);h!==b&&(f=e.className,h?e.className=k((" "+f+" ").replace(" "+a+" "," ")):e.className+=f?" "+a:a)}),d)},hasClass:function(a){return c(this[0],
a)},each:function(a){return n(this,a)},on:function(a,b){return this.each(function(){y.bind(this,a,b)})},off:function(a,b){return this.each(function(){y.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?y.fire(this,a.type,a):y.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new q(u.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},find:function(a){var b,c,d=[];b=0;for(c=this.length;c>b;b++)q.find(a,this[b],d);return q(d)},filter:function(a){return q("function"==typeof a?p(this.toArray(),function(b,c){return a(c,b)}):q.filter(a,this.toArray()))},closest:function(a){var b=[];return a instanceof q&&(a=a[0]),this.each(function(c,d){for(;d;){if("string"==typeof a&&q(d).is(a)){b.push(d);break}if(d==a){b.push(d);break}d=d.parentNode}}),q(b)},offset:function(a){var b,c,d,e=0,f=0,h;return a?this.css(a):
(b=this[0],b&&(c=b.ownerDocument,d=c.documentElement,b.getBoundingClientRect&&(h=b.getBoundingClientRect(),e=h.left+(d.scrollLeft||c.body.scrollLeft)-d.clientLeft,f=h.top+(d.scrollTop||c.body.scrollTop)-d.clientTop)),{left:e,top:f})},push:w,sort:[].sort,splice:[].splice},f.extend(q,{extend:f.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:f.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:f.isArray,
each:n,trim:k,grep:p,find:g,expr:g.selectors,unique:g.uniqueSort,text:g.getText,contains:g.contains,filter:function(a,b,c){var d=b.length;for(c&&(a=":not("+a+")");d--;)1!=b[d].nodeType&&b.splice(d,1);return 1===b.length?q.find.matchesSelector(b[0],a)?[b[0]]:[]:q.find.matches(a,b)}}),n({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return v(a,"parentNode")},next:function(a){return r(a,"nextSibling",1)},prev:function(a){return r(a,"previousSibling",1)},children:function(a){return B(a.firstChild,
"nextSibling",1)},contents:function(a){return f.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){q.fn[a]=function(c){var d=[];return this.each(function(){var a=b.call(d,this,c,d);a&&(q.isArray(a)?d.push.apply(d,a):d.push(a))}),1<this.length&&(L[a]||(d=q.unique(d)),0===a.indexOf("parents")&&(d=d.reverse())),d=q(d),c?d.filter(c):d}}),n({parentsUntil:function(a,b){return v(a,"parentNode",b)},nextUntil:function(a,b){return B(a,"nextSibling",1,b).slice(1)},
prevUntil:function(a,b){return B(a,"previousSibling",1,b).slice(1)}},function(a,b){q.fn[a]=function(c,d){var e=[];return this.each(function(){var a=b.call(e,this,c,e);a&&(q.isArray(a)?e.push.apply(e,a):e.push(a))}),1<this.length&&(e=q.unique(e),0!==a.indexOf("parents")&&"prevUntil"!==a||(e=e.reverse())),e=q(e),d?e.filter(d):e}}),q.fn.is=function(a){return!!a&&0<this.filter(a).length},q.fn.init.prototype=q.fn,q.overrideDefaults=function(a){function b(d,e){return c=c||a(),0===arguments.length&&(d=c.element),
e||(e=c.context),new b.fn.init(d,e)}var c;return q.extend(b,this),b},e.ie&&8>e.ie&&(h(J,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?x:a},size:function(a){a=a.size;return 20===a?x:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?x:a}}),h(J,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}})),e.ie&&9>e.ie&&(I["float"]="styleFloat",h(F,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):
(c.zoom=1,c.filter="alpha(opacity="+100*b+")")}})),q.attrHooks=J,q.cssHooks=F,q});z("tinymce/html/Styles",[],function(){return function(m,g){function f(a,b,c,d){function e(a){return a=parseInt(a,10).toString(16),1<a.length?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,d=/\s*([^:]+):\s*([^;]+);?/g,b=/\s+$/,c,l={},q,k,n;
m=m||{};g&&(k=g.getValidStyles(),n=g.getInvalidStyles());q="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(c=0;c<q.length;c++)l[q[c]]="\ufeff"+c,l["\ufeff"+c]=q[c];return{toHex:function(a){return a.replace(e,f)},parse:function(k){function t(a,b,d){var e,f,h,k;if(e=w[a+"-top"+b],e&&(f=w[a+"-right"+b],f&&(h=w[a+"-bottom"+b],h&&(k=w[a+"-left"+b])))){e=[e,f,h,k];for(c=e.length-1;c--&&e[c]===e[c+1];);-1<c&&d||(w[a+b]=-1==c?e[0]:e.join(" "),delete w[a+"-top"+b],delete w[a+"-right"+b],delete w[a+"-bottom"+
b],delete w[a+"-left"+b])}}function n(a){var b=w[a],c;if(b){b=b.split(" ");for(c=b.length;c--;)if(b[c]!==b[0])return!1;return w[a]=b[0],!0}}function q(a,b,c,d){n(b)&&n(c)&&n(d)&&(w[a]=w[b]+" "+w[c]+" "+w[d],delete w[b],delete w[c],delete w[d])}function r(a){return x=!0,l[a]}function h(a,b){return x&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return l[a]})),b||(a=a.replace(/\\([\'\";:])/g,"$1")),a}function A(a,b,c,d,e,f){if(e=e||f)return e=h(e),"'"+e.replace(/\'/g,"\\'")+"'";if(b=h(b||c||d),!m.allow_script_urls)if(a=
b.replace(/[\s\r\n]+/,""),/(java|vb)script:/i.test(a)||!m.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return"";return g&&(b=g.call(E,b,"style")),"url('"+b.replace(/\'/g,"\\'")+"')"}var w={},u,C,y,x,g=m.url_converter,E=m.url_converter_scope||this;if(k){k=k.replace(/[\u0000-\u001F]/g,"");for(k=k.replace(/\\[\"\';:\uFEFF]/g,r).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,r)});u=d.exec(k);){if(C=u[1].replace(b,"").toLowerCase(),y=u[2].replace(b,""),y=y.replace(/\\[0-9a-f]+/g,
function(a){return String.fromCharCode(parseInt(a.substr(1),16))}),C&&0<y.length){if(!m.allow_script_urls&&("behavior"==C||/expression\s*\(|\/\*|\*\//.test(y)))continue;"font-weight"===C&&"700"===y?y="bold":"color"!==C&&"background-color"!==C||(y=y.toLowerCase());y=y.replace(e,f);y=y.replace(a,A);w[C]=x?h(y,!0):y}d.lastIndex=u.index+u[0].length}t("border","",!0);t("border","-width");t("border","-color");t("border","-style");t("padding","");t("margin","");q("border","border-width","border-style","border-color");
"medium none"===w.border&&delete w.border;"none"===w["border-image"]&&delete w["border-image"]}return w},serialize:function(a,b){function c(b){var d,f,h,l;if(d=k[b])for(f=0,h=d.length;h>f;f++)b=d[f],l=a[b],void 0!==l&&0<l.length&&(e+=(0<e.length?" ":"")+b+": "+l+";")}function d(a,b){var c;return c=n["*"],c&&c[a]?!1:(c=n[b],!c||!c[a])}var e="",f,l;if(b&&k)c("*"),c(b);else for(f in a)l=a[f],void 0!==l&&0<l.length&&(n&&!d(f,b)||(e+=(0<e.length?" ":"")+f+": "+l+";"));return e}}}});z("tinymce/dom/TreeWalker",
[],function(){return function(m,g){function f(a,d,b,c){if(a){if(!c&&a[d])return a[d];if(a!=g){if(d=a[b])return d;for(a=a.parentNode;a&&a!=g;a=a.parentNode)if(d=a[b])return d}}}var e=m;this.current=function(){return e};this.next=function(a){return e=f(e,"firstChild","nextSibling",a)};this.prev=function(a){return e=f(e,"lastChild","previousSibling",a)};this.prev2=function(a){var d;a:{var b;if(e){if(d=e.previousSibling,g&&d===g){d=void 0;break a}if(d){if(!a)for(a=d.lastChild;a;a=a.lastChild)if(!a.lastChild){d=
a;break a}break a}if(b=e.parentNode,b&&b!==g){d=b;break a}}d=void 0}return e=d}}});z("tinymce/dom/Range",["tinymce/util/Tools"],function(m){function g(f){function e(a,b){k(u,a,b)}function a(a,b){k(C,a,b)}function d(a){e(a.parentNode,H(a))}function b(b){a(b.parentNode,H(b)+1)}function c(){return n(A)}function l(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function q(a,b,c,d){var e,h;if(a==c)return b==d?0:d>b?-1:1;for(e=c;e&&e.parentNode!=a;)e=
e.parentNode;if(e){h=0;for(c=a.firstChild;c!=e&&b>h;)h++,c=c.nextSibling;return h>=b?-1:1}for(e=a;e&&e.parentNode!=c;)e=e.parentNode;if(e){h=0;for(c=c.firstChild;c!=e&&d>h;)h++,c=c.nextSibling;return d>h?-1:1}for(b=f.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(d=c;d&&d.parentNode!=b;)d=d.parentNode;if(d||(d=b),a==d)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==d)return 1;c=c.nextSibling}}function k(a,b,c){a?(r[x]=b,r[y]=c):(r[L]=b,r[E]=c);for(b=r[L];b.parentNode;)b=
b.parentNode;for(c=r[x];c.parentNode;)c=c.parentNode;c==b?0<q(r[x],r[y],r[L],r[E])&&r.collapse(a):r.collapse(a);r.collapsed=r[x]==r[L]&&r[y]==r[E];r.commonAncestorContainer=f.findCommonAncestor(r[x],r[L])}function n(a){var b,c=0,d=0,e;if(r[x]==r[L]){var f,k,n,v,q;if(a!=w&&(b=h.createDocumentFragment()),r[y]==r[E])a=b;else if(3==r[x].nodeType)a=(f=r[x].nodeValue,k=f.substring(r[y],r[E]),a!=A&&(e=r[x],v=r[y],q=r[E]-r[y],0===v&&q>=e.nodeValue.length-1?e.parentNode.removeChild(e):e.deleteData(v,q),r.collapse(u)),
a==w)?void 0:(0<k.length&&b.appendChild(h.createTextNode(k)),b);else{e=l(r[x],r[y]);for(n=r[E]-r[y];e&&0<n;)c=e.nextSibling,e=B(e,a),b&&b.appendChild(e),--n,e=c;a=(a!=A&&r.collapse(u),b)}return a}b=r[L];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[x]){n=b;e=d=c=b=void 0;if(!(a!=w&&(b=h.createDocumentFragment()),c=p(n,a),b&&b.appendChild(c),d=H(n),e=d-r[y],0>=e))for(c=n.previousSibling;0<e;)d=c.previousSibling,c=B(c,a),b&&b.insertBefore(c,b.firstChild),--e,c=d;a=(a!=A&&(r.setEndBefore(n),r.collapse(C)),
b);return a}++c}b=r[x];for(e=b.parentNode;e;b=e,e=e.parentNode){if(e==r[L]){n=b;b=void 0;a!=w&&(b=h.createDocumentFragment());d=t(n,a);b&&b.appendChild(d);e=H(n);++e;e=r[E]-e;for(d=n.nextSibling;d&&0<e;)c=d.nextSibling,d=B(d,a),b&&b.appendChild(d),--e,d=c;return a!=A&&(r.setStartAfter(n),r.collapse(u)),b}++d}c=d-c;for(b=r[x];0<c;)b=b.parentNode,c--;for(e=r[L];0>c;)e=e.parentNode,c++;c=b.parentNode;for(d=e.parentNode;c!=d;c=c.parentNode,d=d.parentNode)b=c,e=d;a!=w&&(n=h.createDocumentFragment());c=
t(b,a);n&&n.appendChild(c);d=H(b);f=H(e);++d;d=f-d;for(f=b.nextSibling;0<d;)k=f.nextSibling,c=B(f,a),n&&n.appendChild(c),f=k,--d;return c=p(e,a),n&&n.appendChild(c),a!=A&&(r.setStartAfter(b),r.collapse(u)),n}function p(a,b){var c=l(r[L],r[E]-1),d,e,f,h=c!=r[L];if(c==a)return v(c,h,C,b);d=c.parentNode;for(e=v(d,C,C,b);d;){for(;c;)f=c.previousSibling,c=v(c,h,C,b),b!=w&&e.insertBefore(c,e.firstChild),h=u,c=f;if(d==a)return e;c=d.previousSibling;d=d.parentNode;f=v(d,C,C,b);b!=w&&f.appendChild(e);e=f}}
function t(a,b){var c=l(r[x],r[y]),d=c!=r[x],e,f,h;if(c==a)return v(c,d,u,b);e=c.parentNode;for(f=v(e,C,u,b);e;){for(;c;)h=c.nextSibling,c=v(c,d,u,b),b!=w&&f.appendChild(c),d=u,c=h;if(e==a)return f;c=e.nextSibling;e=e.parentNode;h=v(e,C,u,b);b!=w&&h.appendChild(f);f=h}}function v(a,b,c,d){var e,h,k,p,l;if(b)return B(a,d);if(3==a.nodeType)return(e=a.nodeValue,c?(p=r[y],h=e.substring(p),k=e.substring(0,p)):(p=r[E],h=e.substring(0,p),k=e.substring(p)),d!=A&&(a.nodeValue=k),d==w)?void 0:(l=f.clone(a,
C),l.nodeValue=h,l);if(d!=w)return f.clone(a,C)}function B(a,b){return b!=w?b==A?f.clone(a,u):a:void a.parentNode.removeChild(a)}var r=this,h=f.doc,A=1,w=2,u=!0,C=!1,y="startOffset",x="startContainer",L="endContainer",E="endOffset",N=m.extend,H=f.nodeIndex;return N(r,{startContainer:h,startOffset:0,endContainer:h,endOffset:0,collapsed:u,commonAncestorContainer:h,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:e,setEnd:a,setStartBefore:d,setStartAfter:function(a){e(a.parentNode,
H(a)+1)},setEndBefore:function(b){a(b.parentNode,H(b))},setEndAfter:b,collapse:function(a){a?(r[L]=r[x],r[E]=r[y]):(r[x]=r[L],r[y]=r[E]);r.collapsed=u},selectNode:function(a){d(a);b(a)},selectNodeContents:function(b){e(b,0);a(b,1===b.nodeType?b.childNodes.length:b.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=r[x],d=r[y],e=r[L],f=r[E],h=b.startContainer,k=b.startOffset,p=b.endContainer,C=b.endOffset;return 0===a?q(c,d,h,k):1===a?q(e,f,h,k):2===a?q(e,f,p,C):3===a?q(c,d,p,C):void 0},
deleteContents:function(){n(w)},extractContents:function(){return n(0)},cloneContents:c,insertNode:function(a){var b=this[x],c=this[y],d,e;3!==b.nodeType&&4!==b.nodeType||!b.nodeValue?(0<b.childNodes.length&&(e=b.childNodes[c]),e?b.insertBefore(a,e):3==b.nodeType?f.insertAfter(a,b):b.appendChild(a)):c?c>=b.nodeValue.length?f.insertAfter(a,b):(d=b.splitText(c),b.parentNode.insertBefore(a,d)):b.parentNode.insertBefore(a,b)},surroundContents:function(a){var b=r.extractContents();r.insertNode(a);a.appendChild(b);
r.selectNode(a)},cloneRange:function(){return N(new g(f),{startContainer:r[x],startOffset:r[y],endContainer:r[L],endOffset:r[E],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})},toStringIE:function(){return f.create("body",null,c()).outerText}}),r}return g.prototype.toString=function(){return this.toStringIE()},g});z("tinymce/html/Entities",["tinymce/util/Tools"],function(m){function g(b,c){var d,e,f,h={};if(b){b=b.split(",");c=c||10;for(d=0;d<b.length;d+=2)e=String.fromCharCode(parseInt(b[d],
c)),a[e]||(f="&"+b[d+1]+";",h[e]=f,h[f]=e);return h}}var f=m.makeMap,e,a,d,b=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,q=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,k={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",
150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};d={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};e=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var n={encodeRaw:function(d,e){return d.replace(e?b:c,function(b){return a[b]||b})},encodeAllRaw:function(b){return(""+b).replace(l,function(b){return a[b]||b})},encodeNumeric:function(d,e){return d.replace(e?b:c,function(b){return 1<b.length?"&#"+(1024*(b.charCodeAt(0)-55296)+(b.charCodeAt(1)-56320)+65536)+";":a[b]||"&#"+b.charCodeAt(0)+";"})},encodeNamed:function(d,f,k){return k=k||e,d.replace(f?b:c,function(b){return a[b]||k[b]||b})},getEncodeFunc:function(d,k){function l(d,e){return d.replace(e?
b:c,function(b){return a[b]||k[b]||"&#"+b.charCodeAt(0)+";"||b})}function q(a,b){return n.encodeNamed(a,b,k)}return k=g(k)||e,d=f(d.replace(/\+/g,",")),d.named&&d.numeric?l:d.named?k?q:n.encodeNamed:d.numeric?n.encodeNumeric:n.encodeRaw},decode:function(a){return a.replace(q,function(a,b){var c;if(b)c=(b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10),65535<b?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(1023&b))):k[b]||String.fromCharCode(b));else if(!(c=d[a]||e[a])){var f;
c=(f=document.createElement("div"),f.innerHTML=a,f.textContent||f.innerText||a)}return c})}};return n});z("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(m,g){return function(f,e){function a(a){f.getElementsByTagName("head")[0].appendChild(a)}var d=0,b={},c;e=e||{};c=e.maxLoadTime||5E3;this.load=function(e,q,k){function n(){for(var a=u.passed,b=a.length;b--;)a[b]();u.status=2;u.passed=[];u.failed=[]}function p(){for(var a=u.failed,b=a.length;b--;)a[b]();u.status=
3;u.passed=[];u.failed=[]}function t(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function v(a,b){a()||((new Date).getTime()-w<c?g.setTimeout(b):p())}function B(){v(function(){for(var a=f.styleSheets,b,c=a.length,d;c--;)if(b=a[c],d=b.ownerNode?b.ownerNode:b.owningElement,d&&d.id===h.id)return n(),!0},B)}function r(){v(function(){try{var a=A.sheet.cssRules;return n(),!!a}catch(b){}},r)}var h,A,w,u;if(e=m._addCacheSuffix(e),b[e]?u=b[e]:(u={passed:[],failed:[]},b[e]=u),q&&
u.passed.push(q),k&&u.failed.push(k),1!=u.status){if(2==u.status)return void n();if(3==u.status)return void p();if(u.status=1,h=f.createElement("link"),h.rel="stylesheet",h.type="text/css",h.id="u"+d++,h.async=!1,h.defer=!1,w=(new Date).getTime(),"onload"in h&&!t())h.onload=B,h.onerror=p;else{if(0<navigator.userAgent.indexOf("Firefox"))return A=f.createElement("style"),A.textContent='@import "'+e+'"',r(),void a(A);B()}a(h);h.href=e}}}});z("tinymce/dom/DOMUtils","tinymce/dom/Sizzle tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/EventUtils tinymce/dom/TreeWalker tinymce/dom/Range tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/dom/StyleSheetLoader".split(" "),
function(m,g,f,e,a,d,b,c,l,q){function k(a,b){var c={},d=b.keep_values,e;return e={set:function(c,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,e,c[0]));c.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}},c={style:{set:function(a,b){return null!==b&&"object"==typeof b?void a.css(b):(d&&a.attr("data-mce-style",b),void a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return a.serializeStyle(a.parseStyle(c),
b[0].nodeName)}}},d&&(c.href=c.src=e),c}function n(a,b){var c=b.attr("style");(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||(c=null);b.attr("data-mce-style",c)}function p(a,b){var c=0,d,e;if(a)for(d=a.nodeType,a=a.previousSibling;a;a=a.previousSibling)e=a.nodeType,(!b||3!=e||e!=d&&a.nodeValue.length)&&(c++,d=e);return c}function t(a,b){var c=this,d;c.doc=a;c.win=window;c.files={};c.counter=0;c.stdMode=!A||8<=a.documentMode;c.boxModel=!A||"CSS1Compat"==a.compatMode||c.stdMode;c.styleSheetLoader=
new q(a);c.boundEvents=[];c.settings=b=b||{};c.schema=b.schema;c.styles=new f({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema);c.fixDoc(a);c.events=b.ownEvents?new e(b.proxy):e.Event;c.attrHooks=k(c,b);d=b.schema?b.schema.getBlockElements():{};c.$=g.overrideDefaults(function(){return{context:a,element:c.getRoot()}});c.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!d[a.nodeName]):!!d[a]}}var v=l.each,B=l.is,r=l.grep,h=l.trim,A=c.ie,w=/^([a-z0-9],?)+$/i,
u=/^[ \t\r\n]*$/;return t.prototype={$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(a){var b=this.settings,c;if(A&&b.schema)for(c in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),b.schema.getCustomElements())a.createElement(c)},clone:function(a,b){var c=this,d,e;return!A||1!==a.nodeType||b?a.cloneNode(b):(e=
c.doc,b?d.firstChild:(d=e.createElement(a.nodeName),v(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),d))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c;return a=this.get(a),b=this.getPos(a),
c=this.getSize(a),{x:b.x,y:b.y,w:c.w,h:c.h}},getSize:function(a){var b,c;return a=this.get(a),b=this.getStyle(a,"width"),c=this.getStyle(a,"height"),-1===b.indexOf("px")&&(b=0),-1===c.indexOf("px")&&(c=0),{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,d){var e=this,f,h=[];a=e.get(a);d=d===ba;c=c||("BODY"!=e.getRoot().nodeName?e.getRoot().parentNode:null);for(B(b,
"string")&&(f=b,b="*"===b?function(a){return 1==a.nodeType}:function(a){return e.is(a,f)});a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a)){if(!d)return a;h.push(a)}a=a.parentNode}return d?h:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,a=this.doc.getElementById(a),a&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return m(a,
this.get(b)||this.settings.root_element||this.doc,[])},is:function(a,b){var c;if(a.length===ba){if("*"===b)return 1==a.nodeType;if(w.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<m(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,d,e){var f=this;return this.run(a,function(a){var h;return h=B(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,c),
d&&(d.nodeType?h.appendChild(d):f.setHTML(h,d)),e?h:a.appendChild(h)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d,e;d="<"+a;for(e in b)b.hasOwnProperty(e)&&null!==b[e]&&"undefined"!=typeof b[e]&&(d+=" "+e+'="'+this.encode(b[e])+'"');return"undefined"!=typeof c?d+">"+c+"</"+a+">":d+" />"},createFragment:function(a){var b;b=this.doc;var c;c=b.createElement("div");b=b.createDocumentFragment();for(a&&(c.innerHTML=a);a=c.firstChild;)b.appendChild(a);
return b},remove:function(a,b){return a=this.$$(a),b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove(),1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&n(this,a)},getStyle:function(a,b,d){return a=this.$$(a),d?a.css(b):(b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),"float"==b&&(b=c.ie&&12>c.ie?"styleFloat":"cssFloat"),a[0]&&
a[0].style?a[0].style[b]:ba)},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&n(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d,e,f=this.settings;""===c&&(c=null);a=this.$$(a);d=a.attr(b);a.length&&(e=this.attrHooks[b],e&&e.set?e.set(a,c,b):a.attr(b,c),d!=c&&f.onSetAttrib&&f.onSetAttrib({attrElm:a,attrName:b,attrValue:c}))},setAttribs:function(a,
b){var c=this;c.$$(a).each(function(a,d){v(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){var d,e;return a=this.$$(a),a.length&&(d=this.attrHooks[b],e=d&&d.get?d.get(a,b):a.attr(b)),"undefined"==typeof e&&(e=c||""),e},getPos:function(a,b){var c=0,d=0,e;e=this.doc;var f=e.body,h;if(a=this.get(a),b=b||f,a){if(b===f&&a.getBoundingClientRect&&"static"===g(f).css("position"))return h=a.getBoundingClientRect(),b=this.boxModel?e.documentElement:f,c=h.left+(e.documentElement.scrollLeft||
f.scrollLeft)-b.clientLeft,d=h.top+(e.documentElement.scrollTop||f.scrollTop)-b.clientTop,{x:c,y:d};for(e=a;e&&e!=b&&e.nodeType;)c+=e.offsetLeft||0,d+=e.offsetTop||0,e=e.offsetParent;for(e=a.parentNode;e&&e!=b&&e.nodeType;)c-=e.scrollLeft||0,d-=e.scrollTop||0,e=e.parentNode}return{x:c,y:d}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b=this.doc,c,d;if(this!==t.DOM&&b===document){d=t.DOM.addedStyles;if(d=
d||[],d[a])return;d[a]=!0;t.DOM.addedStyles=d}(d=b.getElementById("mceDefaultStyles"))||(d=b.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",c=b.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(b.createTextNode(a))},loadCSS:function(a){var b=this,c=b.doc,d;return b!==t.DOM&&c===document?void t.DOM.loadCSS(a):(a||(a=""),d=c.getElementsByTagName("head")[0],void v(a.split(","),function(a){var e;
a=l._addCacheSuffix(a);b.files[a]||(b.files[a]=!0,e=b.create("link",{rel:"stylesheet",href:a}),A&&c.documentMode&&c.recalc&&(e.onload=function(){c.recalc&&c.recalc();e.onload=null}),d.appendChild(e))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&g(this).attr("class",null)})},show:function(a){this.$$(a).show()},
hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);A?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(d){g("<div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML"in a?
a.outerHTML:g("<div>").append(g(a).clone()).html()},setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=b)}catch(a){}c.remove(g(this).html(b),!0)})},decode:b.decode,encode:b.encodeAllRaw,insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},replace:function(a,b,c){return this.run(b,function(b){return B(b,"array")&&(a=a.cloneNode(!0)),
c&&v(r(b.childNodes),function(b){a.appendChild(b)}),b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c=this,d;return a.nodeName!=b.toUpperCase()&&(d=c.create(b),v(c.getAttribs(a),function(b){c.setAttrib(d,b.nodeName,c.getAttrib(a,b.nodeName))}),c.replace(d,a,1)),d||a},findCommonAncestor:function(a,b){for(var c=a,d;c;){for(d=b;d&&c!=d;)d=d.parentNode;if(c==d)break;c=c.parentNode}return!c&&a.ownerDocument?a.ownerDocument.documentElement:c},toHex:function(a){return this.styles.toHex(l.trim(a))},
run:function(a,b,c){var d=this,e;return"string"==typeof a&&(a=d.get(a)),a?(c=c||this,a.nodeType||!a.length&&0!==a.length?b.call(c,a):(e=[],v(a,function(a,f){a&&("string"==typeof a&&(a=d.get(a)),e.push(b.call(c,a,f)))}),e)):!1},getAttribs:function(a){var b;if(a=this.get(a),!a)return[];if(A){if(b=[],"OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});return a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,
"").replace(/[\w:\-]+/gi,function(a){b.push({specified:1,nodeName:a})}),b}return a.attributes},isEmpty:function(b,c){var d,e,f,h,k,p=0;if(b=b.firstChild){h=new a(b,b.parentNode);c=c||(this.schema?this.schema.getNonEmptyElements():null);do{if(f=b.nodeType,1===f){if(b.getAttribute("data-mce-bogus"))continue;if(k=b.nodeName.toLowerCase(),c&&c[k]){if("br"===k){p++;continue}return!1}e=this.getAttribs(b);for(d=e.length;d--;)if(k=e[d].nodeName,"name"===k||"data-mce-bookmark"===k)return!1}if(8==f||3===f&&
!u.test(b.nodeValue))return!1}while(b=h.next())}return 1>=p},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new d(this)},nodeIndex:p,split:function(a,b,c){function d(a){var b,c=a.childNodes,f=a.nodeType;if(1!=f||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=f){if(3==f&&0<a.nodeValue.length){b=h(a.nodeValue).length;if(!(c=!e.isBlock(a.parentNode)||0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==
a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==f&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;e.remove(a)}return a}}var e=this,f=e.createRng(),k,p,l;return a&&b?(f.setStart(a.parentNode,e.nodeIndex(a)),f.setEnd(b.parentNode,e.nodeIndex(b)),k=f.extractContents(),f=e.createRng(),f.setStart(b.parentNode,e.nodeIndex(b)+1),f.setEnd(a.parentNode,
e.nodeIndex(a)+1),p=f.extractContents(),l=a.parentNode,l.insertBefore(d(k),a),c?l.insertBefore(c,a):l.insertBefore(b,a),l.insertBefore(d(p),a),e.remove(a),c||b):void 0},bind:function(a,b,c,d){if(l.isArray(a)){for(var e=a.length;e--;)a[e]=this.bind(a[e],b,c,d);return a}return!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,d]),this.events.bind(a,b,c,d||this)},unbind:function(a,b,c){var d;if(l.isArray(a)){for(d=a.length;d--;)a[d]=this.unbind(a[d],b,c);return a}if(this.boundEvents&&
(a===this.doc||a===this.win))for(d=this.boundEvents.length;d--;){var e=this.boundEvents[d];a!=e[0]||b&&b!=e[1]||c&&c!=e[2]||this.events.unbind(e[0],e[1],e[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"),b&&"inherit"!==b?b:"inherit"!==a.contentEditable?a.contentEditable:null):null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&
a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}m.setDocument&&m.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+
", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,e=b;if(a)for("string"==typeof e&&(e=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(e(a))return a;return null}},t.DOM=new t(document),t.nodeIndex=p,t});z("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,g){function f(){function b(a,b){function c(){d.remove(h);f&&(f.onreadystatechange=f.onload=f=null);b()}var d=e,f,h;h=d.uniqueId();f=document.createElement("script");
f.id=h;f.type="text/javascript";f.src=g._addCacheSuffix(a);"onreadystatechange"in f?f.onreadystatechange=function(){/loaded|complete/.test(f.readyState)&&c()}:f.onload=c;f.onerror=function(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(f)}var c={},f=[],q={},k=[],n=0;this.isDone=function(a){return 2==c[a]};this.markDone=function(a){c[a]=2};this.add=this.load=function(a,b,d){void 0==c[a]&&(f.push(a),
c[a]=0);b&&(q[a]||(q[a]=[]),q[a].push({func:b,scope:d||this}))};this.loadQueue=function(a,b){this.loadScripts(f,a,b)};this.loadScripts=function(e,f,l){function g(b){a(q[b],function(a){a.func.call(a.scope)});q[b]=void 0}var r;k.push({func:f,scope:l||this});(r=function(){var f=d(e);e.length=0;a(f,function(a){return 2==c[a]?void g(a):void(1!=c[a]&&(c[a]=1,n++,b(a,function(){c[a]=2;n--;g(a);r()})))});n||(a(k,function(a){a.func.call(a.scope)}),k.length=0)})()}}var e=m.DOM,a=g.each,d=g.grep;return f.ScriptLoader=
new f,f});z("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(m,g){function f(){this.items=[];this.urls={};this.lookup={}}var e=g.each;return f.prototype={get:function(a){return this.lookup[a]?this.lookup[a].instance:ba},dependencies:function(a){var d;return this.lookup[a]&&(d=this.lookup[a].dependencies),d||[]},requireLangPack:function(a,d){var b=f.language;if(b&&!1!==f.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+b.substr(0,2)+","))b=b.substr(0,2);else if(-1==
d.indexOf(","+b+","))return;m.ScriptLoader.add(this.urls[a]+"/langs/"+b+".js")}},add:function(a,d,b){return this.items.push(d),this.lookup[a]={instance:d,dependencies:b},d},createUrl:function(a,d){return"object"==typeof d?d:{prefix:a.prefix,resource:d,suffix:a.suffix}},addComponents:function(a,d){var b=this.urls[a];e(d,function(a){m.ScriptLoader.add(b+"/"+a)})},load:function(a,d,b,c){function l(){var f=q.dependencies(a);e(f,function(a){a=q.createUrl(d,a);q.load(a.resource,a,ba,ba)});b&&(c?b.call(c):
b.call(m))}var q=this,k=d;q.urls[a]||("object"==typeof d&&(k=d.prefix+d.resource+d.suffix),0!==k.indexOf("/")&&-1==k.indexOf("://")&&(k=f.baseURL+"/"+k),q.urls[a]=k.substring(0,k.lastIndexOf("/")),q.lookup[a]?l():m.ScriptLoader.add(k,l,c))}},f.PluginManager=new f,f.ThemeManager=new f,f});z("tinymce/dom/NodeType",[],function(){function m(a){return function(d){return!!d&&d.nodeType==a}}function g(a){return a=a.toLowerCase().split(" "),function(d){var b;if(d&&d.nodeType)for(b=d.nodeName.toLowerCase(),
d=0;d<a.length;d++)if(b===a[d])return!0;return!1}}function f(a){return function(d){return!e(d)||d.contentEditable!==a&&d.getAttribute("data-mce-contenteditable")!==a?!1:!0}}var e=m(1);return{isText:m(3),isElement:e,isComment:m(8),isBr:g("br"),isContentEditableTrue:f("true"),isContentEditableFalse:f("false"),matchNodeNames:g,hasPropValue:function(a,d){return function(b){return e(b)&&b[a]===d}},hasAttributeValue:function(a,d){return function(b){return e(b)&&b.getAttribute(a)===d}},matchStyleValues:function(a,
d){return d=d.toLowerCase().split(" "),function(b){var c,f;if(e(b))for(c=0;c<d.length;c++)if(f=getComputedStyle(b,null).getPropertyValue(a),f===d[c])return!0;return!1}},isBogus:function(a){return e(a)&&a.hasAttribute("data-mce-bogus")}}});z("tinymce/text/Zwsp",[],function(){return{isZwsp:function(m){return"\u200b"==m},ZWSP:"\u200b",trim:function(m){return m.replace(RegExp("\u200b","g"),"")}}});z("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(m,g){function f(a){return l(a)&&
(a=a.parentNode),c(a)&&a.hasAttribute("data-mce-caret")}function e(a){return l(a)&&g.isZwsp(a.data)}function a(a){return f(a)||e(a)}function d(a){return l(a)&&a.data[0]==g.ZWSP}function b(a){return l(a)&&a.data[a.data.length-1]==g.ZWSP}var c=m.isElement,l=m.isText;return{isCaretContainer:a,isCaretContainerBlock:f,isCaretContainerInline:e,insertInline:function(c,e){var f,p,t,v;if(f=c.ownerDocument,t=f.createTextNode(g.ZWSP),v=c.parentNode,e){if(p=c.previousSibling,l(p)){if(a(p))return p;if(b(p))return p.splitText(p.data.length-
1)}v.insertBefore(t,c)}else{if(p=c.nextSibling,l(p)){if(a(p))return p;if(d(p))return p.splitText(1),p}c.nextSibling?v.insertBefore(t,c.nextSibling):v.appendChild(t)}return t},insertBlock:function(a,b,c){var d,e,f;return d=b.ownerDocument,e=d.createElement(a),e.setAttribute("data-mce-caret",c?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(d.createTextNode("\u00a0")),f=b.parentNode,c?f.insertBefore(e,b):b.nextSibling?f.insertBefore(e,b.nextSibling):f.appendChild(e),e},remove:function(b){var d;
c(b)&&a(b)&&("&nbsp;"!=b.innerHTML?b.removeAttribute("data-mce-caret"):b.parentNode&&b.parentNode.removeChild(b));l(b)&&(d=g.trim(b.data),0===d.length&&b.parentNode&&b.parentNode.removeChild(b),b.nodeValue=d)},startsWithCaretContainer:d,endsWithCaretContainer:b}});z("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretContainer"],function(m,g,f,e){function a(a,b){var c=a.childNodes;return b--,b>c.length-1?b=c.length-1:0>b&&(b=0),c[b]||
a}function d(b){this.walk=function(d,e){function f(a){var b;return b=a[0],3===b.nodeType&&b===h&&A>=b.nodeValue.length&&a.splice(0,1),b=a[a.length-1],0===u&&0<a.length&&b===w&&3===b.nodeType&&a.splice(a.length-1,1),a}function l(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function q(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function r(a,b,c){var d=c?"nextSibling":"previousSibling";x=a;for(m=x.parentNode;x&&x!=b;x=m)m=x.parentNode,E=l(x==a?x:x[d],d),E.length&&(c||E.reverse(),
e(f(E)))}var h=d.startContainer,A=d.startOffset,w=d.endContainer,u=d.endOffset,g,y,x,m,E;if(y=b.select("td[data-mce-selected],th[data-mce-selected]"),0<y.length)return void c(y,function(a){e([a])});if(1==h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[A]),1==w.nodeType&&w.hasChildNodes()&&(w=a(w,u)),h==w)return e(f([h]));g=b.findCommonAncestor(h,w);for(x=h;x;x=x.parentNode){if(x===w)return r(h,g,!0);if(x===g)break}for(x=w;x;x=x.parentNode){if(x===h)return r(w,g);if(x===g)break}y=q(h,g)||h;g=q(w,g)||
w;r(h,y,!0);E=l(y==h?y:y.nextSibling,"nextSibling",g==w?g.nextSibling:g);E.length&&e(f(E));r(w,g)};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;return b==d&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(d=b.splitText(c),b=d.previousSibling,a>c?(a-=c,b=d=d.splitText(a).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&(b=b.splitText(c),c=0),3==d.nodeType&&0<a&&a<d.nodeValue.length&&(d=d.splitText(a).previousSibling,
a=d.nodeValue.length)),{startContainer:b,startOffset:c,endContainer:d,endOffset:a}};this.normalize=function(a){function c(f){function p(a,c){for(var d=new g(a,b.getParent(a.parentNode,b.isBlock)||y);a=d[c?"prev":"next"]();)if("BR"===a.nodeName)return!0}function h(a){for(;a&&a!=y;){if(l(a))return!0;a=a.parentNode}return!1}function A(a,c){var f,h;if(c=c||w,f=b.getParent(c.parentNode,b.isBlock)||y,a&&"BR"==c.nodeName&&N&&b.isEmpty(f))return w=c.parentNode,u=b.nodeIndex(c),void(d=!0);for(f=new g(c,f);x=
f[a?"prev":"next"]();){if("false"===b.getContentEditableParent(x)||q(x))return;if(3===x.nodeType&&0<x.nodeValue.length)return w=x,u=a?x.nodeValue.length:0,void(d=!0);if(b.isBlock(x)||L[x.nodeName.toLowerCase()])return;h=x}e&&h&&(w=h,d=!0,u=0)}var w,u,m,y=b.getRoot(),x,L,E,N;if(w=a[(f?"start":"end")+"Container"],u=a[(f?"start":"end")+"Offset"],N=1==w.nodeType&&u===w.childNodes.length,L=b.schema.getNonEmptyElements(),E=f,!q(w)){if(1==w.nodeType&&u>w.childNodes.length-1&&(E=!1),9===w.nodeType&&(w=b.getRoot(),
u=0),w===y){if(E&&(x=w.childNodes[0<u?u-1:0])&&(q(x)||L[x.nodeName]||"TABLE"==x.nodeName))return;if(w.hasChildNodes()){if(u=Math.min(!E&&0<u?u-1:u,w.childNodes.length-1),w=w.childNodes[u],u=0,h(w)||q(w))return;if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){x=w;m=new g(w,y);do{if(l(x)||q(x)){d=!1;break}if(3===x.nodeType&&0<x.nodeValue.length){u=E?0:x.nodeValue.length;w=x;d=!0;break}if(L[x.nodeName.toLowerCase()]&&(!x||!/^(TD|TH|CAPTION)$/.test(x.nodeName))){u=b.nodeIndex(x);w=x.parentNode;"IMG"!=
x.nodeName||E||u++;d=!0;break}}while(x=E?m.next():m.prev())}}}e&&(3===w.nodeType&&0===u&&A(!0),1===w.nodeType&&(x=w.childNodes[u],x||(x=w.childNodes[u-1]),!x||"BR"!==x.nodeName||x.previousSibling&&"A"==x.previousSibling.nodeName||p(x)||p(x,!0)||A(!0,x)));E&&!e&&3===w.nodeType&&u===w.nodeValue.length&&A(!1);d&&a["set"+(f?"Start":"End")](w,u)}}var d,e;return e=a.collapsed,c(!0),e||c(),d&&e&&a.collapse(!0),d}}function b(a,b,c){var d,e,f;if(d=c.elementFromPoint(a,b),e=c.body.createTextRange(),"HTML"==
d.tagName&&(d=c.body),e.moveToElementText(d),f=m.toArray(e.getClientRects()),f=f.sort(function(a,c){return a=Math.abs(Math.max(a.top-b,a.bottom-b)),c=Math.abs(Math.max(c.top-b,c.bottom-b)),a-c}),0<f.length){b=(f[0].bottom+f[0].top)/2;try{return e.moveToPoint(a,b),e.collapse(!0),e}catch(l){}}return null}var c=m.each,l=f.isContentEditableFalse,q=e.isCaretContainer;return d.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;
if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1},d.getCaretRangeFromPoint=function(a,c,d){var e;if(d.caretPositionFromPoint)a=d.caretPositionFromPoint(a,c),e=d.createRange(),e.setStart(a.offsetNode,a.offset),e.collapse(!0);else if(d.caretRangeFromPoint)e=d.caretRangeFromPoint(a,c);else if(d.body.createTextRange){e=d.body.createTextRange();try{e.moveToPoint(a,c),e.collapse(!0)}catch(f){e=b(a,c,d)}}return e},d.getSelectedNode=function(a){var b=a.startContainer,
c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null},d.getNode=function(a,b){return 1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]),a},d});z("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(m,g,f){return function(e){var a,d=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(b){var c;c=e.selection.getRng();c={startContainer:c.startContainer,
startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};"nodechange"!=b.type&&m.compareRanges(c,a)||e.fire("SelectionChange");a=c});e.on("contextmenu",function(){e.fire("SelectionChange")});e.on("SelectionChange",function(){var a=e.selection.getStart(!0);if(g.range||!e.selection.isCollapsed()){var c;a:{var f;if(f=e.$(a).parentsUntil(e.getBody()).add(a),f.length===d.length){for(c=f.length;0<=c&&f[c]===d[c];c--);if(-1===c){c=(d=f,!0);break a}}c=(d=f,!1)}!c&&e.dom.isChildOf(a,e.getBody())&&
e.nodeChanged({selectionChange:!0})}});e.on("MouseUp",function(a){a.isDefaultPrevented()||("IMG"==e.selection.getNode().nodeName?f.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())});this.nodeChanged=function(a){var c=e.selection,d,f,k;e.initialized&&c&&!e.settings.disable_nodechange&&!e.readonly&&(k=e.getBody(),d=c.getStart()||k,d.ownerDocument==e.getDoc()&&e.dom.isChildOf(d,k)||(d=k),"IMG"==d.nodeName&&c.isCollapsed()&&(d=d.parentNode),f=[],e.dom.getParent(d,function(a){return a===
k?!0:void f.push(a)}),a=a||{},a.element=d,a.parents=f,e.fire("NodeChange",a))}}});z("tinymce/html/Node",[],function(){function m(a,d,b){var c;c=b?"lastChild":"firstChild";b=b?"prev":"next";if(a[c])return a[c];if(a!==d){if(c=a[b])return c;for(a=a.parent;a&&a!==d;a=a.parent)if(c=a[b])return c}}function g(a,d){this.name=a;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var f=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return g.prototype=
{replace:function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},attr:function(a,d){var b,c;if("string"!=typeof a){for(c in a)this.attr(c,a[c]);return this}if(b=this.attributes){if(void 0!==d){if(null===d){if(a in b.map)for(delete b.map[a],c=b.length;c--;)if(b[c].name===a)return b.splice(c,1),this;return this}if(a in b.map)for(c=b.length;c--;){if(b[c].name===a){b[c].value=d;break}}else b.push({name:a,value:d});return b.map[a]=d,this}return b.map[a]}},clone:function(){var a=
new g(this.name,this.type),d,b,c,e,f;if(c=this.attributes){f=[];f.map={};d=0;for(b=c.length;b>d;d++)e=c[d],"id"!==e.name&&(f[f.length]={name:e.name,value:e.value},f.map[e.name]=e.value);a.attributes=f}return a.value=this.value,a.shortEnded=this.shortEnded,a},wrap:function(a){return this.parent.insert(a,this),a.append(this),this},unwrap:function(){var a,d;for(a=this.firstChild;a;)d=a.next,this.insert(a,this,!0),a=d;this.remove()},remove:function(){var a=this.parent,d=this.next,b=this.prev;return a&&
(a.firstChild===this?(a.firstChild=d,d&&(d.prev=null)):b.next=d,a.lastChild===this?(a.lastChild=b,b&&(b.next=null)):d.prev=b,this.parent=this.next=this.prev=null),this},append:function(a){var d;return a.parent&&a.remove(),d=this.lastChild,d?(d.next=a,a.prev=d,this.lastChild=a):this.lastChild=this.firstChild=a,a.parent=this,a},insert:function(a,d,b){var c;return a.parent&&a.remove(),c=d.parent||this,b?(d===c.firstChild?c.firstChild=a:d.prev.next=a,a.prev=d.prev,a.next=d,d.prev=a):(d===c.lastChild?
c.lastChild=a:d.next.prev=a,a.next=d.next,a.prev=d,d.next=a),a.parent=c,a},getAll:function(a){var d,b=[];for(d=this.firstChild;d;d=m(d,this))d.name===a&&b.push(d);return b},empty:function(){var a,d,b;if(this.firstChild){a=[];for(b=this.firstChild;b;b=m(b,this))a.push(b);for(d=a.length;d--;)b=a[d],b.parent=b.firstChild=b.lastChild=b.next=b.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(a){var d=this.firstChild,b,c;if(d){do{if(1===d.type){if(d.attributes.map["data-mce-bogus"])continue;
if(a[d.name])return!1;for(b=d.attributes.length;b--;)if(c=d.attributes[b].name,"name"===c||0===c.indexOf("data-mce-bookmark"))return!1}if(8===d.type||3===d.type&&!f.test(d.value))return!1}while(d=m(d,this))}return!0},walk:function(a){return m(this,null,a)}},g.create=function(a,d){var b,c;if(b=new g(a,e[a]||1),d)for(c in d)b.attr(c,d[c]);return b},g});z("tinymce/html/Schema",["tinymce/util/Tools"],function(m){function g(a,b){return a?a.split(b||" "):[]}function f(b){function e(a,b,c){function f(a,
b){var c={},d,e;d=0;for(e=a.length;e>d;d++)c[a[d]]=b||{};return c}var h,u;u=arguments;c=c||[];b=b||"";"string"==typeof c&&(c=g(c));for(h=3;h<u.length;h++)"string"==typeof u[h]&&(u[h]=g(u[h])),c.push.apply(c,u[h]);a=g(a);for(h=a.length;h--;)u=[].concat(l,g(b)),k[a[h]]={attributes:f(u),attributesOrder:u,children:f(c,d)}}function f(a,b){var c,d,e,h;a=g(a);c=a.length;for(b=g(b);c--;)for(d=k[a[c]],e=0,h=b.length;h>e;e++)d.attributes[b[e]]={},d.attributesOrder.push(b[e])}var k={},l,r,h,A,w,u;return a[b]?
a[b]:(l=g("id accesskey class dir lang style tabindex title"),r=g("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),h=g("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=b&&(l.push.apply(l,g("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),r.push.apply(r,g("article aside details dialog figure header footer hgroup section nav")),
h.push.apply(h,g("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=b&&(l.push("xml:lang"),u=g("acronym applet basefont big font strike tt"),h.push.apply(h,u),c(u,function(a){e(a,"",h)}),w=g("center dir isindex noframes"),r.push.apply(r,w),A=[].concat(r,h),c(w,function(a){e(a,"",A)})),A=A||[].concat(r,h),e("html","manifest","head body"),e("head","","base command link meta noscript script style title"),e("title hr noscript br"),e("base",
"href target"),e("link","href rel media hreflang type sizes hreflang"),e("meta","name http-equiv content charset"),e("style","media type scoped"),e("script","src async defer type charset"),e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",A),e("address dt dd div caption","",A),e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
"",h),e("blockquote","cite",A),e("ol","reversed start type","li"),e("ul","","li"),e("li","value",A),e("dl","","dt dd"),e("a","href target rel media hreflang type",h),e("q","cite",h),e("ins del","cite datetime",A),e("img","src sizes srcset alt usemap ismap width height"),e("iframe","src name width height",A),e("embed","src type width height"),e("object","data type typemustmatch name usemap form width height",A,"param"),e("param","name value"),e("map","name",A,"area"),e("area","alt coords shape href target rel media hreflang type"),
e("table","border","caption colgroup thead tfoot tbody tr"+("html4"==b?" col":"")),e("colgroup","span","col"),e("col","span"),e("tbody thead tfoot","","tr"),e("tr","","td th"),e("td","colspan rowspan headers",A),e("th","colspan rowspan headers scope abbr",A),e("form","accept-charset action autocomplete enctype method name novalidate target",A),e("fieldset","disabled form name",A,"legend"),e("label","form for",h),e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),
e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==b?A:h),e("select","disabled form multiple name required size","option optgroup"),e("optgroup","disabled label","option"),e("option","disabled label selected value"),e("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),e("menu","type label",A,"li"),e("noscript","",A),"html4"!=b&&(e("wbr"),e("ruby","",h,"rt rp"),e("figcaption","",A),e("mark rt rp summary bdi",
"",h),e("canvas","width height",A),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",A,"track source"),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",A,"track source"),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",h,"option"),e("article section nav aside header footer","",A),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure",
"",A,"figcaption"),e("time","datetime",h),e("dialog","open",A),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",h),e("progress","value max",h),e("meter","value min max low high optimum",h),e("details","open",A,"summary"),e("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=b&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed",
"align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select","onchange"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li",
"type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),
f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),"html4"!=b&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("iframe","sandbox seamless allowfullscreen")),c(g("a form meter progress dfn"),function(a){k[a]&&delete k[a].children[a]}),delete k.caption.children.table,delete k.script,a[b]=k,k)}function e(a,d){var e;
return a&&(e={},"string"==typeof a&&(a={"*":a}),c(a,function(a,c){e[c]=e[c.toUpperCase()]="map"==d?b(a,/[, ]/):q(a,/[, ]/)})),e}var a={},d={},b=m.makeMap,c=m.each,l=m.extend,q=m.explode,k=m.inArray;return function(d){function p(c,e,f){var h=d[c];return h?h=b(h,/[, ]/,b(h.toUpperCase(),/[, ]/)):(h=a[c],h||(h=b(e," ",b(e.toUpperCase()," ")),h=l(h,f),a[c]=h)),h}function t(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")}function v(a){var c,d,e,f,h,l,u,p,n,v,r,A,q,y,B,x,E,L,I=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
ta=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,qa=/[*?+]/;if(a)for(a=g(a,","),w["@"]&&(x=w["@"].attributes,E=w["@"].attributesOrder),c=0,d=a.length;d>c;c++)if(h=I.exec(a[c])){if(y=h[1],n=h[2],B=h[3],p=h[5],A={},q=[],l={attributes:A,attributesOrder:q},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===h[4]&&(l.removeEmptyAttrs=!0),x){for(L in x)A[L]=x[L];q.push.apply(q,E)}if(p)for(p=g(p,"|"),e=0,f=p.length;f>e;e++)if(h=ta.exec(p[e]))(u={},r=h[1],v=h[2].replace(/::/g,":"),y=h[3],h=h[4],
"!"===r&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(v),u.required=!0),"-"===r)?(delete A[v],q.splice(k(q,v),1)):(y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:v,value:h}),u.defaultValue=h),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:v,value:h}),u.forcedValue=h),"<"===y&&(u.validValues=b(h,"?"))),qa.test(v)?(l.attributePatterns=l.attributePatterns||[],u.pattern=t(v),l.attributePatterns.push(u)):
(A[v]||q.push(v),A[v]=u));x||"@"!=n||(x=A,E=q);B&&(l.outputName=n,w[B]=l);qa.test(n)?(l.pattern=t(n),m.push(l)):w[n]=l}}function B(a){w={};m=[];v(a);c(L,function(a,b){u[b]=a.children})}function r(b){var d=/^(~)?(.+)$/;b&&(a.text_block_elements=a.block_elements=null,c(g(b,","),function(a){a=d.exec(a);var b="~"===a[1],e=b?"span":"div",f=a[2];(u[f]=u[e],U[f]=e,b||(F[f.toUpperCase()]={},F[f]={}),w[f])||(a=w[e],a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,w[f]=a);c(u,function(a,b){a[e]&&(u[b]=
a=l({},u[b]),a[f]=a[e])})}))}function h(b){var e=/^([+\-]?)(\w+)\[([^\]]+)\]$/;a[d.schema]=null;b&&c(g(b,","),function(a){a=e.exec(a);var b,d;a&&(d=a[1],b=d?u[a[2]]:u[a[2]]={"#comment":{}},b=u[a[2]],c(g(a[3],"|"),function(a){"-"===d?delete b[a]:b[a]={}}))})}function A(a){var b=w[a],c;if(b)return b;for(c=m.length;c--;)if(b=m[c],b.pattern.test(a))return b}var w={},u={},m=[],y,x,L,E,N,H,I,J,F,M,z,K,P,U={},D={};d=d||{};L=f(d.schema);!1===d.verify_html&&(d.valid_elements="*[*]");y=e(d.valid_styles);x=
e(d.invalid_styles,"map");J=e(d.valid_classes,"map");E=p("whitespace_elements","pre script noscript style textarea video audio iframe object");N=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");H=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");I=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");M=p("non_empty_elements",
"td th iframe video audio object script",H);z=p("move_caret_before_on_enter_elements","table",M);K=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");F=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",K);P=p("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");
c((d.special||"script noscript style textarea").split(" "),function(a){D[a]=new RegExp("</"+a+"[^>]*>","gi")});d.valid_elements?B(d.valid_elements):(c(L,function(a,b){w[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};u[b]=a.children}),"html5"!=d.schema&&c(g("strong/b em/i"),function(a){a=g(a,"/");w[a[1]].outputName=a[0]}),c(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){w[a]&&(w[a].removeEmpty=!0)}),c(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),
function(a){w[a].paddEmpty=!0}),c(g("span"),function(a){w[a].removeEmptyAttrs=!0}));r(d.custom_elements);h(d.valid_children);v(d.extended_valid_elements);h("+ol[ul|ol],+ul[ul|ol]");d.invalid_elements&&c(q(d.invalid_elements),function(a){w[a]&&delete w[a]});A("span")||v("span[!data-mce-type|*]");this.children=u;this.getValidStyles=function(){return y};this.getInvalidStyles=function(){return x};this.getValidClasses=function(){return J};this.getBoolAttrs=function(){return I};this.getBlockElements=function(){return F};
this.getTextBlockElements=function(){return K};this.getTextInlineElements=function(){return P};this.getShortEndedElements=function(){return H};this.getSelfClosingElements=function(){return N};this.getNonEmptyElements=function(){return M};this.getMoveCaretBeforeOnEnterElements=function(){return z};this.getWhiteSpaceElements=function(){return E};this.getSpecialElements=function(){return D};this.isValidChild=function(a,b){var c=u[a];return!(!c||!c[b])};this.isValid=function(a,b){var c,d;if(c=A(a)){if(!b||
c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}return!1};this.getElementRule=A;this.getCustomElements=function(){return U};this.addValidElements=v;this.setValidElements=B;this.addCustomElements=r;this.addValidChildren=h;this.elements=w}});z("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(m,g,f){function e(a,c,d){var e=1,f,n;n=a.getShortEndedElements();a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;
for(a.lastIndex=d;f=a.exec(c);){if(d=a.lastIndex,"/"===f[1])e--;else if(!f[1]){if(f[2]in n)continue;e++}if(0===e)break}return d}function a(a,c){function l(){}var q=this;a=a||{};q.schema=c=c||new m;!1!==a.fix_self_closing&&(a.fix_self_closing=!0);d("comment cdata text start end pi doctype".split(" "),function(c){c&&(q[c]=a[c]||l)});q.parse=function(d){function l(a){var b,c;for(b=A.length;b--&&A[b].name!==a;);if(0<=b){for(c=A.length-1;c>=b;c--)a=A[c],a.valid&&t.end(a.name);A.length=b}}function p(c,
d,e,f,h){var k;c=/[\s\u0000-\u001F]+/g;if(d=d.toLowerCase(),e=d in E?d:Q(e||f||h||""),N&&!y&&0!==d.indexOf("data-")){if(k=M[d],!k&&z){for(f=z.length;f--&&(k=z[f],!k.pattern.test(d)););-1===f&&(k=null)}if(!k||k.validValues&&!(e in k.validValues))return}if(Z[d]&&!a.allow_script_urls){k=e.replace(c,"");try{k=decodeURIComponent(k)}catch(l){k=unescape(k)}if(aa.test(k)||!a.allow_html_data_urls&&R.test(k)&&!/^data:image\//i.test(k))return}w.map[d]=e;w.push({name:d,value:e})}var t=this,v,q=0,r,h,A=[],w,u,
m,y,x,L,E,N,H,I,J,F,M,z,K,P,U,D,G,T,W,Y,O,ca=0,Q=g.decode,da,Z=f.makeMap("src,href,data,background,formaction,poster"),aa=/((java|vb)script|mhtml):/i,R=/^data:/i;T=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;
L=c.getShortEndedElements();G=a.self_closing_elements||c.getSelfClosingElements();E=c.getBoolAttrs();N=a.validate;x=a.remove_internals;da=a.fix_self_closing;for(Y=c.getSpecialElements();v=T.exec(d);){if(q<v.index&&t.text(Q(d.substr(q,v.index-q))),r=v[6])r=r.toLowerCase(),":"===r.charAt(0)&&(r=r.substr(1)),l(r);else if(r=v[7]){if(r=r.toLowerCase(),":"===r.charAt(0)&&(r=r.substr(1)),q=r in L,da&&G[r]&&0<A.length&&A[A.length-1].name===r&&l(r),!N||(H=c.getElementRule(r))){if(I=!0,N&&(M=H.attributes,z=
H.attributePatterns),(F=v[8])?(y=-1!==F.indexOf("data-mce-type"),y&&x&&(I=!1),w=[],w.map={},F.replace(W,p)):(w=[],w.map={}),N&&!y){if(K=H.attributesRequired,P=H.attributesDefault,U=H.attributesForced,D=H.removeEmptyAttrs,D&&!w.length&&(I=!1),U)for(h=U.length;h--;)J=U[h],m=J.name,O=J.value,"{$uid}"===O&&(O="mce_"+ca++),w.map[m]=O,w.push({name:m,value:O});if(P)for(h=P.length;h--;)J=P[h],m=J.name,m in w.map||(O=J.value,"{$uid}"===O&&(O="mce_"+ca++),w.map[m]=O,w.push({name:m,value:O}));if(K){for(h=K.length;h--&&
!(K[h]in w.map););-1===h&&(I=!1)}if(J=w.map["data-mce-bogus"]){if("all"===J){q=e(c,d,T.lastIndex);T.lastIndex=q;continue}I=!1}}I&&t.start(r,w,q)}else I=!1;if(h=Y[r]){h.lastIndex=q=v.index+v[0].length;(v=h.exec(d))?(I&&(u=d.substr(q,v.index-q)),q=v.index+v[0].length):(u=d.substr(q),q=d.length);I&&(0<u.length&&t.text(u,!0),t.end(r));T.lastIndex=q;continue}q||(F&&F.indexOf("/")==F.length-1?I&&t.end(r):A.push({name:r,valid:I}))}else(r=v[1])?(">"===r.charAt(0)&&(r=" "+r),a.allow_conditional_comments||
"[if"!==r.substr(0,3)||(r=" "+r),t.comment(r)):(r=v[2])?t.cdata(r):(r=v[3])?t.doctype(r):(r=v[4])&&t.pi(r,v[5]);q=v.index+v[0].length}q<d.length&&t.text(Q(d.substr(q)));for(h=A.length-1;0<=h;h--)r=A[h],r.valid&&t.end(r.name)}}var d=f.each;return a.findEndTag=e,a});z("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(m,g,f,e){var a=e.makeMap,d=e.each,b=e.explode,c=e.extend;return function(e,q){function k(b){var c,d,e,f,k,l,p,
v,t,g,B,I,J,F;g=a("tr,td,th,tbody,thead,tfoot,table");t=q.getNonEmptyElements();B=q.getTextBlockElements();I=q.getSpecialElements();for(c=0;c<b.length;c++)if(d=b[c],d.parent&&!d.fixed)if(B[d.name]&&"li"==d.parent.name){for(J=d.next;J&&B[J.name];)J.name="li",J.fixed=!0,d.parent.insert(J,d.parent),J=J.next;d.unwrap(d)}else{f=[d];for(e=d.parent;e&&!q.isValidChild(e.name,d.name)&&!g[e.name];e=e.parent)f.push(e);if(e&&1<f.length){f.reverse();k=l=n.filterNode(f[0].clone());for(v=0;v<f.length-1;v++){q.isValidChild(l.name,
f[v].name)?(p=n.filterNode(f[v].clone()),l.append(p)):p=l;for(l=f[v].firstChild;l&&l!=f[v+1];)F=l.next,p.append(l),l=F;l=p}k.isEmpty(t)?e.insert(d,f[0],!0):(e.insert(k,f[0],!0),e.insert(d,k));e=f[0];(e.isEmpty(t)||e.firstChild===e.lastChild&&"br"===e.firstChild.name)&&e.empty().remove()}else d.parent&&("li"===d.name?(J=d.prev,!J||"ul"!==J.name&&"ul"!==J.name)?(J=d.next,!J||"ul"!==J.name&&"ul"!==J.name)?d.wrap(n.filterNode(new m("ul",1))):J.insert(d,J.firstChild,!0):J.append(d):q.isValidChild(d.parent.name,
"div")&&q.isValidChild("div",d.name)?d.wrap(n.filterNode(new m("div",1))):I[d.name]?d.empty().remove():d.unwrap())}}var n=this,p={},t=[],v={},B={};e=e||{};e.validate="validate"in e?e.validate:!0;e.root_name=e.root_name||"body";n.schema=q=q||new g;n.filterNode=function(a){var b,c,d;c in p&&(d=v[c],d?d.push(a):v[c]=[a]);for(b=t.length;b--;)c=t[b].name,c in a.attributes.map&&(d=B[c],d?d.push(a):B[c]=[a]);return a};n.addNodeFilter=function(a,c){d(b(a),function(a){var b=p[a];b||(p[a]=b=[]);b.push(c)})};
n.addAttributeFilter=function(a,c){d(b(a),function(a){var b;for(b=0;b<t.length;b++)if(t[b].name===a)return void t[b].callbacks.push(c);t.push({name:a,callbacks:[c]})})};n.parse=function(b,d){function n(){function a(c){c&&(b=c.firstChild,b&&3==b.type&&(b.value=b.value.replace(z,"")),b=c.lastChild,b&&3==b.type&&(b.value=b.value.replace(P,"")))}var b=y.firstChild,c,d;if(q.isValidChild(y.name,Y.toLowerCase())){for(;b;)c=b.next,3==b.type||1==b.type&&"p"!==b.name&&!F[b.name]&&!b.attr("data-mce-type")?d?
d.append(b):(d=g(Y,1),d.attr(e.forced_root_block_attrs),y.insert(d,b),d.append(b)):(a(d),d=null),b=c;a(d)}}function g(a,b){var c=new m(a,b),d;return a in p&&(d=v[a],d?d.push(c):v[a]=[c]),c}function u(a){var b,c,d=q.getBlockElements();for(a=a.prev;a&&3===a.type;){if(c=a.value.replace(P,""),0<c.length)return void(a.value=c);if(b=a.next){if(3==b.type&&b.value.length){a=a.prev;continue}if(!d[b.name]&&"script"!=b.name&&"style"!=b.name){a=a.prev;continue}}b=a.prev;a.remove();a=b}}var C,y,x,L,E,N,H,I,J,
F,z,S=[],K,P,U,D,G,T,W,Y;if(d=d||{},v={},B={},F=c(a("script,style,head,html,body,title,meta,param"),q.getBlockElements()),W=q.getNonEmptyElements(),T=q.children,J=e.validate,Y="forced_root_block"in d?d.forced_root_block:e.forced_root_block,G=q.getWhiteSpaceElements(),z=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,U=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/,C=new f({validate:J,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==
b&&"p"!=b&&(c[b]=a[b]);return c}(q.getSelfClosingElements()),cdata:function(a){x.append(g("#cdata",4)).value=a},text:function(a,b){var c;K||(a=a.replace(U," "),x.lastChild&&F[x.lastChild.name]&&(a=a.replace(z,"")));0!==a.length&&(c=g("#text",3),c.raw=!!b,x.append(c).value=a)},comment:function(a){x.append(g("#comment",8)).value=a},pi:function(a,b){x.append(g(a,7)).value=b;u(x)},doctype:function(a){x.append(g("#doctype",10)).value=a;u(x)},start:function(a,b,c){var d,e,f;if(d=J?q.getElementRule(a):{}){d=
g(d.outputName||a,1);d.attributes=b;d.shortEnded=c;x.append(d);(e=T[x.name])&&T[d.name]&&!e[d.name]&&S.push(d);for(e=t.length;e--;)f=t[e].name,f in b.map&&(I=B[f],I?I.push(d):B[f]=[d]);F[a]&&u(d);c||(x=d);!K&&G[a]&&(K=!0)}},end:function(a){var b,c,d,e,f;if(c=J?q.getElementRule(a):{}){if(F[a]&&!K){if(b=x.firstChild,b&&3===b.type)if(d=b.value.replace(z,""),0<d.length)b.value=d,b=b.next;else for(e=b.next,b.remove(),b=e;b&&3===b.type;)d=b.value,e=b.next,(0===d.length||D.test(d))&&b.remove(),b=e;if(b=
x.lastChild,b&&3===b.type)if(d=b.value.replace(P,""),0<d.length)b.value=d;else for(e=b.prev,b.remove(),b=e;b&&3===b.type;)d=b.value,e=b.prev,(0===d.length||D.test(d))&&b.remove(),b=e}if(K&&G[a]&&(K=!1),(c.removeEmpty||c.paddEmpty)&&x.isEmpty(W))if(c.paddEmpty)x.empty().append(new m("#text","3")).value="\u00a0";else if(!x.attributes.map.name&&!x.attributes.map.id)return f=x.parent,F[x.name]?x.empty().remove():x.unwrap(),void(x=f);x=x.parent}}},q),y=x=new m(d.context||e.root_name,11),C.parse(b),J&&
S.length&&(d.context?d.invalid=!0:k(S)),Y&&("body"==y.name||d.isRootContent)&&n(),!d.invalid){for(H in v){I=p[H];C=v[H];for(N=C.length;N--;)C[N].parent||C.splice(N,1);L=0;for(E=I.length;E>L;L++)I[L](C,H,d)}L=0;for(E=t.length;E>L;L++)if(I=t[L],I.name in B){C=B[I.name];for(N=C.length;N--;)C[N].parent||C.splice(N,1);N=0;for(H=I.callbacks.length;H>N;N++)I.callbacks[N](C,I.name,d)}}return y};e.remove_trailing_brs&&n.addNodeFilter("br",function(a){var b,d=a.length,e,f=c({},q.getBlockElements()),k=q.getNonEmptyElements(),
l,p,v,n,t;f.body=1;for(b=0;d>b;b++)if(e=a[b],l=e.parent,f[e.parent.name]&&e===l.lastChild){for(p=e.prev;p;){if(v=p.name,"span"!==v||"bookmark"!==p.attr("data-mce-type")){if("br"!==v)break;if("br"===v){e=null;break}}p=p.prev}e&&(e.remove(),l.isEmpty(k)&&(n=q.getElementRule(l.name),n&&(n.removeEmpty?l.remove():n.paddEmpty&&(l.empty().append(new m("#text",3)).value="\u00a0"))))}else{for(p=e;l&&l.firstChild===p&&l.lastChild===p&&(p=l,!f[l.name]);)l=l.parent;p===l&&(t=new m("#text",3),t.value="\u00a0",
e.replace(t))}});e.allow_html_in_named_anchor||n.addAttributeFilter("id,name",function(a){for(var b=a.length,c,d,e,f;b--;)if(f=a[b],"a"===f.name&&f.firstChild&&!f.attr("href")){e=f.parent;c=f.lastChild;do d=c.prev,e.insert(c,f),c=d;while(c)}});e.validate&&q.getValidClasses()&&n.addAttributeFilter("class",function(a){for(var b=a.length,c,d,e,f,k,l=q.getValidClasses(),p,v;b--;){c=a[b];d=c.attr("class").split(" ");k="";for(e=0;e<d.length;e++)f=d[e],v=!1,(p=l["*"])&&p[f]&&(v=!0),p=l[c.name],!v&&p&&p[f]&&
(v=!0),v&&(k&&(k+=" "),k+=f);k.length||(k=null);c.attr("class",k)}})}});z("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(m,g){var f=g.makeMap;return function(e){var a=[],d,b,c,l,g;return e=e||{},d=e.indent,b=f(e.indent_before||""),c=f(e.indent_after||""),l=m.getEncodeFunc(e.entity_encoding||"raw",e.entities),g="html"==e.element_format,{start:function(e,f,p){var t,v,B,r;if(d&&b[e]&&0<a.length&&(r=a[a.length-1],0<r.length&&"\n"!==r&&a.push("\n")),a.push("<",e),f)for(t=
0,v=f.length;v>t;t++)B=f[t],a.push(" ",B.name,'="',l(B.value,!0),'"');!p||g?a[a.length]=">":a[a.length]=" />";p&&d&&c[e]&&0<a.length&&(r=a[a.length-1],0<r.length&&"\n"!==r&&a.push("\n"))},end:function(b){var e;a.push("</",b,">");d&&c[b]&&0<a.length&&(e=a[a.length-1],0<e.length&&"\n"!==e&&a.push("\n"))},text:function(b,c){0<b.length&&(a[a.length]=c?b:l(b))},cdata:function(b){a.push("<![CDATA[",b,"]]\x3e")},comment:function(b){a.push("\x3c!--",b,"--\x3e")},pi:function(b,c){c?a.push("<?",b," ",l(c),
"?>"):a.push("<?",b,"?>");d&&a.push("\n")},doctype:function(b){a.push("<!DOCTYPE",b,">",d?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}});z("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(m,g){return function(f,e){var a=new m(f);f=f||{};f.validate="validate"in f?f.validate:!0;this.schema=e=e||new g;this.writer=a;this.serialize=function(d){function b(d){var f=c[d.type],n,p,t,v,g,r,h,A;if(f)f(d);else{if(f=d.name,
n=d.shortEnded,p=d.attributes,l&&p&&1<p.length&&(g=[],g.map={},A=e.getElementRule(d.name))){r=0;for(h=A.attributesOrder.length;h>r;r++)t=A.attributesOrder[r],t in p.map&&(v=p.map[t],g.map[t]=v,g.push({name:t,value:v}));r=0;for(h=p.length;h>r;r++)t=p[r].name,t in g.map||(v=p.map[t],g.map[t]=v,g.push({name:t,value:v}));p=g}if(a.start(d.name,p,n),!n){if(d=d.firstChild){do b(d);while(d=d.next)}a.end(f)}}}var c,l;return l=f.validate,c={3:function(b){a.text(b.value,b.raw)},8:function(b){a.comment(b.value)},
7:function(b){a.pi(b.name,b.value)},10:function(b){a.doctype(b.value)},4:function(b){a.cdata(b.value)},11:function(a){if(a=a.firstChild){do b(a);while(a=a.next)}}},a.reset(),1!=d.type||f.inner?c[11](d):b(d),a.getContent()}}});z("tinymce/dom/Serializer","tinymce/dom/DOMUtils tinymce/html/DomParser tinymce/html/SaxParser tinymce/html/Entities tinymce/html/Serializer tinymce/html/Node tinymce/html/Schema tinymce/Env tinymce/util/Tools tinymce/text/Zwsp".split(" "),function(m,g,f,e,a,d,b,c,l,q){function k(a){var b;
(a=a.lastChild)&&"br"===a.name&&(b=a.prev,b&&"br"===b.name&&(a.remove(),b.remove()))}var n=l.each,p=l.trim,t=m.DOM,v=["data-mce-selected"];return function(d,r){function h(a){var b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+v.join("|")+')="[^"]+"'].join("|"),"gi");return q.trim(a.replace(b,""))}var A,w,u;return r&&(A=r.dom,w=r.schema),A=A||t,w=w||new b(d),d.entity_encoding=d.entity_encoding||"named",d.remove_trailing_brs="remove_trailing_brs"in d?d.remove_trailing_brs:
!0,u=new g(d,w),u.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c=a.length,d;c--;)d=a[c],d.attr("tabindex",d.attributes.map["data-mce-tabindex"]),d.attr(b,null)}),u.addAttributeFilter("src,href,style",function(a,b){for(var c=a.length,e,f,h="data-mce-"+b,k=d.url_converter,l=d.url_converter_scope;c--;)e=a[c],f=e.attributes.map[h],void 0!==f?(e.attr(b,0<f.length?f:null),e.attr(h,null)):(f=e.attributes.map[b],"style"===b?f=A.serializeStyle(A.parseStyle(f),e.name):k&&(f=k.call(l,f,b,e.name)),
e.attr(b,0<f.length?f:null))}),u.addAttributeFilter("class",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.attr("class"))&&(d=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<d.length?d:null))}),u.addAttributeFilter("data-mce-type",function(a,b,c){b=a.length;for(var d;b--;)d=a[b],"bookmark"!==d.attributes.map["data-mce-type"]||c.cleanup||d.remove()}),u.addNodeFilter("noscript",function(a){for(var b=a.length,c;b--;)(c=a[b].firstChild)&&(c.value=e.decode(c.value))}),u.addNodeFilter("script,style",
function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,"")}for(var d=a.length,e,f,h;d--;)e=a[d],f=e.firstChild?e.firstChild.value:"","script"===b?(h=e.attr("type"),
h&&e.attr("type","mce-no/type"==h?null:h.replace(/^mce\-/,"")),0<f.length&&(e.firstChild.value="// <![CDATA[\n"+c(f)+"\n// ]]\x3e")):0<f.length&&(e.firstChild.value="\x3c!--\n"+c(f)+"\n--\x3e")}),u.addNodeFilter("#comment",function(a){for(var b=a.length,c;b--;)c=a[b],0===c.value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}),u.addNodeFilter("xml:namespace,input",
function(a,b){for(var c=a.length,d;c--;)d=a[c],7===d.type?d.remove():1===d.type&&("input"!==b||"type"in d.attributes.map||d.attr("type","text"))}),d.fix_list_elements&&u.addNodeFilter("ul,ol",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.parent,"ul"!==d.name&&"ol"!==d.name||c.prev&&"li"===c.prev.name&&c.prev.append(c)}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,
null)}),{schema:w,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:function(b,e){var f,h,l,v,t,g;return c.ie&&0<A.select("script,style,select,map").length?(t=b.innerHTML,b=b.cloneNode(!1),A.setHTML(b,t)):b=b.cloneNode(!0),f=b.ownerDocument.implementation,f.createHTMLDocument&&(h=f.createHTMLDocument(""),n("BODY"==b.nodeName?b.childNodes:[b],function(a){h.body.appendChild(h.importNode(a,!0))}),b="BODY"!=b.nodeName?h.body.firstChild:h.body,l=A.doc,A.doc=h),e=e||{},e.format=
e.format||"html",e.selection&&(e.forced_root_block=""),e.no_events||(e.node=b,this.onPreProcess(e)),g=u.parse(p(e.getInner?b.innerHTML:A.getOuterHTML(b)),e),k(g),v=new a(d,w),e.content=v.serialize(g),e.cleanup||(e.content=q.trim(e.content),e.content=e.content.replace(/\uFEFF/g,"")),e.no_events||this.onPostProcess(e),l&&(A.doc=l),e.node=null,e.content},addRules:function(a){w.addValidElements(a)},setRules:function(a){w.setValidElements(a)},onPreProcess:function(a){r&&r.fire("PreProcess",a)},onPostProcess:function(a){r&&
r.fire("PostProcess",a)},addTempAttr:function(a){-1===l.inArray(v,a)&&(u.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),v.push(a))},trimHtml:h,getTrimmedContent:function(){var a=r.getBody().innerHTML,b=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,d,e,k,l=r.schema,a=h(a);for(k=l.getShortEndedElements();c=b.exec(a);)d=b.lastIndex,e=c[0].length,c=k[c[1]]?d:f.findEndTag(l,a,d),a=a.substring(0,d-e)+a.substring(c),b.lastIndex=d-e;return p(a)}}}});z("tinymce/dom/TridentSelection",
[],function(){return function(m){function g(a,d){var b,c=0,e,f,k,n,p,t=-1,v;if(b=a.duplicate(),b.collapse(d),v=b.parentElement(),v.ownerDocument===m.dom.doc){for(;"false"===v.contentEditable;)v=v.parentNode;if(!v.hasChildNodes())return{node:v,inside:1};k=v.children;for(e=k.length-1;e>=c;)if(p=Math.floor((c+e)/2),n=k[p],b.moveToElementText(n),t=b.compareEndPoints(d?"StartToStart":"EndToEnd",a),0<t)e=p-1;else{if(!(0>t))return{node:n};c=p+1}if(0>t)for(n?b.collapse(!1):(b.moveToElementText(v),b.collapse(!0),
n=v,f=!0),c=0;0!==b.compareEndPoints(d?"StartToStart":"StartToEnd",a)&&0!==b.move("character",1)&&v==b.parentElement();)c++;else for(b.collapse(!0),c=0;0!==b.compareEndPoints(d?"StartToStart":"StartToEnd",a)&&0!==b.move("character",-1)&&v==b.parentElement();)c++;return{node:n,position:t,offset:c,inside:f}}}var f=this,e=m.dom;this.getBookmark=function(a){function d(a){var b,c,d,f,l=[];b=a.parentNode;for(c=e.getRoot().parentNode;b!=c&&9!==b.nodeType;){d=b.children;for(f=d.length;f--;)if(a===d[f]){l.push(f);
break}a=b;b=b.parentNode}return l}function b(a){var b;return b=g(c,a),b?{position:b.position,offset:b.offset,indexes:d(b.node),inside:b.inside}:void 0}var c=m.getRng(),f={};return 2===a&&(c.item?f.start={ctrl:!0,indexes:d(c.item(0))}:(f.start=b(!0),m.isCollapsed()||(f.end=b()))),f};this.moveToBookmark=function(a){function d(a){var b,c,d,f;b=e.getRoot();for(c=a.length-1;0<=c;c--)f=b.children,d=a[c],d<=f.length-1&&(b=f[d]);return b}function b(b){var e=a[b?"start":"end"],n,p,t;e&&(n=0<e.position,p=f.createTextRange(),
p.moveToElementText(d(e.indexes)),t=e.offset,void 0!==t?(p.collapse(e.inside||n),p.moveStart("character",n?-t:t)):p.collapse(b),c.setEndPoint(b?"StartToStart":"EndToStart",p),b&&c.collapse(!0))}var c,f=e.doc.body;a.start&&(a.start.ctrl?(c=f.createControlRange(),c.addElement(d(a.start.indexes)),c.select()):(c=f.createTextRange(),b(!0),b(),c.select()))};this.addRange=function(a){function d(a){var c,d,p,r,m;p=e.create("a");c=a?f:k;d=a?g:n;r=b.duplicate();c!=t&&c!=t.documentElement||(c=v,d=0);3==c.nodeType?
(c.parentNode.insertBefore(p,c),r.moveToElementText(p),r.moveStart("character",d),e.remove(p),b.setEndPoint(a?"StartToStart":"EndToEnd",r)):(m=c.childNodes,m.length?(d>=m.length?e.insertAfter(p,m[m.length-1]):c.insertBefore(p,m[d]),r.moveToElementText(p)):c.canHaveHTML&&(c.innerHTML="<span>&#xFEFF;</span>",p=c.firstChild,r.moveToElementText(p),r.collapse(!1)),b.setEndPoint(a?"StartToStart":"EndToEnd",r),e.remove(p))}var b,c,f,g,k,n,p,t=m.dom.doc,v=t.body,B,r;if(f=a.startContainer,g=a.startOffset,
k=a.endContainer,n=a.endOffset,b=v.createTextRange(),f==k&&1==f.nodeType){if(g==n&&!f.hasChildNodes()){if(f.canHaveHTML)return p=f.previousSibling,p&&!p.hasChildNodes()&&e.isBlock(p)?p.innerHTML="&#xFEFF;":p=null,f.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",b.moveToElementText(f.lastChild),b.select(),e.doc.selection.clear(),f.innerHTML="",void(p&&(p.innerHTML=""));g=e.nodeIndex(f);f=f.parentNode}if(g==n-1)try{if(r=f.childNodes[g],c=v.createControlRange(),c.addElement(r),c.select(),B=m.getRng(),
B.item&&r===B.item(0))return}catch(h){}}d(!0);d();b.select()};this.getRangeAt=function(){function a(a){var c=g(d,a),e,f,k=0,h,l;if(e=c.node,f=c.offset,c.inside&&!e.hasChildNodes())return void b[a?"setStart":"setEnd"](e,0);if(void 0===f)return void b[a?"setStartBefore":"setEndAfter"](e);if(0>c.position){if(h=c.inside?e.firstChild:e.nextSibling,!h)return void b[a?"setStartAfter":"setEndAfter"](e);if(!f)return void(3==h.nodeType?b[a?"setStart":"setEnd"](h,0):b[a?"setStartBefore":"setEndBefore"](h));
for(;h;){if(3==h.nodeType&&(l=h.nodeValue,k+=l.length,k>=f)){e=h;k-=f;k=l.length-k;break}h=h.nextSibling}}else{if(h=e.previousSibling,!h)return b[a?"setStartBefore":"setEndBefore"](e);if(!f)return void(3==e.nodeType?b[a?"setStart":"setEnd"](h,e.nodeValue.length):b[a?"setStartAfter":"setEndAfter"](h));for(;h;){if(3==h.nodeType&&(k+=h.nodeValue.length,k>=f)){e=h;k-=f;break}h=h.previousSibling}}b[a?"setStart":"setEnd"](e,k)}var d=m.getRng(),b=e.createRng(),c,l,q,k,n;if(c=d.item?d.item(0):d.parentElement(),
c.ownerDocument!=e.doc)return b;if(l=m.isCollapsed(),d.item)return b.setStart(c.parentNode,e.nodeIndex(c)),b.setEnd(b.startContainer,b.startOffset+1),b;try{a(!0),l||a()}catch(p){if(-2147024809!=p.number)throw p;n=f.getBookmark(2);q=d.duplicate();q.collapse(!0);c=q.parentElement();l||(q=d.duplicate(),q.collapse(!1),k=q.parentElement(),k.innerHTML=k.innerHTML);c.innerHTML=c.innerHTML;f.moveToBookmark(n);d=m.getRng();a(!0);l||a()}return b}}});z("tinymce/util/VK",["tinymce/Env"],function(m){return{BACKSPACE:8,
DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(g){return g.shiftKey||g.ctrlKey||g.altKey||this.metaKeyPressed(g)},metaKeyPressed:function(g){return m.mac?g.metaKey:g.ctrlKey&&!g.altKey}}});z("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(m,g,f,e,a){var d=a.isContentEditableFalse;return function(a,c){function l(a){var b=c.settings.object_resizing;return!1===b||e.iOS?
!1:("string"!=typeof b&&(b="table,img,div"),"false"===a.getAttribute("data-mce-resize")?!1:a==c.getBody()?!1:c.dom.is(a,b))}function q(a){var b,d,e;b=a.screenX-I;d=a.screenY-J;D=b*z[2]+S;G=d*z[3]+K;D=5>D?5:D;G=5>G?5:G;("IMG"==y.nodeName&&!1!==c.settings.resize_img_proportional?!m.modifierPressed(a):m.modifierPressed(a)||"IMG"==y.nodeName&&0!==z[2]*z[3])&&(O(b)>O(d)?(G=ca(D*P),D=ca(G/P)):(D=ca(G/P),G=ca(D*P)));u.setStyles(x,{width:D,height:G});a=z.startPos.x+b;e=z.startPos.y+d;a=0<a?a:0;e=0<e?e:0;
u.setStyles(L,{left:a,top:e,display:"block"});L.innerHTML=D+" &times; "+G;0>z[2]&&x.clientWidth<=D&&u.setStyle(x,"left",F+(S-D));0>z[3]&&x.clientHeight<=G&&u.setStyle(x,"top",M+(K-G));b=Q.scrollWidth-da;d=Q.scrollHeight-Z;0!==b+d&&u.setStyles(L,{left:a-b,top:e-d});U||(c.fire("ObjectResizeStart",{target:y,width:S,height:K}),U=!0)}function k(){function a(b,d){d&&(y.style[b]||!c.schema.isValid(y.nodeName.toLowerCase(),b)?u.setStyle(y,b,d):u.setAttrib(y,b,d))}U=!1;a("width",D);a("height",G);u.unbind(T,
"mousemove",q);u.unbind(T,"mouseup",k);W!=T&&(u.unbind(W,"mousemove",q),u.unbind(W,"mouseup",k));u.remove(x);u.remove(L);Y&&"TABLE"!=y.nodeName||n(y);c.fire("ObjectResized",{target:y,width:D,height:G});u.setAttrib(y,"style",u.getAttrib(y,"style"));c.nodeChanged()}function n(a,b,d){var f,v,t;p();h();f=u.getPos(a,Q);F=f.x;M=f.y;f=a.getBoundingClientRect();v=f.width||f.right-f.left;t=f.height||f.bottom-f.top;y!=a&&(r(),y=a,D=G=0);f=c.fire("ObjectSelected",{target:a});l(a)&&!f.isDefaultPrevented()?C(E,
function(a,c){function f(b){I=b.screenX;J=b.screenY;S=y.clientWidth;K=y.clientHeight;P=K/S;z=a;a.startPos={x:v*a[0]+F,y:t*a[1]+M};da=Q.scrollWidth;Z=Q.scrollHeight;x=y.cloneNode(!0);u.addClass(x,"mce-clonedresizable");u.setAttrib(x,"data-mce-bogus","all");x.contentEditable=!1;x.unSelectabe=!0;u.setStyles(x,{left:F,top:M,margin:0});x.removeAttribute("data-mce-selected");Q.appendChild(x);u.bind(T,"mousemove",q);u.bind(T,"mouseup",k);W!=T&&(u.bind(W,"mousemove",q),u.bind(W,"mouseup",k));L=u.add(Q,"div",
{"class":"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+K)}var h;return b?void(c==b&&f(d)):(h=u.get("mceResizeHandle"+c),h&&u.remove(h),h=u.add(Q,"div",{id:"mceResizeHandle"+c,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+c+"-resize; margin:0; padding:0"}),e.ie&&(h.contentEditable=!1),u.bind(h,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();f(a)}),a.elm=h,void u.setStyles(h,{left:v*a[0]+F-h.offsetWidth/2,top:t*a[1]+M-h.offsetHeight/
2}))}):p();y.setAttribute("data-mce-selected","1")}function p(){var a,b;h();y&&y.removeAttribute("data-mce-selected");for(a in E)(b=u.get("mceResizeHandle"+a))&&(u.unbind(b),u.remove(b))}function t(d){function e(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var f,h;if(!U&&!c.removed)return C(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")}),h="mousedown"==d.type?d.target:a.getNode(),h=u.$(h).closest(Y?"table":"table,img,hr")[0],
e(h,Q)&&(A(),f=a.getStart(!0),e(f,h)&&e(a.getEnd(!0),h)&&(!Y||h!=f&&"IMG"!==f.nodeName))?void n(h):void p()}function v(a){a=a.srcElement;var b,d,e,f,h,k;b=a.getBoundingClientRect();k=H.clientX-b.left;b=H.clientY-b.top;for(d in E)if(e=E[d],f=a.offsetWidth*e[0],h=a.offsetHeight*e[1],8>O(f-k)&&8>O(h-b)){z=e;break}U=!0;c.fire("ObjectResizeStart",{target:y,width:y.clientWidth,height:y.clientHeight});c.getDoc().selection.empty();n(a,d,H)}function B(a){var b=a.srcElement;if(d(b))a.preventDefault?a.preventDefault():
a.returnValue=!1;else if(b!=y){if(c.fire("ObjectSelected",{target:b}),r(),0===b.id.indexOf("mceResizeHandle"))return void(a.returnValue=!1);if("IMG"==b.nodeName||"TABLE"==b.nodeName)p(),(y=b)&&b.attachEvent&&b.attachEvent("onresizestart",v)}}function r(){y&&y.detachEvent&&y.detachEvent("onresizestart",v)}function h(){for(var a in E){var b=E[a];b.elm&&(u.unbind(b.elm),delete b.elm)}}function A(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}}function w(a){var b;if(Y){b=T.body.createControlRange();
try{return b.addElement(a),b.select(),!0}catch(c){}}}var u=c.dom,C=g.each,y,x,L,E,z,H,I,J,F,M,S,K,P,U,D,G,T=c.getDoc(),W=document,Y=e.ie&&11>e.ie,O=Math.abs,ca=Math.round,Q=c.getBody(),da,Z;E={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};return c.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(e.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c.on("init",function(){Y?(c.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(p(),w(a.target))}),Q&&Q.attachEvent&&
Q.attachEvent("oncontrolselect",B),c.on("mousedown",function(a){H=a})):(A(),11<=e.ie&&(c.on("mousedown click",function(a){var b=a.target.nodeName;!U&&/^(TABLE|IMG|HR)$/.test(b)&&(c.selection.select(a.target,"TABLE"==b),"mousedown"==a.type&&c.nodeChanged())}),c.dom.bind(Q,"mscontrolselect",function(a){function b(a){f.setEditorTimeout(c,function(){c.selection.select(a)})}return d(a.target)?(a.preventDefault(),void b(a.target)):void(/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),"IMG"==
a.target.tagName&&b(a.target)))})));var a=f.throttle(function(a){c.composing||t(a)});c.on("nodechange ResizeEditor ResizeWindow drop",a);c.on("keyup compositionend",function(b){y&&"TABLE"==y.nodeName&&a(b)});c.on("hide blur",p)}),c.on("remove",h),{isResizable:l,showResizeRect:n,hideResizeRect:p,updateResizeRect:t,controlSelect:w,destroy:function(){y=x=null;Y&&(r(),Q&&Q.detachEvent&&Q.detachEvent("oncontrolselect",B))}}}});z("tinymce/util/Fun",[],function(){function m(f){var e=g.call(arguments);return e.length-
1>=f.length?f.apply(this,e.slice(1)):function(){var a=e.concat([].slice.call(arguments));return m.apply(this,a)}}var g=[].slice;return{constant:function(f){return function(){return f}},negate:function(f){return function(e){return!f(e)}},and:function(){var f=g.call(arguments);return function(e){for(var a=0;a<f.length;a++)if(!f[a](e))return!1;return!0}},or:function(){var f=g.call(arguments);return function(e){for(var a=0;a<f.length;a++)if(f[a](e))return!0;return!1}},curry:m,compose:function(f,e){return function(a){return f(e(a))}}}});
z("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(m,g,f){function e(a){return t(a)?!1:q(a)?!k(a.parentNode):n(a)||l(a)||p(a)||c(a)}function a(a,d){for(a=a.parentNode;a&&a!=d;a=a.parentNode){if(c(a))return!1;if(b(a))break}return!0}function d(a){return c(a)?!0!==g.reduce(a.getElementsByTagName("*"),function(a,c){return a||b(c)},!1):!1}var b=m.isContentEditableTrue,c=m.isContentEditableFalse,l=m.isBr,q=m.isText,k=m.matchNodeNames("script style textarea"),
n=m.matchNodeNames("img input textarea hr iframe video audio object"),p=m.matchNodeNames("table"),t=f.isCaretContainer;return{isCaretCandidate:e,isInEditable:a,isAtomic:function(a){return n(a)||d(a)},isEditableCaretCandidate:function(b,c){return e(b)&&a(b,c)}}});z("tinymce/geom/ClientRect",[],function(){function m(a){return a?{left:b(a.left),top:b(a.top),bottom:b(a.bottom),right:b(a.right),width:b(a.width),height:b(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function g(a,b,d){return 0<=
a&&a<=Math.min(b.height,d.height)/2}function f(a,b){return a.bottom<b.top?!0:a.top>b.bottom?!1:g(b.top-a.bottom,a,b)}function e(a,b){return a.top>b.bottom?!0:a.bottom<b.top?!1:g(b.bottom-a.top,a,b)}function a(a,b){return a.left<b.left}function d(a,b){return a.right>b.right}var b=Math.round;return{clone:m,collapse:function(a,b){return a=m(a),b?a.right=a.left:(a.left+=a.width,a.right=a.left),a.width=0,a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},
isAbove:f,isBelow:e,isLeft:a,isRight:d,compare:function(b,l){return f(b,l)?-1:e(b,l)?1:a(b,l)?-1:d(b,l)?1:0},containsXY:function(a,b,d){return b>=a.left&&b<=a.right&&d>=a.top&&d<=a.bottom}}});z("tinymce/text/ExtendingChar",[],function(){var m=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(g){return"string"==typeof g&&768<=g.charCodeAt(0)&&m.test(g)}}});z("tinymce/caret/CaretPosition","tinymce/util/Fun tinymce/dom/NodeType tinymce/dom/DOMUtils tinymce/dom/RangeUtils tinymce/caret/CaretCandidate tinymce/geom/ClientRect tinymce/text/ExtendingChar".split(" "),function(m,g,f,e,a,d,b){function c(a){return a&&/[\r\n\t ]/.test(a)}function l(a){var b=a.startContainer,d=a.startOffset,e;return!!(c(a.toString())&&B(b.parentNode)&&(e=b.data,c(e[d-1])||c(e[d+1])))}
function q(a){function c(a){var b;b=a.getClientRects();b=0<b.length?d.clone(b[0]):d.clone(a.getBoundingClientRect());if(h(a)&&0===b.left){var e=a.ownerDocument;b=e.createRange();var e=e.createTextNode("\u00a0"),f=a.parentNode,k;a=(f.insertBefore(e,a),b.setStart(e,0),b.setEnd(e,1),k=d.clone(b.getBoundingClientRect()),f.removeChild(e),k)}else a=b;return a}function e(a,b){return a=d.collapse(a,b),a.width=1,a.right=a.left+1,a}function f(a){0!==a.height&&(0<t.length&&d.isEqual(a,t[t.length-1])||t.push(a))}
function k(a,d){var h=a.ownerDocument.createRange();if(d<a.data.length){if(b.isExtendingChar(a.data[d]))return t;if(b.isExtendingChar(a.data[d-1])&&(h.setStart(a,d),h.setEnd(a,d+1),!l(h)))return f(e(c(h),!1)),t}0<d&&(h.setStart(a,d-1),h.setEnd(a,d),l(h)||f(e(c(h),!1)));d<a.data.length&&(h.setStart(a,d),h.setEnd(a,d+1),l(h)||f(e(c(h),!0)))}var t=[],g;if(r(a.container()))return k(a.container(),a.offset()),t;if(n(a.container()))if(a.isAtEnd())g=w(a.container(),a.offset()),r(g)&&k(g,g.data.length),v(g)&&
!h(g)&&f(e(c(g),!1));else{if(g=w(a.container(),a.offset()),r(g)&&k(g,0),v(g)&&a.isAtEnd())return f(e(c(g),!1)),t;a=w(a.container(),a.offset()-1);v(a)&&!h(a)&&(p(a)||p(g)||!v(g))&&f(e(c(a),!1));v(g)&&f(e(c(g),!0))}return t}function k(a,b,c){function d(){return c||(c=q(new k(a,b))),c}return{container:m.constant(a),offset:m.constant(b),toRange:function(){var c;return c=a.ownerDocument.createRange(),c.setStart(a,b),c.setEnd(a,b),c},getClientRects:d,isVisible:function(){return 0<d().length},isAtStart:function(){return r(a),
0===b},isAtEnd:function(){return r(a)?b>=a.data.length:b>=a.childNodes.length},isEqual:function(c){return c&&a===c.container()&&b===c.offset()},getNode:function(c){return w(a,c?b-1:b)}}}var n=g.isElement;a=a.isCaretCandidate;var p=g.matchStyleValues("display","block table"),t=g.matchStyleValues("float","left right"),v=m.and(n,a,m.negate(t)),B=m.negate(g.matchStyleValues("white-space","pre pre-line pre-wrap")),r=g.isText,h=g.isBr,A=f.nodeIndex,w=e.getNode;return k.fromRangeStart=function(a){return new k(a.startContainer,
a.startOffset)},k.fromRangeEnd=function(a){return new k(a.endContainer,a.endOffset)},k.after=function(a){return new k(a.parentNode,A(a)+1)},k.before=function(a){return new k(a.parentNode,A(a))},k});z("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(m,g,f,e,a){function d(a){a=a.parentNode;return B(a)?d(a):a}function b(a){return a?e.reduce(a.childNodes,function(a,c){return B(c)&&"BR"!=c.nodeName?
a=a.concat(b(c)):a.push(c),a},[]):[]}function c(a,b){for(;(a=a.previousSibling)&&v(a);)b+=a.data.length;return b}function l(a){return function(b){return a===b}}function q(a){var c,f,k;return c=b(d(a)),f=e.findIndex(c,l(a),a),c=c.slice(0,f+1),k=e.reduce(c,function(a,b,d){return v(b)&&v(c[d-1])&&a++,a},0),c=e.filter(c,m.matchNodeNames(a.nodeName)),f=e.findIndex(c,l(a),a),f-k}function k(a){var b;return b=v(a)?"text()":a.nodeName.toLowerCase(),b+"["+q(a)+"]"}function n(a,b,c){var d=[];for(b=b.parentNode;!(b==
a||c&&c(b));b=b.parentNode)d.push(b);return d}function p(a,c,d){var f=b(a);return f=e.filter(f,function(a,b){return!v(a)||!v(f[b-1])}),f=e.filter(f,m.matchNodeNames(c)),f[d]}function t(b,c){for(var d=b,e=0,f;v(d);){if(f=d.data.length,c>=e&&e+f>=c){b=d;c-=e;break}if(!v(d.nextSibling)){b=d;c=f;break}e+=f;d=d.nextSibling}return c>b.data.length&&(c=b.data.length),new a(b,c)}var v=m.isText,B=m.isBogus,r=g.nodeIndex;return{create:function(a,b){var d,l,p=[],t,g,r;return d=b.container(),l=b.offset(),v(d)?
t=c(d,l):(g=d.childNodes,l>=g.length?(t="after",l=g.length-1):t="before",d=g[l]),p.push(k(d)),r=n(a,d),r=e.filter(r,f.negate(m.isBogus)),p=p.concat(e.map(r,function(a){return k(a)})),p.reverse().join("/")+","+t},resolve:function(b,c){var d,f,k;return c?(d=c.split(","),c=d[0].split("/"),k=1<d.length?d[1]:"before",f=e.reduce(c,function(a,b){return(b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b))?("text()"===b[1]&&(b[1]="#text"),p(a,b[1],parseInt(b[2],10))):null},b),f?v(f)?t(f,parseInt(k,10)):(k="after"===k?r(f)+
1:r(f),new a(f.parentNode,k)):null):null}}});z("tinymce/dom/BookmarkManager","tinymce/Env tinymce/util/Tools tinymce/caret/CaretContainer tinymce/caret/CaretBookmark tinymce/caret/CaretPosition tinymce/dom/NodeType".split(" "),function(m,g,f,e,a,d){function b(b){var q=b.dom;this.getBookmark=function(k,n){function p(a,b){var c=0;return g.each(q.select(a),function(a){return"all"!==a.getAttribute("data-mce-bogus")?a==b?!1:void c++:void 0}),c}function t(a){function b(c){var d,e,f;e=c?"start":"end";d=
a[e+"Container"];e=a[e+"Offset"];1==d.nodeType&&"TR"==d.nodeName&&(f=d.childNodes,d=f[Math.min(c?e:e-1,f.length-1)],d&&(e=c?0:d.childNodes.length,a["set"+(c?"Start":"End")](d,e)))}return b(!0),b(),a}function v(a){function c(a,b){var e=a[b?"startContainer":"endContainer"],f=a[b?"startOffset":"endOffset"],h=[],k,l=0;if(3==e.nodeType){if(n)for(k=e.previousSibling;k&&3==k.nodeType;k=k.previousSibling)f+=k.nodeValue.length;h.push(f)}else k=e.childNodes,f>=k.length&&k.length&&(l=1,f=Math.max(0,k.length-
1)),h.push(q.nodeIndex(k[f],n)+l);for(;e&&e!=d;e=e.parentNode)h.push(q.nodeIndex(e,n));return h}var d=q.getRoot(),e={};return e.start=c(a,!0),b.isCollapsed()||(e.end=c(a)),e}function m(a){function b(a){var e;if(f.isCaretContainer(a)&&((d.isText(a)&&f.isCaretContainerBlock(a)&&(a=a.parentNode),e=a.previousSibling,c(e))||(e=a.nextSibling,c(e))))return e}return b(a.startContainer)||b(a.endContainer)}var r,h,A,w,u;if(2==k)return u=b.getNode(),h=u?u.nodeName:null,r=b.getRng(),c(u)||"IMG"==h?{name:h,index:p(h,
u)}:b.tridentSel?b.tridentSel.getBookmark(k):(u=m(r),u?(h=u.tagName,{name:h,index:p(h,u)}):v(r));if(3==k)return r=b.getRng(),{start:e.create(q.getRoot(),a.fromRangeStart(r)),end:e.create(q.getRoot(),a.fromRangeEnd(r))};if(k)return{rng:b.getRng()};if(r=b.getRng(),A=q.uniqueId(),w=b.isCollapsed(),r.duplicate||r.item){if(r.item)return u=r.item(0),h=u.nodeName,{name:h,index:p(h,u)};h=r.duplicate();try{r.collapse(),r.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),
w||(h.collapse(!1),r.moveToElementText(h.parentElement()),0===r.compareEndPoints("StartToEnd",h)&&h.move("character",-1),h.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(C){return null}}else{if(u=b.getNode(),h=u.nodeName,"IMG"==h)return{name:h,index:p(h,u)};h=t(r.cloneRange());w||(h.collapse(!1),h.insertNode(q.create("span",{"data-mce-type":"bookmark",id:A+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;")));r=t(r);
r.collapse(!0);r.insertNode(q.create("span",{"data-mce-type":"bookmark",id:A+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"))}return b.moveToBookmark({id:A,keep:1}),{id:A}};this.moveToBookmark=function(a){function c(b){var d=a[b?"start":"end"],e,f,h,l;if(d){h=d[0];f=r;for(e=d.length-1;1<=e;e--){if(l=f.childNodes,d[e]>l.length-1)return;f=l[d[e]]}3===f.nodeType&&(h=Math.min(d[0],f.nodeValue.length));1===f.nodeType&&(h=Math.min(d[0],f.childNodes.length));b?B.setStart(f,h):B.setEnd(f,h)}return!0}
function d(b){var c=q.get(a.id+"_"+b),e,f,l;l=a.keep;if(c&&(e=c.parentNode,"start"==b?(l?(e=c.firstChild,f=1):f=q.nodeIndex(c),h=A=e,w=u=f):(l?(e=c.firstChild,f=1):f=q.nodeIndex(c),A=e,u=f),!l)){l=c.previousSibling;e=c.nextSibling;for(g.each(g.grep(c.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});c=q.get(a.id+"_"+b);)q.remove(c,1);l&&e&&l.nodeType==e.nodeType&&3==l.nodeType&&!m.opera&&(f=l.nodeValue.length,l.appendData(e.nodeValue),q.remove(e),"start"==b?
(h=A=l,w=u=f):(A=l,u=f))}}function f(a){return!q.isBlock(a)||a.innerHTML||m.ie||(a.innerHTML='<br data-mce-bogus="1" />'),a}function v(){var b,c;return b=q.createRng(),c=e.resolve(q.getRoot(),a.start),b.setStart(c.container(),c.offset()),c=e.resolve(q.getRoot(),a.end),b.setEnd(c.container(),c.offset()),b}var B,r,h,A,w,u;if(a)if(g.isArray(a.start)){if(B=q.createRng(),r=q.getRoot(),b.tridentSel)return b.tridentSel.moveToBookmark(a);c(!0)&&c()&&b.setRng(B)}else"string"==typeof a.start?b.setRng(v(a)):
a.id?(d("start"),d("end"),h&&(B=q.createRng(),B.setStart(f(h),w),B.setEnd(f(A),u),b.setRng(B))):a.name?b.select(q.select(a.name)[a.index]):a.rng&&b.setRng(a.rng)}}var c=d.isContentEditableFalse;return b.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},b});z("tinymce/dom/Selection","tinymce/dom/TreeWalker tinymce/dom/TridentSelection tinymce/dom/ControlSelection tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/NodeType tinymce/Env tinymce/util/Tools".split(" "),
function(m,g,f,e,a,d,b,c){function l(b,c,d,e){this.dom=b;this.win=c;this.serializer=d;this.editor=e;this.bookmarkManager=new a(this);this.controlSelection=new f(this,e);this.win.getSelection||(this.tridentSel=new g(this))}var q=c.each,k=c.trim,n=b.ie;return l.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b=this.getRng(),
c=this.dom.create("body"),d=this.getSel(),e,f,k;return a=a||{},e=f="",a.get=!0,a.format=a.format||"html",a.selection=!0,this.editor.fire("BeforeGetContent",a),"text"==a.format?this.isCollapsed()?"":b.text||(d.toString?d.toString():""):(b.cloneContents?(k=b.cloneContents(),k&&c.appendChild(k)):b.item!==ba||b.htmlText!==ba?(c.innerHTML="<br>"+(b.item?b.item(0).outerHTML:b.htmlText),c.removeChild(c.firstChild)):c.innerHTML=b.toString(),/^\s/.test(c.innerHTML)&&(e=" "),/\s+$/.test(c.innerHTML)&&(f=" "),
a.getInner=!0,a.content=this.isCollapsed()?"":e+this.serializer.serialize(c,a)+f,this.editor.fire("GetContent",a),a.content)},setContent:function(a,b){var c=this.getRng(),d,e=this.win.document,f;if(b=b||{format:"html"},b.set=!0,b.selection=!0,b.content=a,b.no_events||this.editor.fire("BeforeSetContent",b),a=b.content,c.insertNode){a+='<span id="__caret">_</span>';c.startContainer==e&&c.endContainer==e?e.body.innerHTML=a:(c.deleteContents(),0===e.body.childNodes.length?e.body.innerHTML=a:c.createContextualFragment?
c.insertNode(c.createContextualFragment(a)):(d=e.createDocumentFragment(),f=e.createElement("div"),d.appendChild(f),f.outerHTML=a,c.insertNode(d)));d=this.dom.get("__caret");c=e.createRange();c.setStartBefore(d);c.setEndBefore(d);this.setRng(c);this.dom.remove("__caret");try{this.setRng(c)}catch(k){}}else c.item&&(e.execCommand("Delete",!1,null),c=this.getRng()),/^\s+/.test(a)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):c.pasteHTML(a);b.no_events||this.editor.fire("SetContent",
b)},getStart:function(a){var b=this.getRng(),c;if(b.duplicate||b.item){if(b.item)return b.item(0);c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=a.parentNode;)if(a==c){c=b;break}return c}return c=b.startContainer,1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)])),c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b=this.getRng(),c,d;return b.duplicate||
b.item?b.item?b.item(0):(b=b.duplicate(),b.collapse(0),c=b.parentElement(),c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot()),c&&"BODY"==c.nodeName?c.lastChild||c:c):(c=b.endContainer,d=b.endOffset,1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[0<d?d-1:d])),c&&3==c.nodeType?c.parentNode:c)},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom,d=c.createRng();
if(this.lastFocusBookmark=null,a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed},collapse:function(a){var b=this.getRng(),c;b.item&&(c=b.item(0),b=this.win.document.body.createTextRange(),b.moveToElementText(c));
b.collapse(!!a);this.setRng(b)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,c,d){try{return c.compareBoundaryPoints(a,d)}catch(e){return-1}}var c,d,e,f,k,l;if(!this.win)return null;if(f=this.win.document,!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(d=f.createRange(),d.setStart(a.startContainer,a.startOffset),d.setEnd(a.endContainer,a.endOffset)):d=a,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);
try{(c=this.getSel())&&(d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():f.createRange())}catch(g){}if(l=this.editor.fire("GetSelectionRange",{range:d}),l.range!==d)return l.range;if(n&&d&&d.setStart&&f.selection){try{k=f.selection.createRange()}catch(g){}k&&k.item&&(e=k.item(0),d=f.createRange(),d.setStartBefore(e),d.setEndAfter(e))}return d||(d=f.createRange?f.createRange():f.body.createTextRange()),d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(e=this.dom.getRoot(),d.setStart(e,
0),d.setEnd(e,0)),this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:(this.selectedRange=null,this.explicitRange=null)),d},setRng:function(a,c){var d,e,f;if(a)if(a.select){this.explicitRange=null;try{a.select()}catch(h){}}else if(this.tridentSel){if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(h){}}else{if(d=this.getSel(),f=this.editor.fire("SetSelectionRange",{range:a}),a=f.range,d){this.explicitRange=
a;try{d.removeAllRanges(),d.addRange(a)}catch(h){}!1===c&&d.extend&&(d.collapse(a.endContainer,a.endOffset),d.extend(a.startContainer,a.startOffset));this.selectedRange=0<d.rangeCount?d.getRangeAt(0):null}a.collapsed||a.startContainer!=a.endContainer||!d.setBaseAndExtent||b.ie||2>a.endOffset-a.startOffset&&a.startContainer.hasChildNodes()&&(e=a.startContainer.childNodes[a.startOffset],e&&"IMG"==e.tagName&&this.getSel().setBaseAndExtent(e,0,e,1))}},setNode:function(a){return this.setContent(this.dom.getOuterHTML(a)),
a},getNode:function(){function a(b,c){for(var d=b;b&&3===b.nodeType&&0===b.length;)b=c?b.nextSibling:b.previousSibling;return b||d}var b=this.getRng(),c,d,e,f,k,l=this.dom.getRoot();return b?(d=b.startContainer,e=b.endContainer,f=b.startOffset,k=b.endOffset,b.setStart?(c=b.commonAncestorContainer,!b.collapsed&&(d==e&&2>k-f&&d.hasChildNodes()&&(c=d.childNodes[f]),3===d.nodeType&&3===e.nodeType&&(d=d.length===f?a(d.nextSibling,!0):d.parentNode,e=0===k?a(e.previousSibling,!1):e.parentNode,d&&d===e))?
d:c&&3==c.nodeType?c.parentNode:c):(c=b.item?b.item(0):b.parentElement(),c.ownerDocument!==this.win.document&&(c=l),c)):l},getSelectedBlocks:function(a,b){var c=this.dom,d,e,f=[];if(e=c.getRoot(),a=c.getParent(a||this.getStart(),c.isBlock),b=c.getParent(b||this.getEnd(),c.isBlock),a&&a!=e&&f.push(a),a&&b&&a!=b){d=a;for(var k=new m(a,e);(d=k.next())&&d!=b;)c.isBlock(d)&&f.push(d)}return b&&a!=b&&b!=e&&f.push(b),f},isForward:function(){var a=this.dom,b=this.getSel(),c,d;return b&&b.anchorNode&&b.focusNode?
(c=a.createRng(),c.setStart(b.anchorNode,b.anchorOffset),c.collapse(!0),d=a.createRng(),d.setStart(b.focusNode,b.focusOffset),d.collapse(!0),0>=c.compareBoundaryPoints(c.START_TO_START,d)):!0},normalize:function(){var a=this.getRng();return b.range&&(new e(this.dom)).normalize(a)&&this.setRng(a,this.isForward()),a},selectorChanged:function(a,b){var c=this,d;return c.selectorChangedData||(c.selectorChangedData={},d={},c.editor.on("NodeChange",function(a){var b=a.element,e=c.dom,f=e.getParents(b,null,
e.getRoot()),k={};q(c.selectorChangedData,function(a,b){q(f,function(c){return e.is(c,b)?(d[b]||(q(a,function(a){a(!0,{node:c,selector:b,parents:f})}),d[b]=a),k[b]=a,!1):void 0})});q(d,function(a,c){k[c]||(delete d[c],q(a,function(a){a(!1,{node:b,selector:c,parents:f})}))})})),c.selectorChangedData[a]||(c.selectorChangedData[a]=[]),c.selectorChangedData[a].push(b),c},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=
b.parentNode}return a},scrollIntoView:function(a,b){function c(a){for(var b=0,d=0;a&&a.nodeType;)b+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent;return{x:b,y:d}}var e,f,h=this.dom;f=h.getRoot();var k,l,g=0;if(d.isElement(a)){if(!1===b&&(g=a.offsetHeight),"BODY"!=f.nodeName)if(f=this.getScrollContainer())return e=c(a).y-c(f).y+g,l=f.clientHeight,k=f.scrollTop,void((k>e||e+25>k+l)&&(f.scrollTop=k>e?e:e-l+25));f=h.getViewPort(this.editor.getWin());e=h.getPos(a).y+g;k=f.y;l=f.h;(e<f.y||e+25>k+l)&&
this.editor.getWin().scrollTo(0,k>e?e:e-l+25)}},placeCaretAt:function(a,b){this.setRng(e.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(a,c,d){var e=c,f=new m(c,e),h=this.dom.schema.getNonEmptyElements();do{if(3==c.nodeType&&0!==k(c.nodeValue).length)return void(d?a.setStart(c,0):a.setEnd(c,c.nodeValue.length));if(h[c.nodeName]&&!/^(TD|TH)$/.test(c.nodeName))return void(d?a.setStartBefore(c):"BR"==c.nodeName?a.setEndBefore(c):a.setEndAfter(c));if(b.ie&&11>b.ie&&this.dom.isBlock(c)&&
this.dom.isEmpty(c))return void(d?a.setStart(c,0):a.setEnd(c,0))}while(c=d?f.next():f.prev());"BODY"==e.nodeName&&(d?a.setStart(e,0):a.setEnd(e,e.childNodes.length))},destroy:function(){this.win=null;this.controlSelection.destroy()}},l});z("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(m,g){var f=g.each;return function(e){this.compare=function(a,d){function b(a){var b={};return f(e.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==
c&&"data-mce-style"!==c&&"data-mce-fragment"!=c&&(b[c]=e.getAttrib(a,c))}),b}function c(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){if((c=b[d],"undefined"==typeof c)||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return a.nodeName!=d.nodeName?!1:c(b(a),b(d))&&c(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(d,"style")))?!m.isBookmarkNode(a)&&!m.isBookmarkNode(d):!1}}});z("tinymce/fmt/Preview",["tinymce/util/Tools"],function(m){var g=m.each;return{getCssText:function(f,
e){var a,d,b=f.dom,c="",l,q;if(q=f.settings.preview_styles,!1===q)return"";if(q||(q="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(e=f.formatter.get(e),!e)return;e=e[0]}return a=e.block||e.inline||"span",d=b.create(a),g(e.styles,function(a,c){(a=a.replace(/%(\w+)/g,""))&&b.setStyle(d,c,a)}),g(e.attributes,function(a,c){(a=a.replace(/%(\w+)/g,""))&&b.setAttrib(d,c,a)}),g(e.classes,
function(a){a=a.replace(/%(\w+)/g,"");b.hasClass(d,a)||b.addClass(d,a)}),f.fire("PreviewFormats"),b.setStyles(d,{position:"absolute",left:-65535}),f.getBody().appendChild(d),l=b.getStyle(f.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,g(q.split(" "),function(a){var e=b.getStyle(d,a,!0);if(!("background-color"==a&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(e)&&(e=b.getStyle(f.getBody(),a,!0),"#ffffff"==b.toHex(e).toLowerCase())||"color"==a&&"#000000"==b.toHex(e).toLowerCase())){if("font-size"==
a&&/em|%$/.test(e)){if(0===l)return;e=parseFloat(e,10)/(/%$/.test(e)?100:1);e=e*l+"px"}"border"==a&&e&&(c+="padding:0 2px;");c+=a+":"+e+";"}}),f.fire("AfterPreviewFormats"),b.remove(d),c}}});z("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(m,g,f){var e=[],a=m.filter,d=m.each;return function(a,c){e[a]||(e[a]=[]);e[a].push(c)}("pre",function(b){function c(a){return q(a.previousSibling)&&-1!=m.indexOf(k,a.previousSibling)}var e=b.selection.getRng(),q,
k;q=g.matchNodeNames("pre");e.collapsed||(k=b.selection.getSelectedBlocks(),d(a(a(k,q),c),function(a){var b=a.previousSibling;f(a).remove();f(b).append("<br><br>").append(a.childNodes)}))}),{postProcess:function(a,c){d(e[a],function(a){a(c)})}}});z("tinymce/Formatter","tinymce/dom/TreeWalker tinymce/dom/RangeUtils tinymce/dom/BookmarkManager tinymce/dom/ElementUtils tinymce/util/Tools tinymce/fmt/Preview tinymce/fmt/Hooks".split(" "),function(m,g,f,e,a,d,b){return function(c){function l(a){return a.nodeType&&
(a=a.nodeName),!!c.schema.getTextBlockElements()[a.toLowerCase()]}function q(a,b){return D.getParents(a,b,D.getRoot())}function k(a){return 1===a.nodeType&&"_mce_caret"===a.id}function n(a){return a?U[a]:U}function p(a,b){a&&("string"!=typeof a?X(a,function(a,b){p(b,a)}):(b=b.length?b:[b],X(b,function(a){a.deep===V&&(a.deep=!a.selector);a.split===V&&(a.split=!a.selector||a.inline);a.remove===V&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"==
typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),U[a]=b))}function t(a,b){var c=n(b);if(c)for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&D.is(a,c[d].selector))return!0;return!1}function v(a){var b;return c.dom.getParent(a,function(a){return b=c.dom.getStyle(a,"text-decoration"),b&&"none"!==b}),b}function B(a){var b;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(b=v(a.parentNode),c.dom.getStyle(a,"color")&&b?c.dom.setStyle(a,"text-decoration",b):c.dom.getStyle(a,"text-decoration")===
b&&c.dom.setStyle(a,"text-decoration",null))}function r(a,d,e){function f(a,b){if(b=b||q,a){if(b.onformat&&b.onformat(a,b,d,e),X(b.styles,function(b,c){D.setStyle(a,c,L(b,d))}),b.styles){var c=D.getAttrib(a,"style");c&&a.setAttribute("data-mce-style",c)}X(b.attributes,function(b,c){D.setAttrib(a,c,L(b,d))});X(b.classes,function(b){b=L(b,d);D.hasClass(a,b)||D.addClass(a,b)})}}function h(){var a=c.selection.getRng(),b=a.startContainer,d=a.endContainer;if(b!=d&&0===a.endOffset){a:{d=new m(d);for(e=d.prev2();e;e=
d.prev2()){if(3==e.nodeType&&0<e.data.length){b=e;break a}if(1<e.childNodes.length||e==b||"BR"==e.tagName){b=e;break a}}b=void 0}a.setEnd(b,3==b.nodeType?b.data.length:b.childNodes.length)}return a}function g(b,c,e){var h=[],n,r,t=!0;n=q.inline||q.block;r=D.create(n);f(r);T.walk(b,function(b){function c(b){var u,m,v,y,B;return B=t,u=b.nodeName.toLowerCase(),m=b.parentNode.nodeName.toLowerCase(),1===b.nodeType&&ea(b)&&(B=t,t="true"===ea(b),y=!0),C(u,"br")?(g=0,void(q.block&&D.remove(b))):q.wrapper&&
A(b,a,d)?void(g=0):t&&!y&&q.block&&!q.wrapper&&l(u)&&W(m,n)?(b=D.rename(b,n),f(b),h.push(b),void(g=0)):q.selector&&(X(p,function(a){return"collapsed"in a&&a.collapsed!==w?void 0:D.is(b,a.selector)&&!k(b)?(f(b,a),v=!0,!1):void 0}),!q.inline||v)?void(g=0):void(!t||y||!W(n,u)||!W(m,n)||!e&&3===b.nodeType&&1===b.nodeValue.length&&65279===b.nodeValue.charCodeAt(0)||k(b)||q.inline&&Y(b)?(g=0,X(ia(b.childNodes),c),y&&(t=B),g=0):(g||(g=D.clone(r,Z),b.parentNode.insertBefore(g,b),h.push(g)),g.appendChild(b)))}
var g;X(b,c)});!0===q.links&&X(h,function(a){function b(a){"A"===a.nodeName&&f(a,q);X(ia(a.childNodes),b)}b(a)});X(h,function(b){function c(a){var b,d;return X(a.childNodes,function(a){return 1!=a.nodeType||ga(a)||k(a)?void 0:(b=a,Z)}),b&&!ga(b)&&u(b,q)&&(d=D.clone(b,Z),f(d),D.replace(d,a,aa),D.remove(b,1)),d||a}var e;if(e=function(a){var b=0;return X(a.childNodes,function(a){E(a)||ga(a)||b++}),b}(b),(1<h.length||!Y(b))&&0===e)return void D.remove(b,1);if(q.inline||q.wrapper){if(q.exact||1!==e||(b=
c(b)),X(p,function(a){X(D.select(a.inline,b),function(b){ga(b)||I(a,d,b,a.exact?b:null)})}),A(b.parentNode,a,d))return D.remove(b,1),b=0,aa;q.merge_with_parents&&D.getParent(b.parentNode,function(c){return A(c,a,d)?(D.remove(b,1),b=0,aa):void 0});b&&!1!==q.merge_siblings&&(b=M(F(b),b),b=M(b,F(b,aa)))}})}var p=n(a),q=p[0],t,w=!e&&G.isCollapsed();if("false"!==ea(G.getNode())){if(q){if(e)e.nodeType?(t=D.createRng(),t.setStartBefore(e),t.setEndAfter(e),g(H(t,p),null,!0)):g(e,null,!0);else if(w&&q.inline&&
!D.select("td[data-mce-selected],th[data-mce-selected]").length)K("apply",a,d);else{var v=c.selection.getNode();O||!p[0].defaultBlock||D.getParent(v,D.isBlock)||r(p[0].defaultBlock);c.selection.setRng(h());t=G.getBookmark();g(H(G.getRng(aa),p),t);q.styles&&(q.styles.color||q.styles.textDecoration)&&(la(v,B,"childNodes"),B(v));G.moveToBookmark(t);P(G.getRng(aa));c.nodeChanged()}b.postProcess(a,c)}}else for(e=G.getNode(),t=0,v=p.length;v>t;t++)if(p[t].ceFalseOverride&&D.is(e,p[t].selector))return void f(e,
p[t])}function h(a,b,d,e){function f(a){var c,d,e,h,k;if(1===a.nodeType&&ea(a)&&(h=m,m="true"===ea(a),k=!0),c=ia(a.childNodes),m&&!k)for(d=0,e=u.length;e>d&&!I(u[d],b,a,a);d++);if(p.deep&&c.length){d=0;for(e=c.length;e>d;d++)f(c[d]);k&&(m=h)}}function h(c){var d;return X(q(c.parentNode).reverse(),function(c){var f;d||"_start"==c.id||"_end"==c.id||(f=A(c,a,b,e),f&&!1!==f.split&&(d=c))}),d}function k(a){var c=h(a),d=a,e,f,l,g,n,r;if(c){r=c.parentNode;for(e=d.parentNode;e&&e!=r;e=e.parentNode){f=D.clone(e,
Z);for(n=0;n<u.length;n++)if(I(u[n],b,f,f)){f=0;break}f&&(l&&f.appendChild(l),g||(g=f),l=f)}p.mixed&&Y(c)||(d=D.split(c,d));l&&(a.parentNode.insertBefore(l,a),g.appendChild(a))}return d}function l(a){var b=D.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return ga(c)&&(c=c[a?"firstChild":"lastChild"]),3==c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling),D.remove(b,!0),c}function g(a){var b,d,e=a.commonAncestorContainer;if(a=H(a,u,aa),p.split){if(b=
S(a,aa),d=S(a),b!=d){if(/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"==b.nodeName?b.firstChild.firstChild||b:b.firstChild||b),e&&/^T(HEAD|BODY|FOOT|R)$/.test(e.nodeName)&&/^(TH|TD)$/.test(d.nodeName)&&d.firstChild&&(d=d.firstChild||d),D.isChildOf(b,d)&&!Y(d)&&!/^(TH|TD)$/.test(b.nodeName)&&!/^(TH|TD)$/.test(d.nodeName))return b=z(b,"span",{id:"_start","data-mce-type":"bookmark"}),k(b),void(b=l(aa));b=z(b,"span",{id:"_start","data-mce-type":"bookmark"});d=z(d,"span",{id:"_end","data-mce-type":"bookmark"});
k(b);k(d);b=l(aa);d=l()}else b=d=k(b);a.startContainer=b.parentNode?b.parentNode:b;a.startOffset=ca(b);a.endContainer=d.parentNode?d.parentNode:d;a.endOffset=ca(d)+1}T.walk(a,function(a){X(a,function(a){f(a);1===a.nodeType&&"underline"===c.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===v(a.parentNode)&&I({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})}var u=n(a),p=u[0],r,t,m=!0;if(d)return void(d.nodeType?(t=D.createRng(),t.setStartBefore(d),t.setEndAfter(d),
g(t)):g(d));if("false"!==ea(G.getNode()))G.isCollapsed()&&p.inline&&!D.select("td[data-mce-selected],th[data-mce-selected]").length?K("remove",a,b,e):(r=G.getBookmark(),g(G.getRng(aa)),G.moveToBookmark(r),p.inline&&w(a,b,G.getStart())&&P(G.getRng(!0)),c.nodeChanged());else for(d=G.getNode(),r=0,t=u.length;t>r&&(!u[r].ceFalseOverride||!I(u[r],b,d,d));r++);}function A(a,b,c,d){function e(a,b,f){var h,k,l=b[f];if(b.onmatch)return b.onmatch(a,b,f);if(l)if(l.length===V)for(h in l){if(l.hasOwnProperty(h)&&
((k="attributes"===f?D.getAttrib(a,h):y(a,h),d&&!k&&!b.exact)||(!d||b.exact)&&!C(k,x(L(l[h],c),h))))return}else for(h=0;h<l.length&&("attributes"===f?!D.getAttrib(a,l[h]):!y(a,l[h]));h++);return b}var f=n(b),h;if(f&&a)for(b=0;b<f.length;b++)if(h=f[b],u(a,h)&&e(a,h,"attributes")&&e(a,h,"styles")){if(f=h.classes)for(b=0;b<f.length;b++)if(!D.hasClass(a,f[b]))return;return h}}function w(a,b,c){function d(c){var e=D.getRoot();return c===e?!1:(c=D.getParent(c,function(c){return t(c,a)?!0:c.parentNode===
e||!!A(c,a,b,!0)}),A(c,a,b))}var e;return c?d(c):(c=G.getNode(),d(c)?aa:(e=G.getStart(),e!=c&&d(e)?aa:Z))}function u(a,b){return C(a,b.inline)?aa:C(a,b.block)?aa:b.selector?1==a.nodeType&&D.is(a,b.selector):void 0}function C(a,b){return a=a||"",b=b||"",a=""+(a.nodeName||a),b=""+(b.nodeName||b),a.toLowerCase()==b.toLowerCase()}function y(a,b){return x(D.getStyle(a,b),b)}function x(a,b){return"color"!=b&&"backgroundColor"!=b||(a=D.toHex(a)),"fontWeight"==b&&700==a&&(a="bold"),"fontFamily"==b&&(a=a.replace(/[\'\"]/g,
"").replace(/,\s+/g,",")),""+a}function L(a,b){return"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(a,c){return b[c]||a})),a}function E(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)}function z(a,b,c){b=D.create(b,c);return a.parentNode.insertBefore(b,a),b.appendChild(a),b}function H(a,b,d){function e(a){var c,d,f,h;if(c=d=a?t:w,f=a?"previousSibling":"nextSibling",h=D.getRoot(),3==c.nodeType&&!E(c)&&(a?0<v:A<c.nodeValue.length))return c;for(;b[0].block_expand||!Y(d);){for(a=
d[f];a;a=a[f]){if(c=!ga(a)&&!E(a))c=a,c=!("BR"==c.nodeName&&c.getAttribute("data-mce-bogus")&&!c.nextSibling);if(c)return d}if(d==h||d.parentNode==h)break;d=d.parentNode}return d}function f(a,b){for(b===V&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}}function h(a){for(var b=a;b;){if(1===b.nodeType&&ea(b))return"false"===ea(b)?b:a;b=b.parentNode}return a}function k(a,b,e){function f(a,
b){var c,h,k=a.nodeValue;return"undefined"==typeof b&&(b=e?k.length:0),e?(c=k.lastIndexOf(" ",b),h=k.lastIndexOf("\u00a0",b),c=c>h?c:h,-1===c||d||c++):(c=k.indexOf(" ",b),h=k.indexOf("\u00a0",b),c=-1!==c&&(-1===h||h>c)?c:h),c}var h,l,g;if(3===a.nodeType){if(l=f(a,b),-1!==l)return{container:a,offset:l};g=a}for(a=new m(a,D.getParent(a,Y)||c.getBody());h=a[e?"prev":"next"]();)if(3===h.nodeType){if(g=h,l=f(h),-1!==l)return{container:h,offset:l}}else if(Y(h))break;return g?(b=e?0:g.length,{container:g,
offset:b}):void 0}function g(c,d){var e,f,h,k;3==c.nodeType&&0===c.nodeValue.length&&c[d]&&(c=c[d]);e=q(c);for(f=0;f<e.length;f++)for(h=0;h<b.length;h++)if(k=b[h],!("collapsed"in k&&k.collapsed!==a.collapsed)&&D.is(e[f],k.selector))return e[f];return c}function n(a,c){var d,e=D.getRoot();if(b[0].wrapper||(d=D.getParent(a,b[0].block,e)),d||(d=D.getParent(3==a.nodeType?a.parentNode:a,function(a){return a!=e&&l(a)})),d&&b[0].wrapper&&(d=q(d,"ul,ol").reverse()[0]||d),!d)for(d=a;d[c]&&!Y(d[c])&&(d=d[c],
!C(d,"br")););return d||a}var u,p,r,t=a.startContainer,v=a.startOffset,w=a.endContainer,A=a.endOffset;if(1==t.nodeType&&t.hasChildNodes()&&(u=t.childNodes.length-1,t=t.childNodes[v>u?u:v],3==t.nodeType&&(v=0)),1==w.nodeType&&w.hasChildNodes()&&(u=w.childNodes.length-1,w=w.childNodes[A>u?u:A-1],3==w.nodeType&&(A=w.nodeValue.length)),t=h(t),w=h(w),(ga(t.parentNode)||ga(t))&&(t=ga(t)?t:t.parentNode,t=t.nextSibling||t,3==t.nodeType&&(v=0)),(ga(w.parentNode)||ga(w))&&(w=ga(w)?w:w.parentNode,w=w.previousSibling||
w,3==w.nodeType&&(A=w.length)),b[0].inline&&(a.collapsed&&(r=k(t,v,!0),r&&(t=r.container,v=r.offset),r=k(w,A),r&&(w=r.container,A=r.offset)),p=f(w,A),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=f(p.node.previousSibling);p.node&&0<p.offset&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&1<p.offset&&(w=p.node,w.splitText(p.offset-1))}return(b[0].inline||b[0].block_expand)&&(b[0].inline&&3==t.nodeType&&0!==v||(t=e(!0)),b[0].inline&&3==w.nodeType&&A!==w.nodeValue.length||
(w=e())),b[0].selector&&b[0].expand!==Z&&!b[0].inline&&(t=g(t,"previousSibling"),w=g(w,"nextSibling")),(b[0].block||b[0].selector)&&(t=n(t,"previousSibling"),w=n(w,"nextSibling"),b[0].block&&(Y(t)||(t=e(!0)),Y(w)||(w=e()))),1==t.nodeType&&(v=ca(t),t=t.parentNode),1==w.nodeType&&(A=ca(w)+1,w=w.parentNode),{startContainer:t,startOffset:v,endContainer:w,endOffset:A}}function I(a,b,c,d){var e,f,h;if(!(u(c,a)||a.links&&"A"==c.tagName))return Z;if("all"!=a.remove)for(X(a.styles,function(e,f){e=x(L(e,b),
f);"number"==typeof f&&(f=e,d=0);(a.remove_similar||!d||C(y(d,f),e))&&D.setStyle(c,f,"");h=1}),h&&""===D.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),X(a.attributes,function(a,e){var f;if(a=L(a,b),"number"==typeof e&&(e=a,d=0),!d||C(D.getAttrib(d,e),a)){if("class"==e&&(a=D.getAttrib(c,e),a&&(f="",X(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(f+=(f?" ":"")+a)}),f)))return void D.setAttrib(c,e,f);"class"==e&&c.removeAttribute("className");da.test(e)&&c.removeAttribute("data-mce-"+
e);c.removeAttribute(e)}}),X(a.classes,function(a){a=L(a,b);d&&!D.hasClass(d,a)||D.removeClass(c,a)}),f=D.getAttribs(c),e=0;e<f.length;e++)if(0!==f[e].nodeName.indexOf("_"))return Z;return"none"!=a.remove?(J(c,a),aa):void 0}function J(a,b){function d(a,b,c){return a=F(a,b,c),!a||"BR"==a.nodeName||Y(a)}var e=a.parentNode,f;b.block&&(O?e==D.getRoot()&&(b.list_block&&C(a,b.list_block)||X(ia(a.childNodes),function(a){W(O,a.nodeName.toLowerCase())?f?f.appendChild(a):(f=z(a,O),D.setAttribs(f,c.settings.forced_root_block_attrs)):
f=0})):Y(a)&&!Y(e)&&(d(a,Z)||d(a.firstChild,aa,1)||a.insertBefore(D.create("br"),a.firstChild),d(a,aa)||d(a.lastChild,Z,1)||a.appendChild(D.create("br"))));b.selector&&b.inline&&!C(b.inline,a)||D.remove(a,1)}function F(a,b,c){if(a)for(b=b?"nextSibling":"previousSibling",a=c?a:a[b];a;a=a[b])if(1==a.nodeType||!E(a))return a}function M(a,b){function c(a,b){for(d=a;d&&(3!=d.nodeType||0===d.nodeValue.length);d=d[b])if(1==d.nodeType&&!ga(d))return d;return a}var d,f;f=new e(D);if(a&&b&&(a=c(a,"previousSibling"),
b=c(b,"nextSibling"),f.compare(a,b))){for(d=a.nextSibling;d&&d!=b;)f=d,d=d.nextSibling,a.appendChild(f);return D.remove(b),X(ia(b.childNodes),function(b){a.appendChild(b)}),a}return b}function S(a,b){var d,e,f;return d=a[b?"startContainer":"endContainer"],e=a[b?"startOffset":"endOffset"],1==d.nodeType&&(f=d.childNodes.length-1,!b&&e&&e--,d=d.childNodes[e>f?f:e]),3===d.nodeType&&b&&e>=d.nodeValue.length&&(d=(new m(d,c.getBody())).next()||d),3!==d.nodeType||b||0!==e||(d=(new m(d,c.getBody())).prev()||
d),d}function K(a,b,d,e){function f(a){var b=D.create("span",{id:v,"data-mce-bogus":!0,style:y?"color:red":""});return a&&b.appendChild(c.getDoc().createTextNode(Q)),b}function k(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==Q||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0}function g(a){for(;a;){if(a.id===v)return a;a=a.parentNode}}function p(a){var b;if(a)for(b=new m(a,a),a=b.current();a;a=b.next())if(3===a.nodeType)return a}function u(a,b){var c,d;if(a)d=G.getRng(!0),
k(a)?(!1!==b&&(d.setStartBefore(a),d.setEndBefore(a)),D.remove(a)):(c=p(a),c.nodeValue.charAt(0)===Q&&(c.deleteData(0,1),d.startContainer==c&&0<d.startOffset&&d.setStart(c,d.startOffset-1),d.endContainer==c&&0<d.endOffset&&d.setEnd(c,d.endOffset-1)),D.remove(a,1)),G.setRng(d);else if(a=g(G.getStart()),!a)for(;a=D.get(v);)u(a,!1)}function t(){var a,c,e,h,k,l;a=G.getRng(!0);h=a.startOffset;l=a.startContainer.nodeValue;(c=g(G.getStart()))&&(e=p(c));l&&0<h&&h<l.length&&/\w/.test(l.charAt(h))&&/\w/.test(l.charAt(h-
1))?(k=G.getBookmark(),a.collapse(!0),a=H(a,n(b)),a=T.split(a),r(b,d,a),G.moveToBookmark(k)):(c&&e.nodeValue===Q?r(b,d,c):(c=f(!0),e=c.firstChild,a.insertNode(c),h=1,r(b,d,c)),G.setCursorLocation(e,h))}function q(){var a=G.getRng(!0),c,k,g,u,p,t=[];c=a.startContainer;k=a.startOffset;g=c;for(3==c.nodeType&&(k!=c.nodeValue.length&&(u=!0),g=g.parentNode);g;){if(A(g,b,d,e)){p=g;break}g.nextSibling&&(u=!0);t.push(g);g=g.parentNode}if(p)if(u)g=G.getBookmark(),a.collapse(!0),a=H(a,n(b),!0),a=T.split(a),
h(b,d,a),G.moveToBookmark(g);else{g=a=f();for(c=t.length-1;0<=c;c--)g.appendChild(D.clone(t[c],!1)),g=g.firstChild;g.appendChild(D.doc.createTextNode(Q));g=g.firstChild;(t=D.getParent(p,l))&&D.isEmpty(t)?p.parentNode.replaceChild(a,p):D.insertAfter(a,p);G.setCursorLocation(g,1);D.isEmpty(p)&&D.remove(p)}}function w(){var a;(a=g(G.getStart()))&&!D.isEmpty(a)&&la(a,function(a){1!=a.nodeType||a.id===v||D.isEmpty(a)||D.setAttrib(a,"data-mce-bogus",null)},"childNodes")}var v="_mce_caret",y=c.settings.caret_debug;
c._hasCaretEvents||(ha=function(){var a=[],b;if(k(g(G.getStart()),a))for(b=a.length;b--;)D.setAttrib(a[b],"data-mce-bogus","1")},fa=function(a){a=a.keyCode;u();8==a&&G.isCollapsed()&&G.getStart().innerHTML==Q&&u(g(G.getStart()));37!=a&&39!=a||u(g(G.getStart()));w()},c.on("SetContent",function(a){a.selection&&w()}),c._hasCaretEvents=!0);"apply"==a?t():q()}function P(a){var b=a.startContainer,c=a.startOffset,d,e,f;(e=a.startContainer!=a.endContainer)||(e=a.startContainer.childNodes[a.startOffset],e=
!(e&&/^(IMG)$/.test(e.nodeName)));if(e&&(3==b.nodeType&&c>=b.nodeValue.length&&(c=ca(b),b=b.parentNode,d=!0),1==b.nodeType))for(e=b.childNodes,b=e[Math.min(c,e.length-1)],b=new m(b,D.getParent(b,D.isBlock)),(c>e.length-1||d)&&b.next(),c=b.current();c;c=b.next())if(3==c.nodeType&&!E(c))return f=D.create("a",{"data-mce-bogus":"all"},Q),c.parentNode.insertBefore(f,c),a.setStart(c,0),G.setRng(a),void D.remove(f)}var U={},D=c.dom,G=c.selection,T=new g(D),W=c.schema.isValidChild,Y=D.isBlock,O=c.settings.forced_root_block,
ca=D.nodeIndex,Q="\ufeff",da=/^(src|href|style)$/,Z=!1,aa=!0,R,V,ea=D.getContentEditable,fa,ha,ga=f.isBookmarkNode,X=a.each,ia=a.grep,la=a.walk,ma=a.extend;ma(this,{get:n,register:p,unregister:function(a){return a&&U[a]&&delete U[a],U},apply:r,remove:h,toggle:function(a,b,c){var d=n(a);!w(a,b,c)||"toggle"in d[0]&&!d[0].toggle?r(a,b,c):h(a,b,c)},match:w,matchAll:function(a,b){var c,d=[],e={};return c=G.getStart(),D.getParent(c,function(c){var f,h;for(f=0;f<a.length;f++)h=a[f],!e[h]&&A(c,h,b)&&(e[h]=
!0,d.push(h))},D.getRoot()),d},matchNode:A,canApply:function(a){a=n(a);var b,c,d,e;if(a)for(b=G.getStart(),b=q(b),d=a.length-1;0<=d;d--){if(e=a[d].selector,!e||a[d].defaultBlock)return aa;for(c=b.length-1;0<=c;c--)if(D.is(b[c],e))return aa}return Z},formatChanged:function(b,d,e){var f;return R||(R={},f={},c.on("NodeChange",function(b){var c=q(b.element),d={},c=a.grep(c,function(a){return 1==a.nodeType&&!a.getAttribute("data-mce-bogus")});X(R,function(a,b){X(c,function(e){return A(e,b,{},a.similar)?
(f[b]||(X(a,function(a){a(!0,{node:e,format:b,parents:c})}),f[b]=a),d[b]=a,!1):t(e,b)?!1:void 0})});X(f,function(a,e){d[e]||(delete f[e],X(a,function(a){a(!1,{node:b.element,format:e,parents:c})}))})})),X(b.split(","),function(a){R[a]||(R[a]=[],R[a].similar=e);R[a].push(d)}),this},getCssText:function(a){return d.getCssText(c,a)}});(function(){p({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",
styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},
{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",
styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},
onformat:function(a,b,c){X(c,function(b,c){D.setAttrib(a,c,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]});X("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(a){p(a,{block:a,remove:"all"})});p(c.settings.formats)})();
(function(){c.addShortcut("meta+b","bold_desc","Bold");c.addShortcut("meta+i","italic_desc","Italic");c.addShortcut("meta+u","underline_desc","Underline");for(var a=1;6>=a;a++)c.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a]);c.addShortcut("access+7","",["FormatBlock",!1,"p"]);c.addShortcut("access+8","",["FormatBlock",!1,"div"]);c.addShortcut("access+9","",["FormatBlock",!1,"address"])})();c.on("BeforeGetContent",function(a){ha&&"raw"!=a.format&&ha()});c.on("mouseup keydown",function(a){fa&&
fa(a)})}});z("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(m,g){return function(f){function e(b){a.typing=!1;a.add({},b)}var a=this,d=0,b=[],c,l,q=0;return f.on("init",function(){a.add()}),f.on("BeforeExecCommand",function(b){b=b.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&a.beforeChange()}),f.on("ExecCommand",function(a){var b=a.command;"Undo"!=b&&"Redo"!=b&&"mceRepaint"!=b&&e(a)}),f.on("ObjectResizeStart Cut",function(){a.beforeChange()}),f.on("SaveContent ObjectResized blur",
e),f.on("DragEnd",e),f.on("KeyUp",function(c){var d=c.keyCode;c.isDefaultPrevented()||((33<=d&&36>=d||37<=d&&40>=d||45==d||13==d||c.ctrlKey)&&(e(),f.nodeChanged()),(46==d||8==d||g.mac&&(91==d||93==d))&&f.nodeChanged(),l&&a.typing&&(f.isDirty()||(f.setDirty(b[0]&&f.serializer.getTrimmedContent()!=b[0].content),f.isDirty()&&f.fire("change",{level:b[0],lastLevel:null})),f.fire("TypingUndo"),l=!1,f.nodeChanged()))}),f.on("KeyDown",function(b){var c=b.keyCode;if(!b.isDefaultPrevented()){if(33<=c&&36>=
c||37<=c&&40>=c||45==c)return void(a.typing&&e(b));var d=b.ctrlKey&&!b.altKey||b.metaKey;!(16>c||20<c)||224==c||91==c||a.typing||d||(a.beforeChange(),a.typing=!0,a.add({},b),l=!0)}}),f.on("MouseDown",function(b){a.typing&&e(b)}),f.addShortcut("meta+z","","Undo"),f.addShortcut("meta+y,meta+shift+z","","Redo"),f.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||f.nodeChanged()}),a={data:b,typing:!1,beforeChange:function(){q||(c=f.selection.getBookmark(2,!0))},add:function(a,e){var l;
l=f.settings;var g;if((a=a||{},a.content=f.serializer.getTrimmedContent(),q||f.removed)||(g=b[d],f.fire("BeforeAddUndo",{level:a,lastLevel:g,originalEvent:e}).isDefaultPrevented())||g&&g.content==a.content)return null;if(b[d]&&(b[d].beforeBookmark=c),l.custom_undo_redo_levels&&b.length>l.custom_undo_redo_levels){for(l=0;l<b.length-1;l++)b[l]=b[l+1];b.length--;d=b.length}a.bookmark=f.selection.getBookmark(2,!0);d<b.length-1&&(b.length=d+1);b.push(a);d=b.length-1;g={level:a,lastLevel:g,originalEvent:e};
f.fire("AddUndo",g);0<d&&(f.setDirty(!0),f.fire("change",g));return a},undo:function(){var c;a.typing&&(a.add(),a.typing=!1);0<d&&(c=b[--d],f.setContent(c.content,{format:"raw"}),f.selection.moveToBookmark(c.beforeBookmark),f.setDirty(!0),f.fire("undo",{level:c}));return c},redo:function(){var a;d<b.length-1&&(a=b[++d],f.setContent(a.content,{format:"raw"}),f.selection.moveToBookmark(a.bookmark),f.setDirty(!0),f.fire("redo",{level:a}));return a},clear:function(){b=[];d=0;a.typing=!1;f.fire("ClearUndos")},
hasUndo:function(){return 0<d||a.typing&&b[0]&&f.serializer.getTrimmedContent()!=b[0].content},hasRedo:function(){return d<b.length-1&&!this.typing},transact:function(b){a.beforeChange();try{q++,b()}finally{q--}a.add()}}}});z("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(m,g,f){var e=f.ie&&11>f.ie;return function(a){function d(d){function v(a){return a&&b.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&
"true"!==b.getContentEditable(a)}function B(a){var d;b.isBlock(a)&&(d=c.getRng(),a.appendChild(b.create("span",null,"\u00a0")),c.select(a),a.lastChild.outerHTML="",c.setRng(d))}function r(a){var c=[],d;if(a){for(;a=a.firstChild;){if(b.isBlock(a))return;1!=a.nodeType||n[a.nodeName.toLowerCase()]||c.push(a)}for(d=c.length;d--;)a=c[d],!a.hasChildNodes()||a.firstChild==a.lastChild&&""===a.firstChild.nodeValue?b.remove(a):"A"==a.nodeName&&" "===(a.innerText||a.textContent)&&b.remove(a)}}function h(a){var d,
e,h,l=a,k;if(a){if(f.ie&&9>f.ie&&K&&K.firstChild&&K.firstChild==K.lastChild&&"BR"==K.firstChild.tagName&&b.remove(K.firstChild),/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(d=a.firstChild;d;){if(1==d.nodeType||3==d.nodeType&&d.data&&/[\r\n\s]/.test(d.data))break a;d=d.nextSibling}d=void 0}d&&/^(UL|OL|DL)$/.test(d.nodeName)&&a.insertBefore(b.doc.createTextNode("\u00a0"),a.firstChild)}if(h=b.createRng(),f.ie||a.normalize(),a.hasChildNodes()){for(d=new m(a,a);e=d.current();){if(3==e.nodeType){h.setStart(e,
0);h.setEnd(e,0);break}if(p[e.nodeName.toLowerCase()]){h.setStartBefore(e);h.setEndBefore(e);break}l=e;d.next()}e||(h.setStart(l,0),h.setEnd(l,0))}else"BR"==a.nodeName?a.nextSibling&&b.isBlock(a.nextSibling)?((!P||9>P)&&(k=b.create("br"),a.parentNode.insertBefore(k,a)),h.setStartBefore(a),h.setEndBefore(a)):(h.setStartAfter(a),h.setEndAfter(a)):(h.setStart(a,0),h.setEnd(a,0));c.setRng(h);b.remove(k);c.scrollIntoView(a)}}function A(a){var c=l.forced_root_block;c&&c.toLowerCase()===a.tagName.toLowerCase()&&
b.setAttribs(a,l.forced_root_block_attrs)}function w(a){var c=M,d,f,h=k.getTextInlineElements();if(a||"TABLE"==W?(d=b.create(a||O),A(d)):d=K.cloneNode(!1),f=d,!1!==l.keep_styles){do h[c.nodeName]&&"_mce_caret"!=c.id&&(a=c.cloneNode(!1),b.setAttrib(a,"id",""),d.hasChildNodes()?(a.appendChild(d.firstChild),d.appendChild(a)):(f=a,d.appendChild(a)));while((c=c.parentNode)&&c!=F)}return e||(f.innerHTML='<br data-mce-bogus="1">'),d}function u(a){var b,c,d;if(3==M.nodeType&&(a?0<S:S<M.nodeValue.length))return!1;
if(M.parentNode==K&&ca&&!a||a&&1==M.nodeType&&M==K.firstChild)return!0;if("TABLE"===M.nodeName||M.previousSibling&&"TABLE"==M.previousSibling.nodeName)return ca&&!a||!ca&&a;b=new m(M,K);for(3==M.nodeType&&(a&&0===S?b.prev():a||S!=M.nodeValue.length||b.next());c=b.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(d=c.nodeName.toLowerCase(),n[d]&&"br"!==d))return!1}else if(3===c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;a?b.prev():b.next()}return!0}function C(c,d){var e,
f,h,l,g,u=O||"P";if(f=b.getParent(c,b.isBlock),!f||!v(f)){if(f=f||F,g=f==a.getBody()||f&&/^(TD|TH|CAPTION)$/.test(f.nodeName)?f.nodeName.toLowerCase():f.parentNode.nodeName.toLowerCase(),!f.hasChildNodes())return e=b.create(u),A(e),f.appendChild(e),I.setStart(e,0),I.setEnd(e,0),e;for(l=c;l.parentNode!=f;)l=l.parentNode;for(;l&&!b.isBlock(l);)h=l,l=l.previousSibling;if(h&&k.isValidChild(g,u.toLowerCase())){e=b.create(u);A(e);h.parentNode.insertBefore(e,h);for(l=h;l&&!b.isBlock(l);)f=l.nextSibling,
e.appendChild(l),l=f;I.setStart(c,d);I.setEnd(c,d)}}return c}function y(){function c(a){for(var b=T[a?"firstChild":"lastChild"];b&&1!=b.nodeType;)b=b[a?"nextSibling":"previousSibling"];return b===K}function d(){var a=T.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:T}if(T!=a.getBody()){var e=T.parentNode.nodeName;/^(OL|UL|LI)$/.test(e)&&(O="LI");D=O?w(O):b.create("BR");c(!0)&&c()?"LI"==e?b.insertAfter(D,d()):b.replace(D,T):c(!0)?"LI"==e?(b.insertAfter(D,d()),D.appendChild(b.doc.createTextNode(" ")),
D.appendChild(T)):T.parentNode.insertBefore(D,T):c()?(b.insertAfter(D,d()),B(D)):(T=d(),J=I.cloneRange(),J.setStartAfter(K),J.setEndAfter(T),G=J.extractContents(),"LI"==O&&"LI"==G.firstChild.nodeName?(D=G.firstChild,b.insertAfter(G,T)):(b.insertAfter(G,T),b.insertAfter(D,T)));b.remove(K);h(D);q.add()}}function x(){a.execCommand("InsertLineBreak",!1,d)}function L(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)}function E(a){for(var c=b.getRoot(),d;a!==
c&&"false"!==b.getContentEditable(a);)"true"===b.getContentEditable(a)&&(d=a),a=a.parentNode;return a!==c?d:c}function z(a){var c;e||(a.normalize(),c=a.lastChild,c&&!/^(left|right)$/gi.test(b.getStyle(c,"float",!0))||b.add(a,"br"))}function H(){D=/^(H[1-6]|PRE|FIGURE)$/.test(W)&&"HGROUP"!=Y?w(O):w();l.end_container_on_empty_block&&v(T)&&b.isEmpty(K)?D=b.split(T,K):b.insertAfter(D,K);h(D)}var I,J,F,M,S,K,P,U,D,G,T,W,Y,O,ca;if(I=c.getRng(!0),!d.isDefaultPrevented()){if(!I.collapsed)return void a.execCommand("Delete");
if((new g(b)).normalize(I),M=I.startContainer,S=I.startOffset,O=(l.force_p_newlines?"p":"")||l.forced_root_block,O=O?O.toUpperCase():"",P=b.doc.documentMode,U=d.shiftKey,1==M.nodeType&&M.hasChildNodes()&&(ca=S>M.childNodes.length-1,M=M.childNodes[Math.min(S,M.childNodes.length-1)]||M,S=ca&&3==M.nodeType?M.nodeValue.length:0),F=E(M)){if(q.beforeChange(),!b.isBlock(F)&&F!=b.getRoot())return void(O&&!U||x());if((O&&!U||!O&&U)&&(M=C(M,S)),K=b.getParent(M,b.isBlock),T=K?b.getParent(K.parentNode,b.isBlock):
null,W=K?K.nodeName.toUpperCase():"",Y=T?T.nodeName.toUpperCase():"","LI"!=Y||d.ctrlKey||(K=T,W=Y),/^(LI|DT|DD)$/.test(W)){if(!O&&U)return void x();if(b.isEmpty(K))return void y()}if("PRE"==W&&!1!==l.br_in_pre){if(!U)return void x()}else if(!O&&!U&&"LI"!=W||O&&U)return void x();O&&K===a.getBody()||(O=O||"P",u()?H():u(!0)?(D=K.parentNode.insertBefore(w(),K),B(D),h(K)):(J=I.cloneRange(),J.setEndAfter(K),G=J.extractContents(),L(G),D=G.firstChild,b.insertAfter(G,K),r(D),z(K),b.isEmpty(K)&&(K.innerHTML=
e?"":'<br data-mce-bogus="1">'),D.normalize(),b.isEmpty(D)?(b.remove(D),H()):h(D)),b.setAttrib(D,"id",""),a.fire("NewBlock",{newBlock:D}),q.add())}}}var b=a.dom,c=a.selection,l=a.settings,q=a.undoManager,k=a.schema,n=k.getNonEmptyElements(),p=k.getMoveCaretBeforeOnEnterElements();a.on("keydown",function(a){13==a.keyCode&&!1!==d(a)&&a.preventDefault()})}});z("tinymce/ForceBlocks",[],function(){return function(m){function g(){var c=a.getStart(),l=m.getBody(),g,k,n,p,t,v,B,r,h,A,w;if(w=f.forced_root_block,
c&&1===c.nodeType&&w){for(;c&&c!=l;){if(b[c.nodeName])return;c=c.parentNode}if(g=a.getRng(),g.setStart){k=g.startContainer;n=g.startOffset;p=g.endContainer;t=g.endOffset;try{h=m.getDoc().activeElement===l}catch(u){}}else g.item&&(c=g.item(0),g=m.getDoc().body.createTextRange(),g.moveToElementText(c)),h=g.parentElement().ownerDocument===m.getDoc(),c=g.duplicate(),c.collapse(!0),n=-1*c.move("character",-16777215),c.collapsed||(c=g.duplicate(),c.collapse(!1),t=-1*c.move("character",-16777215)-n);c=l.firstChild;
for(A=l.nodeName.toLowerCase();c;)(3===c.nodeType||1==c.nodeType&&!b[c.nodeName])&&d.isValidChild(A,w.toLowerCase())?3===c.nodeType&&0===c.nodeValue.length?(B=c,c=c.nextSibling,e.remove(B)):(v||(v=e.create(w,m.settings.forced_root_block_attrs),c.parentNode.insertBefore(v,c),r=!0),B=c,c=c.nextSibling,v.appendChild(B)):(v=null,c=c.nextSibling);if(r&&h){if(g.setStart)g.setStart(k,n),g.setEnd(p,t),a.setRng(g);else try{g=m.getDoc().body.createTextRange(),g.moveToElementText(l),g.collapse(!0),g.moveStart("character",
n),0<t&&g.moveEnd("character",t),g.select()}catch(u){}m.nodeChanged()}}}var f=m.settings,e=m.dom,a=m.selection,d=m.schema,b=d.getBlockElements();f.forced_root_block&&m.on("NodeChange",g)}});z("tinymce/caret/CaretUtils","tinymce/util/Fun tinymce/dom/TreeWalker tinymce/dom/NodeType tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretCandidate".split(" "),function(m,g,f,e,a,d){function b(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(n(a))return a;return b}function c(a,b){for(;a&&
a!=b;){if(t(a))return a;a=a.parentNode}return null}function l(a,b){var c=b.ownerDocument.createRange();return a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b)),c}function q(a,b,d){var e;for(a=a?"previousSibling":"nextSibling";d&&d!=b;){if(e=d[a],v(e)&&(e=e[a]),p(e)){if(c(e,b)==c(d,b))return e;break}if(h(e))break;d=d.parentNode}return null}function k(a,b){var c=p,d,e,f;d=b?(e=b.container(),f=b.offset(),r(e)?e.childNodes[f+a]:null):null;return c(d)}var n=f.isContentEditableTrue,
p=f.isContentEditableFalse,t=f.matchStyleValues("display","block table table-cell table-caption"),v=a.isCaretContainer,B=m.curry,r=f.isElement,h=d.isCaretCandidate,A=B(l,!0),w=B(l,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(a,b,c,d,e){d=new g(a,d);if(0>b){if(p(a)&&(a=d.prev(!0),c(a)))return a;for(;a=d.prev(e);)if(c(a))return a}if(0<b){if(p(a)&&(a=d.next(!0),c(a)))return a;for(;a=d.next(e);)if(c(a))return a}return null},getEditingHost:b,getParentBlock:c,
isInSameBlock:function(a,b,d){return c(a.container(),d)==c(b.container(),d)},isInSameEditingHost:function(a,c,d){return b(a.container(),d)==b(c.container(),d)},isBeforeContentEditableFalse:B(k,0),isAfterContentEditableFalse:B(k,-1),normalizeRange:function(b,c,d){var e,h,l,k=B(q,!0,c),g=B(q,!1,c);if(h=d.startContainer,c=d.startOffset,a.isCaretContainerBlock(h)){if(r(h)||(h=h.parentNode),l=h.getAttribute("data-mce-caret"),"before"==l&&(e=h.nextSibling,p(e)))return A(e);if("after"==l&&(e=h.previousSibling,
p(e)))return w(e)}if(!d.collapsed)return d;if(f.isText(h)){if(v(h)){if(1===b){if(e=g(h))return A(e);if(e=k(h))return w(e)}if(-1===b){if(e=k(h))return w(e);if(e=g(h))return A(e)}return d}if(a.endsWithCaretContainer(h)&&c>=h.data.length-1)return 1===b&&(e=g(h))?A(e):d;if(a.startsWithCaretContainer(h)&&1>=c)return-1===b&&(e=k(h))?w(e):d;if(c===h.data.length)return e=g(h),e?A(e):d;if(0===c)return e=k(h),e?w(e):d}return d}}});z("tinymce/caret/CaretWalker","tinymce/dom/NodeType tinymce/caret/CaretCandidate tinymce/caret/CaretPosition tinymce/caret/CaretUtils tinymce/util/Arr tinymce/util/Fun".split(" "),
function(m,g,f,e,a,d){function b(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function c(a,b){return a.hasChildNodes()&&b<a.childNodes.length?a.childNodes[b]:null}function l(a,b){if(v(a)){if(r(b.previousSibling)&&!n(b.previousSibling))return f.before(b);if(n(b))return f(b,0)}if(B(a)){if(r(b.nextSibling)&&!n(b.nextSibling))return f.after(b);if(n(b))return f(b,b.data.length)}return B(a)?t(b)?f.before(b):f.after(b):f.before(b)}function q(g,t,C){var y,x,z,E,N;if(!p(C)||!t)return null;
if(y=t.container(),x=t.offset(),n(y)){if(B(g)&&0<x)return f(y,--x);if(v(g)&&x<y.length)return f(y,++x);z=y}else{if(B(g)&&0<x&&(E=c(y,x-1),r(E)))return!h(E)&&(z=e.findNode(E,g,A,E))?n(z)?f(z,z.data.length):f.after(z):n(E)?f(E,E.data.length):f.before(E);if(v(g)&&x<y.childNodes.length&&(E=c(y,x),r(E))){t=E;var H;return!m.isBr(t)||(H=q(1,f.after(t),C),H?e.isInSameBlock(f.before(t),f.before(H),C):1)?!h(E)&&(z=e.findNode(E,g,A,E))?n(z)?f(z,0):f.before(z):n(E)?f(E,0):f.after(E):q(g,f.after(E),C)}z=t.getNode()}return(v(g)&&
t.isAtEnd()||B(g)&&t.isAtStart())&&(z=e.findNode(z,g,d.constant(!0),C,!0),A(z))?l(g,z):(E=e.findNode(z,g,A,C),N=a.last(a.filter(b(y,C),k)),!N||E&&N.contains(E)?E?l(g,E):null:v(g)?f.after(N):f.before(N))}var k=m.isContentEditableFalse,n=m.isText,p=m.isElement,t=m.isBr,v=e.isForwards,B=e.isBackwards,r=g.isCaretCandidate,h=g.isAtomic,A=g.isEditableCaretCandidate;return function(a){return{next:function(b){return q(1,b,a)},prev:function(b){return q(-1,b,a)}}}});z("tinymce/EditorCommands","tinymce/html/Serializer tinymce/Env tinymce/util/Tools tinymce/dom/ElementUtils tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/dom/NodeType".split(" "),
function(m,g,f,e,a,d,b,c,l){var q=f.each,k=f.extend,n=f.map,p=f.inArray,t=f.explode,v=g.ie,B=g.ie&&11>g.ie,r=l.matchNodeNames("td th");return function(h){function l(a){var b;if(!h.quirks.isHidden()){if(a=a.toLowerCase(),b=E.state[a])return b(a);try{return h.getDoc().queryCommandState(a)}catch(c){}return!1}}function w(a,b){b=b||"exec";q(a,function(a,c){q(c.toLowerCase().split(","),function(c){E[b][c]=a})})}function u(a,b,c){return b===ba&&(b=!1),c===ba&&(c=null),h.getDoc().execCommand(a,b,c)}function C(a,
b){z.toggle(a,b?{value:b}:ba);h.nodeChanged()}var y,x,z,E={state:{},exec:{},value:{}},N=h.settings,H;h.on("PreInit",function(){y=h.dom;x=h.selection;N=h.settings;z=h.formatter});k(this,{execCommand:function(a,b,c,d){var e,f=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(a)||d&&d.skip_focus||h.focus(),d=h.fire("BeforeExecCommand",{command:a,ui:b,value:c}),d.isDefaultPrevented())return!1;if(e=a.toLowerCase(),d=E.exec[e])return d(e,b,c),h.fire("ExecCommand",{command:a,ui:b,
value:c}),!0;if(q(h.plugins,function(d){return d.execCommand&&d.execCommand(a,b,c)?(h.fire("ExecCommand",{command:a,ui:b,value:c}),f=!0,!1):void 0}),f)return f;if(h.theme&&h.theme.execCommand&&h.theme.execCommand(a,b,c))return h.fire("ExecCommand",{command:a,ui:b,value:c}),!0;try{f=h.getDoc().execCommand(a,b,c)}catch(l){}return f?(h.fire("ExecCommand",{command:a,ui:b,value:c}),!0):!1},queryCommandState:l,queryCommandValue:function(a){var b;if(!h.quirks.isHidden()){if(a=a.toLowerCase(),b=E.value[a])return b(a);
try{return h.getDoc().queryCommandValue(a)}catch(c){}}},queryCommandSupported:function(a){if(a=a.toLowerCase(),E.exec[a])return!0;try{return h.getDoc().queryCommandSupported(a)}catch(b){}return!1},addCommands:w,addCommand:function(a,b,c){a=a.toLowerCase();E.exec[a]=function(a,d,e,f){return b.call(c||h,d,e,f)}},addQueryStateHandler:function(a,b,c){a=a.toLowerCase();E.state[a]=function(){return b.call(c||h)}},addQueryValueHandler:function(a,b,c){a=a.toLowerCase();E.value[a]=function(){return b.call(c||
h)}},hasCustomCommand:function(a){return a=a.toLowerCase(),!!E.exec[a]}});w({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){h.undoManager.add()},"Cut,Copy,Paste":function(a){var b=h.getDoc(),c;try{u(a)}catch(d){c=!0}if("paste"!==a||b.queryCommandEnabled(a)||(c=!0),c||!b.queryCommandSupported(a))a=h.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),g.mac&&(a=a.replace(/Ctrl\+/g,
"\u2318+")),h.notificationManager.open({text:a,type:"error"})},unlink:function(){if(x.isCollapsed()){var a=x.getNode();return void("A"==a.tagName&&h.dom.remove(a,!0))}z.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var b=a.substring(7);"full"==b&&(b="justify");q(["left","center","right","justify"],function(a){b!=a&&z.remove("align"+a)});"none"!=b&&C("align"+b)},"InsertUnorderedList,InsertOrderedList":function(a){var b;u(a);if(a=y.getParent(x.getNode(),
"ol,ul"))b=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(H=x.getBookmark(void 0),y.split(b,a),x.moveToBookmark(H))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){C(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){C(a,c)},FontSize:function(a,b,c){var d,e;1<=c&&7>=c&&(e=t(N.font_size_style_values),d=t(N.font_size_classes),c=d?d[c-1]||c:e[c-1]||c);C(a,c)},RemoveFormat:function(a){z.remove(a)},mceBlockQuote:function(){C("blockquote")},FormatBlock:function(a,
b,c){return C(c||"p")},mceCleanup:function(){var a=x.getBookmark();h.setContent(h.getContent({cleanup:!0}),{cleanup:!0});x.moveToBookmark(a)},mceRemoveNode:function(a,b,c){a=c||x.getNode();a!=h.getBody()&&(H=x.getBookmark(void 0),h.dom.remove(a,!0),x.moveToBookmark(H))},mceSelectNodeDepth:function(a,b,c){var d=0;y.getParent(x.getNode(),function(a){return 1==a.nodeType&&d++==c?(x.select(a),!1):void 0},h.getBody())},mceSelectNode:function(a,b,c){x.select(c)},mceInsertContent:function(a,d,l){function k(a){function b(a){return d[a]&&
3==d[a].nodeType}var c,d,e;return c=x.getRng(!0),d=c.startContainer,e=c.startOffset,3==d.nodeType&&(0<e?a=a.replace(/^&nbsp;/," "):b("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),e<d.length?a=a.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),a}function g(){var a,b,c;a=x.getRng(!0);b=a.startContainer;c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(l)||(l+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-
1,1),/[\u00a0| ]$/.test(l)||(l=" "+l)))}function p(a){return a&&!h.schema.getShortEndedElements()[a.nodeName]}var t,n,u,w,A,B,C,E,z;A=h.schema.getTextInlineElements();"string"!=typeof l&&(z=l.merge,u=l.data,l=l.content);/^ | $/.test(l)&&(l=k(l));a=h.parser;t=new m({validate:N.validate},h.schema);d={content:l,format:"html",selection:!0};h.fire("BeforeSetContent",d);l=d.content;-1==l.indexOf("{$caret}")&&(l+="{$caret}");l=l.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');
B=x.getRng();n=B.startContainer||(B.parentElement?B.parentElement():null);var Q=h.getBody();n===Q&&x.isCollapsed()&&y.isBlock(Q.firstChild)&&p(Q.firstChild)&&y.isEmpty(Q.firstChild)&&(B=y.createRng(),B.setStart(Q.firstChild,0),B.setEnd(Q.firstChild,0),x.setRng(B));x.isCollapsed()||(h.selection.setRng(h.selection.getRng()),h.getDoc().execCommand("Delete",!1,null),g());n=x.getNode();u={context:n.nodeName.toLowerCase(),data:u};w=a.parse(l,u);(function(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment",
"1")})(w);if(z)for(C=w.firstChild;C;C=C.walk(!0))A[C.name]&&C.attr("data-mce-new","true");if(C=w.lastChild,"mce_marker"==C.attr("id"))for(A=C,C=C.prev;C;C=C.walk(!0))if(3==C.type||!y.isBlock(C.name)){h.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(A,C,"br"===C.name);break}if(h._selectionOverrides.showBlockCaretContainer(n),u.invalid){x.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');n=x.getNode();u=h.getBody();for(9==n.nodeType?n=C=u:C=n;C!==u;)n=
C,C=C.parentNode;l=n==u?u.innerHTML:y.getOuterHTML(n);l=t.serialize(a.parse(l.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return t.serialize(w)})));n==u?y.setHTML(u,l):y.setOuterHTML(n,l)}else l=t.serialize(w),C=n.firstChild,E=n.lastChild,!C||C===E&&"BR"===C.nodeName?y.setHTML(n,l):x.setContent(l);(function(){if(z){var a=h.getBody(),b=new e(y);q(y.select("*[data-mce-new]"),function(c){c.removeAttribute("data-mce-new");for(var d=c.parentNode;d&&d!=a;d=d.parentNode)b.compare(d,
c)&&y.remove(c,!0)})}})();(function(a){function d(a){for(var b=h.getBody();a&&a!==b;a=a.parentNode)if("false"===h.dom.getContentEditable(a))return a;return null}function e(a){a=c.fromRangeStart(a);return a=(new b(h.getBody())).next(a),a?a.toRange():void 0}var f,l;if(a){if(x.scrollIntoView(a),f=d(a))return y.remove(a),void x.select(f);B=y.createRng();(C=a.previousSibling)&&3==C.nodeType?(B.setStart(C,C.nodeValue.length),v||(E=a.nextSibling,E&&3==E.nodeType&&(C.appendData(E.data),E.parentNode.removeChild(E)))):
(B.setStartBefore(a),B.setEndBefore(a));f=y.getParent(a,y.isBlock);y.remove(a);f&&y.isEmpty(f)&&(h.$(f).empty(),B.setStart(f,0),B.setEnd(f,0),r(f)||f.getAttribute("data-mce-fragment")||!(l=e(B))?y.add(f,y.create("br",{"data-mce-bogus":"1"})):(B=l,y.remove(f)));x.setRng(B)}})(y.get("mce_marker"));(function(a){f.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})})(h.getBody());h.fire("SetContent",d);h.addVisual()},mceInsertRawHTML:function(a,b,c){x.setContent("tiny_mce_marker");
h.setContent(h.getContent().replace(/tiny_mce_marker/g,function(){return c}))},mceToggleFormat:function(a,b,c){C(c)},mceSetContent:function(a,b,c){h.setContent(c)},"Indent,Outdent":function(a){var b,c,d;b=N.indentation;c=/[a-z%]+$/i.exec(b);b=parseInt(b,10);l("InsertUnorderedList")||l("InsertOrderedList")?u(a):(N.forced_root_block||y.getParent(x.getNode(),y.isBlock)||z.apply("div"),q(x.getSelectedBlocks(),function(e){if("false"!==y.getContentEditable(e)&&"LI"!=e.nodeName){var f=h.getParam("indent_use_margin",
!1)?"margin":"padding",f=f+("rtl"==y.getStyle(e,"direction",!0)?"Right":"Left");"outdent"==a?(d=Math.max(0,parseInt(e.style[f]||0,10)-b),y.setStyle(e,f,d?d+c:"")):(d=parseInt(e.style[f]||0,10)+b+c,y.setStyle(e,f,d))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){h.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){h.hasVisual=!h.hasVisual;h.addVisual()},mceReplaceContent:function(a,b,c){h.execCommand("mceInsertContent",!1,c.replace(/\{\$selection\}/g,x.getContent({format:"text"})))},
mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=y.getParent(x.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||z.remove("link");c.href&&z.apply("link",c,a)},selectAll:function(){var a=y.getRoot(),b;x.getRng().setStart?(b=y.createRng(),b.setStart(a,0),b.setEnd(a,a.childNodes.length),x.setRng(b)):(b=x.getRng(),b.item||(b.moveToElementText(a),b.select()))},"delete":function(){u("Delete");var a=h.getBody();y.isEmpty(a)&&(h.setContent(""),a.firstChild&&y.isBlock(a.firstChild)?
h.selection.setCursorLocation(a.firstChild,0):h.selection.setCursorLocation(a,0))},mceNewDocument:function(){h.setContent("")},InsertLineBreak:function(b,c,e){var f,l,k;b=x.getRng(!0);(new a(y)).normalize(b);var g=b.startOffset,p=b.startContainer;1==p.nodeType&&p.hasChildNodes()&&(c=g>p.childNodes.length-1,p=p.childNodes[Math.min(g,p.childNodes.length-1)]||p,g=c&&3==p.nodeType?p.nodeValue.length:0);var n=y.getParent(p,y.isBlock);c=n?n.nodeName.toUpperCase():"";var t=n?y.getParent(n.parentNode,y.isBlock):
null,r=t?t.nodeName.toUpperCase():"";e=e&&e.ctrlKey;"LI"!=r||e||(n=t,c=r);if(p&&3==p.nodeType&&g>=p.nodeValue.length){if(!(e=B))a:{e=new d(p,n);for(g=h.schema.getNonEmptyElements();p=e.next();)if(g[p.nodeName.toLowerCase()]||0<p.length){e=!0;break a}e=void 0}e||(f=y.create("br"),b.insertNode(f),b.setStartAfter(f),b.setEndAfter(f),l=!0)}f=y.create("br");b.insertNode(f);e=y.doc.documentMode;return B&&"PRE"==c&&(!e||8>e)&&f.parentNode.insertBefore(y.doc.createTextNode("\r"),f),k=y.create("span",{},"&nbsp;"),
f.parentNode.insertBefore(k,f),x.scrollIntoView(k),y.remove(k),l?(b.setStartBefore(f),b.setEndBefore(f)):(b.setStartAfter(f),b.setEndAfter(f)),x.setRng(b),h.undoManager.add(),!0}});w({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=x.isCollapsed()?[y.getParent(x.getNode(),y.isBlock)]:x.getSelectedBlocks();a=n(a,function(a){return!!z.matchNode(a,b)});return-1!==p(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return z.match(a)},
mceBlockQuote:function(){return z.match("blockquote")},Outdent:function(){var a;return N.inline_styles&&((a=y.getParent(x.getStart(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=y.getParent(x.getEnd(),y.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:l("InsertUnorderedList")||l("InsertOrderedList")||!N.inline_styles&&!!y.getParent(x.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=y.getParent(x.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===
b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");w({"FontSize,FontName":function(a){var b=0,c;return(c=y.getParent(x.getNode(),"span"))&&(b="fontsize"==a?c.style.fontSize:c.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),b}},"value");w({Undo:function(){h.undoManager.undo()},Redo:function(){h.undoManager.redo()}})}});z("tinymce/util/URI",["tinymce/util/Tools"],function(m){function g(b,c){var d=this,q,k;if(b=e(b),c=d.settings=c||{},q=c.base_uri,/^([\w\-]+):([^\/]{2})/i.test(b)||
/^\s*#/.test(b))return void(d.source=b);var n=0===b.indexOf("//");0!==b.indexOf("/")||n||(b=(q?q.protocol||"http":"http")+"://mce_host"+b);/^[\w\-]*:?\/\//.test(b)||(k=c.base_uri?c.base_uri.path:(new g(location.href)).directory,""===c.base_uri.protocol?b="//mce_host"+d.toAbsPath(k,b):(b=/([^#?]*)([#?]?.*)/.exec(b),b=(q&&q.protocol||"http")+"://mce_host"+d.toAbsPath(k,b[1])+b[2]));b=b.replace(/@@/g,"(mce_at)");b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b);
f(a,function(a,c){var e=b[c];e&&(e=e.replace(/\(mce_at\)/g,"@@"));d[a]=e});q&&(d.protocol||(d.protocol=q.protocol),d.userInfo||(d.userInfo=q.userInfo),d.port||"mce_host"!==d.host||(d.port=q.port),d.host&&"mce_host"!==d.host||(d.host=q.host),d.source="");n&&(d.protocol="")}var f=m.each,e=m.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),d={ftp:21,http:80,https:443,mailto:25};return g.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);
this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var c;if("./"===a)return a;if(a=new g(a,{base_uri:this}),"mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();var d=this.getURI(),e=a.getURI();return d==e||"/"==d.charAt(d.length-1)&&d.substr(0,d.length-1)==e?d:(c=this.toRelPath(this.path,a.path),a.query&&(c+="?"+a.query),a.anchor&&(c+="#"+a.anchor),c)},toAbsolute:function(a,
c){return a=new g(a,{base_uri:this}),a.getURI(c&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var c=d[this.protocol];if(c&&(this.port||c)==(a.port||c))return!0}return!1},toRelPath:function(a,c){var d,e=0,f="",g,p;if(a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),d=c.split("/"),a.length>=d.length)for(g=0,p=a.length;p>g;g++)if(g>=d.length||a[g]!=d[g]){e=g+1;break}if(a.length<d.length)for(g=0,p=d.length;p>g;g++)if(g>=
a.length||a[g]!=d[g]){e=g+1;break}if(1===e)return c;g=0;for(p=a.length-(e-1);p>g;g++)f+="../";g=e-1;for(p=d.length;p>g;g++)f+=g!=e-1?"/"+d[g]:d[g];return f},toAbsPath:function(a,c){var d,e=0,k=[],g,p;g=/\/$/.test(c)?"/":"";a=a.split("/");c=c.split("/");f(a,function(a){a&&k.push(a)});a=k;d=c.length-1;for(k=[];0<=d;d--)0!==c[d].length&&"."!==c[d]&&(".."!==c[d]?0<e?e--:k.push(c[d]):e++);return d=a.length-e,p=0>=d?k.reverse().join("/"):a.slice(0,d).join("/")+"/"+k.reverse().join("/"),0!==p.indexOf("/")&&
(p="/"+p),g&&p.lastIndexOf("/")!==p.length-1&&(p+=g),p},getURI:function(a){var c;return this.source&&!a||(c="",a||(c+=this.protocol?this.protocol+"://":"//",this.userInfo&&(c+=this.userInfo+"@"),this.host&&(c+=this.host),this.port&&(c+=":"+this.port)),this.path&&(c+=this.path),this.query&&(c+="?"+this.query),this.anchor&&(c+="#"+this.anchor),this.source=c),this.source}},g.parseDataUri=function(a){var c,d;return a=decodeURIComponent(a).split(","),d=/data:([^;]+)/.exec(a[0]),d&&(c=d[1]),{type:c,data:a[1]}},
g.getDocumentBaseUrl=function(a){var c;return c=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(c)&&(c=c.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(c)||(c+="/")),c},g});z("tinymce/util/Class",["tinymce/util/Tools"],function(m){function g(){}var f=m.each,e=m.extend,a,d;return g.extend=a=function(b){function c(){var a,b,c;if(!d&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;)c=
b[a],c.init&&c.init.apply(this,arguments)}function l(){return this}function g(a,b){return function(){var c=this._super,d;return this._super=k[a],d=b.apply(this,arguments),this._super=c,d}}var k=this.prototype,n,p,t;d=!0;n=new this;d=!1;b.Mixins&&(f(b.Mixins,function(a){for(var c in a)"init"!==c&&(b[c]=a[c])}),k.Mixins&&(b.Mixins=k.Mixins.concat(b.Mixins)));b.Methods&&f(b.Methods.split(","),function(a){b[a]=l});b.Properties&&f(b.Properties.split(","),function(a){var c="_"+a;b[a]=function(a){return void 0!==
a?(this[c]=a,this):this[c]}});b.Statics&&f(b.Statics,function(a,b){c[b]=a});b.Defaults&&k.Defaults&&(b.Defaults=e({},k.Defaults,b.Defaults));for(p in b)t=b[p],"function"==typeof t&&k[p]?n[p]=g(p,t):n[p]=t;return c.prototype=n,c.constructor=c,c.extend=a,c},g});z("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(m){function g(e){function a(){return!1}function d(){return!0}function b(b,c,d,e){var g,h;if(!1===c&&(c=a),c)for(c={func:c},e&&m.extend(c,e),g=b.toLowerCase().split(" "),h=g.length;h--;)b=
g[h],(e=k[b])||(e=k[b]=[],n(b,!0)),d?e.unshift(c):e.push(c);return f}function c(a,b){var c,d,e,h,g;if(a)for(h=a.toLowerCase().split(" "),c=h.length;c--;){if(a=h[c],d=k[a],!a){for(e in k)n(e,!1),delete k[e];break}if(d){if(b)for(g=d.length;g--;)d[g].func===b&&(d=d.slice(0,g).concat(d.slice(g+1)),k[a]=d);else d.length=0;d.length||(n(a,!1),delete k[a])}}else{for(a in k)n(a,!1);k={}}return f}var f=this,g,k={},n;e=e||{};g=e.scope||f;n=e.toggleEvent||a;f.fire=function(b,f){var l,n,r,h;if(b=b.toLowerCase(),
f=f||{},f.type=b,f.target||(f.target=g),f.preventDefault||(f.preventDefault=function(){f.isDefaultPrevented=d},f.stopPropagation=function(){f.isPropagationStopped=d},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=d},f.isDefaultPrevented=a,f.isPropagationStopped=a,f.isImmediatePropagationStopped=a),e.beforeFire&&e.beforeFire(f),l=k[b])for(n=0,r=l.length;r>n;n++){if(h=l[n],h.once&&c(b,h.func),f.isImmediatePropagationStopped())return f.stopPropagation(),f;if(!1===h.func.call(g,
f))return f.preventDefault(),f}return f};f.on=b;f.off=c;f.once=function(a,c,d){return b(a,c,d,{once:!0})};f.has=function(a){return a=a.toLowerCase(),!(!k[a]||0===k[a].length)}}var f=m.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend",
" ");return g.isNative=function(e){return!!f[e.toLowerCase()]},g});z("tinymce/data/Binding",[],function(){function m(g){this.create=g.create}return m.create=function(g,f){return new m({create:function(e,a){function d(b){e.set(a,b.value)}var b;return e.on("change:"+a,function(a){g.set(f,a.value)}),g.on("change:"+f,d),b=e._bindings,b||(b=e._bindings=[],e.on("destroy",function(){for(var a=b.length;a--;)b[a]()})),b.push(function(){g.off("change:"+f,d)}),g.get(f)}})},m});z("tinymce/util/Observable",["tinymce/util/EventDispatcher"],
function(m){function g(f){return f._eventDispatcher||(f._eventDispatcher=new m({scope:f,toggleEvent:function(e,a){m.isNative(e)&&f.toggleNativeEvent&&f.toggleNativeEvent(e,a)}})),f._eventDispatcher}return{fire:function(f,e,a){if(this.removed&&"remove"!==f)return e;if(e=g(this).fire(f,e,a),!1!==a&&this.parent)for(a=this.parent();a&&!e.isPropagationStopped();)a.fire(f,e,!1),a=a.parent();return e},on:function(f,e,a){return g(this).on(f,e,a)},off:function(f,e){return g(this).off(f,e)},once:function(f,
e){return g(this).once(f,e)},hasEventListeners:function(f){return g(this).has(f)}}});z("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(m,g,f,e){function a(d,b){var c,f;if(d===b)return!0;if(null===d||null===b||"object"!=typeof d||"object"!=typeof b)return d===b;if(e.isArray(b)){if(d.length!==b.length)return!1;for(c=d.length;c--;)if(!a(d[c],b[c]))return!1}if(0<d.nodeType||0<b.nodeType)return d===b;f={};for(c in b){if(!a(d[c],
b[c]))return!1;f[c]=!0}for(c in d)if(!f[c]&&!a(d[c],b[c]))return!1;return!0}return f.extend({Mixins:[g],init:function(a){var b,c;a=a||{};for(b in a)c=a[b],c instanceof m&&(a[b]=c.create(this,b));this.data=a},set:function(d,b){var c,e,f=this.data[d];if(b instanceof m&&(b=b.create(this,d)),"object"==typeof d){for(c in d)this.set(c,d[c]);return this}return a(f,b)||(this.data[d]=b,e={target:this,name:d,value:b,oldValue:f},this.fire("change:"+d,e),this.fire("change",e)),this},get:function(a){return this.data[a]},
has:function(a){return a in this.data},bind:function(a){return m.create(this,a)},destroy:function(){this.fire("destroy")}})});z("tinymce/ui/Selector",["tinymce/util/Class"],function(m){function g(a){for(var b=[],d=a.length,e;d--;)e=a[d],e.__checked||(b.push(e),e.__checked=1);for(d=b.length;d--;)delete b[d].__checked;return b}var f=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
a=/^\s*|\s*$/g,d,b=m.extend({init:function(b){function d(a){return a?(a=a.toLowerCase(),function(b){return"*"===a||b.type===a}):void 0}function g(a){return a?function(b){return b._name===a}:void 0}function k(a){return a?(a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}):void 0}function n(a,b,c){return a?function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===
d.indexOf(c):"$="===b?d.substr(d.length-c.length)===c:!1:!!c}:void 0}function p(a){var b;return a?(a=/(?:not\((.+)\))|(.+)/i.exec(a),a[1]?(b=m(a[1],[]),function(a){return!B(a,b)}):(a=a[2],function(b,c,d){return"first"===a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:b[a]?b[a]():!1})):void 0}function t(b,c,e){function t(a){a&&c.push(a)}var u;return u=f.exec(b.replace(a,"")),t(d(u[1])),t(g(u[2])),t(k(u[3])),t(n(u[4],u[5],u[6])),t(p(u[7])),c.pseudo=!!u[7],c.direct=e,c}function m(a,b){var c=
[],d,f;do if(e.exec(""),f=e.exec(a),f&&(a=f[3],c.push(f[1]),f[2])){d=f[3];break}while(f);d&&m(d,b);a=[];for(d=0;d<c.length;d++)">"!=c[d]&&a.push(t(c[d],[],">"===c[d-1]));return b.push(a),b}var B=this.match;this._selectors=m(b,[])},match:function(a,b){var d,e,f,g,t,m,B,r,h,A,w,u;b=b||this._selectors;d=0;for(e=b.length;e>d;d++){t=b[d];g=t.length;u=a;w=0;for(f=g-1;0<=f;f--)for(r=t[f];u;){if(r.pseudo)for(m=u.parent().items(),h=A=m.length;h--&&m[h]!==u;);m=0;for(B=r.length;B>m;m++)if(!r[m](u,h,A)){m=B+
1;break}if(m===B){w++;break}if(f===g-1)break;u=u.parent()}if(w===g)return!0}return!1},find:function(a){function e(a,b,c){var d,h,g,k,p,n=b[c];d=0;for(h=a.length;h>d;d++){p=a[d];g=0;for(k=n.length;k>g;g++)if(!n[g](p,d,h)){g=k+1;break}if(g===k)c==b.length-1?f.push(p):p.items&&e(p.items(),b,c+1);else if(n.direct)break;p.items&&e(p.items(),b,c)}}var f=[],k,n,p=this._selectors;if(a.items){k=0;for(n=p.length;n>k;k++)e(a.items(),p[k],0);1<n&&(f=g(f))}return d||(d=b.Collection),new d(f)}});return b});z("tinymce/ui/Collection",
["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(m,g,f){var e,a,d=Array.prototype.push,b=Array.prototype.slice;return a={length:0,init:function(a){a&&this.add(a)},add:function(a){return m.isArray(a)?d.apply(this,a):a instanceof e?this.add(a.toArray()):d.call(this,a),this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;b>a;a++)delete this[a];return this},filter:function(a){var b,d,f=[],n,p;"string"==typeof a?(a=new g(a),p=function(b){return a.match(b)}):
p=a;b=0;for(d=this.length;d>b;b++)n=this[b],p(n)&&f.push(n);return new e(f)},slice:function(){return new e(b.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return m.each(this,a),this},toArray:function(){return m.toArray(this)},indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new e(m.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].classes.contains(a):!1},prop:function(a,b){var d;
return void 0!==b?(this.each(function(d){d[a]&&d[a](b)}),this):(d=this[0],d&&d[a]?d[a]():void 0)},exec:function(a){var b=m.toArray(arguments).slice(1);return this.each(function(d){d[a]&&d[a].apply(d,b)}),this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}},m.each("fire on off show hide append prepend before after reflow".split(" "),
function(b){a[b]=function(){var a=m.toArray(arguments);return this.each(function(d){b in d&&d[b].apply(d,a)}),this}}),m.each("text name disabled active selected checked visible parent value data".split(" "),function(b){a[b]=function(a){return this.prop(b,a)}}),e=f.extend(a),g.Collection=e,e});z("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(m,g){var f=0;return{id:function(){return"mceu_"+f++},create:function(e,a,d){var b=document.createElement(e);return g.DOM.setAttribs(b,
a),"string"==typeof d?b.innerHTML=d:m.each(d,function(a){a.nodeType&&b.appendChild(a)}),b},createFragment:function(e){return g.DOM.createFragment(e)},getWindowSize:function(){return g.DOM.getViewPort()},getSize:function(e){var a;if(e.getBoundingClientRect){var d=e.getBoundingClientRect();a=Math.max(d.width||d.right-d.left,e.offsetWidth);e=Math.max(d.height||d.bottom-d.bottom,e.offsetHeight)}else a=e.offsetWidth,e=e.offsetHeight;return{width:a,height:e}},getPos:function(e,a){return g.DOM.getPos(e,
a)},getViewPort:function(e){return g.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,a){return g.DOM.addClass(e,a)},removeClass:function(e,a){return g.DOM.removeClass(e,a)},hasClass:function(e,a){return g.DOM.hasClass(e,a)},toggleClass:function(e,a,d){return g.DOM.toggleClass(e,a,d)},css:function(e,a,d){return g.DOM.setStyle(e,a,d)},getRuntimeStyle:function(e,a){return g.DOM.getStyle(e,a,!0)},on:function(e,a,d,b){return g.DOM.bind(e,a,d,b)},off:function(e,
a,d){return g.DOM.unbind(e,a,d)},fire:function(e,a,d){return g.DOM.fire(e,a,d)},innerHtml:function(e,a){g.DOM.setHTML(e,a)}}});z("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(m){var g;if(m)return"number"==typeof m?(m=m||0,{top:m,left:m,bottom:m,right:m}):(m=m.split(" "),g=m.length,1===g?m[1]=m[2]=m[3]=m[0]:2===g?(m[2]=m[0],m[3]=m[1]):3===g&&(m[3]=m[1]),{top:parseInt(m[0],10)||0,right:parseInt(m[1],10)||0,bottom:parseInt(m[2],10)||0,left:parseInt(m[3],10)||0})},measureBox:function(m,
g){function f(a){var d=document.defaultView;return d?(a=a.replace(/[A-Z]/g,function(a){return"-"+a}),d.getComputedStyle(m,null).getPropertyValue(a)):m.currentStyle[a]}function e(a){a=parseFloat(f(a),10);return isNaN(a)?0:a}return{top:e(g+"TopWidth"),right:e(g+"RightWidth"),bottom:e(g+"BottomWidth"),left:e(g+"LeftWidth")}}}});z("tinymce/ui/ClassList",["tinymce/util/Tools"],function(m){function g(){}function f(e){this.cls=[];this.cls._map={};this.onchange=e||g;this.prefix=""}return m.extend(f.prototype,
{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var a=0;a<this.cls.length&&this.cls[a]!==e;a++);this.cls.splice(a,1);delete this.cls._map[e];this._change()}return this},toggle:function(e,a){var d=this.contains(e);return d!==a&&(d?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue;this.onchange.call(this)}}),f.prototype.toString=
function(){var e;if(this.clsValue)return this.clsValue;e="";for(var a=0;a<this.cls.length;a++)0<a&&(e+=" "),e+=this.prefix+this.cls[a];return e},f});z("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(m){var g={},f;return{add:function(e){(e=e.parent())&&e._layout&&!e._layout.isNative()&&(g[e._id]||(g[e._id]=e),f||(f=!0,m.requestAnimationFrame(function(){var a,d;f=!1;for(a in g)d=g[a],d.state.get("rendered")&&d.reflow();g={}},document.body)))},remove:function(e){g[e._id]&&delete g[e._id]}}});
z("tinymce/ui/Control","tinymce/util/Class tinymce/util/Tools tinymce/util/EventDispatcher tinymce/data/ObservableObject tinymce/ui/Collection tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/BoxUtils tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(m,g,f,e,a,d,b,c,l,q){function k(a){return a._eventDispatcher||(a._eventDispatcher=new f({scope:a,toggleEvent:function(b,c){c&&f.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&n(a))}})),
a._eventDispatcher}function n(a){function c(b){var d=a.getParentCtrl(b.target);d&&d.fire(b.type,b)}function d(){var a=n._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),n._lastHoverCtrl=null)}function e(b){var c=a.getParentCtrl(b.target);b=n._lastHoverCtrl;var d=0,f,g;if(c!==b){if(n._lastHoverCtrl=c,g=c.parents().toArray().reverse(),g.push(c),b){c=b.parents().toArray().reverse();c.push(b);for(d=0;d<c.length&&g[d]===c[d];d++);
for(f=c.length-1;f>=d;f--)b=c[f],b.fire("mouseleave",{target:b.getEl()})}for(f=d;f<g.length;f++)c=g[f],c.fire("mouseenter",{target:c.getEl()})}}function f(b){b.preventDefault();"mousewheel"==b.type?(b.deltaY=-.025*b.wheelDelta,b.wheelDeltaX&&(b.deltaX=-.025*b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail);a.fire("wheel",b)}var g,k,l,n,m,r;if(m=a._nativeEvents){l=a.parents().toArray();l.unshift(a);g=0;for(k=l.length;!n&&k>g;g++)n=l[g]._eventsRoot;n||(n=l[l.length-1]||a);a._eventsRoot=n;k=g;for(g=0;k>
g;g++)l[g]._eventsRoot=n;(g=n._delegates)||(g=n._delegates={});for(r in m){if(!m)return!1;"wheel"!==r||t?("mouseenter"===r||"mouseleave"===r?n._hasMouseEnter||(b(n.getEl()).on("mouseleave",d).on("mouseover",e),n._hasMouseEnter=1):g[r]||(b(n.getEl()).on(r,c),g[r]=!0),m[r]=!1):p?b(a.getEl()).on("mousewheel",f):b(a.getEl()).on("DOMMouseScroll",f)}}}var p="onmousewheel"in document,t=!1,v,B=0,r={Statics:{classPrefix:"mce-"},isRtl:function(){return v.rtl},classPrefix:"mce-",init:function(a){function d(a){var b;
a=a.split(" ");for(b=0;b<a.length;b++)f.classes.add(a[b])}var f=this,k,n;f.settings=a=g.extend({},f.Defaults,a);f._id=a.id||"mceu_"+B++;f._aria={role:a.role};f._elmCache={};f.$=b;f.state=new e({visible:!0,active:!1,disabled:!1,value:""});f.data=new e(a.data);f.classes=new l(function(){f.state.get("rendered")&&(f.getEl().className=this.toString())});f.classes.prefix=f.classPrefix;(k=a.classes)&&(f.Defaults&&(n=f.Defaults.classes,n&&k!=n&&d(n)),d(k));g.each("title text name visible disabled active value".split(" "),
function(b){b in a&&f[b](a[b])});f.on("click",function(){return f.disabled()?!1:void 0});f.settings=a;f.borderBox=c.parseBox(a.border);f.paddingBox=c.parseBox(a.padding);f.marginBox=c.parseBox(a.margin);a.hidden&&f.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var a=this.settings,b,e,f=this.getEl(),g,k,l,n,p,t;b=this.borderBox=
this.borderBox||c.measureBox(f,"border");this.paddingBox=this.paddingBox||c.measureBox(f,"padding");this.marginBox=this.marginBox||c.measureBox(f,"margin");g=d.getSize(f);p=a.minWidth;t=a.minHeight;f=p||g.width;l=t||g.height;g=a.width;k=a.height;n=a.autoResize;n="undefined"!=typeof n?n:!g&&!k;g=g||f;k=k||l;var r=b.left+b.right;b=b.top+b.bottom;var m=a.maxWidth||65535,q=a.maxHeight||65535;return this._layoutRect=e={x:a.x||0,y:a.y||0,w:g,h:k,deltaW:r,deltaH:b,contentW:g-r,contentH:k-b,innerW:g-r,innerH:k-
b,startMinWidth:p||0,startMinHeight:t||0,minW:Math.min(f,m),minH:Math.min(l,q),maxW:m,maxH:q,autoResize:n,scrollW:0},this._lastLayoutRect={},e},layoutRect:function(a){var b=this._layoutRect,c,d,e,f,g;return b||(b=this.initLayoutRect()),a?(e=b.deltaW,f=b.deltaH,void 0!==a.x&&(b.x=a.x),void 0!==a.y&&(b.y=a.y),void 0!==a.minW&&(b.minW=a.minW),void 0!==a.minH&&(b.minH=a.minH),d=a.w,void 0!==d&&(d=d<b.minW?b.minW:d,d=d>b.maxW?b.maxW:d,b.w=d,b.innerW=d-e),d=a.h,void 0!==d&&(d=d<b.minH?b.minH:d,d=d>b.maxH?
b.maxH:d,b.h=d,b.innerH=d-f),d=a.innerW,void 0!==d&&(d=d<b.minW-e?b.minW-e:d,d=d>b.maxW-e?b.maxW-e:d,b.innerW=d,b.w=d+e),d=a.innerH,void 0!==d&&(d=d<b.minH-f?b.minH-f:d,d=d>b.maxH-f?b.maxH-f:d,b.innerH=d,b.h=d+f),void 0!==a.contentW&&(b.contentW=a.contentW),void 0!==a.contentH&&(b.contentH=a.contentH),c=this._lastLayoutRect,c.x===b.x&&c.y===b.y&&c.w===b.w&&c.h===b.h||(g=v.repaintControls,g&&g.map&&!g.map[this._id]&&(g.push(this),g.map[this._id]=!0),c.x=b.x,c.y=b.y,c.w=b.w,c.h=b.h),this):b},repaint:function(){var a,
b,c,d,e,f,g,k,l;k=document.createRange?function(a){return a}:Math.round;a=this.getEl().style;d=this._layoutRect;g=this._lastRepaintRect||{};e=this.borderBox;f=e.left+e.right;e=e.top+e.bottom;d.x!==g.x&&(a.left=k(d.x)+"px",g.x=d.x);d.y!==g.y&&(a.top=k(d.y)+"px",g.y=d.y);d.w!==g.w&&(l=k(d.w-f),a.width=(0<=l?l:0)+"px",g.w=d.w);d.h!==g.h&&(l=k(d.h-e),a.height=(0<=l?l:0)+"px",g.h=d.h);this._hasBody&&d.innerW!==g.innerW&&(l=k(d.innerW),c=this.getEl("body"),c&&(b=c.style,b.width=(0<=l?l:0)+"px"),g.innerW=
d.innerW);this._hasBody&&d.innerH!==g.innerH&&(l=k(d.innerH),c=c||this.getEl("body"),c&&(b=b||c.style,b.height=(0<=l?l:0)+"px"),g.innerH=d.innerH);this._lastRepaintRect=g;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;d.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,b){var c=this;return k(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){return b||c.parentsAndSelf().each(function(c){var e=
c.settings.callbacks;return e&&(b=e[a])?(d=c,!1):void 0}),b?b.call(d,e):(e.action=a,void this.fire("execute",e))}}(b)),c},off:function(a,b){return k(this).off(a,b),this},fire:function(a,b,c){if(b=b||{},b.control||(b.control=this),b=k(this).fire(a,b),!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return k(this).has(a)},parents:function(b){var c,d=new a;for(c=this.parent();c;c=c.parent())d.add(c);return b&&(d=
d.filter(b)),d},parentsAndSelf:function(b){return(new a(this)).add(this.parents(b))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(a){a=a?this._id+"-"+a:this._id;return this._elmCache[a]||(this._elmCache[a]=b("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},
blur:function(){return this.getEl().blur(),this},aria:function(a,b){var c=this.getEl(this.ariaTarget);return"undefined"==typeof b?this._aria[a]:(this._aria[a]=b,this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b),this)},encode:function(a,b){return!1!==b&&(a=this.translate(a)),(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return v.translate?v.translate(a):a},before:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this),
!0),this},after:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this)),this},remove:function(){var a=this,c=a.getEl(),d=a.parent(),e,f;if(a.items){var g=a.items().toArray();for(f=g.length;f--;)g[f].remove()}d&&d.items&&(e=[],d.items().each(function(b){b!==a&&e.push(b)}),d.items().set(e),d._lastRect=null);a._eventsRoot&&a._eventsRoot==a&&b(c).off();d=a.getRoot().controlIdLookup;return d&&delete d[a._id],c&&c.parentNode&&c.parentNode.removeChild(c),a.state.set("rendered",!1),
a.state.destroy(),a.fire("remove"),a},renderBefore:function(a){return b(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return b(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a=this,c=a.settings,d,e,f,g,k;a.$el=b(a.getEl());a.state.set("rendered",!0);for(g in c)0===g.indexOf("on")&&a.on(g.substr(2),
c[g]);if(a._eventsRoot){for(f=a.parent();!k&&f;f=f.parent())k=f._eventsRoot;if(k)for(g in k._nativeEvents)a._nativeEvents[g]=!0}n(a);c.style&&(d=a.getEl(),d&&(d.setAttribute("style",c.style),d.style.cssText=c.style));a.settings.border&&(e=a.borderBox,a.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));c=a.getRoot();c.controlIdLookup||(c.controlIdLookup={});c.controlIdLookup[a._id]=a;for(var l in a._aria)a.aria(l,a._aria[l]);
!1===a.state.get("visible")&&(a.getEl().style.display="none");a.bindStates();a.state.on("change:visible",function(b){b=b.value;var c;a.state.get("rendered")&&(a.getEl().style.display=!1===b?"none":"",a.getEl().getBoundingClientRect());(c=a.parent())&&(c._lastRect=null);a.fire(b?"show":"hide");q.add(a)});a.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b=this.getEl(),c=b.parentNode,d,e,f,g,k,l,n,p,t=b;for(n=p=0;t&&t!=c&&t.nodeType;)n+=t.offsetLeft||0,p+=t.offsetTop||
0,t=t.offsetParent;return d=n,e=p,f=b.offsetWidth,g=b.offsetHeight,k=c.clientWidth,l=c.clientHeight,"end"==a?(d-=k-f,e-=l-g):"center"==a&&(d-=k/2-f/2,e-=l/2-g/2),c.scrollLeft=d,c.scrollTop=e,this},getRoot:function(){for(var a=this,b,c=[];a;){if(a.rootControl){b=a.rootControl;break}c.push(a);b=a;a=a.parent()}b||(b=this);for(a=c.length;a--;)c[a].rootControl=b;return b},reflow:function(){q.remove(this);var a=this.parent();return a._layout&&!a._layout.isNative()&&a.reflow(),this}};return g.each("text title visible disabled active value".split(" "),
function(a){r[a]=function(b){return 0===arguments.length?this.state.get(a):("undefined"!=typeof b&&this.state.set(a,b),this)}}),v=m.extend(r)});z("tinymce/ui/Factory",[],function(){var m={},g;return{add:function(f,e){m[f.toLowerCase()]=e},has:function(f){return!!m[f.toLowerCase()]},create:function(f,e){var a,d,b;if(!g){b=tinymce.ui;for(d in b)m[d.toLowerCase()]=b[d];g=!0}if("string"==typeof f?(e=e||{},e.type=f):(e=f,f=e.type),f=f.toLowerCase(),a=m[f],!a)throw Error("Could not find control by type: "+
f);return a=new a(e),a.type=f,a}}});z("tinymce/ui/KeyboardNavigation",[],function(){return function(m){function g(a){return a=a||r,a&&1===a.nodeType?a.getAttribute("role"):null}function f(a){for(var b=a||r;b=b.parentNode;)if(a=g(b))return a}function e(a){var b=r;return b&&1===b.nodeType?b.getAttribute("aria-"+a):void 0}function a(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function d(b){function c(b){if(1==b.nodeType&&"none"!=b.style.display){(a(b)&&!b.hidden||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(b)))&&
d.push(b);for(var e=0;e<b.childNodes.length;e++)c(b.childNodes[e])}}var d=[];return c(b||B.getEl()),d}function b(a){var b,c;a=a||h;c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function c(a,b){return 0>a?a=b.length-1:a>=b.length&&(a=0),b[a]&&b[a].focus(),a}function l(a,e){var f=-1,g=b();e=e||d(g.getEl());for(var h=0;h<e.length;h++)e[h]===r&&(f=h);g.lastAriaIndex=c(f+a,e)}function q(){"tablist"==f()?l(-1,d(r.parentNode)):h.parent().submenu?h.fire("cancel"):
l(-1)}function k(){var a=g(),b=f();"tablist"==b?l(1,d(r.parentNode)):"menuitem"==a&&"menu"==b&&e("haspopup")?v():l(1)}function n(){l(-1)}function p(){var a=g(),b=f();"menuitem"==a&&"menubar"==b?v():"button"==a&&e("haspopup")?v({key:"down"}):l(1)}function t(a){"tablist"==f()?(a=d(h.getEl("body"))[0])&&a.focus():l(a.shiftKey?-1:1)}function v(a){a=a||{};h.fire("click",{target:r,aria:a})}var B=m.root,r,h;try{r=document.activeElement}catch(A){r=document.body}return h=B.getParentCtrl(r),B.on("keydown",
function(b){function c(b,d){a(r)||"slider"!==g(r)&&!1!==d(b)&&b.preventDefault()}if(!b.isDefaultPrevented())switch(b.keyCode){case 37:c(b,q);break;case 39:c(b,k);break;case 38:c(b,n);break;case 40:c(b,p);break;case 27:h.fire("cancel");break;case 14:case 13:case 32:c(b,v);break;case 9:!1!==t(b)&&b.preventDefault()}}),B.on("focusin",function(a){r=a.target;h=a.control}),{focusFirst:function(a){a=b(a);var e=d(a.getEl());a.settings.ariaRemember&&"lastAriaIndex"in a?c(a.lastAriaIndex,e):c(0,e)}}}});z("tinymce/ui/Container",
"tinymce/ui/Control tinymce/ui/Collection tinymce/ui/Selector tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/util/Tools tinymce/dom/DomQuery tinymce/ui/ClassList tinymce/ui/ReflowQueue".split(" "),function(m,g,f,e,a,d,b,c,l){var q={};return m.extend({init:function(a){var b=this;b._super(a);a=b.settings;a.fixed&&b.state.set("fixed",!0);b._items=new g;b.isRtl()&&b.classes.add("rtl");b.bodyClasses=new c(function(){b.state.get("rendered")&&(b.getEl("body").className=this.toString())});b.bodyClasses.prefix=
b.classPrefix;b.classes.add("container");b.bodyClasses.add("container-body");a.containerCls&&b.classes.add(a.containerCls);b._layout=e.create((a.layout||"")+"layout");b.settings.items?b.add(b.settings.items):b.add(b.render());b._hasBody=!0},items:function(){return this._items},find:function(a){return a=q[a]=q[a]||new f(a),a.find(this)},add:function(a){return this.items().add(this.create(a)).parent(this),this},focus:function(a){var b,c,d;return a&&(c=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?
void c.focusFirst(this):(d=this.find("*"),this.statusbar&&d.add(this.statusbar.items()),d.each(function(a){return a.settings.autofocus?(b=null,!1):void(a.canFocus&&(b=b||a))}),b&&b.focus(),this)},replace:function(a,b){for(var c,d=this.items(),e=d.length;e--;)if(d[e]===a){d[e]=b;break}0<=e&&(c=b.getEl(),c&&c.parentNode.removeChild(c),c=a.getEl(),c&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b=this,c,f=[];return d.isArray(a)||(a=[a]),d.each(a,function(a){a&&(a instanceof m||
("string"==typeof a&&(a={type:a}),c=d.extend({},b.settings.defaults,a),a.type=c.type=c.type||a.type||b.settings.defaultType||(c.defaults?c.defaults.type:null),a=e.create(c)),f.push(a))}),f},renderNew:function(){var a=this;return a.items().each(function(c,d){var e;c.parent(a);c.state.get("rendered")||(e=a.getEl("body"),e.hasChildNodes()&&d<=e.childNodes.length-1?b(e.childNodes[d]).before(c.renderHtml()):b(e).append(c.renderHtml()),c.postRender(),l.add(c))}),a._layout.applyClasses(a.items().filter(":visible")),
a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){return this.items().set(this.create(a).concat(this.items().toArray())),this.renderNew()},insert:function(a,b,c){var d,e,f;return a=this.create(a),d=this.items(),!c&&b<d.length-1&&(b+=1),0<=b&&b<d.length&&(e=d.slice(0,b).toArray(),f=d.slice(b).toArray(),d.set(e.concat(a,f))),this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};return this.find("*").each(function(b){var c=
b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)}),a},renderHtml:function(){var a=this._layout,b=this.settings.role;return this.preRender(),a.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var b;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",
!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(b=this.borderBox,this.$el.css({"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left})),this.parent()||(this.keyboardNav=new a({root:this})),this},initLayoutRect:function(){var a=this._super();return this._layout.recalc(this),a},recalc:function(){var a=this._layoutRect,b=this._lastRect;return b&&b.w==a.w&&b.h==a.h?void 0:(this._layout.recalc(this),a=this.layoutRect(),
this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(l.remove(this),this.visible()){m.repaintControls=[];m.repaintControls.map={};this.recalc();for(a=m.repaintControls.length;a--;)m.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();m.repaintControls=[]}return this}})});z("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(m){function g(f){var e,a;if(f.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),
a=0;a<e.length;a++)f[e[a]]=f.changedTouches[0][e[a]]}return function(f,e){var a,d=e.document||document,b,c,l,q,k;e=e||{};l=function(a){return g(a),a.button!==b?c(a):(a.deltaX=a.screenX-q,a.deltaY=a.screenY-k,a.preventDefault(),void e.drag(a))};c=function(b){g(b);m(d).off("mousemove touchmove",l).off("mouseup touchend",c);a.remove();e.stop&&e.stop(b)};this.destroy=function(){m(d.getElementById(e.handle||f)).off()};m(d.getElementById(e.handle||f)).on("mousedown touchstart",function(n){var p,t,v,B,r,
h,A,w,u;p=Math.max;p=(t=d.documentElement,v=d.body,B=p(t.scrollWidth,v.scrollWidth),r=p(t.clientWidth,v.clientWidth),h=p(t.offsetWidth,v.offsetWidth),A=p(t.scrollHeight,v.scrollHeight),w=p(t.clientHeight,v.clientHeight),u=p(t.offsetHeight,v.offsetHeight),{width:h>B?r:B,height:u>A?w:A});g(n);n.preventDefault();b=n.button;t=d.getElementById(e.handle||f);q=n.screenX;k=n.screenY;t=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor;a=m("<div>").css({position:"absolute",
top:0,left:0,width:p.width,height:p.height,zIndex:2147483647,opacity:1E-4,cursor:t}).appendTo(d.body);m(d).on("mousemove touchmove",l).on("mouseup touchend",c);e.start(n)})}});z("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(m,g){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function f(){function b(b,f,g,t,q,B){var r,h,A;if(r=a.getEl("scroll"+b)){if(h=f.toLowerCase(),A=g.toLowerCase(),m(a.getEl("absend")).css(h,a.layoutRect()[t]-
1),!q)return void m(r).css("display","none");m(r).css("display","block");t=a.getEl("body");b=a.getEl("scroll"+b+"t");q=t["client"+g]-2*d;q-=c&&e?r["client"+B]:0;g=t["scroll"+g];g=q/g;B={};B[h]=t["offset"+f]+d;B[A]=q;m(r).css(B);B={};B[h]=t["scroll"+f]*g;B[A]=q*g;m(b).css(B)}}var c,e,f;f=a.getEl("body");c=f.scrollWidth>f.clientWidth;e=f.scrollHeight>f.clientHeight;b("h","Left","Width","contentW",c,"Height");b("v","Top","Height","contentH",e,"Width")}function e(){function b(b,e,f,k,n){var p,t=a._id+
"-scroll"+b,v=a.classPrefix;m(a.getEl()).append('<div id="'+t+'" class="'+v+"scrollbar "+v+"scrollbar-"+b+'"><div id="'+t+'t" class="'+v+'scrollbar-thumb"></div></div>');a.draghelper=new g(t+"t",{start:function(){p=a.getEl("body")["scroll"+e];m("#"+t).addClass(v+"active")},drag:function(g){var t,h,m;h=a.layoutRect();t=h.contentW>h.innerW;h=h.contentH>h.innerH;m=a.getEl("body")["client"+f]-2*d;m-=t&&h?a.getEl("scroll"+b)["client"+n]:0;t=m/a.getEl("body")["scroll"+f];a.getEl("body")["scroll"+e]=p+g["delta"+
k]/t},stop:function(){m("#"+t).removeClass(v+"active")}})}a.classes.add("scroll");b("v","Top","Height","Y","Width");b("h","Left","Width","X","Height")}var a=this,d=2;a.settings.autoScroll&&(a._hasScroll||(a._hasScroll=!0,e(),a.on("wheel",function(b){var c=a.getEl("body");c.scrollLeft+=10*(b.deltaX||0);c.scrollTop+=10*b.deltaY;f()}),m(a.getEl("body")).on("scroll",f)),f())}}});z("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(m,g){return m.extend({Defaults:{layout:"fit",
containerCls:"panel"},Mixins:[g],renderHtml:function(){var f=this._layout,e=this.settings.html;return this.preRender(),f.preRender(this),"undefined"==typeof e?e='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+f.renderHtml(this)+"</div>":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+e+"</div>"}})});z("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(m){function g(f,
e,a){var d,b,c,g,q,k,n,p,t,v;return t=m.getViewPort(),b=m.getPos(e),c=b.x,g=b.y,f.state.get("fixed")&&"static"==m.getRuntimeStyle(document.body,"position")&&(c-=t.x,g-=t.y),d=f.getEl(),v=m.getSize(d),q=v.width,k=v.height,v=m.getSize(e),n=v.width,p=v.height,a=(a||"").split(""),"b"===a[0]&&(g+=p),"r"===a[1]&&(c+=n),"c"===a[0]&&(g+=Math.round(p/2)),"c"===a[1]&&(c+=Math.round(n/2)),"b"===a[3]&&(g-=k),"r"===a[4]&&(c-=q),"c"===a[3]&&(g-=Math.round(k/2)),"c"===a[4]&&(c-=Math.round(q/2)),{x:c,y:g,w:q,h:k}}
return{testMoveRel:function(f,e){for(var a=m.getViewPort(),d=0;d<e.length;d++){var b=g(this,f,e[d]);if(this.state.get("fixed")){if(0<b.x&&b.x+b.w<a.w&&0<b.y&&b.y+b.h<a.h)return e[d]}else if(b.x>a.x&&b.x+b.w<a.w+a.x&&b.y>a.y&&b.y+b.h<a.h+a.y)return e[d]}return e[0]},moveRel:function(f,e){"string"!=typeof e&&(e=this.testMoveRel(f,e));var a=g(this,f,e);return this.moveTo(a.x,a.y)},moveBy:function(f,e){var a=this.layoutRect();return this.moveTo(a.x+f,a.y+e),this},moveTo:function(f,e){function a(a,b,d){return 0>
a?0:a+d>b?(a=b-d,0>a?0:a):a}if(this.settings.constrainToViewport){var d=m.getViewPort(window),b=this.layoutRect();f=a(f,d.w+d.x,b.w);e=a(e,d.h+d.y,b.h)}return this.state.get("rendered")?this.layoutRect({x:f,y:e}).repaint():(this.settings.x=f,this.settings.y=e),this.fire("move",{x:f,y:e}),this}}});z("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(m){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(g,f){if(1>=g||1>=f){var e=
m.getWindowSize();g=1>=g?g*e.w:g;f=1>=f?f*e.h:f}return this._layoutRect.autoResize=!1,this.layoutRect({minW:g,minH:f,w:g,h:f}).reflow()},resizeBy:function(g,f){var e=this.layoutRect();return this.resizeTo(e.w+g,e.h+f)}}});z("tinymce/ui/FloatPanel","tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/util/Delay".split(" "),function(m,g,f,e,a,d){function b(){p||(p=function(a){if(2!=a.button)for(var b=B.length;b--;){var c=B[b],d=c.getParentCtrl(a.target),
e;if((e=c.settings.autohide)&&!(e=!d)){a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}e=!e&&c.parent()!==d}e&&(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}},a(document).on("click touchstart",p))}function c(){t||(t=function(){var a;for(a=B.length;a--;)q(B[a])},a(window).on("scroll",t))}function l(){if(!v){var b=document.documentElement,c=b.clientWidth,d=b.clientHeight;v=function(){document.all&&c==b.clientWidth&&d==b.clientHeight||(c=b.clientWidth,d=
b.clientHeight,A.hideAll())};a(window).on("resize",v)}}function q(a){function b(c,d){for(var e,f=0;f<B.length;f++)if(B[f]!=a)for(e=B[f].parent();e&&(e=e.parent());)e==a&&B[f].fixed(c).moveBy(0,d).repaint()}var c=e.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,c-a._autoFixY))))}function k(b,c){var d,e=A.zIndex||
65535,f;if(b)r.push(c);else for(d=r.length;d--;)r[d]===c&&r.splice(d,1);if(r.length)for(d=0;d<r.length;d++)r[d].modal&&(e++,f=r[d]),r[d].getEl().style.zIndex=e,r[d].zIndex=e,e++;d=a("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];f?a(d).css("z-index",f.zIndex-1):d&&(d.parentNode.removeChild(d),h=!1);A.currentZIndex=e}function n(a){var b;for(b=B.length;b--;)B[b]===a&&B.splice(b,1);for(b=r.length;b--;)r[b]===a&&r.splice(b,1)}var p,t,v,B=[],r=[],h,A=m.extend({Mixins:[g,f],init:function(e){var f=
this;f._super(e);f._eventsRoot=f;f.classes.add("floatpanel");e.autohide&&(b(),l(),B.push(f));e.autofix&&(c(),f.on("move",function(){q(this)}));f.on("postrender show",function(b){if(b.control==f){var c,e=f.classPrefix;f.modal&&!h&&(c=a("#"+e+"modal-block",f.getContainerElm()),c[0]||(c=a('<div id="'+e+'modal-block" class="'+e+"reset "+e+'fade"></div>').appendTo(f.getContainerElm())),d.setTimeout(function(){c.addClass(e+"in");a(f.getEl()).addClass(e+"in")}),h=!0);k(!0,f)}});f.on("show",function(){f.parents().each(function(a){return a.state.get("fixed")?
(f.fixed(!0),!1):void 0})});e.popover&&(f._preBodyHtml='<div class="'+f.classPrefix+'arrow"></div>',f.classes.add("popover").add("bottom").add(f.isRtl()?"end":"start"));f.aria("label",e.ariaLabel);f.aria("labelledby",f._id);f.aria("describedby",f.describedBy||f._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=e.getViewPort();a?this.layoutRect().y-=b.y:this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,
b=this._super();for(a=B.length;a--&&B[a]!==this;);return-1===a&&B.push(this),b},hide:function(){return n(this),k(!1,this),this._super()},hideAll:function(){A.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),k(!1,this)),this},remove:function(){n(this);this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return A.hideAll=function(){for(var a=B.length;a--;){var b=B[a];
b&&b.settings.autohide&&(b.hide(),B.splice(a,1))}},A});z("tinymce/ui/Window","tinymce/ui/FloatPanel tinymce/ui/Panel tinymce/ui/DomUtils tinymce/dom/DomQuery tinymce/ui/DragHelper tinymce/ui/BoxUtils tinymce/Env tinymce/util/Delay".split(" "),function(m,g,f,e,a,d,b,c){function l(a){var c=e("meta[name=viewport]")[0],d;!1!==b.overrideViewPort&&(c||(c=document.createElement("meta"),c.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(c)),d=c.getAttribute("content"),
d&&"undefined"!=typeof k&&(k=d),c.setAttribute("content",a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":k))}var q=[],k="";m=m.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",
!0);a.buttons&&(b.statusbar=new g({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(f.hasClass(a.target,c)||f.hasClass(a.target.parentNode,c))&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a=
this.statusbar,b,c,d,e;this._fullscreen&&(this.layoutRect(f.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH);this._super();b=this.layoutRect();this.settings.title&&!this._fullscreen&&(c=b.headerW,c>b.w&&(d=b.x-Math.max(0,c/2),this.layoutRect({w:c,x:d}),e=!0));a&&(a.layoutRect({w:this.layoutRect().innerW}).recalc(),c=a.layoutRect().minW+b.deltaW,c>b.w&&(d=b.x-Math.max(0,c-b.w),this.layoutRect({w:c,x:d}),e=!0));e&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0,
c;this.settings.title&&!this._fullscreen&&(c=this.getEl("head"),c=f.getSize(c),a.headerW=c.width,a.headerH=c.height,b+=a.headerH);this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=f.getWindowSize();return a.x=this.settings.x||Math.max(0,b.w/2-a.w/2),a.y=this.settings.y||Math.max(0,b.h/2-a.h/2),a},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,e="",f="",g=d.html;return this.preRender(),a.preRender(this),d.title&&(e='<div id="'+
b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),d.url&&(g='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof g&&(g=a.renderHtml(this)),this.statusbar&&(f=this.statusbar.renderHtml()),'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+
'reset" role="application">'+e+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+g+"</div>"+f+"</div></div>"},fullscreen:function(a){var b=this,g=document.documentElement,l,k=b.classPrefix,m;a!=b._fullscreen&&((e(window).on("resize",function(){var a;if(b._fullscreen)if(l)b._timer||(b._timer=c.setTimeout(function(){var a=f.getWindowSize();b.moveTo(0,0).resizeTo(a.w,a.h);b._timer=0},50));else{a=(new Date).getTime();var d=f.getWindowSize();b.moveTo(0,0).resizeTo(d.w,d.h);50<(new Date).getTime()-a&&
(l=!0)}}),m=b.layoutRect(),b._fullscreen=a,a)?(b._initial={x:m.x,y:m.y,w:m.w,h:m.h},b.borderBox=d.parseBox("0"),b.getEl("head").style.display="none",m.deltaH-=m.headerH+2,e([g,document.body]).addClass(k+"fullscreen"),b.classes.add("fullscreen"),a=f.getWindowSize(),b.moveTo(0,0).resizeTo(a.w,a.h)):(b.borderBox=d.parseBox(b.settings.border),b.getEl("head").style.display="",m.deltaH+=m.headerH,e([g,document.body]).removeClass(k+"fullscreen"),b.classes.remove("fullscreen"),b.moveTo(b._initial.x,b._initial.y).resizeTo(b._initial.w,
b._initial.h)));return b.reflow()},postRender:function(){var b,c,d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new a(d._id+"-dragh",{start:function(){b=d.layoutRect().x;c=d.layoutRect().y},drag:function(a){d.moveTo(b+a.deltaX,c+a.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||d.close()});q.push(d);l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var a;
this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();for(a=q.length;a--;)q[a]===this&&q.splice(a,1);l(0<q.length);a:{a=this.classPrefix;for(var b=0;b<q.length;b++)if(q[b]._fullscreen)break a;e([document.documentElement,document.body]).removeClass(a+"fullscreen")}},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return function(){if(!b.desktop){var a={w:window.innerWidth,h:window.innerHeight};c.setInterval(function(){var b=
window.innerWidth,c=window.innerHeight;a.w==b&&a.h==c||(a={w:b,h:c},e(window).trigger("resize"))},100)}e(window).on("resize",function(){var a,b=f.getWindowSize(),c;for(a=0;a<q.length;a++)c=q[a].layoutRect(),q[a].moveTo(q[a].settings.x||Math.max(0,b.w/2-c.w/2),q[a].settings.y||Math.max(0,b.h/2-c.h/2))})}(),m});z("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(m){var g=m.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,
buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function e(a,c,e){return{type:"button",text:a,subtype:e?"primary":"",onClick:function(a){a.control.parents()[1].close();d(c)}}}var a,d=f.callback||function(){};switch(f.buttons){case g.OK_CANCEL:a=[e("Ok",!0,!0),e("Cancel",!1)];break;case g.YES_NO:case g.YES_NO_CANCEL:a=[e("Yes",1,!0),e("No",0)];f.buttons==
g.YES_NO_CANCEL&&a.push(e("Cancel",-1));break;default:a=[e("Ok",!0,!0)]}return(new m({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:a,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){d(!1)}})).renderTo(document.body).reflow()},alert:function(f,e){return"string"==typeof f&&(f={text:f}),
f.callback=e,g.msgBox(f)},confirm:function(f,e){return"string"==typeof f&&(f={text:f}),f.callback=e,f.buttons=g.OK_CANCEL,g.msgBox(f)}}});return g});z("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(m,g){return function(f){function e(){return b.length?b[b.length-1]:void 0}function a(a){f.fire("OpenWindow",{win:a})}function d(a){f.fire("CloseWindow",{win:a})}var b=[];this.windows=b;f.on("remove",function(){for(var a=b.length;a--;)b[a].close()});this.open=function(c,e){var g;
return f.editorManager.setActive(f),c.title=c.title||" ",c.url=c.url||c.file,c.url&&(c.width=parseInt(c.width||320,10),c.height=parseInt(c.height||240,10)),c.body&&(c.items={defaults:c.defaults,type:c.bodyType||"form",items:c.body,data:c.data,callbacks:c.commands}),c.url||c.buttons||(c.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new m(c),b.push(g),g.on("close",function(){for(var a=b.length;a--;)b[a]===g&&b.splice(a,
1);b.length||f.focus();d(g)}),c.data&&g.on("postRender",function(){this.find("*").each(function(a){var b=a.name();b in c.data&&a.value(c.data[b])})}),g.features=c||{},g.params=e||{},1===b.length&&f.nodeChanged(),g=g.renderTo().reflow(),a(g),g};this.alert=function(b,e,m){var k;k=g.alert(b,function(){e?e.call(m||this):f.focus()});k.on("close",function(){d(k)});a(k)};this.confirm=function(b,e,f){var k;k=g.confirm(b,function(a){e.call(f||this,a)});k.on("close",function(){d(k)});a(k)};this.close=function(){e()&&
e().close()};this.getParams=function(){return e()?e().params:null};this.setParams=function(a){e()&&(e().params=a)};this.getWindows=function(){return b}}});z("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(m,g){return m.extend({Mixins:[g],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+
this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.getEl().lastChild.innerHTML=f.encode(e.value)}),f._super()},repaint:function(){var f,e;f=this.getEl().style;e=this._layoutRect;f.left=e.x+"px";f.top=e.y+"px";f.zIndex=131070}})});z("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(m,g){var f,e=m.extend({init:function(a){var d=this;d._super(a);a=d.settings;d.canFocus=!0;a.tooltip&&!1!==e.tooltips&&
(d.on("mouseenter",function(b){var c=d.tooltip().moveTo(-65535);b.control==d?(b=c.text(a.tooltip).show().testMoveRel(d.getEl(),["bc-tc","bc-tl","bc-tr"]),c.classes.toggle("tooltip-n","bc-tc"==b),c.classes.toggle("tooltip-nw","bc-tl"==b),c.classes.toggle("tooltip-ne","bc-tr"==b),c.moveRel(d.getEl(),b)):c.hide()}),d.on("mouseleave mousedown click",function(){d.tooltip().hide()}));d.aria("label",a.ariaLabel||a.tooltip)},tooltip:function(){return f||(f=new g({type:"tooltip"}),f.renderTo()),f},postRender:function(){var a=
this.settings;this._super();this.parent()||!a.width&&!a.height||(this.initLayoutRect(),this.repaint());a.autofocus&&this.focus()},bindStates:function(){function a(a){b.aria("disabled",a);b.classes.toggle("disabled",a)}function d(a){b.aria("pressed",a);b.classes.toggle("active",a)}var b=this;return b.state.on("change:disabled",function(b){a(b.value)}),b.state.on("change:active",function(a){d(a.value)}),b.state.get("disabled")&&a(!0),b.state.get("active")&&d(!0),b._super()},remove:function(){this._super();
f&&(f.remove(),f=null)}});return e});z("tinymce/ui/Progress",["tinymce/ui/Widget"],function(m){return m.extend({Defaults:{value:0},init:function(g){this._super(g);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(f){return Math.round(f)})},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+g+'bar-container"><div class="'+g+'bar"></div></div><div class="'+g+'text">0%</div></div>'},postRender:function(){return this._super(),
this.value(this.settings.value),this},bindStates:function(){function g(e){e=f.settings.filter(e);f.getEl().lastChild.innerHTML=e+"%";f.getEl().firstChild.firstChild.style.width=e+"%"}var f=this;return f.state.on("change:value",function(e){g(e.value)}),g(f.state.get("value")),f._super()}})});z("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(m,g,f,e){return m.extend({Mixins:[g],Defaults:{classes:"widget notification"},init:function(a){var d=
this;d._super(a);a.text&&d.text(a.text);a.icon&&(d.icon=a.icon);a.color&&(d.color=a.color);a.type&&d.classes.add("notification-"+a.type);a.timeout&&(0>a.timeout||0<a.timeout)&&!a.closeButton?d.closeButton=!1:(d.classes.add("has-close"),d.closeButton=!0);a.progressBar&&(d.progressBar=new f);d.on("click",function(a){-1!=a.target.className.indexOf(d.classPrefix+"close")&&d.close()})},renderHtml:function(){var a=this.classPrefix,d="",b="",c="",e="";return this.icon&&(d='<i class="'+a+"ico "+a+"i-"+this.icon+
'"></i>'),this.color&&(e=' style="background-color: '+this.color+'"'),this.closeButton&&(b='<button type="button" class="'+a+'close" aria-hidden="true">\u00d7</button>'),this.progressBar&&(c=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+e+' role="presentation">'+d+'<div class="'+a+'notification-inner">'+this.state.get("text")+"</div>"+c+b+"</div>"},postRender:function(){var a=this;return e.setTimeout(function(){a.$el.addClass(a.classPrefix+"in")}),a._super()},bindStates:function(){var a=
this;return a.state.on("change:text",function(d){a.getEl().childNodes[1].innerHTML=d.value}),a.progressBar&&a.progressBar.bindStates(),a._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var a,d;a=this.getEl().style;d=this._layoutRect;a.left=d.x+"px";a.top=d.y+"px";a.zIndex=131070}})});z("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(m,g){return function(f){function e(){if(0<a.length){var d=a.slice(0,
1)[0],b=f.inline?f.getElement():f.getContentAreaContainer();if(d.moveRel(b,"tc-tc"),1<a.length)for(d=1;d<a.length;d++)a[d].moveRel(a[d-1].getEl(),"bc-tc")}}var a=[];this.notifications=a;f.on("remove",function(){for(var d=a.length;d--;)a[d].close()});f.on("ResizeEditor",e);f.on("ResizeWindow",function(){g.requestAnimationFrame(function(){for(var d=0;d<a.length;d++)a[d].moveTo(0,0);e()})});this.open=function(d){var b;return f.editorManager.setActive(f),b=new m(d),a.push(b),0<d.timeout&&(b.timer=setTimeout(function(){b.close()},
d.timeout)),b.on("close",function(){var c=a.length;for(b.timer&&f.getWin().clearTimeout(b.timer);c--;)a[c]===b&&a.splice(c,1);e()}),b.renderTo(),e(),b};this.close=function(){a.length&&a[a.length-1]&&(a.length?a[a.length-1]:void 0).close()};this.getNotifications=function(){return a};f.on("SkinLoaded",function(){var a=f.settings.service_message;a&&f.notificationManager.open({text:a,type:"warning",timeout:0,icon:""})})}});z("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(m){return{create:function(g,
f,e){for(var a=[];f&&f!=g;f=f.parentNode)a.push(m.nodeIndex(f,e));return a},resolve:function(g,f){var e,a,d;a=g;for(e=f.length-1;0<=e;e--){if(d=a.childNodes,f[e]>d.length-1)return null;a=d[f[e]]}return a}}});z("tinymce/util/Quirks","tinymce/util/VK tinymce/dom/RangeUtils tinymce/dom/TreeWalker tinymce/dom/NodePath tinymce/html/Node tinymce/html/Entities tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/caret/CaretContainer".split(" "),function(m,g,f,e,a,d,b,c,l,q){return function(k){function n(a,
b){try{k.getDoc().execCommand(a,!1,b)}catch(c){}}function p(){var a=k.getDoc().documentMode;return a?a:6}function t(a){var b,c;a.dataTransfer&&(k.selection.isCollapsed()&&"IMG"==a.target.tagName&&V.select(a.target),b=k.selection.getContent(),0<b.length&&(c=la+escape(k.id)+","+escape(b),a.dataTransfer.setData(ma,c)))}function v(a){var b;return a.dataTransfer&&(b=a.dataTransfer.getData(ma),b&&0<=b.indexOf(la))?(b=b.substr(la.length).split(","),{id:unescape(b[0]),html:unescape(b[1])}):null}function B(a){k.queryCommandSupported("mceInsertClipboardContent")?
k.execCommand("mceInsertClipboardContent",!1,{content:a}):k.execCommand("mceInsertContent",!1,a)}function r(){function a(b){var c=u.schema.getBlockElements(),d=k.getBody();if("BR"!=b.nodeName)return!1;for(;b!=d&&!c[b.nodeName];b=b.parentNode)if(b.nextSibling)return!1;return!0}function b(a,c){var d;for(d=a.nextSibling;d&&d!=c;d=d.nextSibling)if((3!=d.nodeType||0!==da.trim(d.data).length)&&d!==c)return!1;return d===c}function d(b,c,e){var g;g=u.schema.getNonEmptyElements();for(b=new f(e||b,b);e=b[c?
"next":"prev"]();)if(g[e.nodeName]&&!a(e)||3==e.nodeType&&0<e.data.length)return e}function h(a,c){var e,f,l,m;if(!a.collapsed)return a;if(l=a.startContainer,m=a.startOffset,3==l.nodeType)if(c){if(m<l.data.length)return a}else if(0<m)return a;if(e=g.getNode(a.startContainer,a.startOffset),l=u.getParent(e,u.isBlock),f=d(k.getBody(),c,e),m=u.getParent(f,u.isBlock),!e||!f)return a;if(m&&l!=m)if(c){if(!b(l,m))return a;1==e.nodeType?"BR"==e.nodeName?a.setStartBefore(e):a.setStartAfter(e):a.setStart(e,
e.data.length);1==f.nodeType?a.setEnd(f,0):a.setEndBefore(f)}else{if(!b(m,l))return a;1==f.nodeType?"BR"==f.nodeName?a.setStartBefore(f):a.setStartAfter(f):a.setStart(f,f.data.length);1==e.nodeType?a.setEnd(e,0):a.setEndBefore(e)}return a}function r(a){var b=w.getRng(),b=h(b,a);a=b;var c,e,f,l,m;a=!a.collapsed&&(c=u.getParent(g.getNode(a.startContainer,a.startOffset),u.isBlock),e=u.getParent(g.getNode(a.endContainer,a.endOffset),u.isBlock),m=k.schema.getTextBlockElements(),c!=e&&m[c.nodeName]&&m[e.nodeName]&&
"false"!==u.getContentEditable(c)&&"false"!==u.getContentEditable(e))?(a.deleteContents(),f=d(c,!1),l=d(e,!0),u.isEmpty(e)||da(c).append(e.childNodes),da(e).remove(),f?1==f.nodeType?"BR"==f.nodeName?(a.setStartBefore(f),a.setEndBefore(f)):(a.setStartAfter(f),a.setEndAfter(f)):(a.setStart(f,f.data.length),a.setEnd(f,f.data.length)):l&&(1==l.nodeType?(a.setStartBefore(l),a.setEndBefore(l)):(a.setStart(l,0),a.setEnd(l,0))),w.setRng(a),!0):void 0;return a?!0:void 0}function n(a,b){function d(a,e){return v=
da(e).parents().filter(function(a,b){return!!k.schema.getTextInlineElements()[b.nodeName]}),l=a.cloneNode(!1),v=c.map(v,function(a){return a=a.cloneNode(!1),l.hasChildNodes()?(a.appendChild(l.firstChild),l.appendChild(a)):l.appendChild(a),l.appendChild(a),a}),v.length?(q=u.create("br"),v[0].appendChild(q),u.replace(l,a),b.setStartBefore(q),b.setEndBefore(q),k.selection.setRng(b),q):null}function f(a){return a&&k.schema.getTextBlockElements()[a.tagName]}var g,h,l,m,r,t,p,q,v;if(b.collapsed&&(t=b.startContainer,
p=b.startOffset,h=u.getParent(t,u.isBlock),f(h)))if(1==t.nodeType){if(t=t.childNodes[p],!t||"BR"==t.tagName)if(r=a?h.nextSibling:h.previousSibling,u.isEmpty(h)&&f(r)&&u.isEmpty(r)&&d(h,t))return u.remove(r),!0}else if(3==t.nodeType){if(g=e.create(h,t),m=h.cloneNode(!0),t=e.resolve(m,g),a){if(p>=t.data.length)return;t.deleteData(p,1)}else{if(0>=p)return;t.deleteData(p-1,1)}if(u.isEmpty(m))return d(h,t)}}function p(a){var b,d,e;r(a)||(c.each(k.getBody().getElementsByTagName("*"),function(a){"SPAN"==
a.tagName&&a.setAttribute("mce-data-marked",1);!a.hasAttribute("data-mce-style")&&a.hasAttribute("style")&&k.dom.setAttrib(a,"style",k.dom.getAttrib(a,"style"))}),b=new y(function(){}),b.observe(k.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),k.getDoc().execCommand(a?"ForwardDelete":"Delete",!1,null),d=k.selection.getRng(),e=d.startContainer.parentNode,c.each(b.takeRecords(),function(a){if(u.isChildOf(a.target,k.getBody())){if("style"==a.attributeName){var b=a.target.getAttribute("data-mce-style");
b?a.target.setAttribute("style",b):a.target.removeAttribute("style")}c.each(a.addedNodes,function(a){if("SPAN"==a.nodeName&&!a.getAttribute("mce-data-marked")){var b,c;a==e&&(b=d.startOffset,c=a.firstChild);u.remove(a,!0);c&&(d.setStart(c,b),d.setEnd(c,b),k.selection.setRng(d))}})}}),b.disconnect(),c.each(k.dom.select("span[mce-data-marked]"),function(a){a.removeAttribute("mce-data-marked")}))}var q=k.getDoc(),u=k.dom,w=k.selection,y=window.MutationObserver,x,Q;y||(x=!0,y=function(){function a(b){b=
b.relatedNode||b.target;c.push({target:b,addedNodes:[b]})}function b(a){c.push({target:a.relatedNode||a.target,attributeName:a.attrName})}var c=[],d;this.observe=function(c){d=c;d.addEventListener("DOMSubtreeModified",a,!1);d.addEventListener("DOMNodeInsertedIntoDocument",a,!1);d.addEventListener("DOMNodeInserted",a,!1);d.addEventListener("DOMAttrModified",b,!1)};this.disconnect=function(){d.removeEventListener("DOMSubtreeModified",a,!1);d.removeEventListener("DOMNodeInsertedIntoDocument",a,!1);d.removeEventListener("DOMNodeInserted",
a,!1);d.removeEventListener("DOMAttrModified",b,!1)};this.takeRecords=function(){return c}});k.on("keydown",function(a){var b=a.keyCode==aa,c=a.ctrlKey||a.metaKey;if(!a.isDefaultPrevented()&&(b||a.keyCode==Z)){var d=k.selection.getRng(),e=d.startContainer,f=d.startOffset;if(!b||!a.shiftKey){if(n(b,d))return void a.preventDefault();!c&&d.collapsed&&3==e.nodeType&&(b?f<e.data.length:0<f)||(a.preventDefault(),c&&k.selection.getSel().modify("extend",b?"forward":"backward",a.metaKey?"lineboundary":"word"),
p(b))}}});k.on("keypress",function(a){if(!a.isDefaultPrevented()&&!w.isCollapsed()&&31<a.charCode&&!m.metaKeyPressed(a)){var b,c,d,e,f;b=k.selection.getRng();f=String.fromCharCode(a.charCode);a.preventDefault();a=da(b.startContainer).parents().filter(function(a,b){return!!k.schema.getTextInlineElements()[b.nodeName]});p(!0);a=a.filter(function(a,b){return!da.contains(k.getBody(),b)});a.length?(c=u.createFragment(),a.each(function(a,b){b=b.cloneNode(!1);c.hasChildNodes()?(b.appendChild(c.firstChild),
c.appendChild(b)):(e=b,c.appendChild(b));c.appendChild(b)}),e.appendChild(k.getDoc().createTextNode(f)),d=u.getParent(b.startContainer,u.isBlock),u.isEmpty(d)?da(d).empty().append(c):b.insertNode(c),b.setStart(e.firstChild,1),b.setEnd(e.firstChild,1),k.selection.setRng(b)):k.selection.setContent(f)}});k.addCommand("Delete",function(){p()});k.addCommand("ForwardDelete",function(){p(!0)});x||(k.on("dragstart",function(a){Q=w.getRng();t(a)}),k.on("drop",function(a){if(!a.isDefaultPrevented()){var b=
v(a);b&&(a.preventDefault(),l.setEditorTimeout(k,function(){var c=g.getCaretRangeFromPoint(a.x,a.y,q);Q&&(w.setRng(Q),Q=null);p();w.setRng(c);B(b.html)}))}}),k.on("cut",function(a){a.isDefaultPrevented()||!a.clipboardData||k.selection.isCollapsed()||(a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/html",k.selection.getContent()),a.clipboardData.setData("text/plain",k.selection.getContent({format:"text"})),l.setEditorTimeout(k,function(){p(!0)}))}))}function h(){k.shortcuts.add("meta+a",
null,"SelectAll")}function A(){k.settings.content_editable||R.bind(k.getDoc(),"mousedown mouseup",function(a){var b;a.target==k.getDoc().documentElement&&((b=V.getRng(),k.getBody().focus(),"mousedown"==a.type)?q.isCaretContainer(b.startContainer)||V.placeCaretAt(a.clientX,a.clientY):V.setRng(b))})}function w(){k.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===Z&&k.getBody().getElementsByTagName("hr").length&&V.isCollapsed()&&0===V.getRng(!0).startOffset){var b=V.getNode(),c=b.previousSibling;
if("HR"==b.nodeName)return R.remove(b),void a.preventDefault();c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(R.remove(c),a.preventDefault())}})}function u(){window.Range.prototype.getClientRects||k.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=k.getBody();b.blur();l.setEditorTimeout(k,function(){b.focus()})}})}function C(){k.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&"false"!==R.getContentEditableParent(b)&&(a.preventDefault(),
V.getSel().setBaseAndExtent(b,0,b,1),k.nodeChanged());"A"==b.nodeName&&R.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),V.select(b))})}function y(){function a(){var b=R.getAttribs(V.getStart().cloneNode(!1));return function(){var a=V.getStart();a!==k.getBody()&&(R.setAttrib(a,"style",null),Q(b,function(b){a.setAttributeNode(b.cloneNode(!0))}))}}function b(){return!V.isCollapsed()&&R.getParent(V.getStart(),R.isBlock)!=R.getParent(V.getEnd(),R.isBlock)}k.on("keypress",function(c){var d;return c.isDefaultPrevented()||
8!=c.keyCode&&46!=c.keyCode||!b()?void 0:(d=a(),k.getDoc().execCommand("delete",!1,null),d(),c.preventDefault(),!1)});R.bind(k.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),l.setEditorTimeout(k,function(){d()}))})}function x(){k.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===Z&&V.isCollapsed()&&0===V.getRng(!0).startOffset){var b=V.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),!1}})}function z(){7<
p()||(n("RespectVisibilityInDesign",!0),k.contentStyles.push(".mceHideBrInPre pre br {display: none}"),R.addClass(k.getBody(),"mceHideBrInPre"),fa.addNodeFilter("pre",function(b){for(var c=b.length,d,e,f,g;c--;)for(d=b[c].getAll("br"),e=d.length;e--;)f=d[e],(g=f.prev)&&3===g.type&&"\n"!=g.value.charAt(g.value-1)?g.value+="\n":f.parent.insert(new a("#text",3),f,!0).value="\n"}),ha.addNodeFilter("pre",function(a){for(var b=a.length,c,d,e;b--;)for(c=a[b].getAll("br"),d=c.length;d--;)e=c[d],(e=e.prev)&&
3==e.type&&(e.value=e.value.replace(/\r?\n$/,""))}))}function E(){R.bind(k.getBody(),"mouseup",function(){var a,b=V.getNode();"IMG"==b.nodeName&&((a=R.getStyle(b,"width"))&&(R.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),R.setStyle(b,"width","")),(a=R.getStyle(b,"height"))&&(R.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),R.setStyle(b,"height","")))})}function N(){function a(){O();n("StyleWithCSS",!1);n("enableInlineTableEditing",!1);ea.object_resizing||n("enableObjectResizing",!1)}ea.readonly||
k.on("BeforeExecCommand MouseDown",a)}function H(){function a(){Q(R.select("a"),function(a){var b=a.parentNode,c=R.getRoot();if(b.lastChild===a){for(;b&&!R.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}R.add(b,"br",{"data-mce-bogus":1})}})}k.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function I(){ea.forced_root_block&&k.on("init",function(){n("DefaultParagraphSeparator",ea.forced_root_block)})}function J(){k.on("keydown",
function(a){var b;a.isDefaultPrevented()||a.keyCode!=Z||(b=k.getDoc().selection.createRange(),b&&b.item&&(a.preventDefault(),k.undoManager.beforeChange(),R.remove(b.item(0)),k.undoManager.add()))})}function F(){var a;10<=p()&&(a="",Q("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),k.contentStyles.push(a+"{padding-right: 1px !important}"))}function M(){9>p()&&(fa.addNodeFilter("noscript",function(a){for(var b=a.length,c,d;b--;)c=a[b],(d=c.firstChild)&&c.attr("data-mce-innertext",
d.value)}),ha.addNodeFilter("noscript",function(b){for(var c=b.length,e,f,g;c--;)e=b[c],(f=b[c].firstChild)?f.value=d.decode(f.value):(g=e.attributes.map["data-mce-innertext"],g&&(e.attr("data-mce-innertext",null),f=new a("#text",3),f.value=g,f.raw=!0,e.append(f)))}))}function S(){function a(b,c){var d=e.createTextRange();try{d.moveToPoint(b,c)}catch(f){d=null}return d}function b(d){var e;d.button?(e=a(d.x,d.y),e&&(0<e.compareEndPoints("StartToStart",g)?e.setEndPoint("StartToStart",g):e.setEndPoint("EndToEnd",
g),e.select())):c()}function c(){var a=d.selection.createRange();g&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&g.select();R.unbind(d,"mouseup",c);R.unbind(d,"mousemove",b);g=f=0}var d=R.doc,e=d.body,f,g,h;d.documentElement.unselectable=!0;R.bind(d,"mousedown contextmenu",function(e){"HTML"!==e.target.nodeName||(f&&c(),h=d.documentElement,h.scrollHeight>h.clientHeight)||(f=1,(g=a(e.x,e.y))&&(R.bind(d,"mouseup",c),R.bind(d,"mousemove",b),R.getRoot().focus(),g.select()))})}function K(){k.on("keyup focusin mouseup",
function(a){65==a.keyCode&&m.metaKeyPressed(a)||V.normalize()},!0)}function P(){k.inline||k.on("keydown",function(){document.activeElement==document.body&&k.getWin().focus()})}function U(){k.inline||(k.contentStyles.push("body {min-height: 150px}"),k.on("click",function(a){if("HTML"==a.target.nodeName){if(11<b.ie)return void k.getBody().focus();a=k.selection.getRng();k.getBody().focus();k.selection.setRng(a);k.selection.normalize();k.nodeChanged()}}))}function D(){b.mac&&k.on("keydown",function(a){!m.metaKeyPressed(a)||
a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),k.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary"))})}function G(){k.on("click",function(a){var b=a.target;do if("A"===b.tagName)return void a.preventDefault();while(b=b.parentNode)});k.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function T(){k.on("init",function(){k.dom.bind(k.getBody(),"submit",function(a){a.preventDefault()})})}function W(){fa.addNodeFilter("br",function(a){for(var b=
a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function Y(){k.on("dragstart",function(a){t(a)});k.on("drop",function(a){if(!a.isDefaultPrevented()){var b=v(a);b&&b.id!=k.id&&(a.preventDefault(),a=g.getCaretRangeFromPoint(a.x,a.y,k.getDoc()),V.setRng(a),B(b.html))}})}function O(){var a,b;ca()&&(a=k.getBody(),b=a.parentNode,b.removeChild(a),b.appendChild(a),a.focus())}function ca(){var a;return ga?(a=k.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}var Q=c.each,
da=k.$,Z=m.BACKSPACE,aa=m.DELETE,R=k.dom,V=k.selection,ea=k.settings,fa=k.parser,ha=k.serializer,ga=b.gecko,X=b.ie,ia=b.webkit,la="data:text/mce-internal,",ma=X?"Text":"URL";(function(){k.on("keydown",function(a){var b,c,d,e,f;if(!a.isDefaultPrevented()&&a.keyCode==m.BACKSPACE&&(b=V.getRng(),c=b.startContainer,d=b.startOffset,e=R.getRoot(),f=c,b.collapsed&&0===d)){for(;f&&f.parentNode&&f.parentNode.firstChild==f&&f.parentNode!=e;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(k.formatter.toggle("blockquote",
null,f),b=R.createRng(),b.setStart(c,0),b.setEnd(c,0),V.setRng(b))}})})();(function(){function a(b){var c=R.create("body");b=b.cloneContents();return c.appendChild(b),V.serializer.serialize(c,{format:"html"})}k.on("keydown",function(b){var c=b.keyCode,d,e;if(!b.isDefaultPrevented()&&(c==aa||c==Z)&&(d=k.selection.isCollapsed(),e=k.getBody(),!d||R.isEmpty(e))){if(c=!d)c=k.selection.getRng(),c.setStart?(c=a(c),d=R.createRng(),d.selectNode(k.getBody()),d=a(d),c=c===d):c.item?c=!1:(d=c.duplicate(),c=(d.moveToElementText(k.getBody()),
g.compareRanges(c,d))),c=!c;c||(b.preventDefault(),k.setContent(""),e.firstChild&&R.isBlock(e.firstChild)?k.selection.setCursorLocation(e.firstChild,0):k.selection.setCursorLocation(e,0),k.nodeChanged())}})})();b.windowsPhone||K();ia&&(r(),A(),C(),I(),T(),x(),W(),b.iOS?(P(),U(),G()):h());X&&11>b.ie&&(w(),document.body.setAttribute("role","application"),z(),E(),J(),F(),M(),S());11<=b.ie&&(U(),x());b.ie&&(h(),n("AutoUrlDetect",!1),Y());ga&&(w(),u(),y(),N(),H(),k.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),
D(),x());return{refreshContentEditable:O,isHidden:ca}}});z("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(m,g,f){function e(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(b)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=d.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function a(a,f){var g=e(a,f),k;(a.delegates||(a.delegates={}),a.delegates[f])||
(a.settings.event_root?(b||(b={},a.editorManager.on("removeEditor",function(){var d;if(!a.editorManager.activeEditor&&b){for(d in b)a.dom.unbind(e(a,d));b=null}})),b[f])||(k=function(b){for(var e=b.target,g=a.editorManager.editors,k=g.length;k--;){var m=g[k].getBody();if(m=m===e||d.isChildOf(e,m))m=g[k],m=!m.hidden&&!m.readonly;m&&g[k].fire(f,b)}},b[f]=k,d.bind(g,f,k)):(k=function(b){a.hidden||a.readonly||a.fire(f,b)},d.bind(g,f,k),a.delegates[f]=k))}var d=g.DOM,b;g={bindPendingEventDelegates:function(){var b=
this;f.each(b._pendingNativeEvents,function(d){a(b,d)})},toggleNativeEvent:function(b,d){"focus"!=b&&"blur"!=b&&(d?this.initialized?a(this,b):this._pendingNativeEvents?this._pendingNativeEvents.push(b):this._pendingNativeEvents=[b]:this.initialized&&(this.dom.unbind(e(this,b),b,this.delegates[b]),delete this.delegates[b]))},unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(e(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=
null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());this.dom.unbind(this.getContainer())}};return g=f.extend({},m,g)});z("tinymce/Mode",[],function(){function m(e,a,d){try{e.getDoc().execCommand(a,!1,d)}catch(b){}}function g(e){var a,d;return a=e.getBody(),d=function(a){0<e.dom.getParents(a.target,"a").length&&a.preventDefault()},e.dom.bind(a,"click",d),{unbind:function(){e.dom.unbind(a,"click",d)}}}function f(e,a){e._clickBlocker&&(e._clickBlocker.unbind(),
e._clickBlocker=null);a?(e._clickBlocker=g(e),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,m(e,"StyleWithCSS",!1),m(e,"enableInlineTableEditing",!1),m(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}return{setMode:function(e,a){a!=(e.readonly?"readonly":"design")&&(e.initialized?f(e,"readonly"==a):e.on("init",function(){f(e,"readonly"==a)}),e.fire("SwitchMode",{mode:a}))}}});z("tinymce/Shortcuts",
["tinymce/util/Tools","tinymce/Env"],function(m,g){var f=m.each,e=m.explode,a={f9:120,f10:121,f11:122},d=m.makeMap("alt,ctrl,shift,meta,access");return function(b){function c(b){var c,l={};f(e(b,"+"),function(b){b in d?l[b]=!0:/^[0-9]{2,}$/.test(b)?l.keyCode=parseInt(b,10):(l.charCode=b.charCodeAt(0),l.keyCode=a[b]||b.toUpperCase().charCodeAt(0))});b=[l.keyCode];for(c in d)l[c]?b.push(c):l[c]=!1;return l.id=b.join(","),l.access&&(l.alt=!0,g.mac?l.ctrl=!0:l.shift=!0),l.meta&&(g.mac?l.meta=!0:(l.ctrl=
!0,l.meta=!1)),l}function l(a,d,f,g){var h;return h=m.map(e(a,">"),c),h[h.length-1]=m.extend(h[h.length-1],{func:f,scope:g||b}),m.extend(h[0],{desc:b.translate(d),subpatterns:h.slice(1)})}function q(a,b){return b?b.ctrl!=a.ctrlKey||b.meta!=a.metaKey?!1:b.alt!=a.altKey||b.shift!=a.shiftKey?!1:a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode?(a.preventDefault(),!0):!1:!1}function k(a){return a.func?a.func.call(a.scope):null}var n={},p=[];b.on("keyup keypress keydown",function(a){!(a.altKey||
a.ctrlKey||a.metaKey||112<=a.keyCode&&123>=a.keyCode)||a.isDefaultPrevented()||(f(n,function(b){return q(a,b)?(p=b.subpatterns.slice(0),"keydown"==a.type&&k(b),!0):void 0}),q(a,p[0])&&(1===p.length&&"keydown"==a.type&&k(p[0]),p.shift()))});this.add=function(a,c,d,g){var h;return h=d,"string"==typeof d?d=function(){b.execCommand(h,!1,null)}:m.isArray(h)&&(d=function(){b.execCommand(h[0],h[1],h[2])}),f(e(m.trim(a.toLowerCase())),function(a){a=l(a,c,d,g);n[a.id]=a}),!0};this.remove=function(a){a=l(a);
return n[a.id]?(delete n[a.id],!0):!1}}});z("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(m,g,f){return function(e){function a(a){var b,c;return c={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},b=c[a.blob().type.toLowerCase()]||"dat",a.id()+"."+b}function d(b,c,d,f){var g,l;g=new XMLHttpRequest;g.open("POST",e.url);g.withCredentials=e.credentials;l=f();g.upload.onprogress=function(a){l.progressBar.value(Math.round(a.loaded/
a.total*100))};g.onerror=function(){l.close();d("Image upload failed due to a XHR Transport error. Code: "+g.status)};g.onload=function(){var a;l.close();var b;200!=g.status?b=void d("HTTP Error: "+g.status):(a=JSON.parse(g.responseText))&&"string"==typeof a.location?(b=e.basePath,a=a.location,b=b?b.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a,b=void c(b)):b=void d("Invalid JSON: "+g.responseText);return b};f=new FormData;f.append("file",b.blob(),a(b));g.send(f)}function b(){return new m(function(a){a([])})}
function c(a){return a.then(function(a){return a})["catch"](function(a){return a})}function l(a,b){return g.map(a,function(a){var d=a.id();k[d]?d=k[d]:(a=b(a),a=c(a),d=(delete k[d],k[d]=a,a));return d})}function q(b,c){var d=l(b,function(b){return new m(function(d){var g=e.handler;try{g({id:b.id,blob:b.blob,base64:b.base64,filename:f.constant(a(b))},function(a){d({url:a,blobInfo:b,status:!0})},function(a){d({url:"",blobInfo:b,status:!1,error:a})},c)}catch(h){d({url:"",blobInfo:b,status:!1,error:h.message})}})});
return m.all(d)}var k={};return e=g.extend({credentials:!1,handler:d},e),{upload:function(a,c){return e.url||e.handler!==d?q(a,c):b()}}}});z("tinymce/file/Conversions",["tinymce/util/Promise"],function(m){function g(a){return new m(function(d){var b=new XMLHttpRequest;b.open("GET",a,!0);b.responseType="blob";b.onload=function(){200==this.status&&d(this.response)};b.send()})}function f(a){var d,b;return a=decodeURIComponent(a).split(","),b=/data:([^;]+)/.exec(a[0]),b&&(d=b[1]),{type:d,data:a[1]}}function e(a){return new m(function(d){var b,
c,e;a=f(a);try{b=atob(a.data)}catch(g){return void d(new Blob([]))}c=new Uint8Array(b.length);for(e=0;e<c.length;e++)c[e]=b.charCodeAt(e);d(new Blob([c],{type:a.type}))})}return{uriToBlob:function(a){return 0===a.indexOf("blob:")?g(a):0===a.indexOf("data:")?e(a):null},blobToDataUri:function(a){return new m(function(d){var b=new FileReader;b.onloadend=function(){d(b.result)};b.readAsDataURL(a)})},parseDataUri:f}});z("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun",
"tinymce/file/Conversions","tinymce/Env"],function(m,g,f,e,a){var d=0;return function(b){var c={};return{findAll:function(l,q){function k(a,c){var f,g;return 0===a.src.indexOf("blob:")?(g=b.getByUri(a.src),void(g&&c({image:a,blobInfo:g}))):(f=e.parseDataUri(a.src).data,g=b.findFirst(function(a){return a.base64()===f}),void(g?c({image:a,blobInfo:g}):e.uriToBlob(a.src).then(function(e){var g="blobid"+d++;e=b.create(g,e,f);b.add(e);c({image:a,blobInfo:e})})))}var n,p;return q||(q=f.constant(!0)),n=g.filter(l.getElementsByTagName("img"),
function(b){var c=b.src;return a.fileApi?b.hasAttribute("data-mce-bogus")?!1:b.hasAttribute("data-mce-placeholder")?!1:c&&c!=a.transparentSrc?0===c.indexOf("blob:")?!0:0===c.indexOf("data:")?q(b):!1:!1:!1}),p=g.map(n,function(a){var b;return c[a.src]?new m(function(b){c[a.src].then(function(c){b({image:a,blobInfo:c.blobInfo})})}):(b=(new m(function(b){k(a,b)})).then(function(a){return delete c[a.image.src],a})["catch"](function(b){return delete c[a.src],b}),c[a.src]=b,b)}),m.all(p)}}}});z("tinymce/file/BlobCache",
["tinymce/util/Arr","tinymce/util/Fun"],function(m,g){return function(){function f(a){return e(function(c){return c.id()===a})}function e(b){return m.filter(a,b)[0]}var a=[],d=g.constant;return{create:function(a,c,e){return{id:d(a),blob:d(c),base64:d(e),blobUri:d(URL.createObjectURL(c))}},add:function(b){f(b.id())||a.push(b)},get:f,getByUri:function(a){return e(function(c){return c.blobUri()==a})},findFirst:e,destroy:function(){m.each(a,function(a){URL.revokeObjectURL(a.blobUri())});a=[]}}}});z("tinymce/EditorUpload",
["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(m,g,f,e){return function(a){function d(b){return function(c){return a.selection?b(c):[]}}function b(a,b,c){var d=0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function c(c,d){m.each(a.undoManager.data,function(a){var e,f=a.content;e=(f=b(f,'src="'+c+'"','src="'+d+'"'),b(f,'data-mce-src="'+c+'"','data-mce-src="'+d+'"'));
a.content=e})}function l(){return a.notificationManager.open({text:a.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function q(b){return v||(v=new g({url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})),n().then(d(function(e){var f;return f=m.map(e,function(a){return a.blobInfo}),v.upload(f,l).then(d(function(d){return d=m.map(d,function(b,d){var f=e[d].image;return b.status&&(c(f.src,b.url),
a.$(f).attr({src:b.url,"data-mce-src":a.convertURL(b.url,"src")})),{element:f,status:b.status}}),b&&b(d),d}))}))}function k(a){return!1!==r.automatic_uploads?q(a):void 0}function n(){return B||(B=new f(t)),B.findAll(a.getBody(),r.images_dataimg_filter).then(d(function(a){return m.each(a,function(a){c(a.image.src,a.blobInfo.blobUri());a.image.src=a.blobInfo.blobUri()}),a}))}function p(b){return b.replace(/src="(blob:[^"]+)"/g,function(b,c){var d=t.getByUri(c);return d||(d=m.reduce(a.editorManager.editors,
function(a,b){return a||b.editorUpload.blobCache.getByUri(c)},null)),d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':b})}var t=new e,v,B,r=a.settings;return a.on("setContent",function(){!1!==a.settings.automatic_uploads?k():n()}),a.on("RawSaveContent",function(a){a.content=p(a.content)}),a.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=p(a.content))}),{blobCache:t,uploadImages:q,uploadImagesAuto:k,scanForImages:n,destroy:function(){t.destroy();B=v=null}}}});z("tinymce/caret/FakeCaret",
"tinymce/caret/CaretContainer tinymce/caret/CaretPosition tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/dom/DomQuery tinymce/geom/ClientRect tinymce/util/Delay".split(" "),function(m,g,f,e,a,d,b){var c=f.isContentEditableFalse;return function(e,f){function g(){var b,c,d,f,k;b=a("*[contentEditable=false]",e);for(f=0;f<b.length;f++)c=b[f],d=c.previousSibling,m.endsWithCaretContainer(d)&&(k=d.data,1==k.length?d.parentNode.removeChild(d):d.deleteData(k.length-1,1)),d=c.nextSibling,m.startsWithCaretContainer(d)&&
(k=d.data,1==k.length?d.parentNode.removeChild(d):d.deleteData(0,1));v&&(m.remove(v),v=null);t&&(t.remove(),t=null);clearInterval(p)}function n(){p=b.setInterval(function(){a("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}var p,t,v;return{show:function(b,r){var h,p;g();var w;if(f(r)){v=m.insertBlock("p",r,b);var u;u=d.collapse(r.getBoundingClientRect(),b);var z,y,x,L;u=("BODY"==e.tagName?(w=e.ownerDocument.documentElement,z=e.scrollLeft||w.scrollLeft,y=e.scrollTop||w.scrollTop):
(L=e.getBoundingClientRect(),z=e.scrollLeft-L.left,y=e.scrollTop-L.top),u.left+=z,u.right+=z,u.top+=y,u.bottom+=y,u.width=1,x=r.offsetWidth-r.clientWidth,0<x&&(b&&(x*=-1),u.left+=x,u.right+=x),u);w=(a(v).css("top",u.top),t=a('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(e),b&&t.addClass("mce-visual-caret-before"),n(),h=r.ownerDocument.createRange(),p=v.firstChild,h.setStart(p,0),h.setEnd(p,1),h)}else w=(v=m.insertInline(r,b),h=r.ownerDocument.createRange(),c(v.nextSibling)?
(h.setStart(v,0),h.setEnd(v,0)):(h.setStart(v,1),h.setEnd(v,1)),h);return w},hide:g,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){b.clearInterval(p)}}}});z("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(m,g,f){function e(a){function d(b){return m.map(b,
function(b){return b=f.clone(b),b.node=a,b})}if(m.isArray(a))return m.reduce(a,function(a,b){return a.concat(e(b))},[]);if(g.isElement(a))return d(a.getClientRects());if(g.isText(a)){var b=a.ownerDocument.createRange();return b.setStart(a,0),b.setEnd(a,a.data.length),d(b.getClientRects())}}return{getClientRects:e}});z("tinymce/caret/LineWalker","tinymce/util/Fun tinymce/util/Arr tinymce/dom/Dimensions tinymce/caret/CaretCandidate tinymce/caret/CaretUtils tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/geom/ClientRect".split(" "),
function(m,g,f,e,a,d,b,c){function l(b,c,d,f){for(;(f=a.findNode(f,b,e.isEditableCaretCandidate,c))&&!d(f););}function q(a,b,c,d,e,h){function k(d){var h,l;l=f.getClientRects(d);-1==a&&(l=l.reverse());for(d=0;d<l.length;d++)if(h=l[d],!c(h,y)){if(0<q.length&&b(h,g.last(q))&&m++,h.line=m,e(h))return!0;q.push(h)}}var m=0,n,q=[],y;return(y=g.last(h.getClientRects()))?(n=h.getNode(),k(n),l(a,d,k,n),q):q}m=m.curry;var k=m(q,-1,c.isAbove,c.isBelow),n=m(q,1,c.isBelow,c.isAbove);return{upUntil:k,downUntil:n,
positionsUntil:function(a,e,f,l){var k=new d(e),h,m,q,n;e=[];var z=0,y;1==a?(h=k.next,m=c.isBelow,q=c.isAbove,n=b.after(l)):(h=k.prev,m=c.isAbove,q=c.isBelow,n=b.before(l));a=g.last(n.getClientRects());do if(n.isVisible()&&(y=g.last(n.getClientRects()),!q(y,a))){if(0<e.length&&m(y,g.last(e))&&z++,y=c.clone(y),y.position=n,y.line=z,f(y))break;e.push(y)}while(n=h(n));return e},isAboveLine:m(function(a,b){return b.line>a}),isLine:m(function(a,b){return b.line===a})}});z("tinymce/caret/LineUtils","tinymce/util/Fun tinymce/util/Arr tinymce/dom/NodeType tinymce/dom/Dimensions tinymce/geom/ClientRect tinymce/caret/CaretUtils tinymce/caret/CaretCandidate".split(" "),
function(m,g,f,e,a,d,b){function c(a,b){return g.reduce(a,function(a,c){var d,e;return d=Math.min(Math.abs(a.left-b),Math.abs(a.right-b)),e=Math.min(Math.abs(c.left-b),Math.abs(c.right-b)),b>=c.left&&b<=c.right?c:b>=a.left&&b<=a.right?a:e==d&&k(c.node)?c:d>e?c:a})}function l(a,c,d,e){for(;(e=n(e,a,b.isEditableCaretCandidate,c))&&!d(e););}function q(b,c){function d(a,b){var l;return l=g.filter(e.getClientRects(b),function(b){return!a(b,c)}),f=f.concat(l),0===l.length}var f=[];return f.push(c),l(-1,
b,p(d,a.isAbove),c.node),l(1,b,p(d,a.isBelow),c.node),f}var k=f.isContentEditableFalse,n=d.findNode,p=m.curry;return{findClosestClientRect:c,findLineNodeRects:q,closestCaret:function(a,b,d){var f,h;return f=e.getClientRects(g.filter(g.toArray(a.getElementsByTagName("*")),k)),f=g.filter(f,function(a){return d>=a.top&&d<=a.bottom}),h=c(f,b),h&&(h=c(q(a,h),b),h&&k(h.node))?{node:h.node,before:Math.abs(h.left-b)<Math.abs(h.right-b)}:null}}});z("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr",
"tinymce/util/Fun"],function(m,g,f){var e=m.isContentEditableFalse,a=m.isContentEditableTrue;return{init:function(d){function b(a){return a==v.element||d.dom.isChildOf(a,v.element)?!1:!e(a)}function c(a){var b,c,e,f=0,g=0,l,m,n;0===a.button&&(b=a.screenX-v.screenX,c=a.screenY-v.screenY,e=Math.max(Math.abs(b),Math.abs(c)),!v.dragging&&10<e&&(v.dragging=!0,k(d.getBody()).css("cursor","default"),v.clone=v.element.cloneNode(!0),e=t.getPos(v.element),v.relX=v.clientX-e.x,v.relY=v.clientY-e.y,v.width=v.element.offsetWidth,
v.height=v.element.offsetHeight,k(v.clone).css({width:v.width,height:v.height}).removeAttr("data-mce-selected"),v.ghost=k("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:v.width,height:v.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(v.clone).appendTo(d.getBody())[0],e=d.dom.getViewPort(d.getWin()),v.maxX=e.w,v.maxY=e.h),v.dragging&&(d.selection.placeCaretAt(a.clientX,a.clientY),l=v.clientX+b-v.relX,
m=v.clientY+c+5,l+v.width>v.maxX&&(f=l+v.width-v.maxX),m+v.height>v.maxY&&(g=m+v.height-v.maxY),n="BODY"!=d.getBody().nodeName?d.getBody().getBoundingClientRect():{left:0,top:0},k(v.ghost).css({left:l-n.left,top:m-n.top,width:v.width-f,height:v.height-g})))}function l(){var a;if(v.dragging&&(d.selection.setRng(d.selection.getSel().getRangeAt(0)),b(d.selection.getNode()))){var c=v.element;if(a=d.fire("drop",{targetClone:c}),a.isDefaultPrevented())return;c=a.targetClone;d.undoManager.transact(function(){d.insertContent(t.getOuterHTML(c));
k(v.element).remove()})}m()}function m(){k(v.ghost).remove();k(d.getBody()).css("cursor",null);d.off("mousemove",c);d.off("mouseup",m);n!=p&&(t.unbind(n,"mousemove",c),t.unbind(n,"mouseup",m));v={}}var k=d.$,n=document,p=d.getDoc(),t=d.dom,v={};d.on("mousedown",function(b){var k,h;(m(),0===b.button&&(k=g.find(d.dom.getParents(b.target),f.or(e,a)),e(k)))&&(h=d.fire("dragstart",{target:k}),!h.isDefaultPrevented())&&(d.on("mousemove",c),d.on("mouseup",l),n!=p&&(t.bind(n,"mousemove",c),t.bind(n,"mouseup",
l)),v={screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,element:k})});d.on("drop",function(a){var b=d.getDoc().elementFromPoint(a.clientX,a.clientY);(e(b)||e(d.dom.getContentEditableParent(b)))&&a.preventDefault()})}}});z("tinymce/SelectionOverrides","tinymce/Env tinymce/caret/CaretWalker tinymce/caret/CaretPosition tinymce/caret/CaretContainer tinymce/caret/CaretUtils tinymce/caret/FakeCaret tinymce/caret/LineWalker tinymce/caret/LineUtils tinymce/dom/NodeType tinymce/dom/RangeUtils tinymce/geom/ClientRect tinymce/util/VK tinymce/util/Fun tinymce/util/Arr tinymce/util/Delay tinymce/DragDropOverrides tinymce/text/Zwsp".split(" "),
function(m,g,f,e,a,d,b,c,l,q,k,n,p,t,v,B,r){function h(a,b){for(;(b=a(b))&&!b.isVisible(););return b}var A=p.curry,w=l.isContentEditableTrue,u=l.isContentEditableFalse,z=l.isElement,y=a.isAfterContentEditableFalse,x=a.isBeforeContentEditableFalse,L=q.getSelectedNode;return function(q){function N(a){return q.dom.isBlock(a)}function H(a){a&&q.selection.setRng(a)}function I(a,b,c){q.fire("ShowCaret",{target:b,direction:a,before:c}).isDefaultPrevented()?a=null:(q.selection.scrollIntoView(b,-1===a),a=
V.show(c,b));return a}function J(a){V.hide();if(q.fire("BeforeObjectSelected",{target:a}).isDefaultPrevented())a=null;else{var b=a.ownerDocument.createRange();a=(b.selectNode(a),b)}return a}function F(b,c){return c=a.normalizeRange(b,da,c),-1==b?f.fromRangeStart(c):f.fromRangeEnd(c)}function M(a,b){var c,d;b.collapsed&&q.settings.forced_root_block&&(c=q.dom.getParent(b.startContainer,"PRE"),c)&&(d=1==a?aa(f.fromRangeStart(b)):R(f.fromRangeStart(b)),d||(d=q.dom.create(q.settings.forced_root_block),
d=((!m.ie||11<=m.ie)&&(d.innerHTML='<br data-mce-bogus="1">'),d),1==a?q.$(c).after(d):q.$(c).before(d),q.selection.select(d,!0),q.selection.collapse()))}function S(b,c,d,f){var g,h,k;if(!f.collapsed&&(h=L(f),u(h)))h=I(b,h,-1==b);else if(k=e.isCaretContainerBlock(f.startContainer),h=F(b,f),d(h))h=J(h.getNode(-1==b));else if(h=c(h))if(d(h))h=I(b,h.getNode(-1==b),1==b);else{c=c(h);if(d=d(c)){d=h;var m=a.isInSameBlock(d,c);d=!m&&l.isBr(d.getNode())?!0:m}h=d?I(b,c.getNode(-1==b),1==b):k?D(h.toRange()):
null}else h=k?f:null;return(g=h)?g:(g=M(b,f),g?g:null)}function K(a,d,e){var f,g;a:{var h,l,k,m,q,n,p;if(p=L(e),h=F(a,e),l=d(da,b.isAboveLine(1),h),d=t.filter(l,b.isLine(1)),k=t.last(h.getClientRects()),x(h)&&(p=h.getNode()),y(h)&&(p=h.getNode(!0)),k)if(m=k.left,g=c.findClosestClientRect(d,m),g&&u(g.node))g=(q=Math.abs(m-g.left),n=Math.abs(m-g.right),I(a,g.node,n>q));else{if(p){q=b.positionsUntil(a,da,b.isAboveLine(1),p);if(g=c.findClosestClientRect(t.filter(q,b.isLine(1)),m)){g=D(g.position.toRange());
break a}if(g=t.last(t.filter(q,b.isLine(0)))){g=D(g.position.toRange());break a}}g=void 0}else g=null}return(f=g)?f:(f=M(a,e),f?f:null)}function P(a){a=ha(a);a.attr("data-mce-caret")&&(V.hide(),a.removeAttr("data-mce-caret"),a.removeAttr("data-mce-bogus"),a.removeAttr("style"),H(q.selection.getRng()),q.selection.scrollIntoView(a[0],void 0))}function U(b){var c,d;return b=a.normalizeRange(1,da,b),c=f.fromRangeStart(b),u(c.getNode())?I(1,c.getNode(),!c.isAtEnd()):u(c.getNode(!0))?I(1,c.getNode(!0),
!1):(d=q.dom.getParent(c.getNode(),p.or(u,w)),u(d)?I(1,d,!1):(V.hide(),null))}function D(a){var b;return a&&a.collapsed?(b=U(a),b?b:a):a}function G(a){var b,c,d,g;return u(a)?(u(a.previousSibling)&&(d=a.previousSibling),c=R(f.before(a)),c||(b=aa(f.after(a))),b&&z(b.getNode())&&(g=b.getNode()),e.remove(a.previousSibling),e.remove(a.nextSibling),q.dom.remove(a),Q(),q.dom.isEmpty(q.getBody())?(q.setContent(""),void q.focus()):d?f.after(d).toRange():g?f.before(g).toRange():c?c.toRange():b?b.toRange():
null):null}function T(a,b,c){var d=q.dom,e,f,g;if(-1===a){if(y(c)&&N(c.getNode(!0)))return G(c.getNode(!0))}else if(x(b)&&N(b.getNode()))return G(b.getNode());if(g=q.schema.getTextBlockElements(),e=d.getParent(b.getNode(),d.isBlock),f=d.getParent(c.getNode(),d.isBlock),e===f||!g[e.nodeName]||!g[f.nodeName])return null;for(;a=e.firstChild;)f.appendChild(a);return q.dom.remove(e),c.toRange()}function W(a,b,c){var d,e,f;return!c.collapsed&&(d=L(c),u(d))?D(G(d)):(e=F(a,c),b(e)?D(G(e.getNode(-1==a))):
(f=-1==a?Z.prev(e):Z.next(e),b(f)?-1===a?T(a,e,f):T(a,f,e):void 0))}function Y(){function a(b,c){var d=c(q.selection.getRng());d&&!b.isDefaultPrevented()&&(b.preventDefault(),H(d))}function d(a){for(var b=q.getBody();a&&a!=b;){if(w(a)||u(a))return a;a=a.parentNode}return null}function e(a,b,c){return c.collapsed?!1:t.reduce(c.getClientRects(),function(c,d){return c||k.containsXY(d,a,b)},!1)}function g(){var a,b=d(q.selection.getNode());w(b)&&N(b)&&q.dom.isEmpty(b)&&(a=q.dom.create("br",{"data-mce-bogus":"1"}),
q.$(b).empty().append(a),q.selection.setRng(f.before(a).toRange()))}var h=A(S,1,aa,x),l=A(S,-1,R,y),m=A(W,1,x),p=A(W,-1,y),r=A(K,-1,b.upUntil),z=A(K,1,b.downUntil);q.on("mouseup",function(){var a=q.selection.getRng();a.collapsed&&H(U(a))});q.on("click",function(a){var b;(b=d(a.target))&&u(b)&&a.preventDefault()});q.on("mousedown",function(a){var b;(b=d(a.target))?u(b)?(a.preventDefault(),ca(J(b))):(Q(),e(a.clientX,a.clientY,q.selection.getRng())||q.selection.placeCaretAt(a.clientX,a.clientY)):(Q(),
V.hide(),(b=c.closestCaret(da,a.clientX,a.clientY))&&(a.preventDefault(),q.getBody().focus(),H(I(1,b.node,b.before))))});q.on("keydown",function(b){if(!n.modifierPressed(b))switch(b.keyCode){case n.RIGHT:a(b,h);break;case n.DOWN:a(b,z);break;case n.LEFT:a(b,l);break;case n.UP:a(b,r);break;case n.DELETE:a(b,m);break;case n.BACKSPACE:a(b,p);break;default:u(q.selection.getNode())&&b.preventDefault()}});q.on("keyup compositionstart",function(a){var b=ha("*[data-mce-caret]")[0];b&&("compositionstart"==
a.type?(a.preventDefault(),a.stopPropagation(),P(b)):"&nbsp;"!=b.innerHTML&&P(b));var c;switch(a.keyCode){case n.DELETE:c=g();break;case n.BACKSPACE:c=g()}c&&a.preventDefault()},!0);q.on("cut",function(){var a=q.selection.getNode();u(a)&&v.setEditorTimeout(q,function(){H(D(G(a)))})});q.on("getSelectionRange",function(a){var b=a.range;if(fa){if(!fa.parentNode)return void(fa=null);b=b.cloneRange();b.selectNode(fa);a.range=b}});q.on("setSelectionRange",function(a){var b;(b=ca(a.range))&&(a.range=b)});
q.on("focus",function(){v.setEditorTimeout(q,function(){q.selection.setRng(D(q.selection.getRng()))},0)});B.init(q)}function O(){var a=q.contentStyles;a.push(V.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100px;height: 100px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}function ca(a){var b,c=q.$,d=q.dom,f,g,h,l,k,n,p,t,v;if(!a)return Q(),null;if(a.collapsed){Q();
b=a;if(!e.isCaretContainer(b.startContainer)&&!e.isCaretContainer(b.endContainer)){if(p=F(1,a),u(p.getNode()))return I(1,p.getNode(),!p.isAtEnd());if(u(p.getNode(!0)))return I(1,p.getNode(!0),!1)}return null}return h=a.startContainer,l=a.startOffset,k=a.endOffset,3==h.nodeType&&0==l&&u(h.parentNode)&&(h=h.parentNode,l=d.nodeIndex(h),h=h.parentNode),1!=h.nodeType?(Q(),null):(k==l+1&&(b=h.childNodes[l]),u(b)?(t=v=b.cloneNode(!0),n=q.fire("ObjectSelected",{target:b,targetClone:t}),n.isDefaultPrevented()?
(Q(),null):(t=n.targetClone,f=c("#"+ea),0===f.length&&(f=c('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ea),f.appendTo(q.getBody())),a=q.dom.createRng(),t===v&&m.ie?(f.empty().append(r.ZWSP).append(t).append(r.ZWSP),a.setStart(f[0].firstChild,0),a.setEnd(f[0].lastChild,1)):(f.empty().append("\u00a0").append(t).append("\u00a0"),a.setStart(f[0].firstChild,1),a.setEnd(f[0].lastChild,0)),f.css({top:d.getPos(b,q.getBody()).y}),q.getBody().focus(),f[0].focus(),g=q.selection.getSel(),
g.removeAllRanges(),g.addRange(a),q.$("*[data-mce-selected]").removeAttr("data-mce-selected"),b.setAttribute("data-mce-selected",1),fa=b,a)):(Q(),null))}function Q(){fa&&(fa.removeAttribute("data-mce-selected"),q.$("#"+ea).remove(),fa=null)}var da=q.getBody(),Z=new g(da),aa=A(h,Z.next),R=A(h,Z.prev),V=new d(q.getBody(),N),ea="sel-"+q.dom.uniqueId(),fa,ha=q.$;return m.ceFalse&&(Y(),O()),{showBlockCaretContainer:P,destroy:function(){V.destroy();fa=null}}}});z("tinymce/Editor","tinymce/dom/DOMUtils tinymce/dom/DomQuery tinymce/AddOnManager tinymce/NodeChange tinymce/html/Node tinymce/dom/Serializer tinymce/html/Serializer tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EnterKey tinymce/ForceBlocks tinymce/EditorCommands tinymce/util/URI tinymce/dom/ScriptLoader tinymce/dom/EventUtils tinymce/WindowManager tinymce/NotificationManager tinymce/html/Schema tinymce/html/DomParser tinymce/util/Quirks tinymce/Env tinymce/util/Tools tinymce/util/Delay tinymce/EditorObservable tinymce/Mode tinymce/Shortcuts tinymce/EditorUpload tinymce/SelectionOverrides".split(" "),
function(m,g,f,e,a,d,b,c,l,q,k,n,p,t,v,B,r,h,A,w,u,z,y,x,L,E,N,H,I){function J(a,b,c){var d=this,e,h,l;e=d.documentBaseUrl=c.documentBaseURL;h=c.baseURI;l=c.defaultSettings;b=K({id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",
font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
validate:!0,entity_encoding:"named",url_converter:d.convertURL,url_converter_scope:d,ie7_compat:!0},l,b);l&&l.external_plugins&&b.external_plugins&&(b.external_plugins=K({},l.external_plugins,b.external_plugins));d.settings=b;f.language=b.language||"en";f.languageLoad=b.language_load;f.baseURL=c.baseURL;d.id=b.id=a;d.setDirty(!1);d.plugins={};d.documentBaseURI=new t(b.document_base_url||e,{base_uri:h});d.baseURI=h;d.contentCSS=[];d.contentStyles=[];d.shortcuts=new N(d);d.loadedCSS={};d.editorCommands=
new p(d);b.target&&(d.targetElm=b.target);d.suffix=c.suffix;d.editorManager=c;d.inline=b.inline;b.cache_suffix&&(z.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));!1===b.override_viewport&&(z.overrideViewPort=!1);c.fire("SetupEditor",d);d.execCallback("setup",d);d.$=g.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})}var F=m.DOM,M=f.ThemeManager,S=f.PluginManager,K=y.extend,P=y.each,U=y.explode,D=y.inArray,G=y.trim,T=y.resolve,W=B.Event,Y=z.gecko,
O=z.ie;return J.prototype={render:function(){function a(){F.unbind(window,"ready",a);c.render()}function b(){var a=v.ScriptLoader;if(d.language&&"en"!=d.language&&!d.language_url&&(d.language_url=c.editorManager.baseURL+"/langs/"+d.language+".js"),d.language_url&&a.add(d.language_url),d.theme&&"function"!=typeof d.theme&&"-"!=d.theme.charAt(0)&&!M.urls[d.theme]){var e=d.theme_url,e=e?c.documentBaseURI.toAbsolute(e):"themes/"+d.theme+"/theme"+f+".js";M.load(d.theme,e)}y.isArray(d.plugins)&&(d.plugins=
d.plugins.join(" "));P(d.external_plugins,function(a,b){S.load(b,a);d.plugins+=" "+b});P(d.plugins.split(/[ ,]/),function(a){if(a=G(a),a&&!S.urls[a])"-"==a.charAt(0)?(a=a.substr(1,a.length),a=S.dependencies(a),P(a,function(a){a=S.createUrl({prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"},a);S.load(a.resource,a)})):S.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+f+".js"})});a.loadQueue(function(){c.removed||c.init()})}var c=this,d=c.settings,e=c.id,f=c.suffix;if(!W.domLoaded)return void F.bind(window,
"ready",a);if(c.getElement()&&z.contentEditable){d.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility="hidden");var g=c.getElement().form||F.getParent(e,"form");g&&(c.formElement=g,d.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(F.insertAfter(F.create("input",{type:"hidden",name:e}),e),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},F.bind(g,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,
{format:"raw"})}),!d.submit_patch||g.submit.nodeType||g.submit.length||g._mceOldSubmit||(g._mceOldSubmit=g.submit,g.submit=function(){return c.editorManager.triggerSave(),c.setDirty(!1),g._mceOldSubmit(g)}));c.windowManager=new r(c);c.notificationManager=new h(c);"xml"==d.encoding&&c.on("GetContent",function(a){a.save&&(a.content=F.encode(a.content))});d.add_form_submit_trigger&&c.on("submit",function(){c.initialized&&c.save()});d.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||
c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));b()}},init:function(){function a(c){var d=S.get(c),e;(e=S.urls[c]||b.documentBaseUrl.replace(/\/$/,""),c=G(c),d&&-1===D(q,c))&&(P(S.dependencies(c),function(b){a(b)}),!b.plugins[c])&&(d=new d(b,e,b.$),b.plugins[c]=d,d.init&&(d.init(b,e),q.push(c)))}var b=this,c=b.settings,d=b.getElement(),e,f,g,h,l,k,m,q=[];if(this.editorManager.i18n.setCode(c.language),b.rtl=c.rtl_ui||this.editorManager.i18n.rtl,
b.editorManager.add(b),c.aria_label=c.aria_label||F.getAttrib(d,"aria-label",b.getLang("aria.rich_text_area")),c.theme&&("function"!=typeof c.theme?(c.theme=c.theme.replace(/-/,""),l=M.get(c.theme),b.theme=new l(b,M.urls[c.theme]),b.theme.init&&b.theme.init(b,M.urls[c.theme]||b.documentBaseUrl.replace(/\/$/,""),b.$)):b.theme=c.theme),P(c.plugins.replace(/\-/g,"").split(/[ ,]/),a),c.render_ui&&b.theme&&(b.orgDisplay=d.style.display,"function"!=typeof c.theme?(e=c.width||d.style.width||d.offsetWidth,
f=c.height||d.style.height||d.offsetHeight,g=c.min_height||100,m=/^[0-9\.]+(|px)$/i,m.test(""+e)&&(e=Math.max(parseInt(e,10),100)),m.test(""+f)&&(f=Math.max(parseInt(f,10),g)),h=b.theme.renderUI({targetNode:d,width:e,height:f,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(f=(h.iframeHeight||f)+("number"==typeof f?h.deltaHeight||0:""),g>f&&(f=g))):(h=c.theme(b,d),h.editorContainer.nodeType&&(h.editorContainer=h.editorContainer.id=h.editorContainer.id||b.id+"_parent"),h.iframeContainer.nodeType&&
(h.iframeContainer=h.iframeContainer.id=h.iframeContainer.id||b.id+"_iframecontainer"),f=h.iframeHeight||d.offsetHeight),b.editorContainer=h.editorContainer),c.content_css&&P(U(c.content_css),function(a){b.contentCSS.push(b.documentBaseURI.toAbsolute(a))}),c.content_style&&b.contentStyles.push(c.content_style),c.content_editable)return d=f=h=null,b.initContentBody();if(b.iframeHTML=c.doctype+"<html><head>",c.document_base_url!=b.documentBaseUrl&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+
'" />'),!z.caretAfter&&c.ie7_compat&&(b.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<b.contentCSS.length;d++)e=b.contentCSS[d],b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+y._addCacheSuffix(e)+'" />',b.loadedCSS[e]=!0;d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=b.getParam("body_id","","hash"),d=d[b.id]||d);e=c.body_class||"";-1!=
e.indexOf("=")&&(e=b.getParam("body_class","","hash"),e=e[b.id]||"");c.content_security_policy&&(b.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+c.content_security_policy+'" />');b.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+e+'" data-id="'+b.id+'"><br></body></html>';c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';
document.domain!=location.hostname&&z.ie&&12>z.ie&&(k=c);var n=F.create("iframe",{id:b.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:b.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:f,display:"block"}});if(n.onload=function(){n.onload=null;b.fire("load")},F.setAttrib(n,"src",k||'javascript:""'),b.contentAreaContainer=h.iframeContainer,b.iframeElement=n,f=F.add(h.iframeContainer,n),O)try{b.getDoc()}catch(p){f.src=
k=c}h.editorContainer&&(F.get(h.editorContainer).style.display=b.orgDisplay,b.hidden=F.isHidden(h.editorContainer));b.getElement().style.display="none";F.setAttrib(b.id,"aria-hidden",!0);k||b.initContentBody();d=f=h=null},initContentBody:function(b){var f=this,g=f.settings,h=f.getElement(),p=f.getDoc(),r;g.inline||(f.getElement().style.visibility=f.orgVisibility);b||g.content_editable||(p.open(),p.write(f.iframeHTML),p.close());g.content_editable&&(f.on("remove",function(){var a=this.getBody();F.removeClass(a,
"mce-content-body");F.removeClass(a,"mce-edit-focus");F.setAttrib(a,"contentEditable",null)}),F.addClass(h,"mce-content-body"),f.contentDocument=p=g.content_document||document,f.contentWindow=g.content_window||window,f.bodyElement=h,g.content_document=g.content_window=null,g.root_name=h.nodeName.toLowerCase());b=f.getBody();b.disabled=!0;f.readonly=g.readonly;f.readonly||(f.inline&&"static"==F.getStyle(b,"position",!0)&&(b.style.position="relative"),b.contentEditable=f.getParam("content_editable_state",
!0));b.disabled=!1;f.editorUpload=new H(f);f.schema=new A(g);f.dom=new m(p,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:f.inline?f.getBody():null,collect:g.content_editable,schema:f.schema,onSetAttrib:function(a){f.fire("SetAttrib",a)}});f.parser=new w(g,f.schema);f.parser.addAttributeFilter("src,href,style,tabindex",function(a,b){for(var c=a.length,d,e=f.dom,g,h;c--;)(d=a[c],g=d.attr(b),
h="data-mce-"+b,d.attributes.map[h])||0===g.indexOf("data:")||0===g.indexOf("blob:")||("style"===b?(g=e.serializeStyle(e.parseStyle(g),d.name),g.length||(g=null),d.attr(h,g),d.attr(b,g)):"tabindex"===b?(d.attr(h,g),d.attr(b,null)):d.attr(h,f.convertURL(g,b,d.name)))});f.parser.addNodeFilter("script",function(a){for(var b=a.length,c,d;b--;)c=a[b],d=c.attr("type")||"no/type",0!==d.indexOf("mce-")&&c.attr("type","mce-"+d)});f.parser.addNodeFilter("#cdata",function(a){for(var b=a.length,c;b--;)c=a[b],
c.type=8,c.name="#comment",c.value="[CDATA["+c.value+"]]"});f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c=b.length,d,e=f.schema.getNonEmptyElements();c--;)d=b[c],d.isEmpty(e)&&(d.append(new a("br",1)).shortEnded=!0)});f.serializer=new d(g,f);f.selection=new c(f.dom,f.getWin(),f.serializer,f);f.formatter=new l(f);f.undoManager=new q(f);f.forceBlocks=new n(f);f.enterKey=new k(f);f._nodeChangeDispatcher=new e(f);f._selectionOverrides=new I(f);f.fire("PreInit");g.browser_spellcheck||
g.gecko_spellcheck||(p.body.spellcheck=!1,F.setAttrib(b,"spellcheck","false"));f.quirks=new u(f);f.fire("PostRender");g.directionality&&(b.dir=g.directionality);g.nowrap&&(b.style.whiteSpace="nowrap");g.protect&&f.on("BeforeSetContent",function(a){P(g.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});f.on("SetContent",function(){f.addVisual(f.getBody())});g.padd_empty_editor&&f.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,
"")});f.load({initial:!0,format:"html"});f.startContent=f.getContent({format:"raw"});f.initialized=!0;f.bindPendingEventDelegates();f.fire("init");f.focus(!0);f.nodeChanged({initial:!0});f.execCallback("init_instance_callback",f);f.on("compositionstart compositionend",function(a){f.composing="compositionstart"===a.type});0<f.contentStyles.length&&(r="",P(f.contentStyles,function(a){r+=a+"\r\n"}),f.dom.addStyle(r));P(f.contentCSS,function(a){f.loadedCSS[a]||(f.dom.loadCSS(a),f.loadedCSS[a]=!0)});g.auto_focus&&
x.setEditorTimeout(f,function(){var a;a=!0===g.auto_focus?f:f.editorManager.get(g.auto_focus);a.destroyed||a.focus()},100);h=p=b=null},focus:function(a){function b(a){return c.dom.getParent(a,function(a){return"true"===c.dom.getContentEditable(a)})}var c=this,d=c.selection,e=c.settings.content_editable,f,g,h=c.getDoc(),l=c.getBody(),k;if(!a){if(f=d.getRng(),f.item&&(g=f.item(0)),c.quirks.refreshContentEditable(),k=b(d.getNode()),c.$.contains(l,k))return k.focus(),d.normalize(),void c.editorManager.setActive(c);
if(e||(z.opera||c.getBody().focus(),c.getWin().focus()),Y||e){if(l.setActive)try{l.setActive()}catch(m){l.focus()}else l.focus();e&&d.normalize()}g&&g.ownerDocument==h&&(f=h.body.createControlRange(),f.addElement(g),f.select())}c.editorManager.setActive(c)},execCallback:function(a){var b=this.settings[a],c;if(b)return this.callbackLookup&&(c=this.callbackLookup[a])&&(b=c.func,c=c.scope),"string"==typeof b&&(c=b.replace(/\.\w+$/,""),c=c?T(c):0,b=T(b),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]=
{func:b,scope:c}),b.apply(c||this,Array.prototype.slice.call(arguments,1))},translate:function(a){var b=this.settings.language||"en",c=this.editorManager.i18n;return a?(a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"}),this.editorManager.translate(a)):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==ba?b:"{#"+a+"}")},getParam:function(a,b,c){a=a in this.settings?this.settings[a]:b;var d;return"hash"===
c?(d={},"string"==typeof a?P(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");1<a.length?d[G(a[0])]=G(a[1]):d[G(a[0])]=G(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});
c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,b){var c=this,d;c.contextToolbars=c.contextToolbars||[];"string"==typeof a&&(d=a,a=function(a){return c.dom.is(a,d)});c.contextToolbars.push({predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,
b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(F.show(this.getContainer()),F.hide(this.id)),this.load(),
this.fire("show"))},hide:function(){var a=this.getDoc();this.hidden||(O&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(F.hide(this.getContainer()),F.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b=
this.getElement(),c;return b?(a=a||{},a.load=!0,c=this.setContent(b.value!==ba?b.value:b.innerHTML,a),a.element=b,a.no_events||this.fire("LoadContent",a),a.element=null,c):void 0},save:function(a){var b=this,c=b.getElement(),d,e;if(c&&b.initialized)return a=a||{},a.save=!0,a.element=c,d=a.content=b.getContent(a),a.no_events||b.fire("SaveContent",a),"raw"==a.format&&b.fire("RawSaveContent",a),d=a.content,/TEXTAREA|INPUT/i.test(c.nodeName)?c.value=d:(b.inline||(c.innerHTML=d),(e=F.getParent(b.id,"form"))&&
P(e.elements,function(a){return a.name==b.id?(a.value=d,!1):void 0})),a.element=c=null,!1!==a.set_dirty&&b.setDirty(!1),d},setContent:function(a,c){var d=this.getBody(),e,f;return c=c||{},c.format=c.format||"html",c.set=!0,c.content=a,c.no_events||this.fire("BeforeSetContent",c),a=c.content,0===a.length||/^\s+$/.test(a)?(f=O&&11>O?"":'<br data-mce-bogus="1">',"TABLE"==d.nodeName?a="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(d.nodeName)&&(a="<li>"+f+"</li>"),e=this.settings.forced_root_block,e&&this.schema.isValidChild(d.nodeName.toLowerCase(),
e.toLowerCase())?(a=f,a=this.dom.createHTML(e,this.settings.forced_root_block_attrs,a)):O||a||(a='<br data-mce-bogus="1">'),this.dom.setHTML(d,a),this.fire("SetContent",c)):("raw"!==c.format&&(a=(new b({validate:this.validate},this.schema)).serialize(this.parser.parse(a,{isRootContent:!0}))),c.content=G(a),this.dom.setHTML(d,c.content),c.no_events||this.fire("SetContent",c)),c.content},getContent:function(a){var b,c=this.getBody();return a=a||{},a.format=a.format||"html",a.get=!0,a.getInner=!0,a.no_events||
this.fire("BeforeGetContent",a),b="raw"==a.format?this.serializer.getTrimmedContent():"text"==a.format?c.innerText||c.textContent:this.serializer.serialize(c,a),"text"!=a.format?a.content=G(b):a.content=b,a.no_events||this.fire("GetContent",a),a.content},insertContent:function(a,b){b&&(a=K({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a;a&&a!=b&&this.fire("dirty")},setMode:function(a){E.setMode(this,
a)},getContainer:function(){return this.container||(this.container=F.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=F.get(this.id)),this.targetElm},getWin:function(){var a;return this.contentWindow||(a=this.iframeElement,a&&(this.contentWindow=a.contentWindow)),this.contentWindow},getDoc:function(){var a;return this.contentDocument||(a=this.getWin(),a&&(this.contentDocument=
a.document)),this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,d.remove_script_host)},addVisual:function(a){var b=this,c=b.settings,d=b.dom,e;a=a||b.getBody();b.hasVisual===
ba&&(b.hasVisual=c.visual);P(d.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":return e=c.visual_table_class||"mce-item-table",f=d.getAttrib(a,"border"),void(f&&"0"!=f||!b.hasVisual?d.removeClass(a,e):d.addClass(a,e));case "A":return void(d.getAttrib(a,"href",!1)||(f=d.getAttrib(a,"name")||a.id,e=c.visual_anchor_class||"mce-item-anchor",f&&b.hasVisual?d.addClass(a,e):d.removeClass(a,e)))}});b.fire("VisualAid",{element:a,hasVisual:b.hasVisual})},remove:function(){this.removed||
(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&F.remove(this.getElement().nextSibling),this.inline||(O&&10>O&&this.getDoc().execCommand("SelectAll",!1,null),F.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),F.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},destroy:function(a){if(!this.destroyed){if(!a&&!this.removed)return void this.remove();
a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());(a=this.formElement)&&(a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),F.unbind(a,"submit reset",this.formEventDelegate));this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=
this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},K(J.prototype,L),J});z("tinymce/util/I18n",[],function(){var m={},g="en";return{setCode:function(f){f&&(g=f,this.rtl=this.data[f]?"rtl"===this.data[f]._dir:!1)},getCode:function(){return g},rtl:!1,add:function(f,e){var a=m[f];a||(m[f]=a={});for(var d in e)a[d]=e[d];this.setCode(f)},
translate:function(f){var e;if(e=m[g],e||(e={}),"undefined"==typeof f)return f;if("string"!=typeof f&&f.raw)return f.raw;if(f.push){var a=f.slice(1);f=(e[f[0]]||f[0]).replace(/\{([0-9]+)\}/g,function(d,b){return a[b]})}return(e[f]||f).replace(/{context:\w+}$/,"")},data:m}});z("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(m,g,f){function e(l){function m(){try{return document.activeElement}catch(a){return document.body}}l.on("AddEditor",function(k){var n=
k.editor;n.on("init",function(){(n.inline||f.ie)&&("onbeforedeactivate"in document&&9>f.ie?n.dom.bind(n.getBody(),"beforedeactivate",function(a){if(a.target==n.getBody())try{n.lastRng=n.selection.getRng()}catch(b){}}):n.on("nodechange mouseup keyup",function(a){var b=m();"nodechange"==a.type&&a.selectionChange||(b&&b.id==n.id+"_ifr"&&(b=n.getBody()),n.dom.isChildOf(b,n.getBody())&&(n.lastRng=n.selection.getRng()))}),f.webkit&&!a&&(a=function(){var a=l.activeEditor;a&&a.selection&&(a=a.selection.getRng())&&
!a.collapsed&&(n.lastRng=a)},c.bind(document,"selectionchange",a)))});n.on("setcontent",function(){n.lastRng=null});n.on("mousedown",function(){n.selection.lastFocusBookmark=null});n.on("focusin",function(){var a=l.focusedEditor,b;if(n.selection.lastFocusBookmark){b=n.selection.lastFocusBookmark;var c;b=(b.startContainer?(c=n.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b,c);n.selection.lastFocusBookmark=null;n.selection.setRng(b)}a!=n&&
(a&&a.fire("blur",{focusedEditor:n}),l.setActive(n),l.focusedEditor=n,n.fire("focus",{blurredEditor:a}),n.focus(!0));n.lastRng=null});n.on("focusout",function(){g.setEditorTimeout(n,function(){var a=l.focusedEditor;c.getParent(m(),e.isEditorUIElement)||a!=n||(n.fire("blur",{focusedEditor:null}),l.focusedEditor=null,n.selection&&(n.selection.lastFocusBookmark=null))})});d||(d=function(a){var b=l.activeEditor;a=a.target;if(b&&a.ownerDocument==document){if(b.selection&&a!=b.getBody()){var d=b.selection,
f;f=b.dom;var g=b.lastRng;f=g&&g.startContainer?f.isChildOf(g.startContainer,f.getRoot())&&f.isChildOf(g.endContainer,f.getRoot())?{startContainer:g.startContainer,startOffset:g.startOffset,endContainer:g.endContainer,endOffset:g.endOffset}:void 0:g;d.lastFocusBookmark=f}a==document.body||c.getParent(a,e.isEditorUIElement)||l.focusedEditor!=b||(b.fire("blur",{focusedEditor:null}),l.focusedEditor=null)}},c.bind(document,"focusin",d));n.inline&&!b&&(b=function(a){var b=l.activeEditor;b.inline&&!b.dom.isChildOf(a.target,
b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},c.bind(document,"mouseup",b))});l.on("RemoveEditor",function(e){l.focusedEditor==e.editor&&(l.focusedEditor=null);l.activeEditor||(c.unbind(document,"selectionchange",a),c.unbind(document,"focusin",d),c.unbind(document,"mouseup",b),a=d=b=null)})}var a,d,b,c=m.DOM;return e.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")},e});z("tinymce/EditorManager","tinymce/Editor tinymce/dom/DomQuery tinymce/dom/DOMUtils tinymce/util/URI tinymce/Env tinymce/util/Tools tinymce/util/Promise tinymce/util/Observable tinymce/util/I18n tinymce/FocusManager".split(" "),
function(m,g,f,e,a,d,b,c,l,q){function k(a){r(u.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function n(a,b){b!==C&&(b?g(window).on("resize scroll",k):g(window).off("resize scroll",k),C=b)}function p(a){var b=u.editors,c;delete b[a.id];for(var d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);c=!0;break}return u.activeEditor==a&&(u.activeEditor=b[0]),u.focusedEditor==a&&(u.focusedEditor=null),c}function t(a){return a&&!(a.getContainer()||a.getBody()).parentNode&&
(p(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0,a=null),a}var v=f.DOM,B=d.explode,r=d.each,h=d.extend,z=0,w,u,C=!1;return u={$:g,majorVersion:"4",minorVersion:"3.12",releaseDate:"2016-05-10",editors:[],i18n:l,activeEditor:null,setup:function(){var a,b,c="",d,f;if(b=e.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||(b+="/")),d=window.tinymce||window.tinyMCEPreInit)a=d.base||d.baseURL,c=d.suffix;
else{d=document.getElementsByTagName("script");for(var g=0;g<d.length;g++){f=d[g].src;var h=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=h.indexOf(".min")&&(c=".min");a=f.substring(0,f.lastIndexOf("/"));break}}!a&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(c=".min"),a=f.substring(0,f.lastIndexOf("/")))}this.baseURL=(new e(b)).toAbsolute(a);this.documentBaseURL=b;this.baseURI=new e(this.baseURL);this.suffix=c;this.focusManager=
new q(this)},overrideDefaults:function(a){var b;(b=a.base_url)&&(this.baseURL=(new e(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new e(this.baseURL));(b=a.suffix)&&(this.suffix=b);this.defaultSettings=a},init:function(a){function c(a){var b=a.id;return b||(b=a.name,b=b&&!v.get(b)?a.name:v.uniqueId(),a.setAttribute("id",b)),b}function e(b){var c=a[b];if(c)return c.apply(q,Array.prototype.slice.call(arguments,2))}function f(a,b){return b.constructor===RegExp?b.test(a.className):
v.hasClass(a,b)}function l(a){var b,c=[];if(a.types)return r(a.types,function(a){c=c.concat(v.select(a.selector))}),c;if(a.selector)return v.select(a.selector);if(a.target)return[a.target];switch(a.mode){case "exact":b=a.elements||"";0<b.length&&r(B(b),function(a){var b;(b=v.get(a))?c.push(b):r(document.forms,function(b){r(b.elements,function(b){b.name===a&&(a="mce_editor_"+z++,v.setAttrib(b,"id",a),c.push(b))})})});break;case "textareas":case "specific_textareas":r(v.select("textarea"),function(b){a.editor_deselector&&
f(b,a.editor_deselector)||a.editor_selector&&!f(b,a.editor_selector)||c.push(b)})}return c}function k(){function b(a,c,d){t(q.get(a))||(a=new m(a,c,q),n.push(a),a.on("init",function(){++f===u.length&&p(n)}),a.targetElm=a.targetElm||d,a.render())}var f=0,n=[],u;return v.unbind(window,"ready",k),e("onpageload"),u=g.unique(l(a)),a.types?void r(a.types,function(e){d.each(u,function(d){return v.is(d,e.selector)?(b(c(d),h({},a,e),d),!1):!0})}):void r(u,function(d){b(c(d),a,d)})}var q=this,n,p=function(a){n=
a};return q.settings=a,v.bind(window,"ready",k),new b(function(a){n?a(n):p=function(b){a(b)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(a){var b=this,c=b.editors;return c[a.id]=a,c.push(a),n(c,!0),b.activeEditor=a,b.fire("AddEditor",{editor:a}),w||(w=function(){b.fire("BeforeUnload")},v.bind(window,"beforeunload",w)),a},createEditor:function(a,b){return this.add(new m(a,b,this))},remove:function(a){var b=this,c=b.editors,d;if(a)return"string"==
typeof a?(a=a.selector||a,void r(v.select(a),function(a){(d=c[a.id])&&b.remove(d)})):(d=a,c[d.id]?(p(d)&&b.fire("RemoveEditor",{editor:d}),c.length||v.unbind(window,"beforeunload",w),d.remove(),n(c,0<c.length),d):null);for(a=c.length-1;0<=a;a--)b.remove(c[a])},execCommand:function(a,b,c){var d=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new m(c,this.settings,this)).render(),!0;case "mceRemoveEditor":return d&&d.remove(),!0;case "mceToggleEditor":return d?(d.isHidden()?d.show():
d.hide(),!0):(this.execCommand("mceAddEditor",0,c),!0)}return this.activeEditor?this.activeEditor.execCommand(a,b,c):!1},triggerSave:function(){r(this.editors,function(a){a.save()})},addI18n:function(a,b){l.add(a,b)},translate:function(a){return l.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",{relatedTarget:b}));this.activeEditor=a}},h(u,c),u.setup(),window.tinymce=window.tinyMCE=u,u});z("tinymce/LegacyInput",
["tinymce/EditorManager","tinymce/util/Tools"],function(m,g){var f=g.each,e=g.explode;m.on("AddEditor",function(a){var d=a.editor;d.on("preInit",function(){function a(b,c){f(c,function(a,c){a&&k.setStyle(b,c,a)});k.rename(b,"span")}function c(a){k=d.dom;n.convert_fonts_to_spans&&f(k.select("font,u,strike",a.node),function(a){g[a.nodeName.toLowerCase()](k,a)})}var g,m,k,n=d.settings;n.inline_styles&&(m=e(n.font_size_legacy_values),g={font:function(c,d){a(d,{backgroundColor:d.style.backgroundColor,
color:d.color,fontFamily:d.face,fontSize:m[parseInt(d.size,10)-1]})},u:function(c,e){"html4"===d.settings.schema&&a(e,{textDecoration:"underline"})},strike:function(c,d){a(d,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",c))})})});z("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(m,g){var f={send:function(e){function a(){!e.async||4==d.readyState||1E4<b++?(e.success&&1E4>b&&200==d.status?e.success.call(e.success_scope,""+d.responseText,d,e):e.error&&e.error.call(e.error_scope,
1E4<b?"TIMED_OUT":"GENERAL",d,e),d=null):setTimeout(a,10)}var d,b=0;e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=!1!==e.async;e.data=e.data||"";f.fire("beforeInitialize",{settings:e});d=new XMLHttpRequest;if(d.overrideMimeType&&d.overrideMimeType(e.content_type),d.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(d.withCredentials=!0),e.content_type&&d.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&g.each(e.requestheaders,
function(a){d.setRequestHeader(a.key,a.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d=f.fire("beforeSend",{xhr:d,settings:e}).xhr,d.send(e.data),!e.async)return a();setTimeout(a,10)}};return g.extend(f,m),f});z("tinymce/util/JSON",[],function(){function m(g,f){var e,a,d,b;if(f=f||'"',null===g)return"null";if(d=typeof g,"string"==d)return a="\bb\tt\nn\ff\rr\"\"''\\\\",f+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(b,d){return'"'===f&&"'"===b?b:(e=a.indexOf(d),e+1?"\\"+
a.charAt(e+1):(b=d.charCodeAt().toString(16),"\\u"+"0000".substring(b.length)+b))})+f;if("object"==d){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){e=0;for(a="[";e<g.length;e++)a+=(0<e?",":"")+m(g[e],f);return a+"]"}a="{";for(b in g)g.hasOwnProperty(b)&&(a+="function"!=typeof g[b]?(1<a.length?","+f:f)+b+f+":"+m(g[b],f):"");return a+"}"}return""+g}return{serialize:m,parse:function(g){try{return window[String.fromCharCode(101)+"val"]("("+g+")")}catch(f){}}}});z("tinymce/util/JSONRequest",
["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(m,g,f){function e(d){this.settings=a({},d);this.count=0}var a=f.extend;return e.sendRPC=function(a){return(new e).send(a)},e.prototype={send:function(d){var b=d.error,c=d.success;d=a(this.settings,d);d.success=function(a,e){a=m.parse(a);"undefined"==typeof a&&(a={error:"JSON Parse error."});a.error?b.call(d.error_scope||d.scope,a.error,e):c.call(d.success_scope||d.scope,a.result)};d.error=function(a,c){b&&b.call(d.error_scope||
d.scope,a,c)};d.data=m.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";g.send(d)}},e});z("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(m){return{callbacks:{},count:0,send:function(g){var f=this,e=m.DOM,a=g.count!==ba?g.count:f.count,d="tinymce_jsonp_"+a;f.callbacks[a]=function(b){e.remove(d);delete f.callbacks[a];g.callback(b)};e.add(e.doc.body,"script",{id:d,src:g.url,type:"text/javascript"});f.count++}}});z("tinymce/util/LocalStorage",
[],function(){function m(){d=[];for(var b in a)d.push(b);f.length=d.length}function g(){var d,f="";if(c){for(var g in a)d=a[g],f+=(f?",":"")+g.length.toString(32)+","+g+","+d.length.toString(32)+","+d;e.setAttribute(b,f);try{e.save(b)}catch(n){}m()}}var f,e,a,d,b,c;try{if(window.localStorage)return localStorage}catch(l){}return b="tinymce",e=document.documentElement,c=!!e.addBehavior,c&&e.addBehavior("#default#userData"),f={key:function(a){return d[a]},getItem:function(b){return b in a?a[b]:null},
setItem:function(b,c){a[b]=""+c;g()},removeItem:function(b){delete a[b];g()},clear:function(){a={};g()}},function(){function d(a){var b,c;return c=a!==ba?p+a:g.indexOf(",",p),-1===c||c>g.length?null:(b=g.substring(p,c),p=c+1,b)}var f,g,n,p=0;if(a={},c){e.load(b);g=e.getAttribute(b)||"";do{n=d();if(null===n)break;if(f=d(parseInt(n,32)||0),null!==f){if(n=d(),null===n)break;n=d(parseInt(n,32)||0);f&&(a[f]=n)}}while(null!==f);m()}}(),f});z("tinymce/Compat","tinymce/dom/DOMUtils tinymce/dom/EventUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/util/Tools tinymce/Env".split(" "),
function(m,g,f,e,a,d){var b=window.tinymce;return b.DOM=m.DOM,b.ScriptLoader=f.ScriptLoader,b.PluginManager=e.PluginManager,b.ThemeManager=e.ThemeManager,b.dom=b.dom||{},b.dom.Event=g.Event,a.each(a,function(a,d){b[d]=a}),a.each(["isOpera","isWebKit","isIE","isGecko","isMac"],function(a){b[a]=d[a.substr(2).toLowerCase()]}),{}});z("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(m,g){return m.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=
g.extend({},this.Defaults,f)},preRender:function(f){f.bodyClasses.add(this.settings.containerClass)},applyClasses:function(f){var e=this.settings,a,d,b,c;a=e.firstControlClass;d=e.lastControlClass;f.each(function(f){f.classes.remove(a).remove(d).add(e.controlClass);f.visible()&&(b||(b=f),c=f)});b&&b.classes.add(a);c&&c.classes.add(d)},renderHtml:function(f){var e="";return this.applyClasses(f.items()),f.items().each(function(a){e+=a.renderHtml()}),e},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});
z("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(m){return m.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(g){g.items().filter(":visible").each(function(f){var e=f.settings;f.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});f.recalc&&f.recalc()})},renderHtml:function(g){return'<div id="'+g._id+'-absend" class="'+g.classPrefix+'abs-end"></div>'+this._super(g)}})});z("tinymce/ui/Button",["tinymce/ui/Widget"],function(m){return m.extend({Defaults:{classes:"widget btn",
role:"button"},init:function(g){var f=this,e;f._super(g);g=f.settings;e=f.settings.size;f.on("click mousedown",function(a){a.preventDefault()});f.on("touchstart",function(a){f.fire("click",a);a.preventDefault()});g.subtype&&f.classes.add(g.subtype);e&&f.classes.add("btn-"+e);g.icon&&f.icon(g.icon)},icon:function(g){return arguments.length?(this.state.set("icon",g),this):this.state.get("icon")},repaint:function(){var g=this.getEl().firstChild,f;g&&(f=g.style,f.width=f.height="100%");this._super()},
renderHtml:function(){var g=this._id,f=this.classPrefix,e=this.state.get("icon"),a,d=this.state.get("text"),b="";return a=this.settings.image,a?(e="none","string"!=typeof a&&(a=window.getSelection?a[0]:a[1]),a=" style=\"background-image: url('"+a+"')\""):a="",d&&(this.classes.add("btn-has-text"),b='<span class="'+f+'txt">'+this.encode(d)+"</span>"),e=this.settings.icon?f+"ico "+f+"i-"+e:"",'<div id="'+g+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+g+'"><button role="presentation" type="button" tabindex="-1">'+
(e?'<i class="'+e+'"'+a+"></i>":"")+b+"</button></div>"},bindStates:function(){function g(d){var b=e("span."+a,f.getEl());d?(b[0]||(e("button:first",f.getEl()).append('<span class="'+a+'"></span>'),b=e("span."+a,f.getEl())),b.html(f.encode(d))):b.remove();f.classes.toggle("btn-has-text",!!d)}var f=this,e=f.$,a=f.classPrefix+"txt";return f.state.on("change:text",function(a){g(a.value)}),f.state.on("change:icon",function(a){a=a.value;var b=f.classPrefix;a=(f.settings.icon=a)?b+"ico "+b+"i-"+f.settings.icon:
"";var b=f.getEl().firstChild,c=b.getElementsByTagName("i")[0];a?(c&&c==b.firstChild||(c=document.createElement("i"),b.insertBefore(c,b.firstChild)),c.className=a):c&&b.removeChild(c);g(f.state.get("text"))}),f._super()}})});z("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(m){return m.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var g=this._layout;return this.classes.add("btn-group"),this.preRender(),g.preRender(this),'<div id="'+this._id+'" class="'+this.classes+
'"><div id="'+this._id+'-body">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});z("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(m){return m.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(g){var f=this;f._super(g);f.on("click mousedown",function(e){e.preventDefault()});f.on("click",function(e){e.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(g){return arguments.length?(this.state.set("checked",
g),this):this.state.get("checked")},value:function(g){return arguments.length?this.checked(g):this.checked()},renderHtml:function(){var g=this._id,f=this.classPrefix;return'<div id="'+g+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+g+'-al" class="'+f+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function g(e){f.classes.toggle("checked",e);f.aria("checked",e)}var f=this;
return f.state.on("change:text",function(e){f.getEl("al").firstChild.data=f.translate(e.value)}),f.state.on("change:checked change:value",function(e){f.fire("change");g(e.value)}),f.state.on("change:icon",function(e){e=e.value;var a=f.classPrefix;if("undefined"==typeof e)return f.settings.icon;e=(f.settings.icon=e)?a+"ico "+a+"i-"+f.settings.icon:"";var a=f.getEl().firstChild,d=a.getElementsByTagName("i")[0];e?(d&&d==a.firstChild||(d=document.createElement("i"),a.insertBefore(d,a.firstChild)),d.className=
e):d&&a.removeChild(d)}),f.state.get("checked")&&g(!0),f._super()}})});z("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(m,g,f,e){return m.extend({init:function(a){var d=this;d._super(a);a=d.settings;d.classes.add("combobox");d.subinput=!0;d.ariaTarget="inp";a.menu=a.menu||a.values;a.menu&&(a.icon="caret");d.on("click",function(b){var c=b.target,f=d.getEl();if(e.contains(f,c)||c==f)for(;c&&c!=f;)c.id&&-1!=c.id.indexOf("-open")&&
(d.fire("action"),a.menu&&(d.showMenu(),b.aria&&d.menu.items()[0].focus())),c=c.parentNode});d.on("keydown",function(a){"INPUT"==a.target.nodeName&&13==a.keyCode&&d.parents().reverse().each(function(c){var e=d.state.get("value"),f=d.getEl("inp").value;return a.preventDefault(),d.state.set("value",f),e!=f&&d.fire("change"),c.hasEventListeners("submit")&&c.toJSON?(c.fire("submit",{data:c.toJSON()}),!1):void 0})});d.on("keyup",function(a){"INPUT"==a.target.nodeName&&d.state.set("value",a.target.value)})},
showMenu:function(){var a=this,d=a.settings,b;a.menu||(b=d.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=g.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&
a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var a=this.getEl(),d=this.getEl("open"),b=this.layoutRect(),c,d=d?b.w-f.getSize(d).width-10:b.w-10,b=document;return b.all&&(!b.documentMode||8>=b.documentMode)&&(c=this.layoutRect().h-2+"px"),e(a.firstChild).css({width:d,lineHeight:c}),this._super(),this},postRender:function(){var a=
this;return e(this.getEl("inp")).on("change",function(d){a.state.set("value",d.target.value);a.fire("change",d)}),a._super()},renderHtml:function(){var a=this._id,d=this.settings,b=this.classPrefix,c=this.state.get("value")||"",e,f,g="",m="";return"spellcheck"in d&&(m+=' spellcheck="'+d.spellcheck+'"'),d.maxLength&&(m+=' maxlength="'+d.maxLength+'"'),d.size&&(m+=' size="'+d.size+'"'),d.subtype&&(m+=' type="'+d.subtype+'"'),this.disabled()&&(m+=' disabled="disabled"'),e=d.icon,e&&"caret"!=e&&(e=b+
"ico "+b+"i-"+d.icon),f=this.state.get("text"),(e||f)&&(g='<div id="'+a+'-open" class="'+b+"btn "+b+'open" tabIndex="-1" role="button"><button id="'+a+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+b+'caret"></i>')+(f?(e?" ":"")+f:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+a+'" class="'+this.classes+'"><input id="'+a+'-inp" class="'+b+'textbox" value="'+this.encode(c,!1)+'" hidefocus="1"'+m+' placeholder="'+this.encode(d.placeholder)+
'" />'+g+"</div>"},value:function(a){return arguments.length?(this.state.set("value",a),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var a=this;return a.state.on("change:value",function(d){a.getEl("inp").value!=d.value&&(a.getEl("inp").value=d.value)}),a.state.on("change:disabled",function(d){a.getEl("inp").disabled=d.value}),a._super()},remove:function(){e(this.getEl("inp")).off();this._super()}})});z("tinymce/ui/ColorBox",
["tinymce/ui/ComboBox"],function(m){return m.extend({init:function(g){var f=this;g.spellcheck=!1;g.onaction&&(g.icon="none");f._super(g);f.classes.add("colorbox");f.on("change keyup postrender",function(){f.repaintColor(f.value())})},repaintColor:function(g){var f=this.getEl().getElementsByTagName("i")[0];if(f)try{f.style.background=g}catch(e){}},bindStates:function(){var g=this;return g.state.on("change:value",function(f){g.state.get("rendered")&&g.repaintColor(f.value)}),g._super()}})});z("tinymce/ui/PanelButton",
["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(m,g){return m.extend({showPanel:function(){var f=this,e=f.settings;if(f.active(!0),f.panel)f.panel.show();else{var a=e.panel;a.type&&(a={layout:"grid",items:a});a.role=a.role||"dialog";a.popover=!0;a.autohide=!0;a.ariaRoot=!0;f.panel=(new g(a)).on("hide",function(){f.active(!1)}).on("cancel",function(a){a.stopPropagation();f.focus();f.hidePanel()}).parent(f).renderTo(f.getContainerElm());f.panel.fire("show");f.panel.reflow()}f.panel.moveRel(f.getEl(),
e.popoverAlign||(f.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var f=this;return f.aria("haspopup",!0),f.on("click",function(e){e.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():(f.showPanel(),f.panel.focus(!!e.aria)))}),f._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})});z("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(m,g){var f=
g.DOM;return m.extend({init:function(e){this._super(e);this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this._id,a=this.classPrefix,d=this.state.get("text"),b=this.settings.icon?a+"ico "+a+"i-"+this.settings.icon:"",c=this.settings.image?" style=\"background-image: url('"+this.settings.image+
"')\"":"",f="";return d&&(this.classes.add("btn-has-text"),f='<span class="'+a+'txt">'+this.encode(d)+"</span>"),'<div id="'+e+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+c+"></i>":"")+'<span id="'+e+'-preview" class="'+a+'preview"></span>'+f+'</button><button type="button" class="'+a+'open" hidefocus="1" tabindex="-1"> <i class="'+a+'caret"></i></button></div>'},postRender:function(){var e=
this,a=e.settings.onclick;return e.on("click",function(d){d.aria&&"down"==d.aria.key||d.control!=e||f.getParent(d.target,"."+e.classPrefix+"open")||(d.stopImmediatePropagation(),a.call(e,d))}),delete e.settings.onclick,e._super()}})});z("tinymce/util/Color",[],function(){var m=Math.min,g=Math.max,f=Math.round;return function(e){function a(a){var e;if("object"==typeof a)if("r"in a)b=a.r,c=a.g,l=a.b;else{if("v"in a){e=a.h;var n=a.s;a=a.v;var p,t;if(e=(parseInt(e,10)||0)%360,n=parseInt(n,10)/100,a=parseInt(a,
10)/100,n=g(0,m(n,1)),a=g(0,m(a,1)),0===n)b=c=l=f(255*a);else{switch(p=e/60,t=a*n,e=t*(1-Math.abs(p%2-1)),a-=t,Math.floor(p)){case 0:b=t;c=e;l=0;break;case 1:b=e;c=t;l=0;break;case 2:b=0;c=t;l=e;break;case 3:b=0;c=e;l=t;break;case 4:b=e;c=0;l=t;break;case 5:b=t;c=0;l=e;break;default:b=c=l=0}b=f(255*(b+a));c=f(255*(c+a));l=f(255*(l+a))}}}else(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(a))?(b=parseInt(e[1],10),c=parseInt(e[2],10),l=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(a))?
(b=parseInt(e[1],16),c=parseInt(e[2],16),l=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(a))&&(b=parseInt(e[1]+e[1],16),c=parseInt(e[2]+e[2],16),l=parseInt(e[3]+e[3],16));return b=0>b?0:255<b?255:b,c=0>c?0:255<c?255:c,l=0>l?0:255<l?255:l,d}var d=this,b=0,c=0,l=0;e&&a(e);d.toRgb=function(){return{r:b,g:c,b:l}};d.toHsv=function(){var a=b,d=c,e=l,p,t,v,B,r,h;return a/=255,d/=255,e/=255,r=m(a,m(d,e)),h=g(a,g(d,e)),r==h?(v=r,{h:0,s:0,v:100*v}):(B=a==r?d-e:e==r?a-d:e-a,p=a==r?3:e==r?1:5,p=60*(p-
B/(h-r)),t=(h-r)/h,v=h,{h:f(p),s:f(100*t),v:f(100*v)})};d.toHex=function(){function a(b){return b=parseInt(b,10).toString(16),1<b.length?b:"0"+b}return"#"+a(b)+a(c)+a(l)};d.parse=a}});z("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(m,g,f,e){return m.extend({Defaults:{classes:"widget colorpicker"},init:function(a){this._super(a)},postRender:function(){function a(a,b){var c=f.getPos(a),d,e;return d=b.pageX-c.x,e=b.pageY-c.y,
d=Math.max(0,Math.min(d/a.clientWidth,1)),e=Math.max(0,Math.min(e/a.clientHeight,1)),{x:d,y:e}}function d(a,b){f.css(p,{top:(360-a.h)/360*100+"%"});b||f.css(v,{left:a.s+"%",top:100-a.v+"%"});t.style.background=(new e({s:100,v:100,h:a.h})).toHex();l.color().parse({s:a.s,v:a.v,h:a.h})}function b(b){b=a(t,b);k.s=100*b.x;k.v=100*(1-b.y);d(k);l.fire("change")}function c(b){b=a(n,b);k=m.toHsv();k.h=360*(1-b.y);d(k,!0);l.fire("change")}var l=this,m=l.color(),k,n,p,t,v;n=l.getEl("h");p=l.getEl("hp");t=l.getEl("sv");
v=l.getEl("svp");l._repaint=function(){k=m.toHsv();d(k)};l._super();l._svdraghelper=new g(l._id+"-sv",{start:b,drag:b});l._hdraghelper=new g(l._id+"-h",{start:c,drag:c});l._repaint()},rgb:function(){return this.color().toRgb()},value:function(a){return arguments.length?(this.color().parse(a),void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new e),this._color},renderHtml:function(){var a=this._id,d=this.classPrefix,b,c,e,f="",g;g="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");
c=0;for(e=g.length-1;e>c;c++)f+='<div class="'+d+'colorpicker-h-chunk" style="height:'+100/e+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[c]+",endColorstr="+g[c+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+g[c]+",endColorstr="+g[c+1]+')"></div>';return b='<div id="'+a+'-h" class="'+d+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
f+'<div id="'+a+'-hp" class="'+d+'colorpicker-h-marker"></div></div>','<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-sv" class="'+d+'colorpicker-sv"><div class="'+d+'colorpicker-overlay1"><div class="'+d+'colorpicker-overlay2"><div id="'+a+'-svp" class="'+d+'colorpicker-selector1"><div class="'+d+'colorpicker-selector2"></div></div></div></div></div>'+b+"</div>"}})});z("tinymce/ui/Path",["tinymce/ui/Widget"],function(m){return m.extend({init:function(g){var f=this;g.delimiter||(g.delimiter=
"\u00bb");f._super(g);f.classes.add("path");f.canFocus=!0;f.on("click",function(e){var a;(a=e.target.getAttribute("data-index"))&&f.fire("select",{value:f.row()[a],index:a})});f.row(f.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(g){return arguments.length?(this.state.set("row",g),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var g=
this;return g.state.on("change:row",function(f){g.innerHtml(g._getDataPathHtml(f.value))}),g._super()},_getDataPathHtml:function(g){g=g||[];var f,e,a="",d=this.classPrefix;f=0;for(e=g.length;e>f;f++)a+=(0<f?'<div class="'+d+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+d+"path-item"+(f==e-1?" "+d+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+this._id+"-"+f+'" aria-level="'+f+'">'+g[f].name+"</div>";return a||(a='<div class="'+d+'path-item">\u00a0</div>'),
a}})});z("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(m,g){return m.extend({postRender:function(){var f=this,e=g.activeEditor;return!1!==e.settings.elementpath&&(f.on("select",function(a){e.focus();e.selection.select(this.row()[a.index].element);e.nodeChanged()}),e.on("nodeChange",function(a){var d=[];a=a.parents;for(var b=a.length;b--;){var c;if(c=1==a[b].nodeType){a:{c=a[b];if(1===c.nodeType){if("BR"==c.nodeName||c.getAttribute("data-mce-bogus")){c=!0;break a}if("bookmark"===
c.getAttribute("data-mce-type")){c=!0;break a}}c=!1}c=!c}if(c&&(c=e.fire("ResolveName",{name:a[b].nodeName.toLowerCase(),target:a[b]}),c.isDefaultPrevented()||d.push({name:c.name,element:a[b]}),c.isPropagationStopped()))break}f.row(d)})),f._super()}})});z("tinymce/ui/FormItem",["tinymce/ui/Container"],function(m){return m.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var g=this._layout,f=this.classPrefix;return this.classes.add("formitem"),g.preRender(this),
'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+f+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});z("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(m,g,f){return m.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",
flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,a=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});a.each(function(a){var b,c=a.settings.label;c&&(b=new g(f.extend({items:{type:"label",id:a._id+"-l",text:c,flex:0,forId:a._id,disabled:a.disabled()}},e.settings.formItemDefaults)),b.type="formitem",a.aria("labelledby",a._id+"-l"),"undefined"==typeof a.settings.flex&&
(a.settings.flex=1),e.replace(a,b),b.add(a))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();this.fromJSON(this.settings.data)},bindStates:function(){function e(){var d=0,b=[],c,e;if(!1!==a.settings.labelGapCalc)for(c="children"==a.settings.labelGapCalc?a.find("formitem"):a.items(),c.filter("formitem").each(function(a){a=a.items()[0];var c=a.getEl().clientWidth;d=c>d?c:d;b.push(a)}),e=a.settings.labelGap||0,c=b.length;c--;)b[c].settings.minWidth=
d+e}var a=this;a._super();a.on("show",e);e()}})});z("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(m){return m.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var g=this._layout,f=this.classPrefix;return this.preRender(),g.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+
f+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></fieldset>"}})});z("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(m,g){return m.extend({init:function(f){var e=this,a=tinymce.activeEditor,d=a.settings,b,c,l;f.spellcheck=!1;(l=d.file_picker_types||d.file_browser_callback_types)&&(l=g.makeMap(l,/[, ]/));l&&!l[f.filetype]||(c=d.file_picker_callback,!c||
l&&!l[f.filetype]?(c=d.file_browser_callback,!c||l&&!l[f.filetype]||(b=function(){c(e.getEl("inp").id,e.value(),f.filetype,window)})):b=function(){var b=e.fire("beforecall").meta,b=g.extend({filetype:f.filetype},b);c.call(a,function(a,b){e.value(a).fire("change",{meta:b})},e.value(),b)});b&&(f.icon="browse",f.onaction=b);e._super(f)}})});z("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(m){return m.extend({recalc:function(g){var f=g.layoutRect(),e=g.paddingBox;g.items().filter(":visible").each(function(a){a.layoutRect({x:e.left,
y:e.top,w:f.innerW-e.right-e.left,h:f.innerH-e.top-e.bottom});a.recalc&&a.recalc()})}})});z("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(m){return m.extend({recalc:function(g){var f,e,a,d,b,c,l,m,k,n,p,t,v,B=[],r,h,z,w,u,C,y,x,L,E,N,H,I,J,F,M,S,K,P=Math.max,U=Math.min;a=g.items().filter(":visible");d=g.layoutRect();b=g.paddingBox;c=g.settings;f=g.isRtl()?c.direction||"row-reversed":c.direction;l=c.align;m=g.isRtl()?c.pack||"end":c.pack;c=c.spacing||0;"row-reversed"!=f&&"column-reverse"!=
f||(a=a.set(a.toArray().reverse()),f=f.split("-")[0]);"column"==f?(u="y",z="h",w="minH",C="maxH",x="innerH",y="top",L="deltaH",E="contentH",F="left",I="w",N="x",H="innerW",J="minW",M="right",S="deltaW",K="contentW"):(u="x",z="w",w="minW",C="maxW",x="innerW",y="left",L="deltaW",E="contentW",F="top",I="h",N="y",H="innerH",J="minH",M="bottom",S="deltaH",K="contentH");n=d[x]-b[y]-b[y];f=h=k=0;for(e=a.length;e>f;f++)p=a[f],t=p.layoutRect(),v=p.settings,v=v.flex,n-=e-1>f?c:0,0<v&&(k+=v,t[C]&&B.push(p),
t.flex=v),n-=t[w],v=b[F]+t[J]+b[M],v>h&&(h=v);if(r={},0>n?r[w]=d[w]-n+d[L]:r[w]=d[x]-n+d[L],r[J]=h+d[S],r[E]=d[x]-n,r[K]=h,r.minW=U(r.minW,d.maxW),r.minH=U(r.minH,d.maxH),r.minW=P(r.minW,d.startMinWidth),r.minH=P(r.minH,d.startMinHeight),!d.autoResize||r.minW==d.minW&&r.minH==d.minH){g=n/k;f=0;for(e=B.length;e>f;f++)p=B[f],t=p.layoutRect(),r=t[C],v=t[w]+t.flex*g,v>r?(n-=t[C]-t[w],k-=t.flex,t.flex=0,t.maxFlexSize=r):t.maxFlexSize=0;g=n/k;B=b[y];r={};0===k&&("end"==m?B=n+b[y]:"center"==m?(B=Math.round(d[x]/
2-(d[x]-n)/2)+b[y],0>B&&(B=b[y])):"justify"==m&&(B=b[y],c=Math.floor(n/(a.length-1))));r[N]=b[F];f=0;for(e=a.length;e>f;f++)p=a[f],t=p.layoutRect(),v=t.maxFlexSize||t[w],"center"===l?r[N]=Math.round(d[H]/2-t[I]/2):"stretch"===l?(r[I]=P(t[J]||0,d[H]-b[F]-b[M]),r[N]=b[F]):"end"===l&&(r[N]=d[H]-t[I]-b.top),0<t.flex&&(v+=t.flex*g),r[z]=v,r[u]=B,p.layoutRect(r),p.recalc&&p.recalc(),B+=v+c}else(r.w=r.minW,r.h=r.minH,g.layoutRect(r),this.recalc(g),null===g._lastRect)&&(a=g.parent())&&(a._lastRect=null,a.recalc())}})});
z("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(m){return m.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(g){g.items().filter(":visible").each(function(f){f.recalc&&f.recalc()})},isNative:function(){return!0}})});z("tinymce/ui/FormatControls","tinymce/ui/Control tinymce/ui/Widget tinymce/ui/FloatPanel tinymce/util/Tools tinymce/EditorManager tinymce/Env".split(" "),function(m,g,f,e,a,d){function b(a){function b(d,e){return function(){var b=
this;a.on("nodeChange",function(f){var g=a.formatter,k=null;c(f.parents,function(a){return c(d,function(b){return e?g.matchNode(a,e,{value:b.value})&&(k=b.value):g.matchNode(a,b.value)&&(k=b.value),k?!1:void 0}),k?!1:void 0});b.value(k)})}}function d(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function e(b){return function(){var c=this;a.formatter?a.formatter.formatChanged(b,function(a){c.active(a)}):a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}
function g(b){return function(){var c=this;b="redo"==b?"hasRedo":"hasUndo";c.disabled(!(a.undoManager&&a.undoManager[b]()));a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){c.disabled(a.readonly||!(a.undoManager&&a.undoManager[b]()))})}}function m(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}var v;v=function(){function b(a){var f=[];if(a)return c(a,function(a){var c={text:a.title,icon:a.icon};if(a.items)c.menu=b(a.items);else{var g=a.format||"custom"+
d++;a.format||(a.name=g,e.push(a));c.format=g;c.cmd=a.cmd}f.push(c)}),f}var d=0,e=[],f=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",
format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",
format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return a.on("init",function(){c(e,function(b){a.formatter.register(b.name,b)})}),{type:"menu",items:b(a.settings.style_formats_merge?a.settings.style_formats?f.concat(a.settings.style_formats):f:a.settings.style_formats||f),onPostRender:function(b){a.fire("renderFormatsMenu",{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?a.formatter.getCssText(this.settings.format):
void 0},onPostRender:function(){var b=this;b.parent().on("show",function(){var c;(c=b.settings.format)&&(b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c)));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&m(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();c({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,
{tooltip:b,onPostRender:e(c),onclick:function(){m(c)}})});c({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});c({blockquote:["Blockquote","mceBlockQuote"],
numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:e(c)})});a.addButton("undo",{tooltip:"Undo",onPostRender:g("undo"),
cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:g("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:g("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:g("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});
b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});c({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting",
"RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){f.hideAll()});a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:v});a.addButton("formatselect",function(){var e=[],f=d(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return c(f,function(b){e.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})}),
{type:"listbox",text:f[0][0],values:e,fixedWidth:!0,onselect:m,onPostRender:b(e)}});a.addButton("fontselect",function(){var e=[],f=d(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return c(f,function(a){e.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:e,fixedWidth:!0,onPostRender:b(e,"fontname"),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var d=[];return c((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var b=a,c=a;a=a.split("=");
1<a.length&&(b=a[0],c=a[1]);d.push({text:b,value:c})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:d,fixedWidth:!0,onPostRender:b(d,"fontsize"),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:v})}var c=e.each;a.on("AddEditor",function(a){a.editor.rtl&&(m.rtl=!0);b(a.editor)});m.translate=function(b){return a.translate(b)};g.tooltips=!d.iOS});z("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],
function(m){return m.extend({recalc:function(g){var f,e,a,d,b,c,l,m,k,n,p,t,v,z,r,h,A,w,u=[],C=[],y,x;f=g.settings;d=g.items().filter(":visible");b=g.layoutRect();a=f.columns||Math.ceil(Math.sqrt(d.length));e=Math.ceil(d.length/a);r=f.spacingH||f.spacing||0;h=f.spacingV||f.spacing||0;A=f.alignH||f.align;w=f.alignV||f.align;v=g.paddingBox;y="reverseRows"in f?f.reverseRows:g.isRtl();A&&"string"==typeof A&&(A=[A]);w&&"string"==typeof w&&(w=[w]);for(k=0;a>k;k++)u.push(0);for(n=0;e>n;n++)C.push(0);for(n=
0;e>n;n++)for(k=0;a>k&&(m=d[n*a+k],m);k++)l=m.layoutRect(),p=l.minW,l=l.minH,u[k]=p>u[k]?p:u[k],C[n]=l>C[n]?l:C[n];l=b.innerW-v.left-v.right;for(k=p=0;a>k;k++)p+=u[k]+(0<k?r:0),l-=(0<k?r:0)+u[k];t=b.innerH-v.top-v.bottom;for(n=k=0;e>n;n++)k+=C[n]+(0<n?h:0),t-=(0<n?h:0)+C[n];if(p+=v.left+v.right,k+=v.top+v.bottom,c={},c.minW=p+(b.w-b.innerW),c.minH=k+(b.h-b.innerH),c.contentW=c.minW-b.deltaW,c.contentH=c.minH-b.deltaH,c.minW=Math.min(c.minW,b.maxW),c.minH=Math.min(c.minH,b.maxH),c.minW=Math.max(c.minW,
b.startMinWidth),c.minH=Math.max(c.minH,b.startMinHeight),!b.autoResize||c.minW==b.minW&&c.minH==b.minH){b.autoResize&&(c=g.layoutRect(c),c.contentW=c.minW-b.deltaW,c.contentH=c.minH-b.deltaH);g="start"==f.packV?0:0<t?Math.floor(t/e):0;n=0;if(f=f.flexWidths)for(k=0;k<f.length;k++)n+=f[k];else n=a;n=l/n;for(k=0;a>k;k++)u[k]+=f?f[k]*n:n;p=v.top;for(n=0;e>n;n++){c=v.left;b=C[n]+g;for(k=0;a>k&&(x=y?n*a+a-1-k:n*a+k,m=d[x],m);k++)t=m.settings,l=m.layoutRect(),f=Math.max(u[k],l.startMinWidth),l.x=c,l.y=
p,z=t.alignH||(A?A[k]||A[0]:null),"center"==z?l.x=c+f/2-l.w/2:"right"==z?l.x=c+f-l.w:"stretch"==z&&(l.w=f),z=t.alignV||(w?w[k]||w[0]:null),"center"==z?l.y=p+b/2-l.h/2:"bottom"==z?l.y=p+b-l.h:"stretch"==z&&(l.h=b),m.layoutRect(l),c+=f+r,m.recalc&&m.recalc();p+=b+h}}else(c.w=c.minW,c.h=c.minH,g.layoutRect(c),this.recalc(g),null===g._lastRect)&&(e=g.parent())&&(e._lastRect=null,e.recalc())}})});z("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(m,g){return m.extend({renderHtml:function(){return this.classes.add("iframe"),
this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(f){this.getEl().src=f},html:function(f,e){var a=this,d=this.getEl().contentWindow.document.body;return d?(d.innerHTML=f,e&&e()):g.setTimeout(function(){a.html(f)}),this}})});z("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(m){return m.extend({init:function(g){this._super(g);this.classes.add("widget").add("infobox");this.canFocus=
!1},severity:function(g){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(g)},help:function(g){this.state.set("help",g)},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+g+"ico "+g+'i-help"></i></button></div></div>'},bindStates:function(){var g=this;return g.state.on("change:text",
function(f){g.getEl("body").firstChild.data=g.encode(f.value);g.state.get("rendered")&&g.updateLayoutRect()}),g.state.on("change:help",function(f){g.classes.toggle("has-help",f.value);g.state.get("rendered")&&g.updateLayoutRect()}),g._super()}})});z("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(m,g){return m.extend({init:function(f){this._super(f);this.classes.add("widget").add("label");this.canFocus=!1;f.multiline&&this.classes.add("autoscroll");f.strong&&this.classes.add("strong")},
initLayoutRect:function(){var f=this._super();this.settings.multiline&&(g.getSize(this.getEl()).width>f.maxW&&(f.minW=f.maxW,this.classes.add("multiline")),this.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,g.getSize(this.getEl()).height));return f},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(f){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");
this.classes.add(f)},renderHtml:function(){var f,e,a=this.settings.forId;return!a&&(e=this.settings.forName)&&(f=this.getRoot().find("#"+e)[0],f&&(a=f._id)),a?'<label id="'+this._id+'" class="'+this.classes+'"'+(a?' for="'+a+'"':"")+">"+this.encode(this.state.get("text"))+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+this.encode(this.state.get("text"))+"</span>"},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.innerHtml(f.encode(e.value));f.state.get("rendered")&&
f.updateLayoutRect()}),f._super()}})});z("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(m){return m.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(g){this._super(g);this.classes.add("toolbar")},postRender:function(){return this.items().each(function(g){g.classes.add("toolbar-item")}),this._super()}})});z("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(m){return m.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});z("tinymce/ui/MenuButton",
["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(m,g,f){var e=m.extend({init:function(a){this._renderOpen=!0;this._super(a);a=this.settings;this.classes.add("menubtn");a.fixedWidth&&this.classes.add("fixed-width");this.aria("haspopup",!0);this.state.set("menu",a.menu||this.render())},showMenu:function(){var a=this,d;return a.menu&&a.menu.visible()?a.hideMenu():(a.menu||(d=a.state.get("menu")||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",d.renderTo?a.menu=d.parent(a).show().renderTo():
a.menu=g.create(d).parent(a).renderTo(),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control.parent()===a.menu&&(b.stopPropagation(),a.focus(),a.hideMenu())}),a.menu.on("select",function(){a.focus()}),a.menu.on("show hide",function(b){b.control==a.menu&&a.activeMenu("show"==b.type);a.aria("expanded","show"==b.type)}).fire("show")),a.menu.show(),a.menu.layoutRect({w:a.layoutRect().w}),void a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){this.menu&&
(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide())},activeMenu:function(a){this.classes.toggle("active",a)},renderHtml:function(){var a=this._id,d=this.classPrefix,b=this.settings.icon,c,e=this.state.get("text"),g="";return c=this.settings.image,c?(b="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="",e&&(this.classes.add("btn-has-text"),g='<span class="'+d+'txt">'+this.encode(e)+"</span>"),b=this.settings.icon?
d+"ico "+d+"i-"+b:"",this.aria("role",this.parent()instanceof f?"menuitem":"button"),'<div id="'+a+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+a+'"><button id="'+a+'-open" role="presentation" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+c+"></i>":"")+g+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var a=this;return a.on("click",function(d){var b;if(b=d.control===a)a:{b=d.target;for(var c=a.getEl();b;){if(c===b){b=!0;break a}b=b.parentNode}b=!1}b&&(a.showMenu(),
d.aria&&a.menu.items()[0].focus())}),a.on("mouseenter",function(d){var b=d.control;d=a.parent();var c;b&&d&&b instanceof e&&b.parent()==d&&(d.items().filter("MenuButton").each(function(a){a.hideMenu&&a!=b&&(a.menu&&a.menu.visible()&&(c=!0),a.hideMenu())}),c&&(b.focus(),b.showMenu()))}),a._super()},bindStates:function(){var a=this;return a.state.on("change:menu",function(){a.menu&&a.menu.remove();a.menu=null}),a._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});
z("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(m,g,f,e){return m.extend({Defaults:{border:0,role:"menuitem"},init:function(a){var d;this._super(a);a=this.settings;this.classes.add("menu-item");a.menu&&this.classes.add("menu-item-expand");a.preview&&this.classes.add("menu-item-preview");d=this.state.get("text");"-"!==d&&"|"!==d||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-"));a.selectable&&
(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),a.icon="selected");a.preview||a.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(a){a.preventDefault()});a.menu&&!a.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var a=this,d=a.settings,b,c=a.parent();if(c.items().each(function(b){b!==a&&b.hideMenu()}),d.menu)(b=a.menu)?b.show():(b=d.menu,b.length?b={type:"menu",items:b}:b.type=b.type||
"menu",c.settings.itemDefaults&&(b.itemDefaults=c.settings.itemDefaults),b=a.menu=g.create(b).parent(a).renderTo(),b.reflow(),b.on("cancel",function(c){c.stopPropagation();a.focus();b.hide()}),b.on("show hide",function(a){a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),b.on("hide",function(c){c.control===b&&a.classes.remove("selected")}),b.submenu=!0),b._parentMenu=c,b.classes.add("menu-sub"),d=b.testMoveRel(a.getEl(),a.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl",
"br-bl","tl-tr","bl-br"]),b.moveRel(a.getEl(),d),b.rel=d,d="menu-sub-"+d,b.classes.remove(b._lastRel).add(d),b._lastRel=d,a.classes.add("selected"),a.aria("expanded",!0)},hideMenu:function(){return this.menu&&(this.menu.items().each(function(a){a.hideMenu&&a.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var a=this._id,d=this.settings,b=this.classPrefix,c=this.encode(this.state.get("text")),e=this.settings.icon,g="",k=d.shortcut;e&&this.parent().classes.add("menu-has-icons");
d.image&&(g=" style=\"background-image: url('"+d.image+"')\"");if(k){var m,p,t;t=f.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};k=k.split("+");for(m=0;m<k.length;m++)(p=t[k[m].toLowerCase()])&&(k[m]=p);k=k.join("+")}return e=b+"ico "+b+"i-"+(this.settings.icon||"none"),'<div id="'+a+'" class="'+this.classes+'" tabindex="-1">'+("-"!==c?'<i class="'+e+'"'+g+"></i>\u00a0":"")+("-"!==c?'<span id="'+a+'-text" class="'+b+'text">'+c+"</span>":"")+(k?'<div id="'+a+'-shortcut" class="'+
b+'menu-shortcut">'+k+"</div>":"")+(d.menu?'<div class="'+b+'caret"></div>':"")+"</div>"},postRender:function(){var a=this,d=a.settings,b=d.textStyle;if("function"==typeof b&&(b=b.call(this)),b){var c=a.getEl("text");c&&c.setAttribute("style",b)}return a.on("mouseenter click",function(b){b.control===a&&(d.menu||"click"!==b.type?(a.showMenu(),b.aria&&a.menu.focus(!0)):(a.fire("select"),e.requestAnimationFrame(function(){a.parent().hideAll()})))}),a._super(),a},hover:function(){return this.parent().items().each(function(a){a.classes.remove("selected")}),
this.classes.toggle("selected",!0),this},active:function(a){return"undefined"!=typeof a&&this.aria("checked",a),this._super(a)},remove:function(){this._super();this.menu&&this.menu.remove()}})});z("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(m,g,f){return function(e,a){var d=this,b,c=g.classPrefix,l;d.show=function(g,k){function n(){b&&(m(e).append('<div class="'+c+"throbber"+(a?" "+c+"throbber-inline":"")+'"></div>'),k&&k())}return d.hide(),b=
!0,g?l=f.setTimeout(n,g):n(),d};d.hide=function(){var a=e.lastChild;return f.clearTimeout(l),a&&-1!=a.className.indexOf("throbber")&&a.parentNode.removeChild(a),b=!1,d}}});z("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(m,g,f,e){return m.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(a){if(a.autohide=!0,a.constrainToViewport=!0,"function"==typeof a.items&&
(a.itemsFactory=a.items,a.items=[]),a.itemDefaults)for(var d=a.items,b=d.length;b--;)d[b]=e.extend({},a.itemDefaults,d[b]);this._super(a);this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function a(){d.throbber&&(d.throbber.hide(),d.throbber=null)}var d=this,b;d.settings.itemsFactory&&(d.throbber||(d.throbber=
new f(d.getEl("body"),!0),0===d.items().length?(d.throbber.show(),d.fire("loading")):d.throbber.show(100,function(){d.items().remove();d.fire("loading")}),d.on("hide close",a)),d.requestTime=b=(new Date).getTime(),d.settings.itemsFactory(function(c){return 0===c.length?void d.hide():void(d.requestTime===b&&(d.getEl().style.width="",d.getEl("body").style.width="",a(),d.items().remove(),d.getEl("body").innerHTML="",d.add(c),d.renderNew(),d.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),
this._super()},preRender:function(){var a=this;return a.items().each(function(d){d=d.settings;return d.icon||d.image||d.selectable?(a._hasIcons=!0,!1):void 0}),a.settings.itemsFactory&&a.on("postrender",function(){a.settings.itemsFactory&&a.load()}),a._super()}})});z("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(m,g){return m.extend({init:function(f){function e(d){for(var g=0;g<d.length;g++){if(b=d[g].selected||f.value===d[g].value)return c=c||d[g].text,a.state.set("value",
d[g].value),!0;if(d[g].menu&&e(d[g].menu))return!0}}var a=this,d,b,c,g;a._super(f);f=a.settings;(a._values=d=f.values)&&("undefined"!=typeof f.value&&e(d),!b&&0<d.length&&(c=d[0].text,a.state.set("value",d[0].value)),a.state.set("menu",d));a.state.set("text",f.text||c);a.classes.add("listbox");a.on("select",function(b){var c=b.control;g&&(b.lastControl=g);f.multiple?c.active(!c.active()):a.value(b.control.value());g=c})},bindStates:function(){function f(a,b){a instanceof g&&a.items().each(function(a){a.hasMenus()||
a.active(a.value()===b)})}function e(a,b){var c;if(a)for(var f=0;f<a.length;f++){if(a[f].value===b)return a[f];if(a[f].menu&&(c=e(a[f].menu,b)))return c}}var a=this;return a.on("show",function(d){f(d.control,a.value())}),a.state.on("change:value",function(d){(d=e(a.state.get("menu"),d.value))?a.text(d.text):a.text(a.settings.text)}),a._super()}})});z("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(m){return m.extend({Defaults:{classes:"radio",role:"radio"}})});z("tinymce/ui/ResizeHandle",["tinymce/ui/Widget",
"tinymce/ui/DragHelper"],function(m,g){return m.extend({renderHtml:function(){var f=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var f=this;f._super();f.resizeDragHelper=new g(this._id,{start:function(){f.fire("ResizeStart")},drag:function(e){"both"!=f.settings.direction&&(e.deltaX=
0);f.fire("Resize",e)},stop:function(){f.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})});z("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(m){function g(f){var e="";if(f)for(var a=0;a<f.length;a++)e+='<option value="'+f[a]+'">'+f[a]+"</option>";return e}return m.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(f){var e=this;e._super(f);e.settings.size&&(e.size=e.settings.size);e.settings.options&&
(e._options=e.settings.options);e.on("keydown",function(a){var d;13==a.keyCode&&(a.preventDefault(),e.parents().reverse().each(function(a){return a.toJSON?(d=a,!1):void 0}),e.fire("submit",{data:d.toJSON()}))})},options:function(f){return arguments.length?(this.state.set("options",f),this):this.state.get("options")},renderHtml:function(){var f,e="";return f=g(this._options),this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+f+"</select>"},bindStates:function(){var f=
this;return f.state.on("change:options",function(e){f.getEl().innerHTML=g(e.value)}),f._super()}})});z("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(m,g,f){function e(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}function a(a,b){var c,e,g,k;"v"==a.settings.orientation?(g="top",e="height",c="h"):(g="left",e="width",c="w");k=a.getEl("handle");c=((a.layoutRect()[c]||100)-f.getSize(k)[e])*((b-a._minValue)/(a._maxValue-a._minValue))+"px";k.style[g]=c;k.style.height=
a.layoutRect().h+"px";k.setAttribute("aria-valuenow",b);g=""+a.settings.previewFilter(b);k.setAttribute("aria-valuetext",g);k.setAttribute("aria-valuemin",a._minValue);k.setAttribute("aria-valuemax",a._maxValue)}return m.extend({init:function(a){a.previewFilter||(a.previewFilter=function(a){return Math.round(100*a)/100});this._super(a);this.classes.add("slider");"v"==a.orientation&&this.classes.add("vertical");this._minValue=a.minValue||0;this._maxValue=a.maxValue||100;this._initValue=this.state.get("value")},
renderHtml:function(){var a=this._id;return'<div id="'+a+'" class="'+this.classes+'"><div id="'+a+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var a=this,b,c,l,m,k,n;b=a._minValue;c=a._maxValue;"v"==a.settings.orientation?(l="screenY",m="top",k="height",n="h"):(l="screenX",m="left",k="width",n="w");a._super();(function(b,c){function f(g){var k;k=a.value();k=((k+b)/(c-b)+
.05*g)*(c-b)-b;k=e(k,b,c);a.value(k);a.fire("dragstart",{value:k});a.fire("drag",{value:k});a.fire("dragend",{value:k})}a.on("keydown",function(a){switch(a.keyCode){case 37:case 38:f(-1);break;case 39:case 40:f(1)}})})(b,c,a.getEl("handle"));(function(b,c,v){var z,r,h,A,w;a._dragHelper=new g(a._id,{handle:a._id+"-handle",start:function(b){z=b[l];r=parseInt(a.getEl("handle").style[m],10);h=(a.layoutRect()[n]||100)-f.getSize(v)[k];a.fire("dragstart",{value:w})},drag:function(f){A=e(r+(f[l]-z),0,h);
v.style[m]=A+"px";w=b+A/h*(c-b);a.value(w);a.tooltip().text(""+a.settings.previewFilter(w)).show().moveRel(v,"bc tc");a.fire("drag",{value:w})},stop:function(){a.tooltip().hide();a.fire("dragend",{value:w})}})})(b,c,a.getEl("handle"))},repaint:function(){this._super();a(this,this.value())},bindStates:function(){var d=this;return d.state.on("change:value",function(b){a(d,b.value)}),d._super()}})});z("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(m){return m.extend({renderHtml:function(){return this.classes.add("spacer"),
this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});z("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(m,g,f){return m.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this.getEl(),a=this.layoutRect(),d,b;return this._super(),d=e.firstChild,b=e.lastChild,f(d).css({width:a.w-g.getSize(b).width,height:a.h-2}),f(b).css({height:a.h-2}),this},activeMenu:function(e){f(this.getEl().lastChild).toggleClass(this.classPrefix+
"active",e)},renderHtml:function(){var e=this._id,a=this.classPrefix,d,b=this.state.get("icon"),c=this.state.get("text"),f="";return d=this.settings.image,d?(b="none","string"!=typeof d&&(d=window.getSelection?d[0]:d[1]),d=" style=\"background-image: url('"+d+"')\""):d="",b=this.settings.icon?a+"ico "+a+"i-"+b:"",c&&(this.classes.add("btn-has-text"),f='<span class="'+a+'txt">'+this.encode(c)+"</span>"),'<div id="'+e+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+
(b?'<i class="'+b+'"'+d+"></i>":"")+f+'</button><button type="button" class="'+a+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(b?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+a+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",function(a){var d=a.target;if(a.control==this)for(;d;){if(a.aria&&"down"!=a.aria.key||"BUTTON"==d.nodeName&&-1==d.className.indexOf("open"))return a.stopImmediatePropagation(),void(e&&e.call(this,a));d=d.parentNode}}),
delete this.settings.onclick,this._super()}})});z("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(m){return m.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});z("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(m,g,f){return m.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var a;this.activeTabId&&(a=this.getEl(this.activeTabId),
g(a).removeClass(this.classPrefix+"active"),a.setAttribute("aria-selected","false"));this.activeTabId="t"+e;a=this.getEl("t"+e);a.setAttribute("aria-selected","true");g(a).addClass(this.classPrefix+"active");this.items()[e].show().fire("showtab");this.reflow();this.items().each(function(a,b){e!=b&&a.hide()})},renderHtml:function(){var e=this,a=e._layout,d="",b=e.classPrefix;return e.preRender(),a.preRender(e),e.items().each(function(a,f){var g=e._id+"-t"+f;a.aria("role","tabpanel");a.aria("labelledby",
g);d+='<div id="'+g+'" class="'+b+'tab" unselectable="on" role="tab" aria-controls="'+a._id+'" aria-selected="false" tabIndex="-1">'+e.encode(a.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+b+'tabs" role="tablist">'+d+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+a.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super();e.settings.activeTab=e.settings.activeTab||0;e.activateTab(e.settings.activeTab);
this.on("click",function(a){var d=a.target.parentNode;if(a.target.parentNode.id==e._id+"-head")for(var b=d.childNodes.length;b--;)d.childNodes[b]==a.target&&e.activateTab(b)})},initLayoutRect:function(){var e,a,d;a=f.getSize(this.getEl("head")).width;a=0>a?0:a;d=0;this.items().each(function(b){a=Math.max(a,b.layoutRect().minW);d=Math.max(d,b.layoutRect().minH)});this.items().each(function(b){b.settings.x=0;b.settings.y=0;b.settings.w=a;b.settings.h=d;b.layoutRect({x:0,y:0,w:a,h:d})});var b=f.getSize(this.getEl("head")).height;
return this.settings.minWidth=a,this.settings.minHeight=d+b,e=this._super(),e.deltaH+=b,e.innerH=e.h-e.deltaH,e}})});z("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(m,g,f){return m.extend({init:function(e){var a=this;a._super(e);a.classes.add("textbox");e.multiline?a.classes.add("multiline"):(a.on("keydown",function(d){var b;13==d.keyCode&&(d.preventDefault(),a.parents().reverse().each(function(a){return a.toJSON?(b=a,!1):void 0}),a.fire("submit",{data:b.toJSON()}))}),
a.on("keyup",function(d){a.state.set("value",d.target.value)}))},repaint:function(){var e,a,d,b,c=0,f;e=this.getEl().style;a=this._layoutRect;f=this._lastRepaintRect||{};var g=document;return!this.settings.multiline&&g.all&&(!g.documentMode||8>=g.documentMode)&&(e.lineHeight=a.h-c+"px"),d=this.borderBox,b=d.left+d.right+8,c=d.top+d.bottom+(this.settings.multiline?8:0),a.x!==f.x&&(e.left=a.x+"px",f.x=a.x),a.y!==f.y&&(e.top=a.y+"px",f.y=a.y),a.w!==f.w&&(e.width=a.w-b+"px",f.w=a.w),a.h!==f.h&&(e.height=
a.h-c+"px",f.h=a.h),this._lastRepaintRect=f,this.fire("repaint",{},!1),this},renderHtml:function(){var e=this.settings,a,d;return a={id:this._id,hidefocus:"1"},g.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(b){a[b]=e[b]}),this.disabled()&&(a.disabled="disabled"),e.subtype&&(a.type=e.subtype),d=f.create(e.multiline?"textarea":"input",a),d.value=this.state.get("value"),d.className=this.classes,d.outerHTML},value:function(e){return arguments.length?
(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value");e._super();e.$el.on("change",function(a){e.state.set("value",a.target.value);e.fire("change",a)})},bindStates:function(){var e=this;return e.state.on("change:value",function(a){e.getEl().value!=a.value&&(e.getEl().value=a.value)}),e.state.on("change:disabled",function(a){e.getEl().disabled=a.value}),
e._super()},remove:function(){this.$el.off();this._super()}})});z("tinymce/Register",[],function(){var m=this||window;return"function"==typeof m.define&&(m.define.amd||m.define("ephox/tinymce",[],function(){return m.tinymce})),{}});(function(m){var g,f,e,a;for(g=0;g<m.length;g++){f=na;e=m[g];a=e.split(/[.\/]/);for(var d=0;d<a.length-1;++d)f[a[d]]===ba&&(f[a[d]]={}),f=f[a[d]];f[a[a.length-1]]=oa[e]}if(na.AMDLC_TESTS){f=na.privateModules||{};for(e in oa)f[e]=oa[e];for(g=0;g<m.length;g++)delete f[m[g]];
na.privateModules=f}})("tinymce/geom/Rect tinymce/util/Promise tinymce/util/Delay tinymce/Env tinymce/dom/EventUtils tinymce/dom/Sizzle tinymce/util/Tools tinymce/dom/DomQuery tinymce/html/Styles tinymce/dom/TreeWalker tinymce/html/Entities tinymce/dom/DOMUtils tinymce/dom/ScriptLoader tinymce/AddOnManager tinymce/dom/RangeUtils tinymce/html/Node tinymce/html/Schema tinymce/html/SaxParser tinymce/html/DomParser tinymce/html/Writer tinymce/html/Serializer tinymce/dom/Serializer tinymce/util/VK tinymce/dom/ControlSelection tinymce/dom/BookmarkManager tinymce/dom/Selection tinymce/Formatter tinymce/UndoManager tinymce/EditorCommands tinymce/util/URI tinymce/util/Class tinymce/util/EventDispatcher tinymce/util/Observable tinymce/ui/Selector tinymce/ui/Collection tinymce/ui/ReflowQueue tinymce/ui/Control tinymce/ui/Factory tinymce/ui/KeyboardNavigation tinymce/ui/Container tinymce/ui/DragHelper tinymce/ui/Scrollable tinymce/ui/Panel tinymce/ui/Movable tinymce/ui/Resizable tinymce/ui/FloatPanel tinymce/ui/Window tinymce/ui/MessageBox tinymce/WindowManager tinymce/ui/Tooltip tinymce/ui/Widget tinymce/ui/Progress tinymce/ui/Notification tinymce/NotificationManager tinymce/EditorObservable tinymce/Shortcuts tinymce/Editor tinymce/util/I18n tinymce/FocusManager tinymce/EditorManager tinymce/util/XHR tinymce/util/JSON tinymce/util/JSONRequest tinymce/util/JSONP tinymce/util/LocalStorage tinymce/Compat tinymce/ui/Layout tinymce/ui/AbsoluteLayout tinymce/ui/Button tinymce/ui/ButtonGroup tinymce/ui/Checkbox tinymce/ui/ComboBox tinymce/ui/ColorBox tinymce/ui/PanelButton tinymce/ui/ColorButton tinymce/util/Color tinymce/ui/ColorPicker tinymce/ui/Path tinymce/ui/ElementPath tinymce/ui/FormItem tinymce/ui/Form tinymce/ui/FieldSet tinymce/ui/FilePicker tinymce/ui/FitLayout tinymce/ui/FlexLayout tinymce/ui/FlowLayout tinymce/ui/FormatControls tinymce/ui/GridLayout tinymce/ui/Iframe tinymce/ui/InfoBox tinymce/ui/Label tinymce/ui/Toolbar tinymce/ui/MenuBar tinymce/ui/MenuButton tinymce/ui/MenuItem tinymce/ui/Throbber tinymce/ui/Menu tinymce/ui/ListBox tinymce/ui/Radio tinymce/ui/ResizeHandle tinymce/ui/SelectBox tinymce/ui/Slider tinymce/ui/Spacer tinymce/ui/SplitButton tinymce/ui/StackLayout tinymce/ui/TabPanel tinymce/ui/TextBox".split(" "))}(this);
tinymce.PluginManager.add("advlist",function(a){function b(a,b){var c=[];return tinymce.each(b.split(/[ ,]/),function(a){c.push({text:a.replace(/\-/g," ").replace(/\b\w/g,function(a){return a.toUpperCase()}),data:"default"==a?"":a})}),c}function c(b,c){a.undoManager.transact(function(){var d,e=a.dom,f=a.selection;d=e.getParent(f.getNode(),"ol,ul"),d&&d.nodeName==b&&c!==!1||a.execCommand("UL"==b?"InsertUnorderedList":"InsertOrderedList"),c=c===!1?g[b]:c,g[b]=c,d=e.getParent(f.getNode(),"ol,ul"),d&&(e.setStyle(d,"listStyleType",c?c:null),d.removeAttribute("data-mce-style")),a.focus()})}function d(b){var c=a.dom.getStyle(a.dom.getParent(a.selection.getNode(),"ol,ul"),"listStyleType")||"";b.control.items().each(function(a){a.active(a.settings.data===c)})}var e,f,g={};e=b("OL",a.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),f=b("UL",a.getParam("advlist_bullet_styles","default,circle,disc,square")),a.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:e,onshow:d,onselect:function(a){c("OL",a.control.settings.data)},onclick:function(){c("OL",!1)}}),a.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:f,onshow:d,onselect:function(a){c("UL",a.control.settings.data)},onclick:function(){c("UL",!1)}})});tinymce.PluginManager.add("attach",function(a,n){function d(){function d(){if(!l&&0===b.text.length&&h){var a=this.value();this.parent().parent().find("#text")[0].value(a.substring(a.lastIndexOf("/")+1))}}var b={},k=a.selection,f=a.dom,g,c,l,h;g=k.getNode();c=f.getParent(g,"a[href].attach");h=function(a){var b=k.getContent();if(/</.test(b)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(b)||-1==b.indexOf("href=")))return!1;if(a){a=a.childNodes;if(0===a.length)return!1;for(b=a.length-1;0<=b;b--)if(3!=a[b].nodeType)return!1}return!0}();
b.text=l=c?c.innerText||c.textContent:k.getContent({format:"text"});b.href=c?f.getAttrib(c,"href"):"";a.windowManager.open({title:"Attach File",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"File/Link Url",onchange:function(a){(a.meta||{}).text||d.call(this)},onkeyup:d},{name:"text",type:"textbox",size:40,label:"Description",onchange:function(){b.text=this.value()}}],onSubmit:function(d){function g(b,c){var e=a.selection.getRng();tinymce.util.Delay.setEditorTimeout(a,
function(){a.windowManager.confirm(b,function(b){a.selection.setRng(e);c(b)})})}function m(){var d={href:e,target:"_blank","class":"attach",title:b.title?b.title:null};c?(a.focus(),h&&b.text!=l&&("innerText"in c?c.innerText=b.text:c.textContent=b.text),f.setAttribs(c,d),k.select(c),a.undoManager.add()):h?a.insertContent(f.createHTML("a",d,f.encode(b.text))):a.execCommand("mceInsertLink",!1,d)}var e;b=tinymce.extend(b,d.data);(e=b.href)?0<e.indexOf("@")&&-1==e.indexOf("//")&&-1==e.indexOf("mailto:")?
g("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(a){a&&(e="mailto:"+e);m()}):a.settings.link_assume_external_targets&&!/^\w+:/i.test(e)||!a.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(e)?g("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(a){a&&(e="http://"+e);m()}):m():a.execCommand("unlink")}})}a.addButton("attach",{icon:"attach",tooltip:"Attach File",onclick:d,
stateSelector:"a[href].attach"});a.addCommand("mceAttach",d);this.showDialog=d;a.addMenuItem("attach",{icon:"attach",text:"Attach File",onclick:d,stateSelector:"a[href].attach",context:"insert",prependToContext:!0})});
tinymce.PluginManager.add("image",function(a){function b(a,b){function c(a,c){d.parentNode&&d.parentNode.removeChild(d),b({width:a,height:c})}var d=document.createElement("img");d.onload=function(){c(Math.max(d.width,d.clientWidth),Math.max(d.height,d.clientHeight))},d.onerror=function(){c()};var e=d.style;e.visibility="hidden",e.position="fixed",e.bottom=e.left=0,e.width=e.height="auto",document.body.appendChild(d),d.src=a}function c(a,b,c){function d(a,c){return c=c||[],tinymce.each(a,function(a){var e={text:a.text||a.title};a.menu?e.menu=d(a.menu):(e.value=a.value,b(e)),c.push(e)}),c}return d(a,c||[])}function d(b){return function(){var c=a.settings.image_list;"string"==typeof c?tinymce.util.XHR.send({url:c,success:function(a){b(tinymce.util.JSON.parse(a))}}):"function"==typeof c?c(b):b(c)}}function e(d){function e(){var a,b,c,d;a=l.find("#width")[0],b=l.find("#height")[0],a&&b&&(c=a.value(),d=b.value(),l.find("#constrain")[0].checked()&&o&&p&&c&&d&&(o!=c?(d=Math.round(c/o*d),isNaN(d)||b.value(d)):(c=Math.round(d/p*c),isNaN(c)||a.value(c))),o=c,p=d)}function f(){function b(b){function c(){b.onload=b.onerror=null,a.selection&&(a.selection.select(b),a.nodeChanged())}b.onload=function(){s.width||s.height||!u||t.setAttribs(b,{width:b.clientWidth,height:b.clientHeight}),c()},b.onerror=c}var c,d;j(),e(),s=tinymce.extend(s,l.toJSON()),s.alt||(s.alt=""),s.title||(s.title=""),""===s.width&&(s.width=null),""===s.height&&(s.height=null),s.style||(s.style=null),s={src:s.src,alt:s.alt,title:s.title,width:s.width,height:s.height,style:s.style,caption:s.caption,"class":s["class"]},a.undoManager.transact(function(){function e(b){return a.schema.getTextBlockElements()[b.nodeName]}if(!s.src)return void(m&&(t.remove(m),a.focus(),a.nodeChanged()));if(""===s.title&&(s.title=null),m?t.setAttribs(m,s):(s.id="__mcenew",a.focus(),a.selection.setContent(t.createHTML("img",s)),m=t.get("__mcenew"),t.setAttrib(m,"id",null)),a.editorUpload.uploadImagesAuto(),s.caption===!1&&t.is(m.parentNode,"figure.image")&&(c=m.parentNode,t.insertAfter(m,c),t.remove(c)),s.caption!==!0)b(m);else if(!t.is(m.parentNode,"figure.image")){d=m,m=m.cloneNode(!0),c=t.create("figure",{"class":"image"}),c.appendChild(m),c.appendChild(t.create("figcaption",{contentEditable:!0},"Caption")),c.contentEditable=!1;var f=t.getParent(d,e);f?t.split(f,d,c):t.replace(c,d),a.selection.select(c)}})}function g(a){return a&&(a=a.replace(/px$/,"")),a}function h(c){var d,e,f,g=c.meta||{};q&&q.value(a.convertURL(this.value(),"src")),tinymce.each(g,function(a,b){l.find("#"+b).value(a)}),g.width||g.height||(d=a.convertURL(this.value(),"src"),e=a.settings.image_prepend_url,f=new RegExp("^(?:[a-z]+:)?//","i"),e&&!f.test(d)&&d.substring(0,e.length)!==e&&(d=e+d),this.value(d),b(a.documentBaseURI.toAbsolute(this.value()),function(a){a.width&&a.height&&u&&(o=a.width,p=a.height,l.find("#width").value(o),l.find("#height").value(p))}))}function i(a){if(a.margin){var b=a.margin.split(" ");switch(b.length){case 1:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[0],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[0];break;case 2:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[1];break;case 3:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[1];break;case 4:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[3]}delete a.margin}return a}function j(){function b(a){return a.length>0&&/^[0-9]+$/.test(a)&&(a+="px"),a}if(a.settings.image_advtab){var c=l.toJSON(),d=t.parseStyle(c.style);d=i(d),c.vspace&&(d["margin-top"]=d["margin-bottom"]=b(c.vspace)),c.hspace&&(d["margin-left"]=d["margin-right"]=b(c.hspace)),c.border&&(d["border-width"]=b(c.border)),l.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(d))))}}function k(){if(a.settings.image_advtab){var b=l.toJSON(),c=t.parseStyle(b.style);l.find("#vspace").value(""),l.find("#hspace").value(""),c=i(c),(c["margin-top"]&&c["margin-bottom"]||c["margin-right"]&&c["margin-left"])&&(c["margin-top"]===c["margin-bottom"]?l.find("#vspace").value(g(c["margin-top"])):l.find("#vspace").value(""),c["margin-right"]===c["margin-left"]?l.find("#hspace").value(g(c["margin-right"])):l.find("#hspace").value("")),c["border-width"]&&l.find("#border").value(g(c["border-width"])),l.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(c))))}}var l,m,n,o,p,q,r,s={},t=a.dom,u=a.settings.image_dimensions!==!1;m=a.selection.getNode(),n=t.getParent(m,"figure.image"),n&&(m=t.select("img",n)[0]),m&&("IMG"!=m.nodeName||m.getAttribute("data-mce-object")||m.getAttribute("data-mce-placeholder"))&&(m=null),m&&(o=t.getAttrib(m,"width"),p=t.getAttrib(m,"height"),s={src:t.getAttrib(m,"src"),alt:t.getAttrib(m,"alt"),title:t.getAttrib(m,"title"),"class":t.getAttrib(m,"class"),width:o,height:p,caption:!!n}),d&&(q={type:"listbox",label:"Image list",values:c(d,function(b){b.value=a.convertURL(b.value||b.url,"src")},[{text:"None",value:""}]),value:s.src&&a.convertURL(s.src,"src"),onselect:function(a){var b=l.find("#alt");(!b.value()||a.lastControl&&b.value()==a.lastControl.text())&&b.value(a.control.text()),l.find("#src").value(a.control.value()).fire("change")},onPostRender:function(){q=this}}),a.settings.image_class_list&&(r={name:"class",type:"listbox",label:"Class",values:c(a.settings.image_class_list,function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({inline:"img",classes:[b.value]})})})});var v=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:h},q];a.settings.image_description!==!1&&v.push({name:"alt",type:"textbox",label:"Image description"}),a.settings.image_title&&v.push({name:"title",type:"textbox",label:"Image Title"}),u&&v.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),v.push(r),a.settings.image_caption&&tinymce.Env.ceFalse&&v.push({name:"caption",type:"checkbox",label:"Caption"}),a.settings.image_advtab?(m&&(m.style.marginLeft&&m.style.marginRight&&m.style.marginLeft===m.style.marginRight&&(s.hspace=g(m.style.marginLeft)),m.style.marginTop&&m.style.marginBottom&&m.style.marginTop===m.style.marginBottom&&(s.vspace=g(m.style.marginTop)),m.style.borderWidth&&(s.border=g(m.style.borderWidth)),s.style=a.dom.serializeStyle(a.dom.parseStyle(a.dom.getAttrib(m,"style")))),l=a.windowManager.open({title:"Insert/edit image",data:s,bodyType:"tabpanel",body:[{title:"General",type:"form",items:v},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:k},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:j},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:f})):l=a.windowManager.open({title:"Insert/edit image",data:s,body:v,onSubmit:f})}a.on("preInit",function(){function b(a){var b=a.attr("class");return b&&/\bimage\b/.test(b)}function c(a){return function(c){function d(b){b.attr("contenteditable",a?"true":null)}for(var e,f=c.length;f--;)e=c[f],b(e)&&(e.attr("contenteditable",a?"false":null),tinymce.each(e.getAll("figcaption"),d))}}a.parser.addNodeFilter("figure",c(!0)),a.serializer.addNodeFilter("figure",c(!1))}),a.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:d(e),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),a.addMenuItem("image",{icon:"image",text:"Insert/edit image",onclick:d(e),context:"insert",prependToContext:!0}),a.addCommand("mceImage",d(e))});tinymce.PluginManager.add("charmap",function(a){function b(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["221","Y - acute"],["376","Y - diaeresis"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]}function c(a){return tinymce.util.Tools.grep(a,function(a){return i(a)&&2==a.length})}function d(a){return i(a)?[].concat(c(a)):"function"==typeof a?a():[]}function e(b){var c=a.settings;return c.charmap&&(b=d(c.charmap)),c.charmap_append?[].concat(b).concat(d(c.charmap_append)):b}function f(){return e(b())}function g(b){a.fire("insertCustomChar",{chr:b}).chr,a.execCommand("mceInsertContent",!1,b)}function h(){function b(a){for(;a;){if("TD"==a.nodeName)return a;a=a.parentNode}}var c,d,e,h;c='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var i=f(),j=Math.min(i.length,25),k=Math.ceil(i.length/j);for(e=0;k>e;e++){for(c+="<tr>",d=0;j>d;d++){var l=e*j+d;if(l<i.length){var m=i[l];c+='<td title="'+m[1]+'"><div tabindex="-1" title="'+m[1]+'" role="button">'+(m?String.fromCharCode(parseInt(m[0],10)):"&nbsp;")+"</div></td>"}else c+="<td />"}c+="</tr>"}c+="</tbody></table>";var n={type:"container",html:c,onclick:function(a){var c=a.target;/^(TD|DIV)$/.test(c.nodeName)&&b(c).firstChild&&(g(tinymce.trim(c.innerText||c.textContent)),a.ctrlKey||h.close())},onmouseover:function(a){var c=b(a.target);c&&c.firstChild?(h.find("#preview").text(c.firstChild.firstChild.data),h.find("#previewTitle").text(c.title)):(h.find("#preview").text(" "),h.find("#previewTitle").text(" "))}};h=a.windowManager.open({title:"Special character",spacing:10,padding:10,items:[n,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"label",name:"previewTitle",text:" ",style:"text-align: center",border:1,minWidth:140,minHeight:80}]}],buttons:[{text:"Close",onclick:function(){h.close()}}]})}var i=tinymce.util.Tools.isArray;return a.addCommand("mceShowCharmap",h),a.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),a.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"}),{getCharMap:f,insertChar:g}});tinymce.PluginManager.add("anchor",function(a){function b(){var b=a.selection.getNode(),c="",d="A"==b.tagName&&""===a.dom.getAttrib(b,"href");d&&(c=b.name||b.id||""),a.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:c},onsubmit:function(c){var e=c.data.name;d?b.id=e:(a.selection.collapse(!0),a.execCommand("mceInsertContent",!1,a.dom.createHTML("a",{id:e})))}})}a.addCommand("mceAnchor",b),a.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:b,stateSelector:"a:not([href])"}),a.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:b})});!function(){function a(a){return a&&1==a.nodeType&&"false"===a.contentEditable}function b(b,c,d,e,f){function g(a,b){if(b=b||0,!a[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var c=a.index;if(b>0){var d=a[b];if(!d)throw"Invalid capture group";c+=a[0].indexOf(d),a[0]=d}return[c,c+a[0].length,[a[0]]]}function h(b){var c;if(3===b.nodeType)return b.data;if(o[b.nodeName]&&!n[b.nodeName])return"";if(c="",a(b))return"\n";if((n[b.nodeName]||p[b.nodeName])&&(c+="\n"),b=b.firstChild)do c+=h(b);while(b=b.nextSibling);return c}function i(b,c,d){var e,f,g,h,i=[],j=0,k=b,l=c.shift(),m=0;a:for(;;){if((n[k.nodeName]||p[k.nodeName]||a(k))&&j++,3===k.nodeType&&(!f&&k.length+j>=l[1]?(f=k,h=l[1]-j):e&&i.push(k),!e&&k.length+j>l[0]&&(e=k,g=l[0]-j),j+=k.length),e&&f){if(k=d({startNode:e,startNodeIndex:g,endNode:f,endNodeIndex:h,innerNodes:i,match:l[2],matchIndex:m}),j-=f.length-h,e=null,f=null,i=[],l=c.shift(),m++,!l)break}else if(o[k.nodeName]&&!n[k.nodeName]||!k.firstChild){if(k.nextSibling){k=k.nextSibling;continue}}else if(!a(k)){k=k.firstChild;continue}for(;;){if(k.nextSibling){k=k.nextSibling;break}if(k.parentNode===b)break a;k=k.parentNode}}}function j(a){var b;if("function"!=typeof a){var c=a.nodeType?a:m.createElement(a);b=function(a,b){var d=c.cloneNode(!1);return d.setAttribute("data-mce-index",b),a&&d.appendChild(m.createTextNode(a)),d}}else b=a;return function(a){var c,d,e,f=a.startNode,g=a.endNode,h=a.matchIndex;if(f===g){var i=f;e=i.parentNode,a.startNodeIndex>0&&(c=m.createTextNode(i.data.substring(0,a.startNodeIndex)),e.insertBefore(c,i));var j=b(a.match[0],h);return e.insertBefore(j,i),a.endNodeIndex<i.length&&(d=m.createTextNode(i.data.substring(a.endNodeIndex)),e.insertBefore(d,i)),i.parentNode.removeChild(i),j}c=m.createTextNode(f.data.substring(0,a.startNodeIndex)),d=m.createTextNode(g.data.substring(a.endNodeIndex));for(var k=b(f.data.substring(a.startNodeIndex),h),l=[],n=0,o=a.innerNodes.length;o>n;++n){var p=a.innerNodes[n],q=b(p.data,h);p.parentNode.replaceChild(q,p),l.push(q)}var r=b(g.data.substring(0,a.endNodeIndex),h);return e=f.parentNode,e.insertBefore(c,f),e.insertBefore(k,f),e.removeChild(f),e=g.parentNode,e.insertBefore(r,g),e.insertBefore(d,g),e.removeChild(g),r}}var k,l,m,n,o,p,q=[],r=0;if(m=c.ownerDocument,n=f.getBlockElements(),o=f.getWhiteSpaceElements(),p=f.getShortEndedElements(),l=h(c)){if(b.global)for(;k=b.exec(l);)q.push(g(k,e));else k=l.match(b),q.push(g(k,e));return q.length&&(r=q.length,i(c,q,j(d))),r}}function c(a){function c(){function b(){f.statusbar.find("#next").disabled(!g(l+1).length),f.statusbar.find("#prev").disabled(!g(l-1).length)}function c(){a.windowManager.alert("Could not find the specified string.",function(){f.find("#find")[0].focus()})}var d,e={};d=tinymce.trim(a.selection.getContent({format:"text"}));var f=a.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){a.focus(),k.done()},onSubmit:function(a){var d,h,i,j;return a.preventDefault(),h=f.find("#case").checked(),j=f.find("#words").checked(),i=f.find("#find").value(),i.length?e.text==i&&e.caseState==h&&e.wholeWord==j?0===g(l+1).length?void c():(k.next(),void b()):(d=k.find(i,h,j),d||c(),f.statusbar.items().slice(1).disabled(0===d),b(),void(e={text:i,caseState:h,wholeWord:j})):(k.done(!1),void f.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){f.submit()}},{text:"Replace",disabled:!0,onclick:function(){k.replace(f.find("#replace").value())||(f.statusbar.items().slice(1).disabled(!0),l=-1,e={})}},{text:"Replace all",disabled:!0,onclick:function(){k.replace(f.find("#replace").value(),!0,!0),f.statusbar.items().slice(1).disabled(!0),e={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){k.prev(),b()}},{text:"Next",name:"next",disabled:!0,onclick:function(){k.next(),b()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:d},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function d(a){var b=a.getAttribute("data-mce-index");return"number"==typeof b?""+b:b}function e(c){var d,e;return e=a.dom.create("span",{"data-mce-bogus":1}),e.className="mce-match-marker",d=a.getBody(),k.done(!1),b(c,d,e,!1,a.schema)}function f(a){var b=a.parentNode;a.firstChild&&b.insertBefore(a.firstChild,a),a.parentNode.removeChild(a)}function g(b){var c,e=[];if(c=tinymce.toArray(a.getBody().getElementsByTagName("span")),c.length)for(var f=0;f<c.length;f++){var g=d(c[f]);null!==g&&g.length&&g===b.toString()&&e.push(c[f])}return e}function h(b){var c=l,d=a.dom;b=b!==!1,b?c++:c--,d.removeClass(g(l),"mce-match-marker-selected");var e=g(c);return e.length?(d.addClass(g(c),"mce-match-marker-selected"),a.selection.scrollIntoView(e[0]),c):-1}function i(b){var c=a.dom,d=b.parentNode;c.remove(b),c.isEmpty(d)&&c.remove(d)}function j(a){var b=d(a);return null!==b&&b.length>0}var k=this,l=-1;k.init=function(a){a.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:c,separator:"before",context:"edit"}),a.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:c}),a.addCommand("SearchReplace",c),a.shortcuts.add("Meta+F","",c)},k.find=function(a,b,c){a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a=c?"\\b"+a+"\\b":a;var d=e(new RegExp(a,b?"g":"gi"));return d&&(l=-1,l=h(!0)),d},k.next=function(){var a=h(!0);-1!==a&&(l=a)},k.prev=function(){var a=h(!1);-1!==a&&(l=a)},k.replace=function(b,c,e){var h,m,n,o,p,q,r=l;for(c=c!==!1,n=a.getBody(),m=tinymce.grep(tinymce.toArray(n.getElementsByTagName("span")),j),h=0;h<m.length;h++){var s=d(m[h]);if(o=p=parseInt(s,10),e||o===l){for(b.length?(m[h].firstChild.nodeValue=b,f(m[h])):i(m[h]);m[++h];){if(o=parseInt(d(m[h]),10),o!==p){h--;break}i(m[h])}c&&r--}else p>l&&m[h].setAttribute("data-mce-index",p-1)}return a.undoManager.add(),l=r,c?(q=g(r+1).length>0,k.next()):(q=g(r-1).length>0,k.prev()),!e&&q},k.done=function(b){var c,e,g,h;for(e=tinymce.toArray(a.getBody().getElementsByTagName("span")),c=0;c<e.length;c++){var i=d(e[c]);null!==i&&i.length&&(i===l.toString()&&(g||(g=e[c].firstChild),h=e[c].firstChild),f(e[c]))}if(g&&h){var j=a.dom.createRng();return j.setStart(g,0),j.setEnd(h,h.data.length),b!==!1&&a.selection.setRng(j),j}}}tinymce.PluginManager.add("searchreplace",c)}();tinymce.PluginManager.add("code",function(a){function b(){var b=a.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:a.getParam("code_dialog_width",600),minHeight:a.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(b){a.focus(),a.undoManager.transact(function(){a.setContent(b.data.code)}),a.selection.setCursorLocation(),a.nodeChanged()}});b.find("#code").value(a.getContent({source_view:!0}))}a.addCommand("mceCodeEditor",b),a.addButton("code",{icon:"code",tooltip:"Source code",onclick:b}),a.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:b})});tinymce.PluginManager.add("link",function(a){function k(r){return function(){var d=a.settings.link_list;"string"==typeof d?tinymce.util.XHR.send({url:d,success:function(a){r(tinymce.util.JSON.parse(a))}}):"function"==typeof d?d(r):r(d)}}function n(a,d,f){function b(a,e){e=e||[];tinymce.each(a,function(a){var c={text:a.text||a.title};a.menu?c.menu=b(a.menu):(c.value=a.value,d&&d(c));e.push(c)});return e}return b(a,f||[])}function f(f){function d(a){var b=q.find("#text");(!b.value()||a.lastControl&&
b.value()==a.lastControl.text())&&b.value(a.control.text());q.find("#href").value(a.control.value())}function k(){!t&&0===b.text.length&&l&&this.parent().parent().find("#text")[0].value(this.value())}var b={},p=a.selection,e=a.dom,g,c,t,q,l,u,m,v,w,x,y;g=p.getNode();c=e.getParent(g,"a[href]");l=function(a){var b=p.getContent();if(/</.test(b)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(b)||-1==b.indexOf("href=")))return!1;if(a){a=a.childNodes;if(0===a.length)return!1;for(b=a.length-1;0<=b;b--)if(3!=a[b].nodeType)return!1}return!0}();
b.text=t=c?c.innerText||c.textContent:p.getContent({format:"text"});b.href=c?e.getAttrib(c,"href"):"";c?b.target=e.getAttrib(c,"target"):a.settings.default_link_target&&(b.target=a.settings.default_link_target);if(g=e.getAttrib(c,"rel"))b.rel=g;if(g=e.getAttrib(c,"class"))b["class"]=g;if(g=e.getAttrib(c,"title"))b.title=g;l&&(u={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){b.text=this.value()}});f&&(m={type:"listbox",label:"Link list",values:n(f,function(b){b.value=
a.convertURL(b.value||b.url,"href")},[{text:"None",value:""}]),onselect:d,value:a.convertURL(b.href,"href"),onPostRender:function(){m=this}});!1!==a.settings.target_list&&(a.settings.target_list||(a.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),w={name:"target",type:"listbox",label:"Target",values:n(a.settings.target_list)});a.settings.rel_list&&(v={name:"rel",type:"listbox",label:"Rel",values:n(a.settings.rel_list)});a.settings.link_class_list&&(x={name:"class",
type:"listbox",label:"Class",values:n(a.settings.link_class_list,function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[b.value]})})})});!1!==a.settings.link_title&&(y={name:"title",type:"textbox",label:"Title",value:b.title});q=a.windowManager.open({title:"Insert link",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(b){var c=b.meta||{};m&&m.value(a.convertURL(this.value(),"href"));tinymce.each(b.meta,
function(a,b){q.find("#"+b).value(a)});c.text||k.call(this)},onkeyup:k},u,y,function(b){var c=[];tinymce.each(a.dom.select("a:not([href])"),function(a){(a=a.name||a.id)&&c.push({text:a,value:"#"+a,selected:-1!=b.indexOf("#"+a)})});if(c.length)return c.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:c,onselect:d}}(b.href),m,v,w,x],onSubmit:function(d){function f(b,c){var e=a.selection.getRng();tinymce.util.Delay.setEditorTimeout(a,function(){a.windowManager.confirm(b,
function(b){a.selection.setRng(e);c(b)})})}function g(){var d={href:h,target:b.target?b.target:null,rel:b.rel?b.rel:null,"class":b["class"]?b["class"]:null,title:b.title?b.title:null};c?(a.focus(),l&&b.text!=t&&("innerText"in c?c.innerText=b.text:c.textContent=b.text),e.setAttribs(c,d),p.select(c),a.undoManager.add()):l?a.insertContent(e.createHTML("a",d,e.encode(b.text))):a.execCommand("mceInsertLink",!1,d)}var h;b=tinymce.extend(b,d.data);(h=b.href)?0<h.indexOf("@")&&-1==h.indexOf("//")&&-1==h.indexOf("mailto:")?
f("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(a){a&&(h="mailto:"+h);g()}):a.settings.link_assume_external_targets&&!/^\w+:/i.test(h)||!a.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(h)?f("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(a){a&&(h="http://"+h);g()}):g():a.execCommand("unlink")}})}a.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",
onclick:k(f),stateSelector:"a[href]"});a.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"});a.addShortcut("Meta+K","",k(f));a.addCommand("mceLink",k(f));this.showDialog=f;a.addMenuItem("link",{icon:"link",text:"Insert/edit link",shortcut:"Meta+K",onclick:k(f),stateSelector:"a[href]",context:"insert",prependToContext:!0})});
tinymce.PluginManager.add("textcolor",function(a){function b(b){var c;return a.dom.getParents(a.selection.getStart(),function(a){var d;(d=a.style["forecolor"==b?"color":"background-color"])&&(c=d)}),c}function c(b){var c,d,e=[];for(d=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],d=a.settings.textcolor_map||d,d=a.settings[b+"_map"]||d,c=0;c<d.length;c+=2)e.push({text:d[c+1],color:"#"+d[c]});return e}function d(){function b(a,b){var c="transparent"==a;return'<td class="mce-grid-cell'+(c?" mce-colorbtn-trans":"")+'"><div id="'+o+"-"+p++ +'" data-mce-color="'+(a?a:"")+'" role="option" tabIndex="-1" style="'+(a?"background-color: "+a:"")+'" title="'+tinymce.translate(b)+'">'+(c?"&#215;":"")+"</div></td>"}var d,e,f,g,h,k,l,m,n=this,o=n._id,p=0;for(m=n.settings.origin,d=c(m),d.push({text:tinymce.translate("No color"),color:"transparent"}),f='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',g=d.length-1,k=0;k<j[m];k++){for(f+="<tr>",h=0;h<i[m];h++)l=k*i[m]+h,l>g?f+="<td></td>":(e=d[l],f+=b(e.color,e.text));f+="</tr>"}if(a.settings.color_picker_callback){for(f+='<tr><td colspan="'+i[m]+'" class="mce-custom-color-btn"><div id="'+o+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+o+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+tinymce.translate("Custom...")+"</button></div></td></tr>",f+="<tr>",h=0;h<i[m];h++)f+=b("","Custom color");f+="</tr>"}return f+="</tbody></table>"}function e(b,c){a.undoManager.transact(function(){a.focus(),a.formatter.apply(b,{value:c}),a.nodeChanged()})}function f(b){a.undoManager.transact(function(){a.focus(),a.formatter.remove(b,{value:null},null,!0),a.nodeChanged()})}function g(c){function d(a){l.hidePanel(),l.color(a),e(l.settings.format,a)}function g(){l.hidePanel(),l.resetColor(),f(l.settings.format)}function h(a,b){a.style.background=b,a.setAttribute("data-mce-color",b)}var j,k,l=this.parent();k=l.settings.origin,tinymce.DOM.getParent(c.target,".mce-custom-color-btn")&&(l.hidePanel(),a.settings.color_picker_callback.call(a,function(a){var b,c,e,f=l.panel.getEl().getElementsByTagName("table")[0];for(b=tinymce.map(f.rows[f.rows.length-1].childNodes,function(a){return a.firstChild}),e=0;e<b.length&&(c=b[e],c.getAttribute("data-mce-color"));e++);if(e==i[k])for(e=0;e<i[k]-1;e++)h(b[e],b[e+1].getAttribute("data-mce-color"));h(c,a),d(a)},b(l.settings.format))),j=c.target.getAttribute("data-mce-color"),j?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),c.target.setAttribute("aria-selected",!0),this.lastId=c.target.id,"transparent"==j?g():d(j)):null!==j&&l.hidePanel()}function h(){var a=this;a._color?e(a.settings.format,a._color):f(a.settings.format)}var i,j;j={forecolor:a.settings.forecolor_rows||a.settings.textcolor_rows||5,backcolor:a.settings.backcolor_rows||a.settings.textcolor_rows||5},i={forecolor:a.settings.forecolor_cols||a.settings.textcolor_cols||8,backcolor:a.settings.backcolor_cols||a.settings.textcolor_cols||8},a.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:d,onclick:g},onclick:h}),a.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:d,onclick:g},onclick:h})});tinymce.PluginManager.add("media",function(a,b){function c(a){return a=a.toLowerCase(),-1!=a.indexOf(".mp3")?"audio/mpeg":-1!=a.indexOf(".wav")?"audio/wav":-1!=a.indexOf(".mp4")?"video/mp4":-1!=a.indexOf(".webm")?"video/webm":-1!=a.indexOf(".ogg")?"video/ogg":-1!=a.indexOf(".swf")?"application/x-shockwave-flash":""}function d(b){var c=a.settings.media_scripts;if(c)for(var d=0;d<c.length;d++)if(-1!==b.indexOf(c[d].filter))return c[d]}function e(){function b(a){var b,c,f,g;b=d.find("#width")[0],c=d.find("#height")[0],f=b.value(),g=c.value(),d.find("#constrain")[0].checked()&&e&&j&&f&&g&&(a.control==b?(g=Math.round(f/e*g),isNaN(g)||c.value(g)):(f=Math.round(g/j*f),isNaN(f)||b.value(f))),e=f,j=g}function c(){k=h(this.value()),this.parent().parent().fromJSON(k)}var d,e,j,k,l=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onchange:function(a){tinymce.each(a.meta,function(a,b){d.find("#"+b).value(a)})}}];a.settings.media_alt_source!==!1&&l.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),a.settings.media_poster!==!1&&l.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),a.settings.media_dimensions!==!1&&l.push({type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:b,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:b,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),k=i(a.selection.getNode()),e=k.width,j=k.height;var m={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:f(),multiline:!0,label:"Source"};m[p]=c,d=a.windowManager.open({title:"Insert/edit video",data:k,bodyType:"tabpanel",body:[{title:"General",type:"form",onShowTab:function(){k=h(this.next().find("#embed").value()),this.fromJSON(k)},items:l},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,onShowTab:function(){this.find("#embed").value(g(this.parent().toJSON()))},items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},m]}],onSubmit:function(){var b,c,d,e;for(b=a.dom.select("img[data-mce-object]"),a.insertContent(g(this.toJSON())),c=a.dom.select("img[data-mce-object]"),d=0;d<b.length;d++)for(e=c.length-1;e>=0;e--)b[d]==c[e]&&c.splice(e,1);a.selection.select(c[0]),a.nodeChanged()}})}function f(){var b=a.selection.getNode();return b.getAttribute("data-mce-object")?a.selection.getContent():void 0}function g(e){var f="";if(!e.source1&&(tinymce.extend(e,h(e.embed)),!e.source1))return"";if(e.source2||(e.source2=""),e.poster||(e.poster=""),e.source1=a.convertURL(e.source1,"source"),e.source2=a.convertURL(e.source2,"source"),e.source1mime=c(e.source1),e.source2mime=c(e.source2),e.poster=a.convertURL(e.poster,"poster"),e.flashPlayerUrl=a.convertURL(b+"/moxieplayer.swf","movie"),tinymce.each(o,function(a){var b,c,d;if(b=a.regex.exec(e.source1)){for(d=a.url,c=0;b[c];c++)d=d.replace("$"+c,function(){return b[c]});e.source1=d,e.type=a.type,e.allowFullscreen=a.allowFullscreen,e.width=e.width||a.w,e.height=e.height||a.h}}),e.embed)f=k(e.embed,e,!0);else{var g=d(e.source1);if(g&&(e.type="script",e.width=g.width,e.height=g.height),e.width=e.width||300,e.height=e.height||150,tinymce.each(e,function(b,c){e[c]=a.dom.encode(b)}),"iframe"==e.type){var i=e.allowFullscreen?' allowFullscreen="1"':"";f+='<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+i+"></iframe>"}else"application/x-shockwave-flash"==e.source1mime?(f+='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">',e.poster&&(f+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),f+="</object>"):-1!=e.source1mime.indexOf("audio")?a.settings.audio_template_callback?f=a.settings.audio_template_callback(e):f+='<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>":"script"==e.type?f+='<script src="'+e.source1+'"></script>':f=a.settings.video_template_callback?a.settings.video_template_callback(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"}return f}function h(a){var b={};return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(a,c){if(b.source1||"param"!=a||(b.source1=c.map.movie),"iframe"!=a&&"object"!=a&&"embed"!=a&&"video"!=a&&"audio"!=a||(b.type||(b.type=a),b=tinymce.extend(c.map,b)),"script"==a){var e=d(c.map.src);if(!e)return;b={type:"script",source1:c.map.src,width:e.width,height:e.height}}"source"==a&&(b.source1?b.source2||(b.source2=c.map.src):b.source1=c.map.src),"img"!=a||b.poster||(b.poster=c.map.src)}}).parse(a),b.source1=b.source1||b.src||b.data,b.source2=b.source2||"",b.poster=b.poster||"",b}function i(b){return b.getAttribute("data-mce-object")?h(a.serializer.serialize(b,{selection:!0})):{}}function j(b){if(a.settings.media_filter_html===!1)return b;var c,d=new tinymce.html.Writer;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(a){d.comment(a)},cdata:function(a){d.cdata(a)},text:function(a,b){d.text(a,b)},start:function(b,e,f){if(c=!0,"script"!=b&&"noscript"!=b){for(var g=0;g<e.length;g++){if(0===e[g].name.indexOf("on"))return;"style"==e[g].name&&(e[g].value=a.dom.serializeStyle(a.dom.parseStyle(e[g].value),b))}d.start(b,e,f),c=!1}},end:function(a){c||d.end(a)}},new tinymce.html.Schema({})).parse(b),d.getContent()}function k(a,b,c){function d(a,b){var c,d,e,f;for(c in b)if(e=""+b[c],a.map[c])for(d=a.length;d--;)f=a[d],f.name==c&&(e?(a.map[c]=e,f.value=e):(delete a.map[c],a.splice(d,1)));else e&&(a.push({name:c,value:e}),a.map[c]=e)}var e,f=new tinymce.html.Writer,g=0;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(a){f.comment(a)},cdata:function(a){f.cdata(a)},text:function(a,b){f.text(a,b)},start:function(a,h,i){switch(a){case"video":case"object":case"embed":case"img":case"iframe":d(h,{width:b.width,height:b.height})}if(c)switch(a){case"video":d(h,{poster:b.poster,src:""}),b.source2&&d(h,{src:""});break;case"iframe":d(h,{src:b.source1});break;case"source":if(g++,2>=g&&(d(h,{src:b["source"+g],type:b["source"+g+"mime"]}),!b["source"+g]))return;break;case"img":if(!b.poster)return;e=!0}f.start(a,h,i)},end:function(a){if("video"==a&&c)for(var h=1;2>=h;h++)if(b["source"+h]){var i=[];i.map={},h>g&&(d(i,{src:b["source"+h],type:b["source"+h+"mime"]}),f.start("source",i,!0))}if(b.poster&&"object"==a&&c&&!e){var j=[];j.map={},d(j,{src:b.poster,width:b.width,height:b.height}),f.start("img",j,!0)}f.end(a)}},new tinymce.html.Schema({})).parse(a),f.getContent()}function l(b,c){var d,e,f,g,h;for(f=b.attributes,g=f.length;g--;)d=f[g].name,e=f[g].value,"width"!==d&&"height"!==d&&"style"!==d&&("data"!=d&&"src"!=d||(e=a.convertURL(e,d)),c.attr("data-mce-p-"+d,e));h=b.firstChild&&b.firstChild.value,h&&(c.attr("data-mce-html",escape(h)),c.firstChild=null)}function m(a){var b,c=a.name;return b=new tinymce.html.Node("img",1),b.shortEnded=!0,l(a,b),b.attr({width:a.attr("width")||"300",height:a.attr("height")||("audio"==c?"30":"150"),style:a.attr("style"),src:tinymce.Env.transparentSrc,"data-mce-object":c,"class":"mce-object mce-object-"+c}),b}function n(a){var b,c,d,e=a.name;return b=new tinymce.html.Node("span",1),b.attr({contentEditable:"false",style:a.attr("style"),"data-mce-object":e,"class":"mce-preview-object mce-object-"+e}),l(a,b),c=new tinymce.html.Node(e,1),c.attr({src:a.attr("src"),allowfullscreen:a.attr("allowfullscreen"),width:a.attr("width")||"300",height:a.attr("height")||("audio"==e?"30":"150"),frameborder:"0"}),d=new tinymce.html.Node("span",1),d.attr("class","mce-shim"),b.append(c),b.append(d),b}var o=[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],p=tinymce.Env.ie&&tinymce.Env.ie<=8?"onChange":"onInput";a.on("ResolveName",function(a){var b;1==a.target.nodeType&&(b=a.target.getAttribute("data-mce-object"))&&(a.name=b)}),a.on("preInit",function(){var b=a.schema.getSpecialElements();tinymce.each("video audio iframe object".split(" "),function(a){b[a]=new RegExp("</"+a+"[^>]*>","gi")});var c=a.schema.getBoolAttrs();tinymce.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(a){c[a]={}}),a.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(b){for(var c,e,f,g=b.length;g--;)c=b[g],c.parent&&(c.parent.attr("data-mce-object")||("script"!=c.name||(f=d(c.attr("src"))))&&(f&&(f.width&&c.attr("width",f.width.toString()),f.height&&c.attr("height",f.height.toString())),e="iframe"==c.name&&a.settings.media_live_embeds!==!1&&tinymce.Env.ceFalse?n(c):m(c),c.replace(e)))}),a.serializer.addAttributeFilter("data-mce-object",function(a,b){for(var c,d,e,f,g,h,i,k,l=a.length;l--;)if(c=a[l],c.parent){for(i=c.attr(b),d=new tinymce.html.Node(i,1),"audio"!=i&&"script"!=i&&(k=c.attr("class"),k&&-1!==k.indexOf("mce-preview-object")?d.attr({width:c.firstChild.attr("width"),height:c.firstChild.attr("height")}):d.attr({width:c.attr("width"),height:c.attr("height")})),d.attr({style:c.attr("style")}),f=c.attributes,e=f.length;e--;){var m=f[e].name;0===m.indexOf("data-mce-p-")&&d.attr(m.substr(11),f[e].value)}"script"==i&&d.attr("type","text/javascript"),g=c.attr("data-mce-html"),g&&(h=new tinymce.html.Node("#text",3),h.raw=!0,h.value=j(unescape(g)),d.append(h)),c.replace(d)}})}),a.on("click keyup",function(){var b=a.selection.getNode();b&&a.dom.hasClass(b,"mce-preview-object")&&a.dom.getAttrib(b,"data-mce-selected")&&b.setAttribute("data-mce-selected","2")}),a.on("ObjectSelected",function(a){var b=a.target.getAttribute("data-mce-object");"audio"!=b&&"script"!=b||a.preventDefault()}),a.on("objectResized",function(a){var b,c=a.target;c.getAttribute("data-mce-object")&&(b=c.getAttribute("data-mce-html"),b&&(b=unescape(b),c.setAttribute("data-mce-html",escape(k(b,{width:a.width,height:a.height})))))}),a.addButton("media",{tooltip:"Insert/edit video",onclick:e,stateSelector:["img[data-mce-object]","span[data-mce-object]"]}),a.addMenuItem("media",{icon:"media",text:"Insert/edit video",onclick:e,context:"insert",prependToContext:!0}),a.on("setContent",function(){a.$("span.mce-preview-object").each(function(b,c){var d=a.$(c);0===d.find("span.mce-shim",c).length&&d.append('<span class="mce-shim"></span>')})}),a.addCommand("mceMedia",e),this.showDialog=e});!function(a,b){"use strict";function c(a,b){for(var c,d=[],g=0;g<a.length;++g){if(c=f[a[g]]||e(a[g]),!c)throw"module definition dependecy not found: "+a[g];d.push(c)}b.apply(null,d)}function d(a,d,e){if("string"!=typeof a)throw"invalid module definition, module id must be defined and be a string";if(d===b)throw"invalid module definition, dependencies must be specified";if(e===b)throw"invalid module definition, definition function must be specified";c(d,function(){f[a]=e.apply(null,arguments)})}function e(b){for(var c=a,d=b.split(/[.\/]/),e=0;e<d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}var f={};d("tinymce/tableplugin/Utils",["tinymce/Env"],function(a){function b(a,b){return parseInt(a.getAttribute(b)||1,10)}function c(b){(!a.ie||a.ie>9)&&(b.hasChildNodes()||(b.innerHTML='<br data-mce-bogus="1" />'))}return{getSpanVal:b,paddCell:c}}),d("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils"],function(a,c,d){var e=a.each,f=d.getSpanVal;return function(g,h,i){function j(){g.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function k(a){return a===g.getBody()}function l(b,c){return b?(c=a.map(c.split(","),function(a){return a.toLowerCase()}),a.grep(b.childNodes,function(b){return-1!==a.inArray(c,b.nodeName.toLowerCase())})):[]}function m(){var a=0;O=[],P=0,e(["thead","tbody","tfoot"],function(b){var c=l(h,b)[0],d=l(c,"tr");e(d,function(c,d){d+=a,e(l(c,"td,th"),function(a,c){var e,g,h,i;if(O[d])for(;O[d][c];)c++;for(h=f(a,"rowspan"),i=f(a,"colspan"),g=d;d+h>g;g++)for(O[g]||(O[g]=[]),e=c;c+i>e;e++)O[g][e]={part:b,real:g==d&&e==c,elm:a,rowspan:h,colspan:i};P=Math.max(P,c+1)})}),a+=d.length})}function n(a){return g.fire("newrow",{node:a}),a}function o(a){return g.fire("newcell",{node:a}),a}function p(a,b){return a=a.cloneNode(b),a.removeAttribute("id"),a}function q(a,b){var c;return c=O[b],c?c[a]:void 0}function r(a,b,c){a&&(c=parseInt(c,10),1===c?a.removeAttribute(b,1):a.setAttribute(b,c,1))}function s(a){return a&&(!!T.getAttrib(a.elm,"data-mce-selected")||a==i)}function t(){var a=[];return e(h.rows,function(b){e(b.cells,function(c){return T.getAttrib(c,"data-mce-selected")||i&&c==i.elm?(a.push(b),!1):void 0})}),a}function u(){var a=T.createRng();k(h)||(a.setStartAfter(h),a.setEndAfter(h),S.setRng(a),T.remove(h))}function v(b){var f,h={};return g.settings.table_clone_elements!==!1&&(h=a.makeMap((g.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),a.walk(b,function(a){var d;return 3==a.nodeType?(e(T.getParents(a.parentNode,null,b).reverse(),function(a){h[a.nodeName]&&(a=p(a,!1),f?d&&d.appendChild(a):f=d=a,d=a)}),d&&(d.innerHTML=c.ie&&c.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),b=p(b,!1),o(b),r(b,"rowSpan",1),r(b,"colSpan",1),f?b.appendChild(f):d.paddCell(b),b}function w(){var a,b=T.createRng();return e(T.select("tr",h),function(a){0===a.cells.length&&T.remove(a)}),0===T.select("tr",h).length?(b.setStartBefore(h),b.setEndBefore(h),S.setRng(b),void T.remove(h)):(e(T.select("thead,tbody,tfoot",h),function(a){0===a.rows.length&&T.remove(a)}),m(),void(Q&&(a=O[Math.min(O.length-1,Q.y)],a&&(S.select(a[Math.min(a.length-1,Q.x)].elm,!0),S.collapse(!0)))))}function x(a,b,c,d){var e,f,g,h,i;for(e=O[b][a].elm.parentNode,g=1;c>=g;g++)if(e=T.getNext(e,"tr")){for(f=a;f>=0;f--)if(i=O[b+g][f].elm,i.parentNode==e){for(h=1;d>=h;h++)T.insertAfter(v(i),i);break}if(-1==f)for(h=1;d>=h;h++)e.insertBefore(v(e.cells[0]),e.cells[0])}}function y(){e(O,function(a,b){e(a,function(a,c){var d,e,g;if(s(a)&&(a=a.elm,d=f(a,"colspan"),e=f(a,"rowspan"),d>1||e>1)){for(r(a,"rowSpan",1),r(a,"colSpan",1),g=0;d-1>g;g++)T.insertAfter(v(a),a);x(c,b,e-1,d)}})})}function z(b,c,d){var f,g,h,i,j,k,l,n,o,p,t;if(b?(f=J(b),g=f.x,h=f.y,i=g+(c-1),j=h+(d-1)):(Q=R=null,e(O,function(a,b){e(a,function(a,c){s(a)&&(Q||(Q={x:c,y:b}),R={x:c,y:b})})}),Q&&(g=Q.x,h=Q.y,i=R.x,j=R.y)),n=q(g,h),o=q(i,j),n&&o&&n.part==o.part){for(y(),m(),n=q(g,h).elm,r(n,"colSpan",i-g+1),r(n,"rowSpan",j-h+1),l=h;j>=l;l++)for(k=g;i>=k;k++)O[l]&&O[l][k]&&(b=O[l][k].elm,b!=n&&(p=a.grep(b.childNodes),e(p,function(a){n.appendChild(a)}),p.length&&(p=a.grep(n.childNodes),t=0,e(p,function(a){"BR"==a.nodeName&&t++<p.length-1&&n.removeChild(a)})),T.remove(b)));w()}}function A(a){var c,d,g,h,i,j,k,l,m,o;if(e(O,function(b,d){return e(b,function(b){return s(b)&&(b=b.elm,i=b.parentNode,j=n(p(i,!1)),c=d,a)?!1:void 0}),a?!c:void 0}),c!==b){for(h=0,o=0;h<O[0].length;h+=o)if(O[c][h]&&(d=O[c][h].elm,o=f(d,"colspan"),d!=g)){if(a){if(c>0&&O[c-1][h]&&(l=O[c-1][h].elm,m=f(l,"rowSpan"),m>1)){r(l,"rowSpan",m+1);continue}}else if(m=f(d,"rowspan"),m>1){r(d,"rowSpan",m+1);continue}k=v(d),r(k,"colSpan",d.colSpan),j.appendChild(k),g=d}j.hasChildNodes()&&(a?i.parentNode.insertBefore(j,i):T.insertAfter(j,i))}}function B(a){var b,c;e(O,function(c){return e(c,function(c,d){return s(c)&&(b=d,a)?!1:void 0}),a?!b:void 0}),e(O,function(d,e){var g,h,i;d[b]&&(g=d[b].elm,g!=c&&(i=f(g,"colspan"),h=f(g,"rowspan"),1==i?a?(g.parentNode.insertBefore(v(g),g),x(b,e,h-1,i)):(T.insertAfter(v(g),g),x(b,e,h-1,i)):r(g,"colSpan",g.colSpan+1),c=g))})}function C(b){return a.grep(D(b),s)}function D(a){var b=[];return e(a,function(a){e(a,function(a){b.push(a)})}),b}function E(){var b=[];if(k(h)){if(1==O[0].length)return;if(C(O).length==D(O).length)return}e(O,function(c){e(c,function(c,d){s(c)&&-1===a.inArray(b,d)&&(e(O,function(a){var b,c=a[d].elm;b=f(c,"colSpan"),b>1?r(c,"colSpan",b-1):T.remove(c)}),b.push(d))})}),w()}function F(){function a(a){var b,c;e(a.cells,function(a){var c=f(a,"rowSpan");c>1&&(r(a,"rowSpan",c-1),b=J(a),x(b.x,b.y,1,1))}),b=J(a.cells[0]),e(O[b.y],function(a){var b;a=a.elm,a!=c&&(b=f(a,"rowSpan"),1>=b?T.remove(a):r(a,"rowSpan",b-1),c=a)})}var b;b=t(),k(h)&&b.length==h.rows.length||(e(b.reverse(),function(b){a(b)}),w())}function G(){var a=t();if(!k(h)||a.length!=h.rows.length)return T.remove(a),w(),a}function H(){var a=t();return e(a,function(b,c){a[c]=p(b,!0)}),a}function I(a,b){var c=t(),d=c[b?0:c.length-1],f=d.cells.length;a&&(e(O,function(a){var b;return f=0,e(a,function(a){a.real&&(f+=a.colspan),a.elm.parentNode==d&&(b=1)}),b?!1:void 0}),b||a.reverse(),e(a,function(a){var c,e,g=a.cells.length;for(n(a),c=0;g>c;c++)e=a.cells[c],o(e),r(e,"colSpan",1),r(e,"rowSpan",1);for(c=g;f>c;c++)a.appendChild(o(v(a.cells[g-1])));for(c=f;g>c;c++)T.remove(a.cells[c]);b?d.parentNode.insertBefore(a,d):T.insertAfter(a,d)}),j())}function J(a){var b;return e(O,function(c,d){return e(c,function(c,e){return c.elm==a?(b={x:e,y:d},!1):void 0}),!b}),b}function K(a){Q=J(a)}function L(){var a,b;return a=b=0,e(O,function(c,d){e(c,function(c,e){var f,g;s(c)&&(c=O[d][e],e>a&&(a=e),d>b&&(b=d),c.real&&(f=c.colspan-1,g=c.rowspan-1,f&&e+f>a&&(a=e+f),g&&d+g>b&&(b=d+g)))})}),{x:a,y:b}}function M(a){var b,c,d,e,f,g,h,i,k,l;if(R=J(a),Q&&R){for(b=Math.min(Q.x,R.x),c=Math.min(Q.y,R.y),d=Math.max(Q.x,R.x),e=Math.max(Q.y,R.y),f=d,g=e,l=c;e>=l;l++)for(k=b;d>=k;k++)a=O[l][k],a.real&&(h=a.colspan-1,i=a.rowspan-1,h&&k+h>f&&(f=k+h),i&&l+i>g&&(g=l+i));for(j(),l=c;g>=l;l++)for(k=b;f>=k;k++)O[l][k]&&T.setAttrib(O[l][k].elm,"data-mce-selected","1")}}function N(a,b){var c,d,e;c=J(a),d=c.y*P+c.x;do{if(d+=b,e=q(d%P,Math.floor(d/P)),!e)break;if(e.elm!=a)return S.select(e.elm,!0),T.isEmpty(e.elm)&&S.collapse(!0),!0}while(e.elm==a);return!1}var O,P,Q,R,S=g.selection,T=S.dom;h=h||T.getParent(S.getStart(!0),"table"),m(),i=i||T.getParent(S.getStart(!0),"th,td"),i&&(Q=J(i),R=L(),i=q(Q.x,Q.y)),a.extend(this,{deleteTable:u,split:y,merge:z,insertRow:A,insertCol:B,deleteCols:E,deleteRows:F,cutRows:G,copyRows:H,pasteRows:I,getPos:J,setStartCell:K,setEndCell:M,moveRelIdx:N,refresh:m})}}),d("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(a,b,c,d,e){var f=d.each,g=e.getSpanVal;return function(h){function i(){function c(c){function d(a,b){var d=a?"previousSibling":"nextSibling",f=h.dom.getParent(b,"tr"),g=f[d];if(g)return r(h,b,g,a),c.preventDefault(),!0;var i=h.dom.getParent(f,"table"),l=f.parentNode,m=l.nodeName.toLowerCase();if("tbody"===m||m===(a?"tfoot":"thead")){var n=e(a,i,l,"tbody");if(null!==n)return j(a,n,b)}return k(a,f,d,i)}function e(a,b,c,d){var e=h.dom.select(">"+d,b),f=e.indexOf(c);if(a&&0===f||!a&&f===e.length-1)return i(a,b);if(-1===f){var g="thead"===c.tagName.toLowerCase()?0:e.length-1;return e[g]}return e[f+(a?-1:1)]}function i(a,b){var c=a?"thead":"tfoot",d=h.dom.select(">"+c,b);return 0!==d.length?d[0]:null}function j(a,b,d){var e=l(b,a);return e&&r(h,d,e,a),c.preventDefault(),!0}function k(a,b,e,f){var g=f[e];if(g)return m(g),!0;var i=h.dom.getParent(f,"td,th");if(i)return d(a,i,c);var j=l(b,!a);return m(j),c.preventDefault(),!1}function l(a,b){var c=a&&a[b?"lastChild":"firstChild"];return c&&"BR"===c.nodeName?h.dom.getParent(c,"td,th"):c}function m(a){h.selection.setCursorLocation(a,0)}function n(){return u==a.UP||u==a.DOWN}function o(a){var b=a.selection.getNode(),c=a.dom.getParent(b,"tr");return null!==c}function p(a){for(var b=0,c=a;c.previousSibling;)c=c.previousSibling,b+=g(c,"colspan");return b}function q(a,b){var c=0,d=0;return f(a.children,function(a,e){return c+=g(a,"colspan"),d=e,c>b?!1:void 0}),d}function r(a,b,c,d){var e=p(h.dom.getParent(b,"td,th")),f=q(c,e),g=c.childNodes[f],i=l(g,d);m(i||g)}function s(a){var b=h.selection.getNode(),c=h.dom.getParent(b,"td,th"),d=h.dom.getParent(a,"td,th");return c&&c!==d&&t(c,d)}function t(a,b){return h.dom.getParent(a,"TABLE")===h.dom.getParent(b,"TABLE")}var u=c.keyCode;if(n()&&o(h)){var v=h.selection.getNode();b.setEditorTimeout(h,function(){s(v)&&d(!c.shiftKey&&u===a.UP,v,c)},0)}}h.on("KeyDown",function(a){c(a)})}function j(){function a(a,b){var c,d=b.ownerDocument,e=d.createRange();return e.setStartBefore(b),e.setEnd(a.endContainer,a.endOffset),c=d.createElement("body"),c.appendChild(e.cloneContents()),0===c.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}h.on("KeyDown",function(b){var c,d,e=h.dom;37!=b.keyCode&&38!=b.keyCode||(c=h.selection.getRng(),d=e.getParent(c.startContainer,"table"),d&&h.getBody().firstChild==d&&a(c,d)&&(c=e.createRng(),c.setStartBefore(d),c.setEndBefore(d),h.selection.setRng(c),b.preventDefault()))})}function k(){h.on("KeyDown SetContent VisualAid",function(){var a;for(a=h.getBody().lastChild;a;a=a.previousSibling)if(3==a.nodeType){if(a.nodeValue.length>0)break}else if(1==a.nodeType&&("BR"==a.tagName||!a.getAttribute("data-mce-bogus")))break;a&&"TABLE"==a.nodeName&&(h.settings.forced_root_block?h.dom.add(h.getBody(),h.settings.forced_root_block,h.settings.forced_root_block_attrs,c.ie&&c.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):h.dom.add(h.getBody(),"br",{"data-mce-bogus":"1"}))}),h.on("PreProcess",function(a){var b=a.node.lastChild;b&&("BR"==b.nodeName||1==b.childNodes.length&&("BR"==b.firstChild.nodeName||"\xa0"==b.firstChild.nodeValue))&&b.previousSibling&&"TABLE"==b.previousSibling.nodeName&&h.dom.remove(b)})}function l(){function a(a,b,c,d){var e,f,g,h=3,i=a.dom.getParent(b.startContainer,"TABLE");return i&&(e=i.parentNode),f=b.startContainer.nodeType==h&&0===b.startOffset&&0===b.endOffset&&d&&("TR"==c.nodeName||c==e),g=("TD"==c.nodeName||"TH"==c.nodeName)&&!d,f||g}function b(){var b=h.selection.getRng(),c=h.selection.getNode(),d=h.dom.getParent(b.startContainer,"TD,TH");if(a(h,b,c,d)){d||(d=c);for(var e=d.lastChild;e.lastChild;)e=e.lastChild;3==e.nodeType&&(b.setEnd(e,e.data.length),h.selection.setRng(b))}}h.on("KeyDown",function(){b()}),h.on("MouseDown",function(a){2!=a.button&&b()})}function m(){function b(a){h.selection.select(a,!0),h.selection.collapse(!0)}function c(a){h.$(a).empty(),e.paddCell(a)}h.on("keydown",function(e){if((e.keyCode==a.DELETE||e.keyCode==a.BACKSPACE)&&!e.isDefaultPrevented()){var f,g,i,j;if(f=h.dom.getParent(h.selection.getStart(),"table")){if(g=h.dom.select("td,th",f),i=d.grep(g,function(a){return!!h.dom.getAttrib(a,"data-mce-selected")}),0===i.length)return j=h.dom.getParent(h.selection.getStart(),"td,th"),void(h.selection.isCollapsed()&&j&&h.dom.isEmpty(j)&&(e.preventDefault(),c(j),b(j)));e.preventDefault(),h.undoManager.transact(function(){g.length==i.length?h.execCommand("mceTableDelete"):(d.each(i,c),b(i[0]))})}}})}m(),c.webkit&&(i(),l()),c.gecko&&(j(),k()),c.ie>9&&(j(),k())}}),d("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(a,b,c){return function(d){function e(a){d.getBody().style.webkitUserSelect="",(a||n)&&(d.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),n=!1)}function f(a,b){return a&&b?a===m.getParent(b,"table"):!1}function g(b){var c,e,g=b.target;if(!l&&g!==k&&(k=g,j&&i)){if(e=m.getParent(g,"td,th"),f(j,e)||(e=m.getParent(j,"td,th")),i===e&&!n)return;if(f(j,e)){b.preventDefault(),h||(h=new a(d,j,i),d.getBody().style.webkitUserSelect="none"),h.setEndCell(e),n=!0,c=d.selection.getSel();try{c.removeAllRanges?c.removeAllRanges():c.empty()}catch(o){}}}}var h,i,j,k,l,m=d.dom,n=!0;return d.on("SelectionChange",function(a){n&&a.stopImmediatePropagation()},!0),d.on("MouseDown",function(a){2==a.button||l||(e(),i=m.getParent(a.target,"td,th"),j=m.getParent(i,"table"))}),d.on("mouseover",g),d.on("remove",function(){m.unbind(d.getDoc(),"mouseover",g),e()}),d.on("MouseUp",function(){function a(a,d){var f=new b(a,a);do{if(3==a.nodeType&&0!==c.trim(a.nodeValue).length)return void(d?e.setStart(a,0):e.setEnd(a,a.nodeValue.length));if("BR"==a.nodeName)return void(d?e.setStartBefore(a):e.setEndBefore(a))}while(a=d?f.next():f.prev())}var e,f,g,l,n,o=d.selection;if(i){if(h&&(d.getBody().style.webkitUserSelect=""),f=m.select("td[data-mce-selected],th[data-mce-selected]"),f.length>0){e=m.createRng(),l=f[0],e.setStartBefore(l),e.setEndAfter(l),a(l,1),g=new b(l,m.getParent(f[0],"table"));do if("TD"==l.nodeName||"TH"==l.nodeName){if(!m.getAttrib(l,"data-mce-selected"))break;n=l}while(l=g.next());a(n),o.setRng(e)}d.nodeChanged(),i=h=j=k=null}}),d.on("KeyUp Drop SetContent",function(a){e("setcontent"==a.type),i=h=j=k=null,l=!1}),d.on("ObjectResizeStart ObjectResized",function(a){l="objectresized"!=a.type}),{clear:e}}}),d("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(a,b){var c=a.each;return function(d){function e(){var a=d.settings.color_picker_callback;return a?function(){var b=this;a.call(d,function(a){b.value(a).fire("change")},b.value())}:void 0}function f(a){return{title:"Advanced",type:"form",defaults:{onchange:function(){l(a,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:e()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:e()}]}]}}function g(a){return a?a.replace(/px$/,""):""}function h(a){return/^[0-9]+$/.test(a)&&(a+="px"),a}function i(a){c("left center right".split(" "),function(b){d.formatter.remove("align"+b,{},a)})}function j(a){c("top middle bottom".split(" "),function(b){d.formatter.remove("valign"+b,{},a)})}function k(b,c,d){function e(b,d){return d=d||[],a.each(b,function(a){var b={text:a.text||a.title};a.menu?b.menu=e(a.menu):(b.value=a.value,c&&c(b)),d.push(b)}),d}return e(b,d||[])}function l(a,b,c){var d=b.toJSON(),e=a.parseStyle(d.style);c?(b.find("#borderColor").value(e["border-color"]||"")[0].fire("change"),b.find("#backgroundColor").value(e["background-color"]||"")[0].fire("change")):(e["border-color"]=d.borderColor,e["background-color"]=d.backgroundColor),b.find("#style").value(a.serializeStyle(a.parseStyle(a.serializeStyle(e))))}function m(a,b,c){var d=a.parseStyle(a.getAttrib(c,"style"));d["border-color"]&&(b.borderColor=d["border-color"]),d["background-color"]&&(b.backgroundColor=d["background-color"]),b.style=a.serializeStyle(d)}function n(a,b,d){var e=a.parseStyle(a.getAttrib(b,"style"));c(d,function(a){e[a.name]=a.value}),a.setAttrib(b,"style",a.serializeStyle(a.parseStyle(a.serializeStyle(e))))}var o=this;o.tableProps=function(){o.table(!0)},o.table=function(e){function j(){function c(a,b,d){if("TD"===a.tagName||"TH"===a.tagName)v.setStyle(a,b,d);else if(a.children)for(var e=0;e<a.children.length;e++)c(a.children[e],b,d)}var e;l(v,this),w=a.extend(w,this.toJSON()),w["class"]===!1&&delete w["class"],d.undoManager.transact(function(){if(p||(p=d.plugins.table.insertTable(w.cols||1,w.rows||1)),d.dom.setAttribs(p,{style:w.style,"class":w["class"]}),d.settings.table_style_by_css){if(u=[],u.push({name:"border",value:w.border}),u.push({name:"border-spacing",value:h(w.cellspacing)}),n(v,p,u),v.setAttribs(p,{"data-mce-border-color":w.borderColor,"data-mce-cell-padding":w.cellpadding,"data-mce-border":w.border}),p.children)for(var a=0;a<p.children.length;a++)c(p.children[a],"border",w.border),c(p.children[a],"padding",h(w.cellpadding))}else d.dom.setAttribs(p,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});v.getAttrib(p,"width")&&!d.settings.table_style_by_css?v.setAttrib(p,"width",g(w.width)):v.setStyle(p,"width",h(w.width)),v.setStyle(p,"height",h(w.height)),e=v.select("caption",p)[0],e&&!w.caption&&v.remove(e),!e&&w.caption&&(e=v.create("caption"),e.innerHTML=b.ie?"\xa0":'<br data-mce-bogus="1"/>',p.insertBefore(e,p.firstChild)),i(p),w.align&&d.formatter.apply("align"+w.align,{},p),d.focus(),d.addVisual()})}function o(a,b){function c(a,c){for(var d=0;d<c.length;d++){var e=v.getStyle(c[d],b);if("undefined"==typeof a&&(a=e),a!=e)return""}return a}var e,f=d.dom.select("td,th",a);return e=c(e,f)}var p,q,r,s,t,u,v=d.dom,w={};e===!0?(p=v.getParent(d.selection.getStart(),"table"),p&&(w={width:g(v.getStyle(p,"width")||v.getAttrib(p,"width")),height:g(v.getStyle(p,"height")||v.getAttrib(p,"height")),cellspacing:g(v.getStyle(p,"border-spacing")||v.getAttrib(p,"cellspacing")),cellpadding:v.getAttrib(p,"data-mce-cell-padding")||v.getAttrib(p,"cellpadding")||o(p,"padding"),border:v.getAttrib(p,"data-mce-border")||v.getAttrib(p,"border")||o(p,"border"),borderColor:v.getAttrib(p,"data-mce-border-color"),caption:!!v.select("caption",p)[0],"class":v.getAttrib(p,"class")},c("left center right".split(" "),function(a){d.formatter.matchNode(p,"align"+a)&&(w.align=a)}))):(q={label:"Cols",name:"cols"},r={label:"Rows",name:"rows"}),d.settings.table_class_list&&(w["class"]&&(w["class"]=w["class"].replace(/\s*mce\-item\-table\s*/g,"")),s={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"table",classes:[a.value]})})})}),t={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:d.settings.table_appearance_options!==!1?[q,r,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[q,r,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},s]},d.settings.table_advtab!==!1?(m(v,w,p),d.windowManager.open({title:"Table properties",data:w,bodyType:"tabpanel",body:[{title:"General",type:"form",items:t},f(v)],onsubmit:j})):d.windowManager.open({title:"Table properties",data:w,body:t,onsubmit:j})},o.merge=function(a,b){d.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var c=this.toJSON();d.undoManager.transact(function(){a.merge(b,c.cols,c.rows)})}})},o.cell=function(){function b(){l(p,this),n=a.extend(n,this.toJSON()),d.undoManager.transact(function(){c(q,function(a){d.dom.setAttribs(a,{scope:n.scope,style:n.style,"class":n["class"]}),d.dom.setStyles(a,{width:h(n.width),height:h(n.height)}),n.type&&a.nodeName.toLowerCase()!=n.type&&(a=p.rename(a,n.type)),i(a),n.align&&d.formatter.apply("align"+n.align,{},a),j(a),n.valign&&d.formatter.apply("valign"+n.valign,{},a)}),d.focus()})}var e,n,o,p=d.dom,q=[];if(q=d.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=d.dom.getParent(d.selection.getStart(),"td,th"),!q.length&&e&&q.push(e),e=e||q[0]){n={width:g(p.getStyle(e,"width")||p.getAttrib(e,"width")),height:g(p.getStyle(e,"height")||p.getAttrib(e,"height")),scope:p.getAttrib(e,"scope"),"class":p.getAttrib(e,"class")},n.type=e.nodeName.toLowerCase(),c("left center right".split(" "),function(a){d.formatter.matchNode(e,"align"+a)&&(n.align=a)}),c("top middle bottom".split(" "),function(a){d.formatter.matchNode(e,"valign"+a)&&(n.valign=a)}),d.settings.table_cell_class_list&&(o={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_cell_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"td",classes:[a.value]})})})});var r={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},o]};d.settings.table_cell_advtab!==!1?(m(p,n,e),d.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:r},f(p)],onsubmit:b})):d.windowManager.open({title:"Cell properties",data:n,body:r,onsubmit:b})}},o.row=function(){function b(){var b,e,f;l(r,this),p=a.extend(p,this.toJSON()),d.undoManager.transact(function(){var a=p.type;c(s,function(c){d.dom.setAttribs(c,{scope:p.scope,style:p.style,"class":p["class"]}),d.dom.setStyles(c,{height:h(p.height)}),a!=c.parentNode.nodeName.toLowerCase()&&(b=r.getParent(c,"table"),e=c.parentNode,f=r.select(a,b)[0],f||(f=r.create(a),b.firstChild?b.insertBefore(f,b.firstChild):b.appendChild(f)),f.appendChild(c),e.hasChildNodes()||r.remove(e)),i(c),p.align&&d.formatter.apply("align"+p.align,{},c)}),d.focus()})}var e,j,n,o,p,q,r=d.dom,s=[];e=d.dom.getParent(d.selection.getStart(),"table"),j=d.dom.getParent(d.selection.getStart(),"td,th"),c(e.rows,function(a){c(a.cells,function(b){return r.getAttrib(b,"data-mce-selected")||b==j?(s.push(a),!1):void 0})}),n=s[0],n&&(p={height:g(r.getStyle(n,"height")||r.getAttrib(n,"height")),scope:r.getAttrib(n,"scope"),"class":r.getAttrib(n,"class")},p.type=n.parentNode.nodeName.toLowerCase(),c("left center right".split(" "),function(a){d.formatter.matchNode(n,"align"+a)&&(p.align=a)}),d.settings.table_row_class_list&&(o={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_row_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"tr",classes:[a.value]})})})}),q={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},d.settings.table_row_advtab!==!1?(m(r,p,n),d.windowManager.open({title:"Row properties",data:p,bodyType:"tabpanel",body:[{title:"General",type:"form",items:q},f(r)],onsubmit:b})):d.windowManager.open({title:"Row properties",data:p,body:q,onsubmit:b}))}}}),d("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(a,c){var d;return function(e){function f(a,b){return{index:a,y:e.dom.getPos(b).y}}function g(a,b){return{index:a,y:e.dom.getPos(b).y+b.offsetHeight}}function h(a,b){return{index:a,x:e.dom.getPos(b).x}}function i(a,b){return{index:a,x:e.dom.getPos(b).x+b.offsetWidth}}function j(){var a=e.getBody().dir;return"rtl"===a}function k(){return e.inline}function l(){return k?e.getBody().ownerDocument.body:e.getBody()}function m(a,b){return j()?i(a,b):h(a,b)}function n(a,b){return j()?h(a,b):i(a,b)}function o(a,b){return p(a,"width")/p(b,"width")*100}function p(a,b){var c=e.dom.getStyle(a,b,!0),d=parseInt(c,10);return d}function q(a){var b=p(a,"width"),c=p(a.parentElement,"width");return b/c*100}function r(a,b){var c=p(a,"width");return b/c*100}function s(a,b){var c=p(a.parentElement,"width");return b/c*100}function t(a,b,c){for(var d=[],e=1;e<c.length;e++){var f=c[e].element;d.push(a(e-1,f))}var g=c[c.length-1];return d.push(b(c.length-1,g.element)),d}function u(){var b=e.dom.select("."+ma,l());a.each(b,function(a){e.dom.remove(a)})}function v(a){u(),F(a)}function w(a,b,c,d,e,f,g,h){var i={"data-mce-bogus":"all","class":ma+" "+a,unselectable:"on","data-mce-resize":!1,style:"cursor: "+b+"; margin: 0; padding: 0; position: absolute; left: "+c+"px; top: "+d+"px; height: "+e+"px; width: "+f+"px; "};return i[g]=h,i}function x(b,c,d){a.each(b,function(a){var b=d.x,f=a.y-va/2,g=va,h=c;e.dom.add(l(),"div",w(na,oa,b,f,g,h,pa,a.index))})}function y(b,c,d){a.each(b,function(a){var b=a.x-va/2,f=d.y,g=c,h=va;e.dom.add(l(),"div",w(ra,sa,b,f,g,h,ta,a.index))})}function z(b){return a.map(b.rows,function(b){var c=a.map(b.cells,function(a){var b=a.hasAttribute("rowspan")?parseInt(a.getAttribute("rowspan"),10):1,c=a.hasAttribute("colspan")?parseInt(a.getAttribute("colspan"),10):1;return{element:a,rowspan:b,colspan:c}});return{element:b,cells:c}})}function A(c){function d(a,b){return a+","+b}function e(a,b){return h[d(a,b)]}function f(){var b=[];return a.each(i,function(a){b=b.concat(a.cells)}),b}function g(){return i}var h={},i=[],j=0,k=0;return a.each(c,function(c,e){var f=[];a.each(c.cells,function(a){for(var c=0;h[d(e,c)]!==b;)c++;for(var g={element:a.element,colspan:a.colspan,rowspan:a.rowspan,rowIndex:e,colIndex:c},i=0;i<a.colspan;i++)for(var l=0;l<a.rowspan;l++){var m=e+l,n=c+i;h[d(m,n)]=g,j=Math.max(j,m+1),k=Math.max(k,n+1)}f.push(g)}),i.push({element:c.element,cells:f})}),{grid:{maxRows:j,maxCols:k},getAt:e,getAllCells:f,getAllRows:g}}function B(a,b){for(var c=[],d=a;b>d;d++)c.push(d);return c}function C(a,b,c){for(var d,e=a(),f=0;f<e.length;f++)b(e[f])&&(d=e[f]);return d?d:c()}function D(b){var c=B(0,b.grid.maxCols),d=B(0,b.grid.maxRows);return a.map(c,function(a){function c(){for(var c=[],e=0;e<d.length;e++){var f=b.getAt(e,a);f&&f.colIndex===a&&c.push(f)}return c}function e(a){return 1===a.colspan}function f(){for(var c,e=0;e<d.length;e++)if(c=b.getAt(e,a))return c;return null}return C(c,e,f)})}function E(b){var c=B(0,b.grid.maxCols),d=B(0,b.grid.maxRows);return a.map(d,function(a){function d(){for(var d=[],e=0;e<c.length;e++){var f=b.getAt(a,e);f&&f.rowIndex===a&&d.push(f)}return d}function e(a){return 1===a.rowspan}function f(){return b.getAt(a,0)}return C(d,e,f)})}function F(a){var b=z(a),c=A(b),d=E(c),h=D(c),i=e.dom.getPos(a),j=d.length>0?t(f,g,d):[],k=h.length>0?t(m,n,h):[];x(j,a.offsetWidth,i),y(k,a.offsetHeight,i)}function G(a,b,c,d){if(0>b||b>=a.length-1)return"";var e=a[b];if(e)e={value:e,delta:0};else for(var f=a.slice(0,b).reverse(),g=0;g<f.length;g++)f[g]&&(e={value:f[g],delta:g+1});var h=a[b+1];if(h)h={value:h,delta:1};else for(var i=a.slice(b+1),j=0;j<i.length;j++)i[j]&&(h={value:i[j],delta:j+1});var k=h.delta-e.delta,l=Math.abs(h.value-e.value)/k;return c?l/p(d,"width")*100:l}function H(a,b){var c=e.dom.getStyle(a,b);return c||(c=e.dom.getAttrib(a,b)),c||(c=e.dom.getStyle(a,b,!0)),c}function I(a,b,c){var d=H(a,"width"),e=parseInt(d,10),f=b?o(a,c):p(a,"width");return(b&&!R(d)||!b&&!S(d))&&(e=0),!isNaN(e)&&e>0?e:f}function J(b,c,d){for(var e=D(b),f=a.map(e,function(a){return m(a.colIndex,a.element).x}),g=[],h=0;h<e.length;h++){var i=e[h].element.hasAttribute("colspan")?parseInt(e[h].element.getAttribute("colspan"),10):1,j=i>1?G(f,h):I(e[h].element,c,d);j=j?j:wa,g.push(j)}return g}function K(a){var b=H(a,"height"),c=parseInt(b,10);return R(b)&&(c=0),!isNaN(c)&&c>0?c:p(a,"height")}function L(b){for(var c=E(b),d=a.map(c,function(a){return f(a.rowIndex,a.element).y}),e=[],g=0;g<c.length;g++){var h=c[g].element.hasAttribute("rowspan")?parseInt(c[g].element.getAttribute("rowspan"),10):1,i=h>1?G(d,g):K(c[g].element);i=i?i:xa,e.push(i)}return e}function M(b,c,d,e,f){function g(b){return a.map(b,function(){return 0})}function h(){var a;if(f)a=[100-l[0]];else{var b=Math.max(e,l[0]+d);a=[b-l[0]]}return a}function i(a,b){var c,f=g(l.slice(0,a)),h=g(l.slice(b+1));if(d>=0){var i=Math.max(e,l[b]-d);c=f.concat([d,i-l[b]]).concat(h)}else{var j=Math.max(e,l[a]+d),k=l[a]-j;c=f.concat([j-l[a],k]).concat(h)}return c}function j(a,b){var c,f=g(l.slice(0,b));if(d>=0)c=f.concat([d]);else{var h=Math.max(e,l[b]+d);c=f.concat([h-l[b]])}return c}var k,l=b.slice(0);return k=0===b.length?[]:1===b.length?h():0===c?i(0,1):c>0&&c<b.length-1?i(c,c+1):c===b.length-1?j(c-1,c):[]}function N(a,b,c){for(var d=0,e=a;b>e;e++)d+=c[e];return d}function O(b,c){var d=b.getAllCells();return a.map(d,function(a){var b=N(a.colIndex,a.colIndex+a.colspan,c);return{element:a.element,width:b,colspan:a.colspan}})}function P(b,c){var d=b.getAllCells();return a.map(d,function(a){var b=N(a.rowIndex,a.rowIndex+a.rowspan,c);return{element:a.element,height:b,rowspan:a.rowspan}})}function Q(b,c){var d=b.getAllRows();return a.map(d,function(a,b){return{element:a.element,height:c[b]}})}function R(a){return za.test(a)}function S(a){return Aa.test(a)}function T(b,c,d){function f(b,c){a.each(b,function(a){e.dom.setStyle(a.element,"width",a.width+c),e.dom.setAttrib(a.element,"width",null)})}function g(){return d<k.grid.maxCols-1?q(b):q(b)+s(b,c)}function h(){return d<k.grid.maxCols-1?p(b,"width"):p(b,"width")+c}function i(a,c,f){d!=k.grid.maxCols-1&&f||(e.dom.setStyle(b,"width",a+c),e.dom.setAttrib(b,"width",null))}for(var j=z(b),k=A(j),l=R(b.width)||R(b.style.width),m=J(k,l,b),n=l?r(b,c):c,o=M(m,d,n,wa,l,b),t=[],u=0;u<o.length;u++)t.push(o[u]+m[u]);var v=O(k,t),w=l?"%":"px",x=l?g():h();e.undoManager.transact(function(){f(v,w),i(x,w,l)})}function U(b,c,d){for(var f=z(b),g=A(f),h=L(g),i=[],j=0,k=0;k<h.length;k++)i.push(k===d?c+h[k]:h[k]),j+=j[k];var l=P(g,i),m=Q(g,i);e.undoManager.transact(function(){a.each(m,function(a){e.dom.setStyle(a.element,"height",a.height+"px"),e.dom.setAttrib(a.element,"height",null)}),a.each(l,function(a){e.dom.setStyle(a.element,"height",a.height+"px"),e.dom.setAttrib(a.element,"height",null)}),e.dom.setStyle(b,"height",j+"px"),e.dom.setAttrib(b,"height",null)})}function V(){ga=setTimeout(function(){Z()},200)}function W(){clearTimeout(ga)}function X(){var a=document.createElement("div");return a.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),a.setAttribute("data-mce-bogus","all"),a}function Y(a,b){e.dom.bind(a,"mouseup",function(){Z()}),e.dom.bind(a,"mousemove",function(a){W(),ha&&b(a)}),e.dom.bind(a,"mouseout",function(){V()})}function Z(){if(e.dom.remove(ia),ha){e.dom.removeClass(ja,ya),
ha=!1;var a,b;if(_(ja)){var c=parseInt(e.dom.getAttrib(ja,ua),10),f=e.dom.getPos(ja).x;a=parseInt(e.dom.getAttrib(ja,ta),10),b=j()?c-f:f-c,T(d,b,a)}else if(aa(ja)){var g=parseInt(e.dom.getAttrib(ja,qa),10),h=e.dom.getPos(ja).y;a=parseInt(e.dom.getAttrib(ja,pa),10),b=h-g,U(d,b,a)}v(d),e.nodeChanged()}}function $(a,b){ia=ia?ia:X(),ha=!0,e.dom.addClass(a,ya),ja=a,Y(ia,b),e.dom.add(l(),ia)}function _(a){return e.dom.hasClass(a,ra)}function aa(a){return e.dom.hasClass(a,na)}function ba(a){ka=ka!==b?ka:a.clientX;var c=a.clientX-ka;ka=a.clientX;var d=e.dom.getPos(ja).x;e.dom.setStyle(ja,"left",d+c+"px")}function ca(a){la=la!==b?la:a.clientY;var c=a.clientY-la;la=a.clientY;var d=e.dom.getPos(ja).y;e.dom.setStyle(ja,"top",d+c+"px")}function da(a){ka=b,$(a,ba)}function ea(a){la=b,$(a,ca)}function fa(a){var b=a.target,c=e.getBody();if(e.$.contains(c,d)||d===c)if(_(b)){a.preventDefault();var f=e.dom.getPos(b).x;e.dom.setAttrib(b,ua,f),da(b)}else if(aa(b)){a.preventDefault();var g=e.dom.getPos(b).y;e.dom.setAttrib(b,qa,g),ea(b)}}var ga,ha,ia,ja,ka,la,ma="mce-resize-bar",na="mce-resize-bar-row",oa="row-resize",pa="data-row",qa="data-initial-top",ra="mce-resize-bar-col",sa="col-resize",ta="data-col",ua="data-initial-left",va=4,wa=10,xa=10,ya="mce-resize-bar-dragging",za=new RegExp(/(\d+(\.\d+)?%)/),Aa=new RegExp(/px|em/);return e.on("init",function(){e.dom.bind(l(),"mousedown",fa)}),e.on("ObjectResized",function(b){var c=b.target;if("TABLE"===c.nodeName){var d=[];a.each(c.rows,function(b){a.each(b.cells,function(a){var b=e.dom.getStyle(a,"width",!0);d.push({cell:a,width:b})})}),a.each(d,function(a){e.dom.setStyle(a.cell,"width",a.width),e.dom.setAttrib(a.cell,"width",null)})}}),e.on("mouseover",function(a){if(!ha){var b=e.dom.getParent(a.target,"table");("TABLE"===a.target.nodeName||b)&&(d=b,v(b))}}),e.on("keydown",function(a){switch(a.keyCode){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:u()}}),e.on("remove",function(){u(),e.dom.unbind(l(),"mousedown",fa)}),{adjustWidth:T,adjustHeight:U,clearBars:u,drawBars:F,determineDeltas:M,getTableGrid:A,getTableDetails:z,getWidths:J,getPixelHeights:L,isPercentageBasedSize:R,isPixelBasedSize:S,recalculateWidths:O,recalculateCellHeights:P,recalculateRowHeights:Q}}}),d("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(a,b,c,d,e,f,g,h,i){function j(f){function g(a){return function(){f.execCommand(a)}}function i(a,b){var c,d,e,g;for(e='<table id="__mce"><tbody>',c=0;b>c;c++){for(e+="<tr>",d=0;a>d;d++)e+="<td>"+(h.ie&&h.ie<10?"&nbsp;":"<br>")+"</td>";e+="</tr>"}return e+="</tbody></table>",f.undoManager.transact(function(){f.insertContent(e),g=f.dom.get("__mce"),f.dom.setAttrib(g,"id",null),f.$("tr",g).each(function(a,b){f.fire("newrow",{node:b}),f.$("th,td",b).each(function(a,b){f.fire("newcell",{node:b})})}),f.dom.setAttribs(g,f.settings.table_default_attributes||{}),f.dom.setStyles(g,f.settings.table_default_styles||{})}),g}function j(a,b,c){function d(){var d,e,g,h={},i=0;e=f.dom.select("td[data-mce-selected],th[data-mce-selected]"),d=e[0],d||(d=f.selection.getStart()),c&&e.length>0?(k(e,function(a){return h[a.parentNode.parentNode.nodeName]=1}),k(h,function(a){i+=a}),g=1!==i):g=!f.dom.getParent(d,b),a.disabled(g),f.selection.selectorChanged(b,function(b){a.disabled(!b)})}f.initialized?d():f.on("init",d)}function l(){j(this,"table")}function m(){j(this,"td,th")}function n(){j(this,"td,th",!0)}function o(){var a="";a='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var b=0;10>b;b++){a+="<tr>";for(var c=0;10>c;c++)a+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*b+c)+'" href="#" data-mce-x="'+c+'" data-mce-y="'+b+'"></a></td>';a+="</tr>"}return a+="</table>",a+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function p(a,b,c){var d,e,g,h,i,j=c.getEl().getElementsByTagName("table")[0],k=c.isRtl()||"tl-tr"==c.parent().rel;for(j.nextSibling.innerHTML=a+1+" x "+(b+1),k&&(a=9-a),e=0;10>e;e++)for(d=0;10>d;d++)h=j.rows[e].childNodes[d].firstChild,i=(k?d>=a:a>=d)&&b>=e,f.dom.toggleClass(h,"mce-active",i),i&&(g=h);return g.parentNode}function q(){f.addButton("tableprops",{title:"Table properties",onclick:w.tableProps,icon:"table"}),f.addButton("tabledelete",{title:"Delete table",onclick:g("mceTableDelete")}),f.addButton("tablecellprops",{title:"Cell properties",onclick:g("mceTableCellProps")}),f.addButton("tablemergecells",{title:"Merge cells",onclick:g("mceTableMergeCells")}),f.addButton("tablesplitcells",{title:"Split cell",onclick:g("mceTableSplitCells")}),f.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:g("mceTableInsertRowBefore")}),f.addButton("tableinsertrowafter",{title:"Insert row after",onclick:g("mceTableInsertRowAfter")}),f.addButton("tabledeleterow",{title:"Delete row",onclick:g("mceTableDeleteRow")}),f.addButton("tablerowprops",{title:"Row properties",onclick:g("mceTableRowProps")}),f.addButton("tablecutrow",{title:"Cut row",onclick:g("mceTableCutRow")}),f.addButton("tablecopyrow",{title:"Copy row",onclick:g("mceTableCopyRow")}),f.addButton("tablepasterowbefore",{title:"Paste row before",onclick:g("mceTablePasteRowBefore")}),f.addButton("tablepasterowafter",{title:"Paste row after",onclick:g("mceTablePasteRowAfter")}),f.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:g("mceTableInsertColBefore")}),f.addButton("tableinsertcolafter",{title:"Insert column after",onclick:g("mceTableInsertColAfter")}),f.addButton("tabledeletecol",{title:"Delete column",onclick:g("mceTableDeleteCol")})}function r(a){var b=f.dom.is(a,"table")&&f.getBody().contains(a);return b}function s(){var a=f.settings.table_toolbar;""!==a&&a!==!1&&(a||(a="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),f.addContextToolbar(r,a))}var t,u,v=this,w=new d(f);!f.settings.object_resizing||f.settings.table_resize_bars===!1||f.settings.object_resizing!==!0&&"table"!==f.settings.object_resizing||(u=e(f)),f.settings.table_grid===!1?f.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:w.table}):f.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(a){a.aria&&(this.parent().hideAll(),a.stopImmediatePropagation(),w.table())},onshow:function(){p(0,0,this.menu.items()[0])},onhide:function(){var a=this.menu.items()[0].getEl().getElementsByTagName("a");f.dom.removeClass(a,"mce-active"),f.dom.addClass(a[0],"mce-active")},menu:[{type:"container",html:o(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(a){var b,c,d=a.target;"A"==d.tagName.toUpperCase()&&(b=parseInt(d.getAttribute("data-mce-x"),10),c=parseInt(d.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(b=9-b),b===this.lastX&&c===this.lastY||(p(b,c,a.control),this.lastX=b,this.lastY=c))},onclick:function(a){var b=this;"A"==a.target.tagName.toUpperCase()&&(a.preventDefault(),a.stopPropagation(),b.parent().cancel(),f.undoManager.transact(function(){i(b.lastX+1,b.lastY+1)}),f.addVisual())}}]}),f.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:l,onclick:w.tableProps}),f.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:l,cmd:"mceTableDelete"}),f.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:g("mceTableCellProps"),onPostRender:m},{text:"Merge cells",onclick:g("mceTableMergeCells"),onPostRender:n},{text:"Split cell",onclick:g("mceTableSplitCells"),onPostRender:m}]}),f.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:g("mceTableInsertRowBefore"),onPostRender:m},{text:"Insert row after",onclick:g("mceTableInsertRowAfter"),onPostRender:m},{text:"Delete row",onclick:g("mceTableDeleteRow"),onPostRender:m},{text:"Row properties",onclick:g("mceTableRowProps"),onPostRender:m},{text:"-"},{text:"Cut row",onclick:g("mceTableCutRow"),onPostRender:m},{text:"Copy row",onclick:g("mceTableCopyRow"),onPostRender:m},{text:"Paste row before",onclick:g("mceTablePasteRowBefore"),onPostRender:m},{text:"Paste row after",onclick:g("mceTablePasteRowAfter"),onPostRender:m}]}),f.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:g("mceTableInsertColBefore"),onPostRender:m},{text:"Insert column after",onclick:g("mceTableInsertColAfter"),onPostRender:m},{text:"Delete column",onclick:g("mceTableDeleteCol"),onPostRender:m}]});var x=[];k("inserttable tableprops deletetable | cell row column".split(" "),function(a){"|"==a?x.push({text:"-"}):x.push(f.menuItems[a])}),f.addButton("table",{type:"menubutton",title:"Table",menu:x}),h.isIE||f.on("click",function(a){a=a.target,"TABLE"===a.nodeName&&(f.selection.select(a),f.nodeChanged())}),v.quirks=new b(f),f.on("Init",function(){v.cellSelection=new c(f),v.resizeBars=u}),f.on("PreInit",function(){f.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)})}),k({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(a){var b;b=f.dom.getParent(f.selection.getStart(),"th,td"),f.dom.select("td[data-mce-selected],th[data-mce-selected]").length?a.merge():w.merge(a,b)},mceTableInsertRowBefore:function(a){a.insertRow(!0)},mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){t=a.cutRows()},mceTableCopyRow:function(a){t=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(t,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(t)},mceTableDelete:function(a){u&&u.clearBars(),a.deleteTable()}},function(b,c){f.addCommand(c,function(){var c=new a(f);c&&(b(c),f.execCommand("mceRepaint"),v.cellSelection.clear())})}),k({mceInsertTable:w.table,mceTableProps:function(){w.table(!0)},mceTableRowProps:w.row,mceTableCellProps:w.cell},function(a,b){f.addCommand(b,function(b,c){a(c)})}),q(),s(),f.settings.table_tab_navigation!==!1&&f.on("keydown",function(b){var c,d,e;9==b.keyCode&&(c=f.dom.getParent(f.selection.getStart(),"th,td"),c&&(b.preventDefault(),d=new a(f),e=b.shiftKey?-1:1,f.undoManager.transact(function(){!d.moveRelIdx(c,e)&&e>0&&(d.insertRow(),d.refresh(),d.moveRelIdx(c,e))})))}),v.insertTable=i}var k=f.each;i.add("table",j)})}(this);!function(a,b){"use strict";function c(a,b){for(var c,d=[],f=0;f<a.length;++f){if(c=g[a[f]]||e(a[f]),!c)throw"module definition dependecy not found: "+a[f];d.push(c)}b.apply(null,d)}function d(a,d,e){if("string"!=typeof a)throw"invalid module definition, module id must be defined and be a string";if(d===b)throw"invalid module definition, dependencies must be specified";if(e===b)throw"invalid module definition, definition function must be specified";c(d,function(){g[a]=e.apply(null,arguments)})}function e(b){for(var c=a,d=b.split(/[.\/]/),e=0;e<d.length;++e){if(!c[d[e]])return;c=c[d[e]]}return c}function f(c){var d,e,f,h,i;for(d=0;d<c.length;d++){e=a,f=c[d],h=f.split(/[.\/]/);for(var j=0;j<h.length-1;++j)e[h[j]]===b&&(e[h[j]]={}),e=e[h[j]];e[h[h.length-1]]=g[f]}if(a.AMDLC_TESTS){i=a.privateModules||{};for(f in g)i[f]=g[f];for(d=0;d<c.length;d++)delete i[c[d]];a.privateModules=i}}var g={};d("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(a,b,c){function d(b,c){return a.each(c,function(a){b=a.constructor==RegExp?b.replace(a,""):b.replace(a[0],a[1])}),b}function e(e){function f(a){var b=a.name,c=a;if("br"===b)return void(i+="\n");if(j[b]&&(i+=" "),k[b])return void(i+=" ");if(3==a.type&&(i+=a.value),!a.shortEnded&&(a=a.firstChild))do f(a);while(a=a.next);l[b]&&c.next&&(i+="\n","p"==b&&(i+="\n"))}var g=new c,h=new b({},g),i="",j=g.getShortEndedElements(),k=a.makeMap("script noscript style textarea video audio iframe object"," "),l=g.getBlockElements();return e=d(e,[/<!\[[^\]]+\]>/g]),f(h.parse(e)),i}function f(a){function b(a,b,c){return b||c?"\xa0":" "}return a=d(a,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,b],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function g(a){var b=0;return function(){return a+b++}}return{filter:d,innerText:e,trimHtml:f,createIdGenerator:g}}),d("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/util/Delay"],function(a,b,c,d,e){return function(f){function g(a){var b,c=f.dom;if(b=f.fire("BeforePastePreProcess",{content:a}),b=f.fire("PastePreProcess",b),a=b.content,!b.isDefaultPrevented()){if(f.hasEventListeners("PastePostProcess")&&!b.isDefaultPrevented()){var d=c.add(f.getBody(),"div",{style:"display:none"},a);b=f.fire("PastePostProcess",{node:d}),c.remove(d),a=b.node.innerHTML}b.isDefaultPrevented()||f.insertContent(a,{merge:f.settings.paste_merge_formats!==!1,data:{paste:!0}})}}function h(a){a=f.dom.encode(a).replace(/\r\n/g,"\n");var b,c=f.dom.getParent(f.selection.getStart(),f.dom.isBlock),e=f.settings.forced_root_block;e&&(b=f.dom.createHTML(e,f.settings.forced_root_block_attrs),b=b.substr(0,b.length-3)+">"),c&&/^(PRE|DIV)$/.test(c.nodeName)||!e?a=d.filter(a,[[/\n/g,"<br>"]]):(a=d.filter(a,[[/\n\n/g,"</p>"+b],[/^(.*<\/p>)(<p>)$/,b+"$1"],[/\n/g,"<br />"]]),-1!=a.indexOf("<p>")&&(a=b+a)),g(a)}function i(){function b(a){var b,c,e,f=a.startContainer;if(b=a.getClientRects(),b.length)return b[0];if(a.collapsed&&1==f.nodeType){for(e=f.childNodes[v.startOffset];e&&3==e.nodeType&&!e.data.length;)e=e.nextSibling;if(e)return"BR"==e.tagName&&(c=d.doc.createTextNode("\ufeff"),e.parentNode.insertBefore(c,e),a=d.createRng(),a.setStartBefore(c),a.setEndAfter(c),b=a.getClientRects(),d.remove(c)),b.length?b[0]:void 0}}var c,d=f.dom,e=f.getBody(),g=f.dom.getViewPort(f.getWin()),h=g.y,i=20;if(v=f.selection.getRng(),f.inline&&(c=f.selection.getScrollContainer(),c&&c.scrollTop>0&&(h=c.scrollTop)),v.getClientRects){var j=b(v);if(j)i=h+(j.top-d.getPos(e).y);else{i=h;var k=v.startContainer;k&&(3==k.nodeType&&k.parentNode!=e&&(k=k.parentNode),1==k.nodeType&&(i=d.getPos(k,c||e).y))}}u=d.add(f.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+i+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},A),(a.ie||a.gecko)&&d.setStyle(u,"left","rtl"==d.getStyle(e,"direction",!0)?65535:-65535),d.bind(u,"beforedeactivate focusin focusout",function(a){a.stopPropagation()}),u.focus(),f.selection.select(u,!0)}function j(){if(u){for(var a;a=f.dom.get("mcepastebin");)f.dom.remove(a),f.dom.unbind(a);v&&f.selection.setRng(v)}u=v=null}function k(){var a,b,c,d,e="";for(a=f.dom.select("div[id=mcepastebin]"),b=0;b<a.length;b++)c=a[b],c.firstChild&&"mcepastebin"==c.firstChild.id&&(c=c.firstChild),d=c.innerHTML,e!=A&&(e+=d);return e}function l(a){var b={};if(a){if(a.getData){var c=a.getData("Text");c&&c.length>0&&-1==c.indexOf(B)&&(b["text/plain"]=c)}if(a.types)for(var d=0;d<a.types.length;d++){var e=a.types[d];b[e]=a.getData(e)}}return b}function m(a){return l(a.clipboardData||f.getDoc().dataTransfer)}function n(a){return r(a,"text/html")||r(a,"text/plain")}function o(a,b){function c(a){var b;return b=a.indexOf(","),-1!==b?a.substr(b+1):null}function d(d){function e(a,d){b&&(f.selection.setRng(b),b=null);var e=f.editorUpload.blobCache,h=e.create(C(),d,c(a.result));e.add(h),g('<img src="'+h.blobUri()+'">')}var h,i,j,k=!1;if(d)for(h=0;h<d.length;h++)if(i=d[h],/^image\/(jpeg|png|gif|bmp)$/.test(i.type)){var l=i.getAsFile?i.getAsFile():i;j=new FileReader,j.onload=e.bind(null,j,l),j.readAsDataURL(l),a.preventDefault(),k=!0}return k}var e=a.clipboardData||a.dataTransfer;return f.settings.paste_data_images&&e?d(e.items)||d(e.files):void 0}function p(a){var b=a.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&b&&b.items&&0===b.items.length}function q(a){return b.getCaretRangeFromPoint(a.clientX,a.clientY,f.getDoc())}function r(a,b){return b in a&&a[b].length>0}function s(a){return c.metaKeyPressed(a)&&86==a.keyCode||a.shiftKey&&45==a.keyCode}function t(){function b(a,b,c){var e;return r(a,"text/html")?e=a["text/html"]:(e=k(),e==A&&(c=!0)),e=d.trimHtml(e),u&&u.firstChild&&"mcepastebin"===u.firstChild.id&&(c=!0),j(),e.length||(c=!0),c&&(e=r(a,"text/plain")&&-1==e.indexOf("</p>")?a["text/plain"]:d.innerText(e)),e==A?void(b||f.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(c?h(e):g(e))}function c(a){return 0===a["text/plain"].indexOf("file://")}f.on("keydown",function(b){function c(a){s(a)&&!a.isDefaultPrevented()&&j()}if(s(b)&&!b.isDefaultPrevented()){if(w=b.shiftKey&&86==b.keyCode,w&&a.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(b.stopImmediatePropagation(),y=(new Date).getTime(),a.ie&&w)return b.preventDefault(),void f.fire("paste",{ieFake:!0});j(),i(),f.once("keyup",c),f.once("paste",function(){f.off("keyup",c)})}});var t=function(){return v||f.selection.getRng()};f.on("paste",function(c){var d=(new Date).getTime(),g=m(c),h=(new Date).getTime()-d,l=(new Date).getTime()-y-h<1e3,q="text"==x.pasteFormat||w;return w=!1,c.isDefaultPrevented()||p(c)?void j():!n(g)&&o(c,t())?void j():(l||c.preventDefault(),!a.ie||l&&!c.ieFake||(i(),f.dom.bind(u,"paste",function(a){a.stopPropagation()}),f.getDoc().execCommand("Paste",!1,null),g["text/html"]=k()),void(r(g,"text/html")?(c.preventDefault(),b(g,l,q)):e.setEditorTimeout(f,function(){b(g,l,q)},0)))}),f.on("dragstart dragend",function(a){z="dragstart"==a.type}),f.on("drop",function(a){var b,i;if(i=q(a),!a.isDefaultPrevented()&&!z&&(b=l(a.dataTransfer),(n(b)&&!c(b)||!o(a,i))&&i&&f.settings.paste_filter_drop!==!1)){var j=b["mce-internal"]||b["text/html"]||b["text/plain"];j&&(a.preventDefault(),e.setEditorTimeout(f,function(){f.undoManager.transact(function(){b["mce-internal"]&&f.execCommand("Delete"),f.selection.setRng(i),j=d.trimHtml(j),b["text/html"]?g(j):h(j)})}))}}),f.on("dragover dragend",function(a){f.settings.paste_data_images&&a.preventDefault()})}var u,v,w,x=this,y=0,z=!1,A="%MCEPASTEBIN%",B="data:text/mce-internal,",C=d.createIdGenerator("mceclip");x.pasteHtml=g,x.pasteText=h,f.on("preInit",function(){t(),f.parser.addNodeFilter("img",function(b,c,d){function e(a){return a.data&&a.data.paste===!0}function g(b){b.attr("data-mce-object")||k===a.transparentSrc||b.remove()}function h(a){return 0===a.indexOf("webkit-fake-url")}function i(a){return 0===a.indexOf("data:")}if(!f.settings.paste_data_images&&e(d))for(var j=b.length;j--;){var k=b[j].attributes.map.src;k&&(h(k)?g(b[j]):!f.settings.allow_html_data_urls&&i(k)&&g(b[j]))}})})}}),d("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(a,b,c,d,e,f){function g(a){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(a)||/class="OutlineElement/.test(a)||/id="?docs\-internal\-guid\-/.test(a)}function h(b){var c,d;return d=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],b=b.replace(/^[\u00a0 ]+/,""),a.each(d,function(a){return a.test(b)?(c=!0,!1):void 0}),c}function i(a){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(a)}function j(j){var k=j.settings;j.on("BeforePastePreProcess",function(l){function m(a){function b(a){var c="";if(3===a.type)return a.value;if(a=a.firstChild)do c+=b(a);while(a=a.next);return c}function c(a,b){if(3===a.type&&b.test(a.value))return a.value=a.value.replace(b,""),!1;if(a=a.firstChild)do if(!c(a,b))return!1;while(a=a.next);return!0}function d(a){if(a._listIgnore)return void a.remove();if(a=a.firstChild)do d(a);while(a=a.next)}function f(a,b,f){var h=a._listLevel||k;h!=k&&(k>h?g&&(g=g.parent.parent):(j=g,g=null)),g&&g.name==b?g.append(a):(j=j||g,g=new e(b,1),f>1&&g.attr("start",""+f),a.wrap(g)),a.name="li",h>k&&j&&j.lastChild.append(g),k=h,d(a),c(a,/^\u00a0+/),c(a,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),c(a,/^\u00a0+/)}for(var g,j,k=1,l=[],m=a.firstChild;"undefined"!=typeof m&&null!==m;)if(l.push(m),m=m.walk(),null!==m)for(;"undefined"!=typeof m&&m.parent!==a;)m=m.walk();for(var n=0;n<l.length;n++)if(a=l[n],"p"==a.name&&a.firstChild){var o=b(a);if(i(o)){f(a,"ul");continue}if(h(o)){var p=/([0-9]+)\./.exec(o),q=1;p&&(q=parseInt(p[1],10)),f(a,"ol",q);continue}if(a._listLevel){f(a,"ul",1);continue}g=null}else j=g,g=null}function n(b,c){var d,f={},g=j.dom.parseStyle(c);return a.each(g,function(a,e){switch(e){case"mso-list":d=/\w+ \w+([0-9]+)/i.exec(c),d&&(b._listLevel=parseInt(d[1],10)),/Ignore/i.test(a)&&b.firstChild&&(b._listIgnore=!0,b.firstChild._listIgnore=!0);break;case"horiz-align":e="text-align";break;case"vert-align":e="vertical-align";break;case"font-color":case"mso-foreground":e="color";break;case"mso-background":case"mso-highlight":e="background";break;case"font-weight":case"font-style":return void("normal"!=a&&(f[e]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void b.remove()}return 0===e.indexOf("mso-comment")?void b.remove():void(0!==e.indexOf("mso-")&&("all"==o||p&&p[e])&&(f[e]=a))}),/(bold)/i.test(f["font-weight"])&&(delete f["font-weight"],b.wrap(new e("b",1))),/(italic)/i.test(f["font-style"])&&(delete f["font-style"],b.wrap(new e("i",1))),f=j.dom.serializeStyle(f,b.name),f?f:null}var o,p,q=l.content;if(q=q.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,""),q=q.replace(/<br class="?Apple-interchange-newline"?>/gi,""),o=k.paste_retain_style_properties,o&&(p=a.makeMap(o.split(/[, ]/))),k.paste_enable_default_filters!==!1&&g(l.content)){l.wordContent=!0,q=f.filter(q,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(a,b){return b.length>0?b.replace(/./," ").slice(Math.floor(b.length/2)).split("").join("\xa0"):""}]]);var r=k.paste_word_valid_elements;r||(r="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var s=new c({valid_elements:r,valid_children:"-li[p]"});a.each(s.elements,function(a){a.attributes["class"]||(a.attributes["class"]={},a.attributesOrder.push("class")),a.attributes.style||(a.attributes.style={},a.attributesOrder.push("style"))});var t=new b({},s);t.addAttributeFilter("style",function(a){for(var b,c=a.length;c--;)b=a[c],b.attr("style",n(b,b.attr("style"))),"span"==b.name&&b.parent&&!b.attributes.length&&b.unwrap()}),t.addAttributeFilter("class",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(c)&&b.remove(),b.attr("class",null)}),t.addNodeFilter("del",function(a){for(var b=a.length;b--;)a[b].remove()}),t.addNodeFilter("a",function(a){for(var b,c,d,e=a.length;e--;)if(b=a[e],c=b.attr("href"),d=b.attr("name"),c&&-1!=c.indexOf("#_msocom_"))b.remove();else if(c&&0===c.indexOf("file://")&&(c=c.split("#")[1],c&&(c="#"+c)),c||d){if(d&&!/^_?(?:toc|edn|ftn)/i.test(d)){b.unwrap();continue}b.attr({href:c,name:d})}else b.unwrap()});var u=t.parse(q);k.paste_convert_word_fake_lists!==!1&&m(u),l.content=new d({validate:k.validate},s).serialize(u)}})}return j.isWordContent=g,j}),d("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(a,b,c,d){return function(e){function f(a){e.on("BeforePastePreProcess",function(b){b.content=a(b.content)})}function g(a){if(!c.isWordContent(a))return a;var f=[];b.each(e.schema.getBlockElements(),function(a,b){f.push(b)});var g=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+f.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return a=d.filter(a,[[g,"$1"]]),a=d.filter(a,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function h(a){if(c.isWordContent(a))return a;var b=e.settings.paste_webkit_styles;if(e.settings.paste_remove_styles_if_webkit===!1||"all"==b)return a;if(b&&(b=b.split(/[, ]/)),b){var d=e.dom,f=e.selection.getNode();a=a.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(a,c,e,g){var h=d.parseStyle(e,"span"),i={};if("none"===b)return c+g;for(var j=0;j<b.length;j++){var k=h[b[j]],l=d.getStyle(f,b[j],!0);/color/.test(b[j])&&(k=d.toHex(k),l=d.toHex(l)),l!=k&&(i[b[j]]=k)}return i=d.serializeStyle(i,"span"),i?c+' style="'+i+'"'+g:c+g})}else a=a.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return a=a.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(a,b,c,d){return b+' style="'+c+'"'+d})}a.webkit&&f(h),a.ie&&f(g)}}),d("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(a,b,c,d){var e;a.add("paste",function(a){function f(){return e||a.settings.paste_plaintext_inform===!1}function g(){if("text"==h.pasteFormat)this.active(!1),h.pasteFormat="html",a.fire("PastePlainTextToggle",{state:!1});else if(h.pasteFormat="text",this.active(!0),!f()){var b=a.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");a.notificationManager.open({text:b,type:"info"}),e=!0,a.fire("PastePlainTextToggle",{state:!0})}a.focus()}var h,i=this,j=a.settings;i.clipboard=h=new b(a),i.quirks=new d(a),i.wordFilter=new c(a),a.settings.paste_as_text&&(i.clipboard.pasteFormat="text"),j.paste_preprocess&&a.on("PastePreProcess",function(a){j.paste_preprocess.call(i,i,a)}),j.paste_postprocess&&a.on("PastePostProcess",function(a){j.paste_postprocess.call(i,i,a)}),a.addCommand("mceInsertClipboardContent",function(a,b){b.content&&i.clipboard.pasteHtml(b.content),b.text&&i.clipboard.pasteText(b.text)}),a.settings.paste_block_drop&&a.on("dragend dragover draggesture dragdrop drop drag",function(a){a.preventDefault(),a.stopPropagation()}),a.settings.paste_data_images||a.on("drop",function(a){var b=a.dataTransfer;b&&b.files&&b.files.length>0&&a.preventDefault()}),a.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:g,active:"text"==i.clipboard.pasteFormat}),a.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:h.pasteFormat,onclick:g})})}),f(["tinymce/pasteplugin/Utils"])}(this);/*
 Copyright  2008 David Lippman.

 Plugin format based on code that is:
 @copyright Copyright  2004-2008, Moxiecode Systems AB, All rights reserved.
*/
(function(){tinymce.PluginManager.requireLangPack("asciimath");tinymce.create("tinymce.plugins.AsciimathPlugin",{init:function(b,c){var d=this;b.addCommand("mceAsciimath",function(a){null==d.lastAMnode?(existing=b.selection.getContent(),-1==existing.indexOf("class=AM")&&(existing=existing.replace(/<([^>]*)>/g,""),existing=existing.replace(/&(m|n)dash;/g,"-"),existing=existing.replace(/&?nbsp;?/g," "),existing=existing.replace(/&(.*?);/g,"$1"),a&&(existing=a),entity="<span class=AMedit>`"+existing+
'<span id="removeme"></span>`</span>&nbsp;',tinymce.isIE&&b.focus(),b.selection.setContent(entity),b.selection.setCursorLocation(b.dom.get("removeme"),0),b.dom.remove("removeme"),d.justinserted=!0,b.nodeChanged(),d.justinserted=null)):a&&b.selection.setContent(" "+a+" ")});b.addCommand("mceAsciimathDlg",function(){"undefined"==typeof AMTcgiloc&&(AMTcgiloc="");b.windowManager.open({title:"Math Symbols",file:c+"/amcharmap.htm",width:720,height:380,inline:1},{plugin_url:c,AMTcgiloc:AMTcgiloc})});b.on("KeyDown",
function(a){if(13==a.keyCode||35==a.keyCode||40==a.keyCode){if(a=b.dom.getParent(b.selection.getNode(),"span.AMedit"))b.selection.select(a),b.selection.collapse(!1)}else if(46==a.keyCode||8==a.keyCode)node=b.selection.getNode(),(a=b.dom.getParent(node,"span.AM"))&&a.parentNode.removeChild(a)});b.on("KeyPress",function(a){"`"==String.fromCharCode(a.charCode||a.keyCode)&&(null==d.lastAMnode&&(existing=b.selection.getContent(),-1==existing.indexOf("class=AM")&&(existing=existing.replace(/<([^>]*)>/g,
""),existing=existing.replace(/&(m|n)dash;/g,"-"),existing=existing.replace(/&?nbsp;?/g," "),existing=existing.replace(/&(.*?);/g,"$1"),entity='<span class="AMedit">`'+existing+'<span id="removeme"></span>`</span>&nbsp;',tinymce.isIE&&b.focus(),b.selection.setContent(entity),b.selection.setCursorLocation(b.dom.get("removeme"),0),b.dom.remove("removeme"),d.justinserted=!0,b.nodeChanged(),d.justinserted=null)),a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=
!1))});b.addButton("asciimath",{tooltip:"Add New Math",cmd:"mceAsciimath",icon:"mathadd"});b.addButton("asciimathcharmap",{tooltip:"Math Symbols",cmd:"mceAsciimathDlg",icon:"math"});b.on("PreInit",function(a){tinymce.isIE&&(addhtml='<object id="mathplayer" classid="clsid:32F66A20-7614-11D4-BD11-00104BD3F987"></object>',addhtml+='<?import namespace="m" implementation="#mathplayer"?>',b.dom.doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd",addhtml))});b.on("PastePostProcess",function(a){AMtags=
b.dom.select("span.AM",a.node);for(var c=0;c<AMtags.length;c++)d.math2ascii(AMtags[c]);MJtags=b.dom.select("span[data-asciimath]",a.node);for(c=0;c<MJtags.length;c++)d.mathjax2ascii(MJtags[c])});b.on("PreProcess",function(a){if(a.get){AMtags=b.dom.select("span.AM",a.node);for(var c=0;c<AMtags.length;c++)d.math2ascii(AMtags[c]);AMtags=b.dom.select("span.AMedit",a.node);for(c=0;c<AMtags.length;c++)a=AMtags[c].innerHTML,a="`"+a.replace(/\`/g,"")+"`",AMtags[c].innerHTML=a,AMtags[c].className="AM"}});
b.on("LoadContent",function(a){AMtags=b.dom.select("span.AM");for(a=0;a<AMtags.length;a++)d.nodeToAM(AMtags[a]);d.loaded=!0});b.on("SetContent",function(a){if(d.loaded)for(AMtags=b.dom.select("span.AM"),a=0;a<AMtags.length;a++)d.nodeToAM(AMtags[a])});b.on("BeforeSetContent",function(a){a.content=a.content.replace(/(<span[^>]+AM.*?<\/span>)</,"$1 <")});b.on("BeforeExecCommand",function(a){if(null!=d.lastAMnode){if("Superscript"==a.command||"Subscript"==a.command||"Bold"==a.command||"Subscript"==a.command||
"mceToggleFormat"==a.command){a.preventDefault();return}if("mceShowCharmap"==a.command){a.preventDefault();b.execCommand("mceAsciimathDlg");return}}if("mceAsciimath"!=a.command&&"mceAsciimathDlg"!=a.command)for(AMtags=b.dom.select("span.AM"),a=0;a<AMtags.length;a++)d.math2ascii(AMtags[a])});b.on("ExecCommand",function(a){if("mceAsciimath"!=a.command&&"mceAsciimathDlg"!=a.command){AMtags=b.dom.select("span.AM");for(a=0;a<AMtags.length;a++)AMtags[a].innerHTML.match(/(math|img)/)||(AMtags[a].innerHTML=
AMtags[a].title,d.nodeToAM(AMtags[a]));AMimgs=b.dom.select("img.AMimg");for(a=0;a<AMimgs.length;a++)d.imgwrap(b,AMimgs[a])}});b.on("NodeChange",function(a){var c=!0;p=d.testAMclass(a.element)?a.element:b.dom.getParent(a.element,d.testAMclass);if(null!=p){if(d.lastAMnode!=p){d.math2ascii(p);p.className="AMedit";null!=d.lastAMnode&&(d.nodeToAM(d.lastAMnode),d.lastAMnode.className="AM");if(null==d.justinserted&&p.parentNode.innerHTML.match(/<span[^>]*class="AMedit"[^<]*?<\/span>(\s*<br>)?\s*$/)){for(;"span"!=
p.parentNode.lastChild.nodeName.toLowerCase();)p.parentNode.removeChild(p.parentNode.lastChild);p.parentNode.appendChild(b.dom.doc.createTextNode("\u00a0"))}if(null==d.justinserted&&p.parentNode.innerHTML.match(/^\s*<span[^>]*class="AMedit"/)){for(;"span"!=p.parentNode.firstChild.nodeName.toLowerCase();)p.parentNode.removeChild(p.parentNode.firstChild);p.parentNode.insertBefore(b.dom.doc.createTextNode("\u00a0"),p.parentNode.firstChild)}null==d.justinserted&&b.selection.setCursorLocation(p,0);d.lastAMnode=
p}c=!1}c&&null!=d.lastAMnode&&(d.lastAMnode.innerHTML.match(/`(&nbsp;|\s|\u00a0|&#160;)*`/)||d.lastAMnode.innerHTML.match(/^(&nbsp;|\s|\u00a0|&#160;)*$/)?(p=d.lastAMnode.parentNode,p.removeChild(d.lastAMnode)):(d.nodeToAM(d.lastAMnode),d.lastAMnode.className="AM"),d.lastAMnode=null)});b.on("Deactivate",function(a){null!=d.lastAMnode&&(d.lastAMnode.innerHTML.match(/`(&nbsp;|\s)*`/)||d.lastAMnode.innerHTML.match(/^(&nbsp;|\s|\u00a0|&#160;)*$/)?(p=d.lastAMnode.parentNode,p.removeChild(d.lastAMnode)):
(d.nodeToAM(d.lastAMnode),d.lastAMnode.className="AM"),d.lastAMnode=null)})},getInfo:function(){return{longname:"Asciimath plugin",author:"David Lippman",authorurl:"http://dlippman.imathas.com",infourl:"",version:"4.0"}},math2ascii:function(b){var c=b.innerHTML;-1==c.indexOf("`")&&(""!=b.title&&-1==b.title.indexOf("math")&&-1==b.title.indexOf("img")?c=b.title:-1==c.indexOf("title")?(c=c.replace(/.+alt=\"(.*?)\".+/g,"$1"),c=c.replace(/.+alt=\'(.*?)\'.+/g,"$1"),c=c.replace(/.+alt=([^>]*?)\s.*>.*/g,
"$1"),c=c.replace(/.+alt=(.*?)>.*/g,"$1")):(c=c.replace(/.+title=\"(.*?)\".+/g,"$1"),c=c.replace(/.+title=\'(.*?)\'.+/g,"$1"),c=c.replace(/.+title=([^>]*?)\s.*>.*/g,"$1"),c=c.replace(/.+title=(.*?)>.*/g,"$1")),c=c.replace(/<span[^>]*>(.*?)<\/span>/,"$1"),c=c.replace(/<br\s*\/>/," "),c=c.replace(/>/g,"&gt;"),c=c.replace(/</g,"&lt;"),c="`"+c.replace(/\`/g,"")+"`",b.innerHTML=c)},mathjax2ascii:function(b){for(var c=b.getAttribute("data-asciimath"),d=b.attributes,a=d.length;a--;)b.removeAttribute(d[a].name),
console.log(b);b.className="AM";b.title=c;b.innerHTML="`"+c+"`"},nodeToAM:function(b){var c=b.innerHTML.replace(/\`/g,""),c=c.replace(/<span[^>]*>(.*?)<\/span>/,"$1").replace(/<br\s*\/>/," ");if(tinymce.isIE){c.replace(/\"/,"&quot;");var d=document.createElement("span");d.className="AM";d.appendChild(AMTparseMath(c));b.innerHTML=d.innerHTML;b.title=c}else c="`"+c+"`",b.innerHTML=c,AMprocessNode(b),b.title=c.replace(/\`/g,"")},imgwrap:function(b,c){p=b.dom.getParent(c,this.testAMclass);if(null==p){var d=
document.createElement("span");d.className="AM";var a=c.parentNode.replaceChild(d,c);d.appendChild(a);p=d}},lastAMnode:null,loaded:!1,preventAMrender:!1,testAMclass:function(b){return"AM"==b.className||"AMedit"==b.className?!0:!1}});tinymce.PluginManager.add("asciimath",tinymce.plugins.AsciimathPlugin)})();
/*
 Copyright  2008 David Lippman.

 Plugin format based on code that is:
 @copyright Copyright  2004-2008, Moxiecode Systems AB, All rights reserved.
*/
(function(){tinymce.PluginManager.requireLangPack("asciisvg");tinymce.create("tinymce.plugins.AsciisvgPlugin",{init:function(a,d){var e=this;a.addCommand("mceAsciisvg",function(){el=a.selection.getNode();"IMG"!=el.nodeName||""==a.dom.getAttrib(el,"sscr")&&!a.dom.getAttrib(el,"src").match(/sscr=/)?(isnew=!0,sscr="-7.5,7.5,-5,5,1,1,1,1,1,300,200",elwidth=300,elheight=200,alignm="middle"):(sscr=a.dom.getAttrib(el,"sscr"),""==sscr&&(sscr=a.dom.getAttrib(el,"src"),sscr=decodeURIComponent(sscr.replace(/.*sscr=(.*)/,
"$1"))),isnew=!1,elwidth=parseInt(a.dom.getStyle(el,"width")),elheight=parseInt(a.dom.getStyle(el,"height")),alignm=a.dom.getStyle(el,"float"),"none"==alignm&&(alignm=a.dom.getStyle(el,"vertical-align")));a.windowManager.open({title:"Graph Editor",file:d+"/asciisvgdlg.htm",width:670,height:460,inline:1},{plugin_url:d,isnew:isnew,sscr:sscr,width:elwidth,height:elheight,alignm:alignm,AScgiloc:a.getParam("AScgiloc")})});a.addButton("asciisvg",{tooltip:"Add/Edit Graph",cmd:"mceAsciisvg",icon:"graph",
stateSelector:"img[data-asciisvg]"});a.on("PostProcess",function(a){if(a.get){var b=a.content.match(/<img[^>]*sscr[^>]*>/gi);if(null!=b)for(var c=0;c<b.length;c++)sscr=b[c].match(/sscr=\"/)?b[c].replace(/.*sscr=\"(.*?)\".*/,"$1"):b[c].replace(/.*sscr=(.*?)(\s|\").*/,"$1"),style=b[c].match(/style=\"/)?b[c].replace(/.*style=\"(.*?)\".*/,"$1"):"",rep='<embed type="image/svg+xml" style="'+style+'" sscr="'+decodeURIComponent(sscr)+'" />',a.content=a.content.replace(b[c],rep)}});a.on("BeforeSetContent",
function(d){var b=d.content.match(/<embed[^>]*sscr[^>]*>/gi);if(null!=b)for(var c=0;c<b.length;c++)sscr=b[c].match(/sscr=\"/)?b[c].replace(/.*sscr=\"(.*?)\".*/,"$1"):b[c].replace(/.*sscr=(.*?)\s.*/,"$1"),style=b[c].match(/style=\"/)?b[c].replace(/.*style=\"(.*?)\".*/,"$1"):"",rep='<img src="'+a.getParam("AScgiloc")+"?sscr="+encodeURIComponent(sscr)+'" style="'+style+'" data-sscr="'+decodeURIComponent(sscr)+'" data-asciisvg="1" data-mce-placeholder="1"/>',d.content=d.content.replace(b[c],rep)});a.on("ObjectResized",
function(d){var b=d.target;"IMG"==b.nodeName&&""!=a.dom.getAttrib(b,"data-sscr")&&setTimeout(function(){e.processresize(a,b)},50)})},getInfo:function(){return{longname:"Asciisvg plugin",author:"David Lippman",authorurl:"http://dlippman.imathas.com",infourl:"",version:"4.3"}},processresize:function(a,d){width=parseInt(d.style.width);height=parseInt(d.style.height);0<width&&0<height&&(sscra=decodeURIComponent(d.getAttribute("data-sscr")).split(","),sscra[9]=width,sscra[10]=height,sscr=sscra.join(","),
a.dom.setAttrib(d,"data-sscr",sscr),a.dom.setAttrib(d,"src",a.getParam("AScgiloc")+"?sscr="+encodeURIComponent(sscr)),a.dom.setStyle(d,"width",width+"px"),a.dom.setStyle(d,"height",height+"px"))}});tinymce.PluginManager.add("asciisvg",tinymce.plugins.AsciisvgPlugin)})();
tinymce.PluginManager.add("rollups",function(a,c){a.addButton("myEdit",{type:"menubutton",text:"Edit",icon:!1,menu:[a.menuItems.undo,a.menuItems.Redo,{text:"-"},a.menuItems.cut,a.menuItems.copy,a.menuItems.paste,a.menuItems.pastetext,,{text:"-"},a.menuItems.selectall,{text:"-"},a.menuItems.searchreplace]});a.addButton("myInsert",{type:"menubutton",text:"Insert",icon:!1,menu:[a.menuItems.media,a.menuItems.link,a.menuItems.image,a.menuItems.attach,{text:"-"},a.menuItems.charmap,a.menuItems.anchor,{icon:"hr",
text:"Horizontal line",onclick:function(){a.execCommand("mceInsertContent",!1,"<hr />")}}]});var b=a.buttons.styleselect;b&&b.menu.items.push(a.menuItems.removeformat)});
tinymce.ThemeManager.add("modern",function(a){function b(b,c){var d,e=[];if(b)return o(b.split(/[ ,]/),function(b){function f(){function c(a){return function(c,d){for(var e,f=d.parents.length;f--&&(e=d.parents[f].nodeName,"OL"!=e&&"UL"!=e););b.active(c&&e==a)}}var d=a.selection;"bullist"==g&&d.selectorChanged("ul > li",c("UL")),"numlist"==g&&d.selectorChanged("ol > li",c("OL")),b.settings.stateSelector&&d.selectorChanged(b.settings.stateSelector,function(a){b.active(a)},!0),b.settings.disabledStateSelector&&d.selectorChanged(b.settings.disabledStateSelector,function(a){b.disabled(a)})}var g;"|"==b?d=null:n.has(b)?(b={type:b,size:c},e.push(b),d=null):(d||(d={type:"buttongroup",items:[]},e.push(d)),a.buttons[b]&&(g=b,b=a.buttons[g],"function"==typeof b&&(b=b()),b.type=b.type||"button",b.size=c,b=n.create(b),d.items.push(b),a.initialized?f():a.on("init",f)))}),{type:"toolbar",layout:"flow",items:e}}function c(a){function c(c){return c?(d.push(b(c,a)),!0):void 0}var d=[];if(tinymce.isArray(m.toolbar)){if(0===m.toolbar.length)return;tinymce.each(m.toolbar,function(a,b){m["toolbar"+(b+1)]=a}),delete m.toolbar}for(var e=1;10>e&&c(m["toolbar"+e]);e++);return d.length||m.toolbar===!1||c(m.toolbar||t),d.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:d}:void 0}function d(){function b(b){var c;return"|"==b?{text:"|"}:c=a.menuItems[b]}function c(c){var d,e,f,g,h;if(h=tinymce.makeMap((m.removed_menuitems||"").split(/[ ,]/)),m.menu?(e=m.menu[c],g=!0):e=s[c],e){d={text:e.title},f=[],o((e.items||"").split(/[ ,]/),function(a){var c=b(a);c&&!h[a]&&f.push(b(a))}),g||o(a.menuItems,function(a){a.context==c&&("before"==a.separator&&f.push({text:"|"}),a.prependToContext?f.unshift(a):f.push(a),"after"==a.separator&&f.push({text:"|"}))});for(var i=0;i<f.length;i++)"|"==f[i].text&&(0!==i&&i!=f.length-1||f.splice(i,1));if(d.menu=f,!d.menu.length)return null}return d}var d,e=[],f=[];if(m.menu)for(d in m.menu)f.push(d);else for(d in s)f.push(d);for(var g="string"==typeof m.menubar?m.menubar.split(/[ ,]/):f,h=0;h<g.length;h++){var i=g[h];i=c(i),i&&e.push(i)}return e}function e(b){function c(a){var c=b.find(a)[0];c&&c.focus(!0)}a.shortcuts.add("Alt+F9","",function(){c("menubar")}),a.shortcuts.add("Alt+F10","",function(){c("toolbar")}),a.shortcuts.add("Alt+F11","",function(){c("elementpath")}),b.on("cancel",function(){a.focus()})}function f(b,c){function d(a){return{width:a.clientWidth,height:a.clientHeight}}var e,f,g,h;e=a.getContainer(),f=a.getContentAreaContainer().firstChild,g=d(e),h=d(f),null!==b&&(b=Math.max(m.min_width||100,b),b=Math.min(m.max_width||65535,b),p.setStyle(e,"width",b+(g.width-h.width)),p.setStyle(f,"width",b)),c=Math.max(m.min_height||100,c),c=Math.min(m.max_height||65535,c),p.setStyle(f,"height",c),a.fire("ResizeEditor")}function g(b,c){var d=a.getContentAreaContainer();l.resizeTo(d.clientWidth+b,d.clientHeight+c)}function h(){function c(){return a.contextToolbars||[]}function d(b){var c,d,e;return c=tinymce.DOM.getPos(a.getContentAreaContainer()),d=a.dom.getRect(b),e=a.dom.getRoot(),"BODY"==e.nodeName&&(d.x-=e.ownerDocument.documentElement.scrollLeft||e.scrollLeft,d.y-=e.ownerDocument.documentElement.scrollTop||e.scrollTop),d.x+=c.x,d.y+=c.y,d}function e(){o(a.contextToolbars,function(a){a.panel&&a.panel.hide()})}function f(a,b,c){b=b?b.substr(0,2):"",o({t:"down",b:"up"},function(d,e){a.classes.toggle("arrow-"+d,c(e,b.substr(0,1)))}),o({l:"left",r:"right"},function(d,e){a.classes.toggle("arrow-"+d,c(e,b.substr(1,1)))})}function g(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}}function h(a,b,c,d,e){return e=g({x:a,y:b,w:e.w,h:e.h}),m.inline_toolbar_position_handler&&(e=m.inline_toolbar_position_handler({elementRect:g(c),contentAreaRect:g(d),panelRect:e})),e}function i(a,b){a.moveTo(b.left,b.top)}function j(b){var c,g,j,k,l,m,n;if(!a.removed){if(!b||!b.toolbar.panel)return void e();n=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],l=b.toolbar.panel,l.show(),j=d(b.element),g=tinymce.DOM.getRect(l.getEl()),k=tinymce.DOM.getRect(a.getContentAreaContainer()||a.getBody()),j.w=b.element.clientWidth,j.h=b.element.clientHeight,a.inline||(k.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(b.element)&&(j=q.inflate(j,0,8)),c=q.findBestRelativePosition(g,j,k,n),j=q.clamp(j,k),c?(m=q.relativePosition(g,j,c),i(l,h(m.x,m.y,j,k,g))):(k.h+=40,j=q.intersect(k,j),j?(c=q.findBestRelativePosition(g,j,k,["bc-tc","bl-tl","br-tr"]),c?(m=q.relativePosition(g,j,c),i(l,h(m.x,m.y,j,k,g))):i(l,h(j.x,j.y,j,k,g))):l.hide()),f(l,c,function(a,b){return(!j||j.w>40)&&a===b})}}function k(){function b(){a.selection&&j(s(a.selection.getNode()))}tinymce.util.Delay.requestAnimationFrame(b)}function l(){t||(t=a.selection.getScrollContainer()||a.getWin(),tinymce.$(t).on("scroll",k),a.on("remove",function(){tinymce.$(t).off("scroll")}))}function p(c){var d;return c.toolbar.panel?(c.toolbar.panel.show(),void j(c)):(l(),d=n.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:b(c.toolbar.items),oncancel:function(){a.focus()}}),c.toolbar.panel=d,d.renderTo(document.body).reflow(),void j(c))}function r(){tinymce.each(c(),function(a){a.panel&&a.panel.hide()})}function s(b){var d,e,f,g=c();for(f=a.$(b).parents().add(b),d=f.length-1;d>=0;d--)for(e=g.length-1;e>=0;e--)if(g[e].predicate(f[d]))return{toolbar:g[e],element:f[d]};return null}var t;a.on("click keyup setContent",function(b){("setcontent"!=b.type||b.selection)&&tinymce.util.Delay.setEditorTimeout(a,function(){var b;b=s(a.selection.getNode()),b?(r(),p(b)):r()})}),a.on("blur hide",r),a.on("ObjectResizeStart",function(){var b=s(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.hide()}),a.on("nodeChange ResizeEditor ResizeWindow",k),a.on("remove",function(){tinymce.each(c(),function(a){a.panel&&a.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var b=s(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.items()[0].focus()})}function i(a){return function(){a.initialized?a.fire("SkinLoaded"):a.on("init",function(){a.fire("SkinLoaded")})}}function j(b){function f(){if(o&&o.moveRel&&o.visible()&&!o._fixed){var b=a.selection.getScrollContainer(),c=a.getBody(),d=0,e=0;if(b){var f=p.getPos(c),g=p.getPos(b);d=Math.max(0,g.x-f.x),e=Math.max(0,g.y-f.y)}o.fixed(!1).moveRel(c,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(d,e)}}function g(){o&&(o.show(),f(),p.addClass(a.getBody(),"mce-edit-focus"))}function j(){o&&(o.hide(),r.hideAll(),p.removeClass(a.getBody(),"mce-edit-focus"))}function k(){return o?void(o.visible()||g()):(o=l.panel=n.create({type:q?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!q,border:1,items:[m.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:d()},c(m.toolbar_items_size)]}),a.fire("BeforeRenderUI"),o.renderTo(q||document.body).reflow(),e(o),g(),h(),a.on("nodeChange",f),a.on("activate",g),a.on("deactivate",j),void a.nodeChanged())}var o,q;return m.fixed_toolbar_container&&(q=p.select(m.fixed_toolbar_container)[0]),m.content_editable=!0,a.on("focus",function(){b.skinUiCss?tinymce.DOM.styleSheetLoader.load(b.skinUiCss,k,k):k()}),a.on("blur hide",j),a.on("remove",function(){o&&(o.remove(),o=null)}),b.skinUiCss&&tinymce.DOM.styleSheetLoader.load(b.skinUiCss,i(a)),{}}function k(b){function g(){return function(a){"readonly"==a.mode?j.find("*").disabled(!0):j.find("*").disabled(!1)}}var j,k,o;return b.skinUiCss&&tinymce.DOM.styleSheetLoader.load(b.skinUiCss,i(a)),j=l.panel=n.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[m.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:d()},c(m.toolbar_items_size),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),m.resize!==!1&&(k={type:"resizehandle",direction:m.resize,onResizeStart:function(){var b=a.getContentAreaContainer().firstChild;o={width:b.clientWidth,height:b.clientHeight}},onResize:function(a){"both"==m.resize?f(o.width+a.deltaX,o.height+a.deltaY):f(null,o.height+a.deltaY)}}),m.statusbar!==!1&&j.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},k]}),a.fire("BeforeRenderUI"),a.on("SwitchMode",g()),j.renderBefore(b.targetNode).reflow(),m.readonly&&a.setMode("readonly"),m.width&&tinymce.DOM.setStyle(j.getEl(),"width",m.width),a.on("remove",function(){j.remove(),j=null}),e(j),h(),{iframeContainer:j.find("#iframe")[0].getEl(),editorContainer:j.getEl()}}var l=this,m=a.settings,n=tinymce.ui.Factory,o=tinymce.each,p=tinymce.DOM,q=tinymce.geom.Rect,r=tinymce.ui.FloatPanel,s={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},t="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";l.renderUI=function(b){var c=m.skin!==!1?m.skin||"lightgray":!1;if(c){var d=m.skin_url;d=d?a.documentBaseURI.toAbsolute(d):tinymce.baseURL+"/skins/"+c,tinymce.Env.documentMode<=7?b.skinUiCss=d+"/skin.ie7.min.css":b.skinUiCss=d+"/skin.min.css",a.contentCSS.push(d+"/content"+(a.inline?".inline":"")+".min.css")}return a.on("ProgressState",function(a){l.throbber=l.throbber||new tinymce.ui.Throbber(l.panel.getEl("body")),a.state?l.throbber.show(a.time):l.throbber.hide()}),m.inline?j(b):k(b)},l.resizeTo=f,l.resizeBy=g});tinymce.each("tinymce,plugins/advlist/plugin,plugins/attach/plugin,plugins/image/plugin,plugins/charmap/plugin,plugins/anchor/plugin,plugins/searchreplace/plugin,plugins/code/plugin,plugins/link/plugin,plugins/textcolor/plugin,plugins/media/plugin,plugins/table/plugin,plugins/paste/plugin,plugins/asciimath/plugin,plugins/asciisvg/plugin,plugins/rollups/plugin,themes/modern/theme".split(","),function(f){tinymce.ScriptLoader.markDone(tinyMCE.baseURL+"/"+f+".js");});