!function(){var oa={},v=function(h,g,f){if("string"!=typeof h)throw"module id must be a string";if(void 0===g)throw"no dependencies for "+h;if(void 0===f)throw"no definition function for "+h;oa[h]={deps:g,defn:f,instance:void 0}},ta=function(h){var g=oa[h];if(void 0===g)throw"module ["+h+"] was undefined";if(void 0===g.instance){for(var f=oa[h],e=f.deps,b=f.defn,d=e.length,c=Array(d),a=0;a<d;++a)c[a]=ta(e[a]);e=b.apply(null,c);if(void 0===e)throw"module ["+h+"] returned undefined";f.instance=e}return g.instance},
ha=function(h,g){v(h,[],function(){return g})};ha("3",Array);ha("4",Error);v("1",["3","4"],function(h,g){var f=function(b){return function(){return b}},e=f(!1),b=f(!0);return{noop:function(){},compose:function(b,c){return function(){return b(c.apply(null,arguments))}},constant:f,identity:function(b){return b},tripleEquals:function(b,c){return b===c},curry:function(b){for(var d=new h(arguments.length-1),a=1;a<arguments.length;a++)d[a-1]=arguments[a];return function(){for(var a=new h(arguments.length),
c=0;c<a.length;c++)a[c]=arguments[c];a=d.concat(a);return b.apply(null,a)}},not:function(b){return function(){return!b.apply(null,arguments)}},die:function(b){return function(){throw new g(b);}},apply:function(b){return b()},call:function(b){b()},never:e,always:b}});v("1h",[],function(){var h=function(g){var f=g;return{get:function(){return f},set:function(e){f=e},clone:function(){return h(f)}}};return h});v("1t",[],function(){function h(b){return function(d){return!!d&&d.nodeType==b}}function g(b){return b=
b.toLowerCase().split(" "),function(d){if(d&&d.nodeType){var c=d.nodeName.toLowerCase();for(d=0;d<b.length;d++)if(c===b[d])return!0}return!1}}function f(b){return function(d){return!e(d)||d.contentEditable!==b&&d.getAttribute("data-mce-contenteditable")!==b?!1:!0}}var e=h(1);return{isText:h(3),isElement:e,isComment:h(8),isBr:g("br"),isContentEditableTrue:f("true"),isContentEditableFalse:f("false"),matchNodeNames:g,hasPropValue:function(b,d){return function(c){return e(c)&&c[b]===d}},hasAttribute:function(b,
d){return function(c){return e(c)&&c.hasAttribute(b)}},hasAttributeValue:function(b,d){return function(c){return e(c)&&c.getAttribute(b)===d}},matchStyleValues:function(b,d){return d=d.toLowerCase().split(" "),function(c){var a,f;if(e(c))for(a=0;a<d.length;a++)if(f=c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(b),f===d[a])return!0;return!1}},isBogus:function(b){return e(b)&&b.hasAttribute("data-mce-bogus")}}});v("7",[],function(){function h(a,b){return function(){a.apply(b,
arguments)}}function g(c){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof c)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];a(c,h(e,this),h(b,this))}function f(a){var b=this;return null===this._state?void this._deferreds.push(a):void m(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);try{var d=c(b._value)}catch(u){return void a.reject(u)}a.resolve(d)})}
function e(c){try{if(c===this)throw new TypeError("A promise cannot be resolved with itself.");if(c&&("object"==typeof c||"function"==typeof c)){var f=c.then;if("function"==typeof f)return void a(h(f,c),h(e,this),h(b,this))}this._state=!0;this._value=c;d.call(this)}catch(p){b.call(this,p)}}function b(a){this._state=!1;this._value=a;d.call(this)}function d(){for(var a=0,b=this._deferreds.length;a<b;a++)f.call(this,this._deferreds[a]);this._deferreds=null}function c(a,b,c,d){this.onFulfilled="function"==
typeof a?a:null;this.onRejected="function"==typeof b?b:null;this.resolve=c;this.reject=d}function a(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(u){d||(d=!0,c(u))}}if(window.Promise)return window.Promise;var m=g.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return g.prototype["catch"]=function(a){return this.then(null,a)},g.prototype.then=
function(a,b){var d=this;return new g(function(e,l){f.call(d,new c(a,b,e,l))})},g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new g(function(b,c){function d(k,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var l=f.then;if("function"==typeof l)return void l.call(f,function(a){d(k,a)},c)}a[k]=f;0===--e&&b(a)}catch(n){c(n)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},g.resolve=function(a){return a&&
"object"==typeof a&&a.constructor===g?a:new g(function(b){b(a)})},g.reject=function(a){return new g(function(b,c){c(a)})},g.race=function(a){return new g(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},g});v("8",["7"],function(h){function g(b,a){function c(a){window.setTimeout(a,0)}var d,e=window.requestAnimationFrame,f=["ms","moz","webkit"];for(d=0;d<f.length&&!e;d++)e=window[f[d]+"RequestAnimationFrame"];e||(e=c);e(b,a)}function f(b,a){return"number"!=typeof a&&(a=0),setTimeout(b,
a)}function e(b,a){return"number"!=typeof a&&(a=1),setInterval(b,a)}function b(b,a){var d,c;return c=function(){var c=arguments;clearTimeout(d);d=f(function(){b.apply(this,c)},a)},c.stop=function(){clearTimeout(d)},c}var d;return{requestAnimationFrame:function(b,a){return d?void d.then(b):void(d=(new h(function(b){a||(a=document.body);g(b,a)})).then(b))},setTimeout:f,setInterval:e,setEditorTimeout:function(b,a,d){return f(function(){b.removed||a()},d)},setEditorInterval:function(b,a,d){var c;return c=
e(function(){b.removed?clearInterval(c):a()},d)},debounce:b,throttle:b,clearInterval:function(b){return clearInterval(b)},clearTimeout:function(b){return clearTimeout(b)}}});v("9",[],function(){var h=navigator;var g=h.userAgent;var f=window.opera&&window.opera.buildNumber;var e=/Android/.test(g);var b=/WebKit/.test(g);var d=(d=!b&&!f&&/MSIE/gi.test(g)&&/Explorer/gi.test(h.appName))&&/MSIE (\w+)\./.exec(g)[1];var c=-1!=g.indexOf("Trident/")&&(-1!=g.indexOf("rv:")||-1!=h.appName.indexOf("Netscape"))&&
11;h=-1!=g.indexOf("Edge/")&&!d&&!c&&12;d=d||c||h;c=!b&&!c&&/Gecko/.test(g);var a=-1!=g.indexOf("Mac");var m=/(iPad|iPhone)/.test(g);var l="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL;var r="matchMedia"in window&&matchMedia("only screen and (max-device-width: 480px)").matches&&(e||m);var q="matchMedia"in window&&matchMedia("only screen and (min-width: 800px)").matches&&(e||m);var p=-1!=g.indexOf("Windows Phone");h&&(b=!1);g=!m||l||534<=g.match(/AppleWebKit\/(\d*)/)[1];
return{opera:f,webkit:b,ie:d,gecko:c,mac:a,iOS:m,android:e,contentEditable:g,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=d,range:window.getSelection&&"Range"in window,documentMode:d&&!h?document.documentMode||7:10,fileApi:l,ceFalse:!1===d||8<d,canHaveCSP:!1===d||11<d,desktop:!r&&!q,windowsPhone:p}});v("a",["8","9"],function(h,g){function f(a,b,d,c){a.addEventListener?a.addEventListener(b,d,c||!1):a.attachEvent&&a.attachEvent("on"+b,
d)}function e(a,b,d,c){a.removeEventListener?a.removeEventListener(b,d,c||!1):a.detachEvent&&a.detachEvent("on"+b,d)}function b(a,b){var d,c=b;return d=a.path,d&&0<d.length&&(c=d[0]),a.deepPath&&(d=a.deepPath(),d&&0<d.length&&(c=d[0])),c}function d(a,d){var c=d||{};for(k in a)r[k]||(c[k]=a[k]);if(c.target||(c.target=c.srcElement||document),g.experimentalShadowDom&&(c.target=b(a,c.target)),a&&l.test(a.type)&&void 0===a.pageX&&void 0!==a.clientX){var e=c.target.ownerDocument||document;var k=e.documentElement;
e=e.body;c.pageX=a.clientX+(k&&k.scrollLeft||e&&e.scrollLeft||0)-(k&&k.clientLeft||e&&e.clientLeft||0);c.pageY=a.clientY+(k&&k.scrollTop||e&&e.scrollTop||0)-(k&&k.clientTop||e&&e.clientTop||0)}return c.preventDefault=function(){c.isDefaultPrevented=p;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},c.stopPropagation=function(){c.isPropagationStopped=p;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=p;c.stopPropagation()},
!1===(c.isDefaultPrevented===p||c.isDefaultPrevented===q)&&(c.isDefaultPrevented=q,c.isPropagationStopped=q,c.isImmediatePropagationStopped=q),"undefined"==typeof c.metaKey&&(c.metaKey=!1),c}function c(a,b,c){function d(){return"complete"===m.readyState||"interactive"===m.readyState&&m.body}function k(){c.domLoaded||(c.domLoaded=!0,b(p))}function l(){d()&&(e(m,"readystatechange",l),k())}function n(){try{m.documentElement.doScroll("left")}catch(A){return void h.setTimeout(n)}k()}var m=a.document,p=
{type:"ready"};return c.domLoaded?void b(p):(!m.addEventListener||g.ie&&11>g.ie?(f(m,"readystatechange",l),m.documentElement.doScroll&&a.self===a.top&&n()):d()?k():f(a,"DOMContentLoaded",k),void f(a,"load",k))}function a(){function a(a,b){var c,d,e;if(c=(c=l[b])&&c[a.type]){var n=0;for(d=c.length;n<d&&(e=c[n],e&&!1===e.func.call(e.scope,a)&&a.preventDefault(),!a.isImmediatePropagationStopped());n++);}}var b=this,l={};var p=m+(+new Date).toString(32);var t="onmouseenter"in document.documentElement;
var w="onfocusin"in document.documentElement;var n={mouseenter:"mouseover",mouseleave:"mouseout"};var y=1;b.domLoaded=!1;b.events=l;b.bind=function(e,k,B,m){function A(b){a(d(b||D.event),C)}var C,g,u,r,D=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[p]?C=e[p]:(C=y++,e[p]=C,l[C]={});m=m||e;k=k.split(" ");for(u=k.length;u--;){var q=k[u];var z=A;var h=r=!1;"DOMContentLoaded"===q&&(q="ready");b.domLoaded&&"ready"===q&&"complete"==e.readyState?B.call(m,d({type:q})):(t||(h=n[q],h&&(z=function(b){var c,
e;if(c=b.currentTarget,e=b.relatedTarget,e&&c.contains)e=c.contains(e);else for(;e&&e!==c;)e=e.parentNode;e||(b=d(b||D.event),b.type="mouseout"===b.type?"mouseleave":"mouseenter",b.target=c,a(b,C))})),w||"focusin"!==q&&"focusout"!==q||(r=!0,h="focusin"===q?"focus":"blur",z=function(b){b=d(b||D.event);b.type="focus"===b.type?"focusin":"focusout";a(b,C)}),g=l[C][q],g?"ready"===q&&b.domLoaded?B({type:q}):g.push({func:B,scope:m}):(l[C][q]=g=[{func:B,scope:m}],g.fakeName=h,g.capture=r,g.nativeHandler=
z,"ready"===q?c(e,z,b):f(e,h||q,z,r)))}return e=g=0,B}};b.unbind=function(a,c,d){var n,k,A,f,B,m;if(!a||3===a.nodeType||8===a.nodeType)return b;if(n=a[p]){if(m=l[n],c)for(c=c.split(" "),A=c.length;A--;){if(B=c[A],k=m[B]){if(d)for(f=k.length;f--;)if(k[f].func===d){var w=k.nativeHandler,t=k.fakeName,g=k.capture;k=k.slice(0,f).concat(k.slice(f+1));k.nativeHandler=w;k.fakeName=t;k.capture=g;m[B]=k}d&&0!==k.length||(delete m[B],e(a,k.fakeName||B,k.nativeHandler,k.capture))}}else{for(B in m)k=m[B],e(a,
k.fakeName||B,k.nativeHandler,k.capture);m={}}for(B in m)return b;delete l[n];try{delete a[p]}catch(U){a[p]=null}}return b};b.fire=function(c,e,n){if(!c||3===c.nodeType||8===c.nodeType)return b;n=d(null,n);n.type=e;n.target=c;do(e=c[p])&&a(n,e),c=c.parentNode||c.ownerDocument||c.defaultView||c.parentWindow;while(c&&!n.isPropagationStopped());return b};b.clean=function(a){var c,d=b.unbind;if(!a||3===a.nodeType||8===a.nodeType)return b;if(a[p]&&d(a),a.getElementsByTagName||(a=a.document),a&&a.getElementsByTagName){d(a);
var e=a.getElementsByTagName("*");for(c=e.length;c--;)a=e[c],a[p]&&d(a)}return b};b.destroy=function(){l={}};b.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var m="mce-data-",l=/^(?:mouse|contextmenu)|click/,r={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},q=function(){return!1},p=function(){return!0};return a.Event=new a,a.Event.bind(window,"ready",function(){}),a});v("b",[],function(){function h(b,c,d,e){var k,
f,A,m,C;if((c?c.ownerDocument||c:M)!==B&&O(c),c=c||B,d=d||[],!b||"string"!=typeof b)return d;if(1!==(m=c.nodeType)&&9!==m)return[];if(H&&!e){if(k=ua.exec(b))if(A=k[1])if(9===m){if(f=c.getElementById(A),!f||!f.parentNode)return d;if(f.id===A)return d.push(f),d}else{if(c.ownerDocument&&(f=c.ownerDocument.getElementById(A))&&J(c,f)&&f.id===A)return d.push(f),d}else{if(k[2])return V.apply(d,c.getElementsByTagName(b)),d;if((A=k[3])&&fa.getElementsByClassName)return V.apply(d,c.getElementsByClassName(A)),
d}if(fa.qsa&&(!F||!F.test(b))){if(f=k=G,A=c,C=9===m&&b,1===m&&"object"!==c.nodeName.toLowerCase()){m=t(b);(k=c.getAttribute("id"))?f=k.replace(sa,"\\$&"):c.setAttribute("id",f);f="[id='"+f+"'] ";for(A=m.length;A--;)m[A]=f+l(m[A]);A=pa.test(b)&&a(c.parentNode)||c;C=m.join(",")}if(C)try{return V.apply(d,A.querySelectorAll(C)),d}catch(za){}finally{k||c.removeAttribute("id")}}}return n(b.replace(Y,"$1"),c,d,e)}function g(){function a(c,d){return b.push(c+" ")>Z.cacheLength&&delete a[b.shift()],a[c+" "]=
d}var b=[];return a}function f(a){return a[G]=!0,a}function e(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||aa)-(~a.sourceIndex||aa);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function b(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function d(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function c(a){return f(function(b){return b=+b,f(function(c,d){for(var e,
k=a([],c.length,b),n=k.length;n--;)c[e=k[n]]&&(c[e]=!(d[e]=c[e]))})})}function a(a){return a&&typeof a.getElementsByTagName!==X&&a}function m(){}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function r(a,b,c){var d=b.dir,e=c&&"parentNode"===d,k=K++;return b.first?function(b,c,k){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,k)}:function(b,c,n){var f,A,l=[N,k];if(n)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,n))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(A=b[G]||
(b[G]={}),(f=A[d])&&f[0]===N&&f[1]===k)return l[2]=f[2];if(A[d]=l,l[2]=a(b,c,n))return!0}}}function q(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,b,c,d,e){for(var k,n=[],f=0,A=a.length,l=null!=b;f<A;f++)(k=a[f])&&(c&&!c(k,d,e)||(n.push(k),l&&b.push(f)));return n}function k(a,b,c,d,e,n){return d&&!d[G]&&(d=k(d)),e&&!e[G]&&(e=k(e,n)),f(function(k,n,f,A){var l,B=[],m=[],C=n.length,w;if(!(w=k)){w=b||"*";for(var t=f.nodeType?[f]:f,g=
[],y=0,u=t.length;y<u;y++)h(w,t[y],g);w=g}w=!a||!k&&b?w:p(w,B,a,f,A);t=c?e||(k?a:C||d)?[]:n:w;if(c&&c(w,t,f,A),d){var r=p(t,m);d(r,[],f,A);for(f=r.length;f--;)(l=r[f])&&(t[m[f]]=!(w[m[f]]=l))}if(k){if(e||a){if(e){r=[];for(f=t.length;f--;)(l=t[f])&&r.push(w[f]=l);e(null,t=[],r,A)}for(f=t.length;f--;)(l=t[f])&&-1<(r=e?ba.call(k,l):B[f])&&(k[r]=!(n[r]=l))}}else t=p(t===n?t.splice(C,t.length):t),e?e(null,n,t,A):V.apply(n,t)})}function u(a){var b,c,d=a.length,e=Z.relative[a[0].type];var n=e||Z.relative[" "];
for(var f=e?1:0,A=r(function(a){return a===b},n,!0),B=r(function(a){return-1<ba.call(b,a)},n,!0),m=[function(a,c,d){return!e&&(d||c!==y)||((b=c).nodeType?A(a,c,d):B(a,c,d))}];f<d;f++)if(n=Z.relative[a[f].type])m=[r(q(m),n)];else{if(n=Z.filter[a[f].type].apply(null,a[f].matches),n[G]){for(c=++f;c<d&&!Z.relative[a[c].type];c++);return k(1<f&&q(m),1<f&&l(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(Y,"$1"),n,f<c&&u(a.slice(f,c)),c<d&&u(a=a.slice(c)),c<d&&l(a))}m.push(n)}return q(m)}
function z(a,b){var c=0<b.length,d=0<a.length,e=function(e,n,k,f,A){var l,m,C,w=0,t="0",g=e&&[],u=[],r=y,q=e||d&&Z.find.TAG("*",A),D=N+=null==r?1:Math.random()||.1,z=q.length;for(A&&(y=n!==B&&n);t!==z&&null!=(l=q[t]);t++){if(d&&l){for(m=0;C=a[m++];)if(C(l,n,k)){f.push(l);break}A&&(N=D)}c&&((l=!C&&l)&&w--,e&&g.push(l))}if(w+=t,c&&t!==w){for(m=0;C=b[m++];)C(g,u,n,k);if(e){if(0<w)for(;t--;)g[t]||u[t]||(u[t]=L.call(f));u=p(u)}V.apply(f,u);A&&!e&&0<u.length&&1<w+b.length&&h.uniqueSort(f)}return A&&(N=
D,y=r),g};return c?f(e):e}var x,t,w,n,y,D,A,B,C,H,F,E,J,G="sizzle"+-new Date,M=window.document,N=0,K=0,U=g(),I=g(),S=g(),v=function(a,b){return a===b&&(A=!0),0},X="undefined",aa=-2147483648,W={}.hasOwnProperty,Q=[],L=Q.pop,R=Q.push,V=Q.push,T=Q.slice,ba=Q.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},Y=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ea=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
ma=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ja=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,da=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ia={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,
ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,na=/^[^{]+\{\s*\[native \w/,ua=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,sa=/'|\\/g,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),la=function(a,
b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{V.apply(Q=T.call(M.childNodes),M.childNodes),Q[M.childNodes.length].nodeType}catch(wa){V={apply:Q.length?function(a,b){R.apply(a,T.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var fa=h.support={};var va=h.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName};var O=h.setDocument=function(a){var b,c=a?a.ownerDocument||
a:M;a=c.defaultView;if(c!==B&&9===c.nodeType&&c.documentElement){B=c;C=c.documentElement;H=!va(c);var d;if(d=a){a:{try{var n=a.top;break a}catch(ya){}n=null}d=a!==n}n=(d&&(a.addEventListener?a.addEventListener("unload",function(){O()},!1):a.attachEvent&&a.attachEvent("onunload",function(){O()})),fa.attributes=!0,fa.getElementsByTagName=!0,fa.getElementsByClassName=na.test(c.getElementsByClassName),fa.getById=!0,Z.find.ID=function(a,b){if(typeof b.getElementById!==X&&H){var c=b.getElementById(a);return c&&
c.parentNode?[c]:[]}},Z.filter.ID=function(a){var b=a.replace(ka,la);return function(a){return a.getAttribute("id")===b}},Z.find.TAG=fa.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==X)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,n=b.getElementsByTagName(a);if("*"===a){for(;c=n[e++];)1===c.nodeType&&d.push(c);return d}return n},Z.find.CLASS=fa.getElementsByClassName&&function(a,b){if(H)return b.getElementsByClassName(a)},E=[],F=[],fa.disconnectedMatch=!0,F=
F.length&&new RegExp(F.join("|")),E=E.length&&new RegExp(E.join("|")),b=na.test(C.compareDocumentPosition),J=b||na.test(C.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},v=b?function(a,b){if(a===b)return A=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?
d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!fa.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===M&&J(M,a)?-1:b===c||b.ownerDocument===M&&J(M,b)?1:D?ba.call(D,a)-ba.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return A=!0,0;var d=0;var n=a.parentNode;var k=b.parentNode,f=[a],l=[b];if(!n||!k)return a===c?-1:b===c?1:n?-1:k?1:D?ba.call(D,a)-ba.call(D,b):0;if(n===k)return e(a,b);for(n=a;n=n.parentNode;)f.unshift(n);for(n=b;n=n.parentNode;)l.unshift(n);
for(;f[d]===l[d];)d++;return d?e(f[d],l[d]):f[d]===M?-1:l[d]===M?1:0},c)}else n=B;return n};h.matches=function(a,b){return h(a,null,null,b)};h.matchesSelector=function(a,b){if((a.ownerDocument||a)!==B&&O(a),b=b.replace(ma,"='$1']"),!(!fa.matchesSelector||!H||E&&E.test(b)||F&&F.test(b)))try{var c=(void 0).call(a,b);if(c||fa.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(xa){}return 0<h(b,B,null,[a]).length};h.contains=function(a,b){return(a.ownerDocument||a)!==B&&O(a),J(a,b)};
h.attr=function(a,b){(a.ownerDocument||a)!==B&&O(a);var c=Z.attrHandle[b.toLowerCase()];c=c&&W.call(Z.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0!==c?c:fa.attributes||!H?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};h.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};h.uniqueSort=function(a){var b,c=[],d=0,e=0;if(A=!fa.detectDuplicates,D=!fa.sortStable&&a.slice(0),a.sort(v),A){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],
1)}return D=null,a};var ha=h.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=ha(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=ha(b);return c};var Z=h.selectors={cacheLength:50,createPseudo:f,match:ia,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(ka,la),a[3]=(a[3]||a[4]||a[5]||"").replace(ka,la),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||h.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&h.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ia.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=t(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ka,la).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=U[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),U(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==X&&a.getAttribute("class")||"")}))},ATTR:function(a,b,c){return function(d){d=h.attr(d,a);return null==
d?"!="===b:!b||(d+="","="===b?d===c:"!="===b?d!==c:"^="===b?c&&0===d.indexOf(c):"*="===b?c&&-1<d.indexOf(c):"$="===b?c&&d.slice(-c.length)===c:"~="===b?-1<(" "+d+" ").indexOf(c):"|="===b&&(d===c||d.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var n="nth"!==a.slice(0,3),k="last"!==a.slice(-4),f="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,A){var l;c=n!==k?"nextSibling":"previousSibling";var B=b.parentNode,m=f&&b.nodeName.toLowerCase();A=!A&&!f;if(B){if(n){for(;c;){for(l=
b;l=l[c];)if(f?l.nodeName.toLowerCase()===m:1===l.nodeType)return!1;var C=c="only"===a&&!C&&"nextSibling"}return!0}if(C=[k?B.firstChild:B.lastChild],k&&A){A=B[G]||(B[G]={});var w=A[a]||[];var t=w[0]===N&&w[1];var p=w[0]===N&&w[2];for(l=t&&B.childNodes[t];l=++t&&l&&l[c]||(p=t=0)||C.pop();)if(1===l.nodeType&&++p&&l===b){A[a]=[N,t,p];break}}else if(A&&(w=(b[G]||(b[G]={}))[a])&&w[0]===N)p=w[1];else for(;(l=++t&&l&&l[c]||(p=t=0)||C.pop())&&((f?l.nodeName.toLowerCase()!==m:1!==l.nodeType)||!++p||(A&&((l[G]||
(l[G]={}))[a]=[N,p]),l!==b)););return p-=e,p===d||0===p%d&&0<=p/d}}},PSEUDO:function(a,b){var c,d=Z.pseudos[a]||Z.setFilters[a.toLowerCase()]||h.error("unsupported pseudo: "+a);return d[G]?d(b):1<d.length?(c=[a,a,"",b],Z.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,c){for(var e,n=d(a,b),k=n.length;k--;)e=ba.call(a,n[k]),a[e]=!(c[e]=n[k])}):function(a){return d(a,0,c)}):d}},pseudos:{not:f(function(a){var b=[],c=[],d=w(a.replace(Y,"$1"));return d[G]?f(function(a,b,c,e){var n;c=d(a,null,e,
[]);for(e=a.length;e--;)(n=c[e])&&(a[e]=!(b[e]=n))}):function(a,e,n){return b[0]=a,d(b,null,n,c),!c.pop()}}),has:f(function(a){return function(b){return 0<h(a,b).length}}),contains:f(function(a){return a=a.replace(ka,la),function(b){return-1<(b.textContent||b.innerText||ha(b)).indexOf(a)}}),lang:f(function(a){return da.test(a||"")||h.error("unsupported lang: "+a),a=a.replace(ka,la).toLowerCase(),function(b){var c;do if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),
c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=window.location&&window.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===C},focus:function(a){return a===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},
selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!Z.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==
(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:c(function(){return[0]}),last:c(function(a,b){return[b-1]}),eq:c(function(a,b,c){return[0>c?c+b:c]}),even:c(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:c(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:c(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:c(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};Z.pseudos.nth=Z.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Z.pseudos[x]=
b(x);for(x in{submit:!0,reset:!0})Z.pseudos[x]=d(x);return m.prototype=Z.filters=Z.pseudos,Z.setFilters=new m,t=h.tokenize=function(a,b){var c,d,e,n,k;if(n=I[a+" "])return b?0:n.slice(0);n=a;var f=[];for(k=Z.preFilter;n;){A&&!(c=ea.exec(n))||(c&&(n=n.slice(c[0].length)||n),f.push(d=[]));var A=!1;(c=ca.exec(n))&&(A=c.shift(),d.push({value:A,type:c[0].replace(Y," ")}),n=n.slice(A.length));for(e in Z.filter)!(c=ia[e].exec(n))||k[e]&&!(c=k[e](c))||(A=c.shift(),d.push({value:A,type:e,matches:c}),n=n.slice(A.length));
if(!A)break}return b?n.length:n?h.error(a):I(a,f).slice(0)},w=h.compile=function(a,b){var c,d=[],e=[],n=S[a+" "];if(!n){b||(b=t(a));for(c=b.length;c--;)n=u(b[c]),n[G]?d.push(n):e.push(n);n=S(a,z(e,d));n.selector=a}return n},n=h.select=function(b,c,d,e){var n,k,f,A,B,m="function"==typeof b&&b,C=!e&&t(b=m.selector||b);if(d=d||[],1===C.length){if(k=C[0]=C[0].slice(0),2<k.length&&"ID"===(f=k[0]).type&&fa.getById&&9===c.nodeType&&H&&Z.relative[k[1].type]){if(c=(Z.find.ID(f.matches[0].replace(ka,la),c)||
[])[0],!c)return d;m&&(c=c.parentNode);b=b.slice(k.shift().value.length)}for(n=ia.needsContext.test(b)?0:k.length;n--&&(f=k[n],!Z.relative[A=f.type]);)if((B=Z.find[A])&&(e=B(f.matches[0].replace(ka,la),pa.test(k[0].type)&&a(c.parentNode)||c))){if(k.splice(n,1),b=e.length&&l(k),!b)return V.apply(d,e),d;break}}return(m||w(b,C))(e,c,!H,d,pa.test(b)&&a(c.parentNode)||c),d},fa.sortStable=G.split("").sort(v).join("")===G,fa.detectDuplicates=!!A,O(),fa.sortDetached=!0,h});v("1q",[],function(){function h(e,
b,d){var c;if(!e)return 0;if(d=d||e,void 0!==e.length){var a=0;for(c=e.length;a<c;a++)if(!1===b.call(d,e[a],a,e))return 0}else for(a in e)if(e.hasOwnProperty(a)&&!1===b.call(d,e[a],a,e))return 0;return 1}function g(e,b,d){var c;var a=0;for(c=e.length;a<c;a++)if(b.call(d,e[a],a,e))return a;return-1}var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:f,toArray:function(e){var b,d=e;if(!f(e)){d=[];var c=0;for(b=e.length;c<b;c++)d[c]=e[c]}return d},
each:h,map:function(e,b){var d=[];return h(e,function(c,a){d.push(b(c,a,e))}),d},filter:function(e,b){var d=[];return h(e,function(c,a){b&&!b(c,a,e)||d.push(c)}),d},indexOf:function(e,b){var d;if(e){var c=0;for(d=e.length;c<d;c++)if(e[c]===b)return c}return-1},reduce:function(e,b,d,c){var a=0;for(3>arguments.length&&(d=e[0]);a<e.length;a++)d=b.call(c,d,e[a],a);return d},findIndex:g,find:function(e,b,d){b=g(e,b,d);if(-1!==b)return e[b]},last:function(e){return e[e.length-1]}}});v("c",["9","1q"],function(h,
g){function f(b){return null===b||void 0===b?"":(""+b).replace(d,"")}function e(b,a){return a?!("array"!=a||!g.isArray(b))||typeof b==a:void 0!==b}function b(c,a,d,e){e=e||this;c&&(d&&(c=c[d]),g.each(c,function(c,f){return!1!==a.call(e,c,f,d)&&void b(c,a,d,e)}))}var d=/^\s*|\s*$/g;return{trim:f,isArray:g.isArray,is:e,toArray:g.toArray,makeMap:function(b,a,d){b=b||[];"string"==typeof b&&(b=b.split(a||","));d=d||{};for(a=b.length;a--;)d[b[a]]={};return d},each:g.each,map:g.map,grep:g.filter,inArray:g.indexOf,
hasOwn:function(b,a){return Object.prototype.hasOwnProperty.call(b,a)},extend:function(b,a){var c,d,e,f=arguments;var p=1;for(c=f.length;p<c;p++)for(d in a=f[p],a)a.hasOwnProperty(d)&&(e=a[d],void 0!==e&&(b[d]=e));return b},create:function(b,a,d){var c,e,f,m,k,g=0;if(b=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(b),f=b[3].match(/(^|\.)(\w+)$/i)[2],e=this.createNS(b[3].replace(/\.\w+$/,""),d),!e[f]){if("static"==b[2])return e[f]=a,void(this.onCreate&&this.onCreate(b[2],b[3],e[f]));a[f]||(a[f]=function(){},
g=1);e[f]=a[f];this.extend(e[f].prototype,a);b[5]&&(c=this.resolve(b[5]).prototype,m=b[5].match(/\.(\w+)$/i)[1],k=e[f],g?e[f]=function(){return c[m].apply(this,arguments)}:e[f]=function(){return this.parent=c[m],k.apply(this,arguments)},e[f].prototype[f]=e[f],this.each(c,function(a,b){e[f].prototype[b]=c[b]}),this.each(a,function(a,b){c[b]?e[f].prototype[b]=function(){return this.parent=c[b],a.apply(this,arguments)}:b!=f&&(e[f].prototype[b]=a)}));this.each(a["static"],function(a,b){e[f][b]=a})}},
walk:b,createNS:function(b,a){var c;a=a||window;b=b.split(".");for(c=0;c<b.length;c++){var d=b[c];a[d]||(a[d]={});a=a[d]}return a},resolve:function(b,a){var c;a=a||window;b=b.split(".");var d=0;for(c=b.length;d<c&&(a=a[b[d]],a);d++);return a},explode:function(b,a){return!b||e(b,"array")?b:g.map(b.split(a||","),f)},_addCacheSuffix:function(b){var a=h.cacheSuffix;return a&&(b+=(-1===b.indexOf("?")?"?":"&")+a),b}}});v("d",["a","b","c","9"],function(h,g,f,e){function b(a){return"undefined"!=typeof a}
function d(a,b){var c;b=b||n;var d=b.createElement("div");var e=b.createDocumentFragment();for(d.innerHTML=a;c=d.firstChild;)e.appendChild(c);return e}function c(a,b,e,n){var f;if("string"==typeof b)b=d(b,k(a[0]));else if(b.length&&!b.nodeType){if(b=l.makeArray(b),n)for(f=b.length-1;0<=f;f--)c(a,b[f],e,n);else for(f=0;f<b.length;f++)c(a,b[f],e,n);return a}if(b.nodeType)for(f=a.length;f--;)e.call(a[f],b);return a}function a(a,b){return a&&b&&-1!==(" "+a.className+" ").indexOf(" "+b+" ")}function m(a,
b,c){var d,e;return b=l(b)[0],a.each(function(){c&&d==this.parentNode?e.appendChild(this):(d=this.parentNode,e=b.cloneNode(!1),this.parentNode.insertBefore(e,this),e.appendChild(this))}),a}function l(a,b){return new l.fn.init(a,b)}function r(a){return null===a||a===w?"":(""+a).replace(N,"")}function q(a,b){var c,d,e;if(a)if(c=a.length,void 0===c)for(d in a){if(a.hasOwnProperty(d)&&(e=a[d],!1===b.call(e,d,e)))break}else for(d=0;d<c&&(e=a[d],!1!==b.call(e,d,e));d++);return a}function p(a,b){var c=[];
return q(a,function(a,d){b(d,a)&&c.push(d)}),c}function k(a){return a?9==a.nodeType?a:a.ownerDocument:n}function u(a,b,c){var d=[];a=a[b];for("string"!=typeof c&&c instanceof l&&(c=c[0]);a&&9!==a.nodeType;){if(void 0!==c){if(a===c)break;if("string"==typeof c&&l(a).is(c))break}1===a.nodeType&&d.push(a);a=a[b]}return d}function z(a,b,c,d){var e=[];for(d instanceof l&&(d=d[0]);a;a=a[b])if(!c||a.nodeType===c){if(void 0!==d){if(a===d)break;if("string"==typeof d&&l(a).is(d))break}e.push(a)}return e}function x(a,
b,c){for(a=a[b];a;a=a[b])if(a.nodeType==c)return a;return null}function t(a,b,c){q(c,function(c,d){a[c]=a[c]||{};a[c][b]=d})}var w,n=document,y=Array.prototype.push,D=Array.prototype.slice,A=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,B=h.Event,C=f.makeMap("children,contents,next,prev"),H=f.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),F=f.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),E={"for":"htmlFor",
"class":"className",readonly:"readOnly"},J={"float":"cssFloat"},G={},M={},N=/^\s*|\s*$/g;return l.fn=l.prototype={constructor:l,selector:"",context:null,length:0,init:function(a,b){var c,e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(b&&b.nodeType)this.context=b;else{if(b)return l(a).attr(b);this.context=b=document}if("string"==typeof a){if(this.selector=a,c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:A.exec(a),!c)return l(b).find(a);
if(c[1])for(e=d(a,k(b)).firstChild;e;)y.call(this,e),e=e.nextSibling;else{if(e=k(b).getElementById(c[2]),!e)return this;if(e.id!==c[2])return this.find(a);this.length=1;this[0]=e}}else this.add(a,!1);return this},toArray:function(){return f.toArray(this)},add:function(a,b){var c;if("string"==typeof a)return this.add(l(a));if(!1!==b){var d=l.unique(this.toArray().concat(l.makeArray(a)));this.length=d.length;for(c=0;c<d.length;c++)this[c]=d[c]}else y.apply(this,l.makeArray(a));return this},attr:function(a,
c){var d,e=this;if("object"==typeof a)q(a,function(a,b){e.attr(a,b)});else{if(!b(c)){if(e[0]&&1===e[0].nodeType){if(d=G[a],d&&d.get)return d.get(e[0],a);if(F[a])return e.prop(a)?a:w;c=e[0].getAttribute(a,2);null===c&&(c=w)}return c}this.each(function(){var b;if(1===this.nodeType){if(b=G[a],b&&b.set)return void b.set(this,c);null===c?this.removeAttribute(a,2):this.setAttribute(a,c,2)}})}return e},removeAttr:function(a){return this.attr(a,null)},prop:function(a,c){var d=this;if(a=E[a]||a,"object"==
typeof a)q(a,function(a,b){d.prop(a,b)});else{if(!b(c))return d[0]&&d[0].nodeType&&a in d[0]?d[0][a]:c;this.each(function(){1==this.nodeType&&(this[a]=c)})}return d},css:function(a,c){function d(a){return a.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})}function e(a){return a.replace(/[A-Z]/g,function(a){return"-"+a})}var n,k,f=this;if("object"==typeof a)q(a,function(a,b){f.css(a,b)});else if(b(c))a=d(a),"number"!=typeof c||H[a]||(c+="px"),f.each(function(){var b=this.style;if(k=M[a],k&&
k.set)return void k.set(this,c);try{this.style[J[a]||a]=c}catch(Q){}null!==c&&""!==c||(b.removeProperty?b.removeProperty(e(a)):b.removeAttribute(a))});else{if(n=f[0],k=M[a],k&&k.get)return k.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(e(a))}catch(W){return w}else if(n.currentStyle)return n.currentStyle[d(a)]}return f},remove:function(){for(var a,b=this.length;b--;)a=this[b],B.clean(a),a.parentNode&&a.parentNode.removeChild(a);
return this},empty:function(){for(var a,b=this.length;b--;)for(a=this[b];a.firstChild;)a.removeChild(a.firstChild);return this},html:function(a){if(b(a)){var c=this.length;try{for(;c--;)this[c].innerHTML=a}catch(I){l(this[c]).empty().append(a)}return this}return this[0]?this[0].innerHTML:""},text:function(a){var c;if(b(a)){for(c=this.length;c--;)"innerText"in this[c]?this[c].innerText=a:this[0].textContent=a;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return c(this,
arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return c(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?c(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},
!0):this},appendTo:function(a){return l(a).append(this),this},prependTo:function(a){return l(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return m(this,a)},wrapAll:function(a){return m(this,a,!0)},wrapInner:function(a){return this.each(function(){l(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){l(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),
l(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,c){var d=this;return"string"!=typeof b?d:(-1!==b.indexOf(" ")?q(b.split(" "),function(){d.toggleClass(this,c)}):d.each(function(d,e){var n;var k=a(e,b);k!==c&&(n=e.className,k?e.className=r((" "+n+" ").replace(" "+b+" "," ")):e.className+=n?" "+b:b)}),d)},hasClass:function(b){return a(this[0],b)},each:function(a){return q(this,a)},on:function(a,b){return this.each(function(){B.bind(this,
a,b)})},off:function(a,b){return this.each(function(){B.unbind(this,a,b)})},trigger:function(a){return this.each(function(){"object"==typeof a?B.fire(this,a.type,a):B.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new l(D.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(a){var b,c=[];var d=
0;for(b=this.length;d<b;d++)l.find(a,this[d],c);return l(c)},filter:function(a){return l("function"==typeof a?p(this.toArray(),function(b,c){return a(c,b)}):l.filter(a,this.toArray()))},closest:function(a){var b=[];return a instanceof l&&(a=a[0]),this.each(function(c,d){for(;d;){if("string"==typeof a&&l(d).is(a)){b.push(d);break}if(d==a){b.push(d);break}d=d.parentNode}}),l(b)},offset:function(a){var b,c,d,e,n=0,k=0;return a?this.css(a):(b=this[0],b&&(c=b.ownerDocument,d=c.documentElement,b.getBoundingClientRect&&
(e=b.getBoundingClientRect(),n=e.left+(d.scrollLeft||c.body.scrollLeft)-d.clientLeft,k=e.top+(d.scrollTop||c.body.scrollTop)-d.clientTop)),{left:n,top:k})},push:y,sort:[].sort,splice:[].splice},f.extend(l,{extend:f.extend,makeArray:function(a){return a&&a==a.window||a.nodeType?[a]:f.toArray(a)},inArray:function(a,b){var c;if(b.indexOf)return b.indexOf(a);for(c=b.length;c--;)if(b[c]===a)return c;return-1},isArray:f.isArray,each:q,trim:r,grep:p,find:g,expr:g.selectors,unique:g.uniqueSort,text:g.getText,
contains:g.contains,filter:function(a,b,c){var d=b.length;for(c&&(a=":not("+a+")");d--;)1!=b[d].nodeType&&b.splice(d,1);return 1===b.length?l.find.matchesSelector(b[0],a)?[b[0]]:[]:l.find.matches(a,b)}}),q({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return u(a,"parentNode")},next:function(a){return x(a,"nextSibling",1)},prev:function(a){return x(a,"previousSibling",1)},children:function(a){return z(a.firstChild,"nextSibling",1)},contents:function(a){return f.toArray(("iframe"===
a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(a,b){l.fn[a]=function(c){var d=[];return this.each(function(){var a=b.call(d,this,c,d);a&&(l.isArray(a)?d.push.apply(d,a):d.push(a))}),1<this.length&&(C[a]||(d=l.unique(d)),0===a.indexOf("parents")&&(d=d.reverse())),d=l(d),c?d.filter(c):d}}),q({parentsUntil:function(a,b){return u(a,"parentNode",b)},nextUntil:function(a,b){return z(a,"nextSibling",1,b).slice(1)},prevUntil:function(a,b){return z(a,"previousSibling",1,b).slice(1)}},
function(a,b){l.fn[a]=function(c,d){var e=[];return this.each(function(){var a=b.call(e,this,c,e);a&&(l.isArray(a)?e.push.apply(e,a):e.push(a))}),1<this.length&&(e=l.unique(e),0!==a.indexOf("parents")&&"prevUntil"!==a||(e=e.reverse())),e=l(e),d?e.filter(d):e}}),l.fn.is=function(a){return!!a&&0<this.filter(a).length},l.fn.init.prototype=l.fn,l.overrideDefaults=function(a){function b(d,e){return c=c||a(),0===arguments.length&&(d=c.element),e||(e=c.context),new b.fn.init(d,e)}var c;return l.extend(b,
this),b},e.ie&&8>e.ie&&(t(G,"get",{maxlength:function(a){a=a.maxLength;return 2147483647===a?w:a},size:function(a){a=a.size;return 20===a?w:a},"class":function(a){return a.className},style:function(a){a=a.style.cssText;return 0===a.length?w:a}}),t(G,"set",{"class":function(a,b){a.className=b},style:function(a,b){a.style.cssText=b}})),e.ie&&9>e.ie&&(J["float"]="styleFloat",t(M,"set",{opacity:function(a,b){var c=a.style;null===b||""===b?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+
100*b+")")}})),l.attrHooks=G,l.cssHooks=M,l});v("1r",["c"],function(h){function g(f){function e(a,b){r(y,a,b)}function b(a,b){r(D,a,b)}function d(a){e(a.parentNode,E(a))}function c(a){b(a.parentNode,E(a)+1)}function a(){return q(w)}function m(a,b){var c;if(3==a.nodeType||0>b)return a;for(c=a.firstChild;c&&0<b;)--b,c=c.nextSibling;return c?c:a}function l(a,b,c,d){var e;if(a==c)return b==d?0:b<d?-1:1;for(e=c;e&&e.parentNode!=a;)e=e.parentNode;if(e){var n=0;for(c=a.firstChild;c!=e&&n<b;)n++,c=c.nextSibling;
return b<=n?-1:1}for(e=a;e&&e.parentNode!=c;)e=e.parentNode;if(e){n=0;for(c=c.firstChild;c!=e&&n<d;)n++,c=c.nextSibling;return n<d?-1:1}for(b=f.findCommonAncestor(a,c);a&&a.parentNode!=b;)a=a.parentNode;a||(a=b);for(d=c;d&&d.parentNode!=b;)d=d.parentNode;if(d||(d=b),a==d)return 0;for(c=b.firstChild;c;){if(c==a)return-1;if(c==d)return 1;c=c.nextSibling}}function r(a,b,c){a?(x[B]=b,x[A]=c):(x[C]=b,x[H]=c);for(b=x[C];b.parentNode;)b=b.parentNode;for(c=x[B];c.parentNode;)c=c.parentNode;c==b?0<l(x[B],
x[A],x[C],x[H])&&x.collapse(a):x.collapse(a);x.collapsed=x[B]==x[C]&&x[A]==x[H];x.commonAncestorContainer=f.findCommonAncestor(x[B],x[C])}function q(a){var b,c,d;var e=d=0;if(x[B]==x[C]){var f,l,g,u,r;if(a!=n&&(b=t.createDocumentFragment()),x[A]==x[H])a=b;else if(3==x[B].nodeType)a=(f=x[B].nodeValue,l=f.substring(x[A],x[H]),a!=w&&(c=x[B],u=x[A],r=x[H]-x[A],0===u&&r>=c.nodeValue.length-1?c.parentNode.removeChild(c):c.deleteData(u,r),x.collapse(y)),a==n)?void 0:(0<l.length&&b.appendChild(t.createTextNode(l)),
b);else{c=m(x[B],x[A]);for(g=x[H]-x[A];c&&0<g;)d=c.nextSibling,c=z(c,a),b&&b.appendChild(c),--g,c=d;a=(a!=w&&x.collapse(y),b)}return a}b=x[C];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==x[B]){c=d=e=g=void 0;if(!(a!=n&&(c=t.createDocumentFragment()),d=p(b,a),c&&c.appendChild(d),e=E(b),g=e-x[A],0>=g))for(d=b.previousSibling;0<g;)e=d.previousSibling,d=z(d,a),c&&c.insertBefore(d,c.firstChild),--g,d=e;a=(a!=w&&(x.setEndBefore(b),x.collapse(D)),c);return a}++d}b=x[B];for(c=b.parentNode;c;b=c,c=c.parentNode){if(c==
x[C]){g=void 0;a!=n&&(g=t.createDocumentFragment());e=k(b,a);g&&g.appendChild(e);c=E(b);++c;d=x[H]-c;for(e=b.nextSibling;e&&0<d;)c=e.nextSibling,e=z(e,a),g&&g.appendChild(e),--d,e=c;return a!=w&&(x.setStartAfter(b),x.collapse(y)),g}++e}d=e-d;for(b=x[B];0<d;)b=b.parentNode,d--;for(c=x[C];0>d;)c=c.parentNode,d++;d=b.parentNode;for(e=c.parentNode;d!=e;d=d.parentNode,e=e.parentNode)b=d,c=e;a!=n&&(g=t.createDocumentFragment());d=k(b,a);g&&g.appendChild(d);e=E(b);f=E(c);++e;e=f-e;for(f=b.nextSibling;0<
e;)l=f.nextSibling,d=z(f,a),g&&g.appendChild(d),f=l,--e;return d=p(c,a),g&&g.appendChild(d),a!=w&&(x.setStartAfter(b),x.collapse(y)),g}function p(a,b){var c;var d=m(x[C],x[H]-1);var e=d!=x[C];if(d==a)return u(d,e,D,b);var k=d.parentNode;for(c=u(k,D,D,b);k;){for(;d;){var f=d.previousSibling;d=u(d,e,D,b);b!=n&&c.insertBefore(d,c.firstChild);e=y;d=f}if(k==a)return c;d=k.previousSibling;k=k.parentNode;f=u(k,D,D,b);b!=n&&f.appendChild(c);c=f}}function k(a,b){var c;var d=m(x[B],x[A]);var e=d!=x[B];if(d==
a)return u(d,e,y,b);var k=d.parentNode;for(c=u(k,D,y,b);k;){for(;d;){var f=d.nextSibling;d=u(d,e,y,b);b!=n&&c.appendChild(d);e=y;d=f}if(k==a)return c;d=k.nextSibling;k=k.parentNode;f=u(k,D,y,b);b!=n&&f.appendChild(c);c=f}}function u(a,b,c,d){var e,k,l,B,m;if(b)return z(a,d);if(3==a.nodeType)return(e=a.nodeValue,c?(B=x[A],k=e.substring(B),l=e.substring(0,B)):(B=x[H],k=e.substring(0,B),l=e.substring(B)),d!=w&&(a.nodeValue=l),d==n)?void 0:(m=f.clone(a,D),m.nodeValue=k,m);if(d!=n)return f.clone(a,D)}
function z(a,b){return b!=n?b==w?f.clone(a,y):a:void a.parentNode.removeChild(a)}var x=this,t=f.doc,w=1,n=2,y=!0,D=!1,A="startOffset",B="startContainer",C="endContainer",H="endOffset",F=h.extend,E=f.nodeIndex;return F(x,{startContainer:t,startOffset:0,endContainer:t,endOffset:0,collapsed:y,commonAncestorContainer:t,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:e,setEnd:b,setStartBefore:d,setStartAfter:function(a){e(a.parentNode,E(a)+1)},setEndBefore:function(a){b(a.parentNode,
E(a))},setEndAfter:c,collapse:function(a){a?(x[C]=x[B],x[H]=x[A]):(x[B]=x[C],x[A]=x[H]);x.collapsed=y},selectNode:function(a){d(a);c(a)},selectNodeContents:function(a){e(a,0);b(a,1===a.nodeType?a.childNodes.length:a.nodeValue.length)},compareBoundaryPoints:function(a,b){var c=x[B],d=x[A],e=x[C],n=x[H],k=b.startContainer,f=b.startOffset,m=b.endContainer,w=b.endOffset;return 0===a?l(c,d,k,f):1===a?l(e,n,k,f):2===a?l(e,n,m,w):3===a?l(c,d,m,w):void 0},deleteContents:function(){q(n)},extractContents:function(){return q(0)},
cloneContents:a,insertNode:function(a){var b,c,d=this[B],e=this[A];3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(0<d.childNodes.length&&(c=d.childNodes[e]),c?d.insertBefore(a,c):3==d.nodeType?f.insertAfter(a,d):d.appendChild(a)):e?e>=d.nodeValue.length?f.insertAfter(a,d):(b=d.splitText(e),d.parentNode.insertBefore(a,b)):d.parentNode.insertBefore(a,d)},surroundContents:function(a){var b=x.extractContents();x.insertNode(a);a.appendChild(b);x.selectNode(a)},cloneRange:function(){return F(new g(f),{startContainer:x[B],
startOffset:x[A],endContainer:x[C],endOffset:x[H],collapsed:x.collapsed,commonAncestorContainer:x.commonAncestorContainer})},toStringIE:function(){return f.create("body",null,a()).outerText}}),x}return g.prototype.toString=function(){return this.toStringIE()},g});ha("5s",Object);v("49",["1","5s"],function(h,g){var f=h.never,e=h.always,b=function(){return d},d=function(){var a=function(a){return a.isNone()},c=function(a){return a()},d=function(a){return a};a={fold:function(a,b){return a()},is:f,isSome:f,
isNone:e,getOr:d,getOrThunk:c,getOrDie:function(a){throw Error(a||"error: getOrDie called on none.");},or:d,orThunk:c,map:b,ap:b,each:function(){},bind:b,flatten:b,exists:f,forall:e,filter:b,equals:a,equals_:a,toArray:function(){return[]},toString:h.constant("none()")};return g.freeze&&g.freeze(a),a}(),c=function(a){var m=function(){return a},l=function(){return q},g=function(b){return b(a)},q={fold:function(b,c){return c(a)},is:function(b){return a===b},isSome:e,isNone:f,getOr:m,getOrThunk:m,getOrDie:m,
or:l,orThunk:l,map:function(b){return c(b(a))},ap:function(d){return d.fold(b,function(b){return c(b(a))})},each:function(b){b(a)},bind:g,flatten:m,exists:g,forall:g,filter:function(b){return b(a)?q:d},equals:function(b){return b.is(a)},equals_:function(b,c){return b.fold(f,function(b){return c(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return q};return{some:c,none:b,from:function(a){return null===a||void 0===a?d:c(a)}}});ha("4a",String);v("2j",["49","3","4","4a"],
function(h,g,f,e){var b=function(){var a=g.prototype.indexOf,b=function(b,c){return a.call(b,c)},c=function(a,b){a:{var c=0;for(var d=a.length;c<d;++c)if(a[c]===b)break a;c=-1}return c};return void 0===a?c:b}(),d=function(a,c){return-1<b(a,c)},c=function(a,b){for(var c=a.length,d=new g(c),e=0;e<c;e++)d[e]=b(a[e],e,a);return d},a=function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c,a)},m=function(a,b){for(var c=a.length-1;0<=c;c--)b(a[c],c,a)},l=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var k=
a[d];b(k,d,a)&&c.push(k)}return c},r=function(a,b){for(var c=0,d=a.length;c<d;c++)if(b(a[c],c,a))return h.some(c);return h.none()},q=g.prototype.push,p=function(a){for(var b=[],c=0,d=a.length;c<d;++c){if(!g.prototype.isPrototypeOf(a[c]))throw new f("Arr.flatten item "+c+" was not an array, input: "+a);q.apply(b,a[c])}return b},k=function(a,b){for(var c=0,d=a.length;c<d;++c)if(!0!==b(a[c],c,a))return!1;return!0},u=g.prototype.slice;return{map:c,each:a,eachr:m,partition:function(a,b){for(var c=[],d=
[],e=0,k=a.length;e<k;e++){var f=a[e];(b(f,e,a)?c:d).push(f)}return{pass:c,fail:d}},filter:l,groupBy:function(a,b){if(0===a.length)return[];for(var c=b(a[0]),d=[],e=[],k=0,f=a.length;k<f;k++){var A=a[k],l=b(A);l!==c&&(d.push(e),e=[]);c=l;e.push(A)}return 0!==e.length&&d.push(e),d},indexOf:function(a,c){var d=b(a,c);return-1===d?h.none():h.some(d)},foldr:function(a,b,c){return m(a,function(a){c=b(c,a)}),c},foldl:function(b,c,d){return a(b,function(a){d=c(d,a)}),d},find:function(a,b){for(var c=0,d=
a.length;c<d;c++){var e=a[c];if(b(e,c,a))return h.some(e)}return h.none()},findIndex:r,flatten:p,bind:function(a,b){var d=c(a,b);return p(d)},forall:k,exists:function(a,b){return r(a,b).isSome()},contains:d,equal:function(a,b){return a.length===b.length&&k(a,function(a,c){return a===b[c]})},reverse:function(a){a=u.call(a,0);return a.reverse(),a},chunk:function(a,b){for(var c=[],d=0;d<a.length;d+=b){var e=a.slice(d,d+b);c.push(e)}return c},difference:function(a,b){return l(a,function(a){return!d(b,
a)})},mapToObject:function(a,b){for(var c={},d=0,n=a.length;d<n;d++){var k=a[d];c[e(k)]=b(k,d)}return c},pure:function(a){return[a]},sort:function(a,b){var c=u.call(a,0);return c.sort(b),c},range:function(a,b){for(var c=[],d=0;d<a;d++)c.push(b(d));return c}}});ha("6u",setTimeout);v("5t",["2j","49","6u"],function(h,g,f){var e=function(b){var d=g.none(),c=[],a=function(a){m()?l(a):c.push(a)},m=function(){return d.isSome()},l=function(a){d.each(function(b){f(function(){a(b)},0)})};return b(function(a){d=
g.some(a);h.each(c,l);c=[]}),{get:a,map:function(b){return e(function(c){a(function(a){c(b(a))})})},isReady:m}};return{nu:e,pure:function(b){return e(function(d){d(b)})}}});v("5u",["3","6u"],function(h,g){return{bounce:function(f){return function(){var e=h.prototype.slice.call(arguments),b=this;g(function(){f.apply(b,e)},0)}}}});v("4b",["5t","5u"],function(h,g){var f=function(e){var b=function(b){e(g.bounce(b))};return{map:function(d){return f(function(c){b(function(a){a=d(a);c(a)})})},bind:function(d){return f(function(c){b(function(a){d(a).get(c)})})},
anonBind:function(d){return f(function(c){b(function(a){d.get(c)})})},toLazy:function(){return h.nu(b)},get:b}};return{nu:f,pure:function(e){return f(function(b){b(e)})}}});v("5v",["2j"],function(h){return{par:function(g,f){return f(function(e){var b=[],d=0,c=function(a){return function(c){b[a]=c;d++;d>=g.length&&e(b)}};0===g.length?e([]):h.each(g,function(a,b){a.get(c(b))})})}}});v("4c",["2j","4b","5v"],function(h,g,f){var e=function(b){return f.par(b,g.nu)};return{par:e,mapM:function(b,d){var c=
h.map(b,d);return e(c)},compose:function(b,d){return function(c){return d(c).bind(b)}}}});v("4d",["1","49"],function(h,g){var f=function(b){return{is:function(d){return b===d},isValue:h.constant(!0),isError:h.constant(!1),getOr:h.constant(b),getOrThunk:h.constant(b),getOrDie:h.constant(b),or:function(d){return f(b)},orThunk:function(d){return f(b)},fold:function(d,c){return c(b)},map:function(d){return f(d(b))},each:function(d){d(b)},bind:function(d){return d(b)},exists:function(d){return d(b)},forall:function(d){return d(b)},
toOption:function(){return g.some(b)}}},e=function(b){return{is:h.constant(!1),isValue:h.constant(!1),isError:h.constant(!0),getOr:h.identity,getOrThunk:function(b){return b()},getOrDie:function(){return h.die(b)()},or:function(b){return b},orThunk:function(b){return b()},fold:function(d,c){return d(b)},map:function(d){return e(b)},each:h.noop,bind:function(d){return e(b)},exists:h.constant(!1),forall:h.constant(!0),toOption:g.none}};return{value:f,error:e}});v("1s","2j 1 4b 4c 4d 8 c".split(" "),
function(h,g,f,e,b,d,c){return function(a,m){function l(b){a.getElementsByTagName("head")[0].appendChild(b)}function r(b,e,f){function n(){for(var a=r.passed,b=a.length;b--;)a[b]();r.status=2;r.passed=[];r.failed=[]}function m(){for(var a=r.failed,b=a.length;b--;)a[b]();r.status=3;r.passed=[];r.failed=[]}function g(){var a=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(a&&536>a[1])}function A(a,b){a()||((new Date).getTime()-u<k?d.setTimeout(b):m())}function B(){A(function(){for(var b,c,d=a.styleSheets,
e=d.length;e--;)if(b=d[e],c=b.ownerNode?b.ownerNode:b.owningElement,c&&c.id===w.id)return n(),!0},B)}function C(){A(function(){try{var a=t.sheet.cssRules;return n(),!!a}catch(M){}},C)}var w,t,u,r;if(b=c._addCacheSuffix(b),p[b]?r=p[b]:(r={passed:[],failed:[]},p[b]=r),e&&r.passed.push(e),f&&r.failed.push(f),1!=r.status){if(2==r.status)return void n();if(3==r.status)return void m();if(r.status=1,w=a.createElement("link"),w.rel="stylesheet",w.type="text/css",w.id="u"+q++,w.async=!1,w.defer=!1,u=(new Date).getTime(),
"onload"in w&&!g())w.onload=B,w.onerror=m;else{if(0<navigator.userAgent.indexOf("Firefox"))return t=a.createElement("style"),t.textContent='@import "'+b+'"',C(),void l(t);B()}l(w);w.href=b}}var q=0,p={};m=m||{};var k=m.maxLoadTime||5E3;var u=function(a){return f.nu(function(c){r(a,g.compose(c,g.constant(b.value(a))),g.compose(c,g.constant(b.error(a))))})},z=function(a){return a.fold(g.identity,g.identity)};return{load:r,loadAll:function(a,b,c){e.par(h.map(a,u)).get(function(a){a=h.partition(a,function(a){return a.isValue()});
0<a.fail.length?c(a.fail.map(z)):b(a.pass.map(z))})}}}});v("f",[],function(){return function(h,g){function f(b,d,c,a){if(b){if(!a&&b[d])return b[d];if(b!=g){if(d=b[c])return d;for(b=b.parentNode;b&&b!=g;b=b.parentNode)if(d=b[c])return d}}}var e=h;this.current=function(){return e};this.next=function(b){return e=f(e,"firstChild","nextSibling",b)};this.prev=function(b){return e=f(e,"lastChild","previousSibling",b)};this.prev2=function(b){var d;a:{var c;if(e){if(d=e.previousSibling,g&&d===g){d=void 0;
break a}if(d){if(!b)for(b=d.lastChild;b;b=b.lastChild)if(!b.lastChild){d=b;break a}break a}if(c=e.parentNode,c&&c!==g){d=c;break a}}d=void 0}return e=d}}});v("g",["c"],function(h){function g(a,b){var c,d,e={};if(a){a=a.split(",");b=b||10;for(c=0;c<a.length;c+=2){var k=String.fromCharCode(parseInt(a[c],b));m[k]||(d="&"+a[c+1]+";",e[k]=d,e[d]=k)}return e}}var f=h.makeMap,e=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
d=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,a={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};var m={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};var l={"&lt;":"<",
"&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var r=g("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
32);var q={encodeRaw:function(a,c){return a.replace(c?e:b,function(a){return m[a]||a})},encodeAllRaw:function(a){return(""+a).replace(d,function(a){return m[a]||a})},encodeNumeric:function(a,c){return a.replace(c?e:b,function(a){return 1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":m[a]||"&#"+a.charCodeAt(0)+";"})},encodeNamed:function(a,c,d){return d=d||r,a.replace(c?e:b,function(a){return m[a]||d[a]||a})},getEncodeFunc:function(a,c){function d(a,d){return a.replace(d?
e:b,function(a){return void 0!==m[a]?m[a]:void 0!==c[a]?c[a]:1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})}function k(a,b){return q.encodeNamed(a,b,c)}return c=g(c)||r,a=f(a.replace(/\+/g,",")),a.named&&a.numeric?d:a.named?c?k:q.encodeNamed:a.numeric?q.encodeNumeric:q.encodeRaw},decode:function(b){return b.replace(c,function(b,c){if(c)var d=(c="x"===c.charAt(0).toLowerCase()?parseInt(c.substr(1),16):parseInt(c,10),65535<c?(c-=65536,String.fromCharCode(55296+
(c>>10),56320+(1023&c))):a[c]||String.fromCharCode(c));else if(!(d=l[b]||r[b])){var e;d=(e=document.createElement("div"),e.innerHTML=b,e.textContent||e.innerText||b)}return d})}};return q});v("m",["c"],function(h){function g(a,b){return a=h.trim(a),a?a.split(b||" "):[]}function f(c){function e(a,b,c){function e(a,b){var c,d={};var e=0;for(c=a.length;e<c;e++)d[a[e]]=b||{};return d}var n;c=c||[];b=b||"";"string"==typeof c&&(c=g(c));a=g(a);for(n=a.length;n--;){var k=g([f,b].join(" "));k={attributes:e(k),
attributesOrder:k,children:e(c,d)};w[a[n]]=k}}function k(a,b){var c;a=g(a);var d=a.length;for(b=g(b);d--;){var e=w[a[d]];var n=0;for(c=b.length;n<c;n++)e.attributes[b[n]]={},e.attributesOrder.push(b[n])}}var f,l,m,t,w={};return b[c]?b[c]:(f="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",m="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",
"html4"!=c&&(f+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure header footer hgroup section nav",m+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=c&&(f+=" xml:lang",m=[m,"acronym applet basefont big font strike tt"].join(" "),a(g("acronym applet basefont big font strike tt"),function(a){e(a,"",m)}),l=[l,"center dir isindex noframes"].join(" "),t=[l,m].join(" "),
a(g("center dir isindex noframes"),function(a){e(a,"",t)})),t=t||[l,m].join(" "),e("html","manifest","head body"),e("head","","base command link meta noscript script style title"),e("title hr noscript br"),e("base","href target"),e("link","href rel media hreflang type sizes hreflang"),e("meta","name http-equiv content charset"),e("style","media type scoped"),e("script","src async defer type charset"),e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",
t),e("address dt dd div caption","",t),e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",m),e("blockquote","cite",t),e("ol","reversed start type","li"),e("ul","","li"),e("li","value",t),e("dl","","dt dd"),e("a","href target rel media hreflang type",m),e("q","cite",m),e("ins del","cite datetime",t),e("img","src sizes srcset alt usemap ismap width height"),e("iframe","src name width height",t),e("embed","src type width height"),e("object",
"data type typemustmatch name usemap form width height",[t,"param"].join(" ")),e("param","name value"),e("map","name",[t,"area"].join(" ")),e("area","alt coords shape href target rel media hreflang type"),e("table","border","caption colgroup thead tfoot tbody tr"+("html4"==c?" col":"")),e("colgroup","span","col"),e("col","span"),e("tbody thead tfoot","","tr"),e("tr","","td th"),e("td","colspan rowspan headers",t),e("th","colspan rowspan headers scope abbr",t),e("form","accept-charset action autocomplete enctype method name novalidate target",
t),e("fieldset","disabled form name",[t,"legend"].join(" ")),e("label","form for",m),e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==c?t:m),e("select","disabled form multiple name required size","option optgroup"),
e("optgroup","disabled label","option"),e("option","disabled label selected value"),e("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),e("menu","type label",[t,"li"].join(" ")),e("noscript","",t),"html4"!=c&&(e("wbr"),e("ruby","",[m,"rt rp"].join(" ")),e("figcaption","",t),e("mark rt rp summary bdi","",m),e("canvas","width height",t),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[t,"track source"].join(" ")),
e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[t,"track source"].join(" ")),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",[m,"option"].join(" ")),e("article section nav aside header footer","",t),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure","",[t,"figcaption"].join(" ")),e("time","datetime",m),e("dialog","open",t),e("command","type label icon disabled checked radiogroup command"),
e("output","for form name",m),e("progress","value max",m),e("meter","value min max low high optimum",m),e("details","open",[t,"summary"].join(" ")),e("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=c&&(k("script","language xml:space"),k("style","xml:space"),k("object","declare classid code codebase codetype archive standby align border hspace vspace"),k("embed","align name hspace vspace"),k("param","valuetype type"),k("a","charset name rev shape coords"),k("br","clear"),
k("applet","codebase archive code object alt name width height align hspace vspace"),k("img","name longdesc align border hspace vspace"),k("iframe","longdesc frameborder marginwidth marginheight scrolling align"),k("font basefont","size color face"),k("input","usemap align"),k("select","onchange"),k("textarea"),k("h1 h2 h3 h4 h5 h6 div p legend caption","align"),k("ul","type compact"),k("li","type"),k("ol dl menu dir","compact"),k("pre","width xml:space"),k("hr","align noshade size width"),k("isindex",
"prompt"),k("table","summary width frame rules cellspacing cellpadding align bgcolor"),k("col","width align char charoff valign"),k("colgroup","width align char charoff valign"),k("thead","align char charoff valign"),k("tr","align char charoff valign bgcolor"),k("th","axis align char charoff valign nowrap bgcolor width height"),k("form","accept"),k("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),k("tfoot","align char charoff valign"),k("tbody","align char charoff valign"),
k("area","nohref"),k("body","background bgcolor text link vlink alink")),"html4"!=c&&(k("input button select textarea","autofocus"),k("input textarea","placeholder"),k("a","download"),k("link script img","crossorigin"),k("iframe","sandbox seamless allowfullscreen")),a(g("a form meter progress dfn"),function(a){w[a]&&delete w[a].children[a]}),delete w.caption.children.table,delete w.script,b[c]=w,w)}function e(b,d){var e;return b&&(e={},"string"==typeof b&&(b={"*":b}),a(b,function(a,b){e[b]=e[b.toUpperCase()]=
"map"==d?c(a,/[, ]/):l(a,/[, ]/)})),e}var b={},d={},c=h.makeMap,a=h.each,m=h.extend,l=h.explode,r=h.inArray;return function(d){function p(a,e,n){var k=d[a];return k?k=c(k,/[, ]/,c(k.toUpperCase(),/[, ]/)):(k=b[a],k||(k=c(e," ",c(e.toUpperCase()," ")),k=m(k,n),b[a]=k)),k}function k(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")}function u(a){var b,d,e,f,A,l,m,B,C,w,t,y,p,u,q,h,z=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,H=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
x=/[*?+]/;if(a){a=g(a,",");n["@"]&&(u=n["@"].attributes,q=n["@"].attributesOrder);var F=0;for(b=a.length;F<b;F++)if(e=z.exec(a[F])){if(y=e[1],m=e[2],p=e[3],l=e[5],w={},t=[],f={attributes:w,attributesOrder:t},"#"===y&&(f.paddEmpty=!0),"-"===y&&(f.removeEmpty=!0),"!"===e[4]&&(f.removeEmptyAttrs=!0),u){for(h in u)w[h]=u[h];t.push.apply(t,q)}if(l){l=g(l,"|");var J=0;for(d=l.length;J<d;J++)if(e=H.exec(l[J]))(A={},C=e[1],B=e[2].replace(/::/g,":"),y=e[3],e=e[4],"!"===C&&(f.attributesRequired=f.attributesRequired||
[],f.attributesRequired.push(B),A.required=!0),"-"===C)?(delete w[B],t.splice(r(t,B),1)):(y&&("="===y&&(f.attributesDefault=f.attributesDefault||[],f.attributesDefault.push({name:B,value:e}),A.defaultValue=e),":"===y&&(f.attributesForced=f.attributesForced||[],f.attributesForced.push({name:B,value:e}),A.forcedValue=e),"<"===y&&(A.validValues=c(e,"?"))),x.test(B)?(f.attributePatterns=f.attributePatterns||[],A.pattern=k(B),f.attributePatterns.push(A)):(w[B]||t.push(B),w[B]=A))}u||"@"!=m||(u=w,q=t);
p&&(f.outputName=m,n[p]=f);x.test(m)?(f.pattern=k(m),D.push(f)):n[m]=f}}}function q(b){n={};D=[];u(b);a(C,function(a,b){y[b]=a.children})}function h(c){var d=/^(~)?(.+)$/;c&&(b.text_block_elements=b.block_elements=null,a(g(c,","),function(b){b=d.exec(b);var c="~"===b[1],e=c?"span":"div",f=b[2];(y[f]=y[e],A[f]=e,c||(S[f.toUpperCase()]={},S[f]={}),n[f])||(b=n[e],b=m({},b),delete b.removeEmptyAttrs,delete b.removeEmpty,n[f]=b);a(y,function(a,b){a[e]&&(y[b]=a=m({},y[b]),a[f]=a[e])})}))}function t(c){var e=
/^([+\-]?)(\w+)\[([^\]]+)\]$/;b[d.schema]=null;c&&a(g(c,","),function(b){var c,d;(b=e.exec(b))&&(d=b[1],c=d?y[b[2]]:y[b[2]]={"#comment":{}},c=y[b[2]],a(g(b[3],"|"),function(a){"-"===d?delete c[a]:c[a]={}}))})}function w(a){var b,c=n[a];if(c)return c;for(b=D.length;b--;)if(c=D[b],c.pattern.test(a))return c}var n={},y={},D=[],A={},B={};d=d||{};var C=f(d.schema);!1===d.verify_html&&(d.valid_elements="*[*]");var H=e(d.valid_styles);var F=e(d.invalid_styles,"map");var E=e(d.valid_classes,"map");var J=
p("whitespace_elements","pre script noscript style textarea video audio iframe object code");var G=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");var M=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track");var N=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls");var K=p("non_empty_elements","td th iframe video audio object script pre code",
M);var v=p("move_caret_before_on_enter_elements","table",K);var I=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure");var S=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",I);var P=p("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");a((d.special||"script noscript noframes noembed title style textarea xmp").split(" "),
function(a){B[a]=new RegExp("</"+a+"[^>]*>","gi")});d.valid_elements?q(d.valid_elements):(a(C,function(a,b){n[b]={attributes:a.attributes,attributesOrder:a.attributesOrder};y[b]=a.children}),"html5"!=d.schema&&a(g("strong/b em/i"),function(a){a=g(a,"/");n[a[1]].outputName=a[0]}),a(g("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){n[a]&&(n[a].removeEmpty=!0)}),a(g("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(a){n[a].paddEmpty=!0}),a(g("span"),function(a){n[a].removeEmptyAttrs=
!0}));h(d.custom_elements);t(d.valid_children);u(d.extended_valid_elements);t("+ol[ul|ol],+ul[ul|ol]");a({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(a,b){n[b]&&(n[b].parentsRequired=g(a))});d.invalid_elements&&a(l(d.invalid_elements),function(a){n[a]&&delete n[a]});w("span")||u("span[!data-mce-type|*]");this.children=y;this.getValidStyles=function(){return H};this.getInvalidStyles=
function(){return F};this.getValidClasses=function(){return E};this.getBoolAttrs=function(){return N};this.getBlockElements=function(){return S};this.getTextBlockElements=function(){return I};this.getTextInlineElements=function(){return P};this.getShortEndedElements=function(){return M};this.getSelfClosingElements=function(){return G};this.getNonEmptyElements=function(){return K};this.getMoveCaretBeforeOnEnterElements=function(){return v};this.getWhiteSpaceElements=function(){return J};this.getSpecialElements=
function(){return B};this.isValidChild=function(a,b){var c=y[a.toLowerCase()];return!(!c||!c[b.toLowerCase()])};this.isValid=function(a,b){var c,d;if(c=w(a)){if(!b||c.attributes[b])return!0;if(c=c.attributePatterns)for(d=c.length;d--;)if(c[d].pattern.test(a))return!0}return!1};this.getElementRule=w;this.getCustomElements=function(){return A};this.addValidElements=u;this.setValidElements=q;this.addCustomElements=h;this.addValidChildren=t;this.elements=n}});v("e",[],function(){return function(h,g){function f(a,
b,c,d){function e(a){return a=parseInt(a,10).toString(16),1<a.length?a:"0"+a}return"#"+e(b)+e(c)+e(d)}var e,b,d,c=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,r={};h=h||{};g&&(b=g.getValidStyles(),d=g.getInvalidStyles());var q="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(e=0;e<q.length;e++)r[q[e]]="\ufeff"+e,r["\ufeff"+
e]=q[e];return{toHex:function(a){return a.replace(c,f)},parse:function(b){function d(a,b,c){var d,f,n,k;if(d=C[a+"-top"+b],d&&(f=C[a+"-right"+b],f&&(n=C[a+"-bottom"+b],n&&(k=C[a+"-left"+b])))){d=[d,f,n,k];for(e=d.length-1;e--&&d[e]===d[e+1];);-1<e&&c||(C[a+b]=-1==e?d[0]:d.join(" "),delete C[a+"-top"+b],delete C[a+"-right"+b],delete C[a+"-bottom"+b],delete C[a+"-left"+b])}}function g(a){var b,c=C[a];if(c){c=c.split(" ");for(b=c.length;b--;)if(c[b]!==c[0])return!1;return C[a]=c[0],!0}}function p(a,
b,c,d){g(b)&&g(c)&&g(d)&&(C[a]=C[b]+" "+C[c]+" "+C[d],delete C[b],delete C[c],delete C[d])}function q(a){return B=!0,r[a]}function t(a,b){return B&&(a=a.replace(/\uFEFF[0-9]/g,function(a){return r[a]})),b||(a=a.replace(/\\([\'\";:])/g,"$1")),a}function w(a){return String.fromCharCode(parseInt(a.slice(1),16))}function n(a,b,c,d,e,f){if(e=e||f)return e=t(e),"'"+e.replace(/\'/g,"\\'")+"'";if(b=t(b||c||d),!h.allow_script_urls)if(a=b.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(a)||!h.allow_svg_data_urls&&
/^data:image\/svg/i.test(a))return"";return H&&(b=H.call(F,b,"style")),"url('"+b.replace(/\'/g,"\\'")+"')"}var y,D,A,B,C={},H=h.url_converter,F=h.url_converter_scope||this;if(b){b=b.replace(/[\u0000-\u001F]/g,"");for(b=b.replace(/\\[\"\';:\uFEFF]/g,q).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(a){return a.replace(/[;:]/g,q)});y=m.exec(b);)(m.lastIndex=y.index+y[0].length,D=y[1].replace(l,"").toLowerCase(),A=y[2].replace(l,""),D&&A)&&(D=D.replace(/\\[0-9a-f]+/gi,w),A=A.replace(/\\[0-9a-f]+/gi,w),-1===
D.indexOf("\ufeff")&&-1===D.indexOf('"'))&&(h.allow_script_urls||"behavior"!=D&&!/expression\s*\(|\/\*|\*\//.test(A))&&("font-weight"===D&&"700"===A?A="bold":"color"!==D&&"background-color"!==D||(A=A.toLowerCase()),A=A.replace(c,f),A=A.replace(a,n),C[D]=B?t(A,!0):A);d("border","",!0);d("border","-width");d("border","-color");d("border","-style");d("padding","");d("margin","");p("border","border-width","border-style","border-color");"medium none"===C.border&&delete C.border;"none"===C["border-image"]&&
delete C["border-image"]}return C},serialize:function(a,c){function e(c){var d,e,f;if(d=b[c]){var n=0;for(e=d.length;n<e;n++)c=d[n],(f=a[c])&&(l+=(0<l.length?" ":"")+c+": "+f+";")}}function f(a,b){var c;return c=d["*"],(!c||!c[a])&&(c=d[b],!c||!c[a])}var k,l="";if(c&&b)e("*"),e(c);else for(k in a){var m=a[k];!m||d&&!f(k,c)||(l+=(0<l.length?" ":"")+k+": "+m+";")}return l}}}});v("h","d a 1r b 1s f 9 g m e c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r){function q(a,b){var c,d={},e=b.keep_values;return c=
{set:function(c,d,e){b.url_converter&&(d=b.url_converter.call(b.url_converter_scope||a,d,e,c[0]));c.attr("data-mce-"+e,d).attr(e,d)},get:function(a,b){return a.attr("data-mce-"+b)||a.attr(b)}},d={style:{set:function(a,b){return null!==b&&"object"==typeof b?void a.css(b):(e&&a.attr("data-mce-style",b),void a.attr("style",b))},get:function(b){var c=b.attr("data-mce-style")||b.attr("style");return a.serializeStyle(a.parseStyle(c),b[0].nodeName)}}},e&&(d.href=d.src=c),d}function p(a,b){var c=b.attr("style");
(c=a.serializeStyle(a.parseStyle(c),b[0].nodeName))||(c=null);b.attr("data-mce-style",c)}function k(a,b){var c=0;if(a){var d=a.nodeType;for(a=a.previousSibling;a;a=a.previousSibling){var e=a.nodeType;(!b||3!=e||e!=d&&a.nodeValue.length)&&(c++,d=e)}}return c}function u(a,c){var d=this;d.doc=a;d.win=window;d.files={};d.counter=0;d.stdMode=!n||8<=a.documentMode;d.boxModel=!n||"CSS1Compat"==a.compatMode||d.stdMode;d.styleSheetLoader=new b(a);d.boundEvents=[];d.settings=c=c||{};d.schema=c.schema?c.schema:
new m({});d.styles=new l({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema);d.fixDoc(a);d.events=c.ownEvents?new g(c.proxy):g.Event;d.attrHooks=q(d,c);var e=c.schema?c.schema.getBlockElements():{};d.$=h.overrideDefaults(function(){return{context:a,element:d.getRoot()}});d.isBlock=function(a){if(!a)return!1;var b=a.nodeType;return b?!(1!==b||!e[a.nodeName]):!!e[a]}}var z=r.each,x=r.is,t=r.grep,w=r.trim,n=c.ie,y=/^([a-z0-9],?)+$/i,D=/^[ \t\r\n]*$/;return u.prototype=
{$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(a){var b,c=this.settings;if(n&&c.schema)for(b in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){a.createElement(b)}),c.schema.getCustomElements())a.createElement(b)},clone:function(a,b){var c,d,e=this;return!n||1!==a.nodeType||b?a.cloneNode(b):(d=e.doc,b?c.firstChild:(c=d.createElement(a.nodeName),
z(e.getAttribs(a),function(b){e.setAttrib(c,b.nodeName,e.getAttrib(a,b.nodeName))}),c))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(a){var b,c;return a=a?a:this.win,b=a.document,c=this.boxModel?b.documentElement:b.body,{x:a.pageXOffset||c.scrollLeft,y:a.pageYOffset||c.scrollTop,w:a.innerWidth||c.clientWidth,h:a.innerHeight||c.clientHeight}},getRect:function(a){var b,c;return a=this.get(a),b=this.getPos(a),c=this.getSize(a),{x:b.x,y:b.y,w:c.w,h:c.h}},
getSize:function(a){var b,c;return a=this.get(a),b=this.getStyle(a,"width"),c=this.getStyle(a,"height"),-1===b.indexOf("px")&&(b=0),-1===c.indexOf("px")&&(c=0),{w:parseInt(b,10)||a.offsetWidth||a.clientWidth,h:parseInt(c,10)||a.offsetHeight||a.clientHeight}},getParent:function(a,b,c){return this.getParents(a,b,c,!1)},getParents:function(a,b,c,d){var e,f=this,n=[];a=f.get(a);d=void 0===d;c=c||("BODY"!=f.getRoot().nodeName?f.getRoot().parentNode:null);for(x(b,"string")&&(e=b,b="*"===b?function(a){return 1==
a.nodeType}:function(a){return f.is(a,e)});a&&a!=c&&a.nodeType&&9!==a.nodeType;){if(!b||b(a)){if(!d)return a;n.push(a)}a=a.parentNode}return d?n:null},get:function(a){var b;return a&&this.doc&&"string"==typeof a&&(b=a,a=this.doc.getElementById(a),a&&a.id!==b)?this.doc.getElementsByName(b)[1]:a},getNext:function(a,b){return this._findSib(a,b,"nextSibling")},getPrev:function(a,b){return this._findSib(a,b,"previousSibling")},select:function(a,b){return e(a,this.get(b)||this.settings.root_element||this.doc,
[])},is:function(a,b){var c;if(!a)return!1;if(void 0===a.length){if("*"===b)return 1==a.nodeType;if(y.test(b)){b=b.toLowerCase().split(/,/);a=a.nodeName.toLowerCase();for(c=b.length-1;0<=c;c--)if(b[c]==a)return!0;return!1}}if(a.nodeType&&1!=a.nodeType)return!1;c=a.nodeType?[a]:a;return 0<e(b,c[0].ownerDocument||c[0],null,c).length},add:function(a,b,c,d,e){var f=this;return this.run(a,function(a){var n;return n=x(b,"string")?f.doc.createElement(b):b,f.setAttribs(n,c),d&&(d.nodeType?n.appendChild(d):
f.setHTML(n,d)),e?n:a.appendChild(n)})},create:function(a,b,c){return this.add(this.doc.createElement(a),a,b,c,1)},createHTML:function(a,b,c){var d;var e="<"+a;for(d in b)b.hasOwnProperty(d)&&null!==b[d]&&"undefined"!=typeof b[d]&&(e+=" "+d+'="'+this.encode(b[d])+'"');return"undefined"!=typeof c?e+">"+c+"</"+a+">":e+" />"},createFragment:function(a){var b=this.doc;var c=b.createElement("div");b=b.createDocumentFragment();for(a&&(c.innerHTML=a);a=c.firstChild;)b.appendChild(a);return b},remove:function(a,
b){return a=this.$$(a),b?a.each(function(){for(var a;a=this.firstChild;)3==a.nodeType&&0===a.data.length?this.removeChild(a):this.parentNode.insertBefore(a,this)}).remove():a.remove(),1<a.length?a.toArray():a[0]},setStyle:function(a,b,c){a=this.$$(a).css(b,c);this.settings.update_styles&&p(this,a)},getStyle:function(a,b,d){return a=this.$$(a),d?a.css(b):(b=b.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}),"float"==b&&(b=c.ie&&12>c.ie?"styleFloat":"cssFloat"),a[0]&&a[0].style?a[0].style[b]:
void 0)},setStyles:function(a,b){a=this.$$(a).css(b);this.settings.update_styles&&p(this,a)},removeAllAttribs:function(a){return this.run(a,function(a){var b,c=a.attributes;for(b=c.length-1;0<=b;b--)a.removeAttributeNode(c.item(b))})},setAttrib:function(a,b,c){var d,e=this.settings;""===c&&(c=null);a=this.$$(a);var f=a.attr(b);a.length&&(d=this.attrHooks[b],d&&d.set?d.set(a,c,b):a.attr(b,c),f!=c&&e.onSetAttrib&&e.onSetAttrib({attrElm:a,attrName:b,attrValue:c}))},setAttribs:function(a,b){var c=this;
c.$$(a).each(function(a,d){z(b,function(a,b){c.setAttrib(d,b,a)})})},getAttrib:function(a,b,c){var d,e;return a=this.$$(a),a.length&&(d=this.attrHooks[b],e=d&&d.get?d.get(a,b):a.attr(b)),"undefined"==typeof e&&(e=c||""),e},getPos:function(a,b){var c,d=0,e=0,f=this.doc,n=f.body;if(a=this.get(a),b=b||n,a){if(b===n&&a.getBoundingClientRect&&"static"===h(n).css("position"))return c=a.getBoundingClientRect(),b=this.boxModel?f.documentElement:n,d=c.left+(f.documentElement.scrollLeft||n.scrollLeft)-b.clientLeft,
e=c.top+(f.documentElement.scrollTop||n.scrollTop)-b.clientTop,{x:d,y:e};for(c=a;c&&c!=b&&c.nodeType;)d+=c.offsetLeft||0,e+=c.offsetTop||0,c=c.offsetParent;for(c=a.parentNode;c&&c!=b&&c.nodeType;)d-=c.scrollLeft||0,e-=c.scrollTop||0,c=c.parentNode}return{x:d,y:e}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(a,b){return this.styles.serialize(a,b)},addStyle:function(a){var b,c=this.doc;if(this!==u.DOM&&c===document){var d=u.DOM.addedStyles;if(d=d||[],d[a])return;d[a]=
!0;u.DOM.addedStyles=d}(d=c.getElementById("mceDefaultStyles"))||(d=c.createElement("style"),d.id="mceDefaultStyles",d.type="text/css",b=c.getElementsByTagName("head")[0],b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d));d.styleSheet?d.styleSheet.cssText+=a:d.appendChild(c.createTextNode(a))},loadCSS:function(a){var b,c=this,d=c.doc;return c!==u.DOM&&d===document?void u.DOM.loadCSS(a):(a||(a=""),b=d.getElementsByTagName("head")[0],void z(a.split(","),function(a){var e;a=r._addCacheSuffix(a);
c.files[a]||(c.files[a]=!0,e=c.create("link",{rel:"stylesheet",href:a}),n&&d.documentMode&&d.recalc&&(e.onload=function(){d.recalc&&d.recalc();e.onload=null}),b.appendChild(e))}))},addClass:function(a,b){this.$$(a).addClass(b)},removeClass:function(a,b){this.toggleClass(a,b,!1)},hasClass:function(a,b){return this.$$(a).hasClass(b)},toggleClass:function(a,b,c){this.$$(a).toggleClass(b,c).each(function(){""===this.className&&h(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},
isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(a,b){a=this.$$(a);n?a.each(function(a,c){if(!1!==c.canHaveHTML){for(;c.firstChild;)c.removeChild(c.firstChild);try{c.innerHTML="<br>"+b,c.removeChild(c.firstChild)}catch(F){h("<div></div>").html("<br>"+b).contents().slice(1).appendTo(c)}return b}}):a.html(b)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML"in a?a.outerHTML:h("<div></div>").append(h(a).clone()).html()},
setOuterHTML:function(a,b){var c=this;c.$$(a).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=b)}catch(H){}c.remove(h(this).html(b),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(a,b){return b=this.get(b),this.run(a,function(a){var c,d;return c=b.parentNode,d=b.nextSibling,d?c.insertBefore(a,d):c.appendChild(a),a})},replace:function(a,b,c){return this.run(b,function(b){return x(b,"array")&&(a=a.cloneNode(!0)),c&&z(t(b.childNodes),function(b){a.appendChild(b)}),
b.parentNode.replaceChild(a,b)})},rename:function(a,b){var c,d=this;return a.nodeName!=b.toUpperCase()&&(c=d.create(b),z(d.getAttribs(a),function(b){d.setAttrib(c,b.nodeName,d.getAttrib(a,b.nodeName))}),d.replace(c,a,1)),c||a},findCommonAncestor:function(a,b){for(var c,d=a;d;){for(c=b;c&&d!=c;)c=c.parentNode;if(d==c)break;d=d.parentNode}return!d&&a.ownerDocument?a.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(r.trim(a))},run:function(a,b,c){var d,e=this;return"string"==
typeof a&&(a=e.get(a)),!!a&&(c=c||this,a.nodeType||!a.length&&0!==a.length?b.call(c,a):(d=[],z(a,function(a,f){a&&("string"==typeof a&&(a=e.get(a)),d.push(b.call(c,a,f)))}),d))},getAttribs:function(a){var b;if(a=this.get(a),!a)return[];if(n){if(b=[],"OBJECT"==a.nodeName)return a.attributes;"OPTION"===a.nodeName&&this.getAttrib(a,"selected")&&b.push({specified:1,nodeName:"selected"});return a.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,
function(a){b.push({specified:1,nodeName:a})}),b}return a.attributes},isEmpty:function(a,b){var c,e,f,n=0;if(a=a.firstChild){var k=new d(a,a.parentNode);b=b||(this.schema?this.schema.getNonEmptyElements():null);var l=this.schema?this.schema.getWhiteSpaceElements():{};do{if(e=a.nodeType,1===e){if(c=a.getAttribute("data-mce-bogus")){a=k.next("all"===c);continue}if(f=a.nodeName.toLowerCase(),b&&b[f]){if("br"===f){n++;a=k.next();continue}return!1}var m=this.getAttribs(a);for(c=m.length;c--;)if(f=m[c].nodeName,
"name"===f||"data-mce-bookmark"===f)return!1}if(8==e||3===e&&!D.test(a.nodeValue)||3===e&&a.parentNode&&l[a.parentNode.nodeName]&&D.test(a.nodeValue))return!1;a=k.next()}while(a)}return 1>=n},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new f(this)},nodeIndex:k,split:function(a,b,c){function d(a){var b,c=a.childNodes,e=a.nodeType;if(1!=e||"bookmark"!=a.getAttribute("data-mce-type")){for(b=c.length-1;0<=b;b--)d(c[b]);if(9!=e){if(3==e&&0<a.nodeValue.length){b=w(a.nodeValue).length;
if(!(c=!k.isBlock(a.parentNode)||0<b)){if(b=0===b)b=a.nextSibling&&"SPAN"==a.nextSibling.nodeName,b=a.previousSibling&&"SPAN"==a.previousSibling.nodeName&&b;c=b}if(c)return}else if(1==e&&(c=a.childNodes,1==c.length&&c[0]&&1==c[0].nodeType&&"bookmark"==c[0].getAttribute("data-mce-type")&&a.parentNode.insertBefore(c[0],a),c.length||/^(br|hr|input|img)$/i.test(a.nodeName)))return;k.remove(a)}return a}}var e,f,n,k=this,l=k.createRng();if(a&&b)return l.setStart(a.parentNode,k.nodeIndex(a)),l.setEnd(b.parentNode,
k.nodeIndex(b)),e=l.extractContents(),l=k.createRng(),l.setStart(b.parentNode,k.nodeIndex(b)+1),l.setEnd(a.parentNode,k.nodeIndex(a)+1),f=l.extractContents(),n=a.parentNode,n.insertBefore(d(e),a),c?n.insertBefore(c,a):n.insertBefore(b,a),n.insertBefore(d(f),a),k.remove(a),c||b},bind:function(a,b,c,d){if(r.isArray(a)){for(var e=a.length;e--;)a[e]=this.bind(a[e],b,c,d);return a}return!this.settings.collect||a!==this.doc&&a!==this.win||this.boundEvents.push([a,b,c,d]),this.events.bind(a,b,c,d||this)},
unbind:function(a,b,c){var d;if(r.isArray(a)){for(d=a.length;d--;)a[d]=this.unbind(a[d],b,c);return a}if(this.boundEvents&&(a===this.doc||a===this.win))for(d=this.boundEvents.length;d--;){var e=this.boundEvents[d];a!=e[0]||b&&b!=e[1]||c&&c!=e[2]||this.events.unbind(e[0],e[1],e[2])}return this.events.unbind(a,b,c)},fire:function(a,b,c){return this.events.fire(a,b,c)},getContentEditable:function(a){var b;return a&&1==a.nodeType?(b=a.getAttribute("data-mce-contenteditable"),b&&"inherit"!==b?b:"inherit"!==
a.contentEditable?a.contentEditable:null):null},getContentEditableParent:function(a){for(var b=this.getRoot(),c=null;a&&a!==b&&(c=this.getContentEditable(a),null===c);a=a.parentNode);return c},destroy:function(){if(this.boundEvents){for(var a=this.boundEvents.length;a--;){var b=this.boundEvents[a];this.events.unbind(b[0],b[1],b[2])}this.boundEvents=null}e.setDocument&&e.setDocument();this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(a,b){for(;a;){if(b===a)return!0;a=a.parentNode}return!1},
dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(a,b,c){var d=this,e=b;if(a)for("string"==typeof e&&(e=function(a){return d.is(a,b)}),a=a[c];a;a=a[c])if(e(a))return a;return null}},u.DOM=new u(document),u.nodeIndex=k,u});v("4e",[],function(){function h(f){var e=g.call(arguments);return e.length-1>=f.length?f.apply(this,e.slice(1)):function(){var b=e.concat([].slice.call(arguments));
return h.apply(this,b)}}var g=[].slice;return{constant:function(f){return function(){return f}},negate:function(f){return function(e){return!f(e)}},and:function(){var f=g.call(arguments);return function(e){for(var b=0;b<f.length;b++)if(!f[b](e))return!1;return!0}},or:function(){var f=g.call(arguments);return function(e){for(var b=0;b<f.length;b++)if(f[b](e))return!0;return!1}},curry:h,compose:function(f,e){return function(b){return f(e(b))}},noop:function(){}}});v("1v",[],function(){return{isZwsp:function(h){return"\ufeff"===
h},ZWSP:"\ufeff",trim:function(h){return h.replace(RegExp("\ufeff","g"),"")}}});v("1u",["1t","1v"],function(h,g){function f(a){return l(a)&&(a=a.parentNode),m(a)&&a.hasAttribute("data-mce-caret")}function e(a){return l(a)&&g.isZwsp(a.data)}function b(a){return f(a)||e(a)}function d(){var a=document.createElement("br");return a.setAttribute("data-mce-bogus","1"),a}function c(a){return l(a)&&a.data[0]==g.ZWSP}function a(a){return l(a)&&a.data[a.data.length-1]==g.ZWSP}var m=h.isElement,l=h.isText;return{isCaretContainer:b,
isCaretContainerBlock:f,isCaretContainerInline:e,showCaretContainerBlock:function(a){if(a&&a.hasAttribute("data-mce-caret")){var b=a.getElementsByTagName("br");b=b[b.length-1];h.isBogus(b)&&b.parentNode.removeChild(b);a=(a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a)}else a=null;return a},insertInline:function(d,e){var f,k,m,r;if(f=d.ownerDocument,m=f.createTextNode(g.ZWSP),r=d.parentNode,e){if(k=d.previousSibling,
l(k)){if(b(k))return k;if(a(k))return k.splitText(k.data.length-1)}r.insertBefore(m,d)}else{if(k=d.nextSibling,l(k)){if(b(k))return k;if(c(k))return k.splitText(1),k}d.nextSibling?r.insertBefore(m,d.nextSibling):r.appendChild(m)}return m},prependInline:function(a){if(h.isText(a)){var b=a.data;return 0<b.length&&b.charAt(0)!==g.ZWSP&&a.insertData(0,g.ZWSP),a}return null},appendInline:function(a){if(h.isText(a)){var b=a.data;return 0<b.length&&b.charAt(b.length-1)!==g.ZWSP&&a.insertData(b.length,g.ZWSP),
a}return null},isBeforeInline:function(a){return a&&h.isText(a.container())&&a.container().data.charAt(a.offset())===g.ZWSP},isAfterInline:function(a){return a&&h.isText(a.container())&&a.container().data.charAt(a.offset()-1)===g.ZWSP},insertBlock:function(a,b,c){var e,f,l;return e=b.ownerDocument,f=e.createElement(a),f.setAttribute("data-mce-caret",c?"before":"after"),f.setAttribute("data-mce-bogus","all"),f.appendChild(d()),l=b.parentNode,c?l.insertBefore(f,b):b.nextSibling?l.insertBefore(f,b.nextSibling):
l.appendChild(f),f},hasContent:function(a){return a.firstChild!==a.lastChild||!h.isBr(a.firstChild)},startsWithCaretContainer:c,endsWithCaretContainer:a}});v("k",["c","f","1t","1r","1u"],function(h,g,f,e,b){function d(a){return u(a)||z(a)}function c(a,b){var c=a.childNodes;return b--,b>c.length-1?b=c.length-1:0>b&&(b=0),c[b]||a}function a(a,b,c){for(;a&&a!==b;){if(c(a))return a;a=a.parentNode}return null}function m(b,c,d){return null!==a(b,c,d)}function l(a,b,c){return m(a,b,function(a){return a.nodeName===
c})}function r(a){return"_mce_caret"===a.id}function q(a){this.walk=function(b,d){function e(a){var b;return b=a[0],3===b.nodeType&&b===t&&p>=b.nodeValue.length&&a.splice(0,1),b=a[a.length-1],0===r&&0<a.length&&b===u&&3===b.nodeType&&a.splice(a.length-1,1),a}function f(a,b,c){for(var d=[];a&&a!=c;a=a[b])d.push(a);return d}function n(a,b){do{if(a.parentNode==b)return a;a=a.parentNode}while(a)}function l(a,b,c){var n=c?"nextSibling":"previousSibling";g=a;for(w=g.parentNode;g&&g!=b;g=w)w=g.parentNode,
h=f(g==a?g:g[n],n),h.length&&(c||h.reverse(),d(e(h)))}var m,g,w,t=b.startContainer,p=b.startOffset,u=b.endContainer,r=b.endOffset;if(m=a.select("td[data-mce-selected],th[data-mce-selected]"),0<m.length)return void k(m,function(a){d([a])});if(1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[p]),1==u.nodeType&&u.hasChildNodes()&&(u=c(u,r)),t==u)return d(e([t]));var q=a.findCommonAncestor(t,u);for(g=t;g;g=g.parentNode){if(g===u)return l(t,q,!0);if(g===q)break}for(g=u;g;g=g.parentNode){if(g===t)return l(u,
q);if(g===q)break}m=n(t,q)||t;q=n(u,q)||u;l(t,m,!0);var h=f(m==t?m:m.nextSibling,"nextSibling",q==u?q.nextSibling:q);h.length&&d(e(h));l(u,q)};this.split=function(a){var b=a.startContainer,c=a.startOffset,d=a.endContainer;a=a.endOffset;return b==d&&3==b.nodeType?0<c&&c<b.nodeValue.length&&(d=b.splitText(c),b=d.previousSibling,a>c?(a-=c,b=d=d.splitText(a).previousSibling,a=d.nodeValue.length,c=0):a=0):(3==b.nodeType&&0<c&&c<b.nodeValue.length&&(b=b.splitText(c),c=0),3==d.nodeType&&0<a&&a<d.nodeValue.length&&
(d=d.splitText(a).previousSibling,a=d.nodeValue.length)),{startContainer:b,startOffset:c,endContainer:d,endOffset:a}};this.normalize=function(b){function c(c){function f(b,c){for(var d=new g(b,a.getParent(b.parentNode,a.isBlock)||q);b=d[c?"prev":"next"]();)if("BR"===b.nodeName)return!0}function k(a){for(;a&&a!=q;){if(z(a))return!0;a=a.parentNode}return!1}function n(b,c){var f,k;if(c=c||w,f=a.getParent(c.parentNode,a.isBlock)||q,b&&"BR"==c.nodeName&&A&&a.isEmpty(f))return w=c.parentNode,t=a.nodeIndex(c),
void(e=!0);for(f=new g(c,f);y=f[b?"prev":"next"]();){if(!(k="false"===a.getContentEditableParent(y))){k=y;var n=a.getRoot();k=x(k)&&!1===m(k,n,r)}if(k)return;if(3===y.nodeType&&0<y.nodeValue.length)return void(!1===l(y,q,"A")&&(w=y,t=b?y.nodeValue.length:0,e=!0));if(a.isBlock(y)||u[y.nodeName.toLowerCase()])return;k=y}d&&k&&(w=k,e=!0,t=0)}var w,t,y,u,p,A,q=a.getRoot();if(w=b[(c?"start":"end")+"Container"],t=b[(c?"start":"end")+"Offset"],A=1==w.nodeType&&t===w.childNodes.length,u=a.schema.getNonEmptyElements(),
p=c,!x(w)){if(1==w.nodeType&&t>w.childNodes.length-1&&(p=!1),9===w.nodeType&&(w=a.getRoot(),t=0),w===q){if(p&&(y=w.childNodes[0<t?t-1:0])&&(x(y)||u[y.nodeName]||"TABLE"==y.nodeName))return;if(w.hasChildNodes()){if((t=Math.min(!p&&0<t?t-1:t,w.childNodes.length-1),w=w.childNodes[t],t=0,!d&&w===q.lastChild&&"TABLE"===w.nodeName)||k(w)||x(w))return;if(w.hasChildNodes()&&!/TABLE/.test(w.nodeName)){y=w;var h=new g(w,q);do{if(z(y)||x(y)){e=!1;break}if(3===y.nodeType&&0<y.nodeValue.length){t=p?0:y.nodeValue.length;
w=y;e=!0;break}if(u[y.nodeName.toLowerCase()]&&(!y||!/^(TD|TH|CAPTION)$/.test(y.nodeName))){t=a.nodeIndex(y);w=y.parentNode;"IMG"!==y.nodeName&&"PRE"!==y.nodeName||p||t++;e=!0;break}}while(y=p?h.next():h.prev())}}}d&&(3===w.nodeType&&0===t&&n(!0),1===w.nodeType&&(y=w.childNodes[t],y||(y=w.childNodes[t-1]),!y||"BR"!==y.nodeName||y.previousSibling&&"A"==y.previousSibling.nodeName||f(y)||f(y,!0)||n(!0,y)));p&&!d&&3===w.nodeType&&t===w.nodeValue.length&&n(!1);e&&b["set"+(c?"Start":"End")](w,t)}}var d,
e=!1;return d=b.collapsed,c(!0),d||c(),e&&d&&b.collapse(!0),e}}function p(a,b,c){var d,e,f;if(d=c.elementFromPoint(a,b),e=c.body.createTextRange(),d&&"HTML"!=d.tagName||(d=c.body),e.moveToElementText(d),f=h.toArray(e.getClientRects()),f=f.sort(function(a,c){return a=Math.abs(Math.max(a.top-b,a.bottom-b)),c=Math.abs(Math.max(c.top-b,c.bottom-b)),a-c}),0<f.length){b=(f[0].bottom+f[0].top)/2;try{return e.moveToPoint(a,b),e.collapse(!0),e}catch(B){}}return null}var k=h.each,u=f.isContentEditableTrue,
z=f.isContentEditableFalse,x=b.isCaretContainer;return q.compareRanges=function(a,b){if(a&&b){if(!a.item&&!a.duplicate)return a.startContainer==b.startContainer&&a.startOffset==b.startOffset;if(a.item&&b.item&&a.item(0)===b.item(0)||a.isEqual&&b.isEqual&&b.isEqual(a))return!0}return!1},q.getCaretRangeFromPoint=function(b,c,e){if(e.caretPositionFromPoint){b=e.caretPositionFromPoint(b,c);var f=e.createRange();f.setStart(b.offsetNode,b.offset);f.collapse(!0)}else if(e.caretRangeFromPoint)f=e.caretRangeFromPoint(b,
c);else if(e.body.createTextRange){f=e.body.createTextRange();try{f.moveToPoint(b,c),f.collapse(!0)}catch(D){f=p(b,c,e)}e=e.body;b=f&&f.parentElement?f.parentElement():null;return z(a(b,e,d))?null:f}return f},q.getSelectedNode=function(a){var b=a.startContainer,c=a.startOffset;return b.hasChildNodes()&&a.endOffset==c+1?b.childNodes[c]:null},q.getNode=function(a,b){return 1==a.nodeType&&a.hasChildNodes()&&(b>=a.childNodes.length&&(b=a.childNodes.length-1),a=a.childNodes[b]),a},q});v("4f",["1t","1q",
"1u"],function(h,g,f){function e(b){return!k(b)&&(l(b)?!r(b.parentNode):q(b)||m(b)||p(b)||a(b))}function b(b,d){for(b=b.parentNode;b&&b!=d;b=b.parentNode){if(a(b))return!1;if(c(b))break}return!0}function d(b){return!!a(b)&&!0!==g.reduce(b.getElementsByTagName("*"),function(a,b){return a||c(b)},!1)}var c=h.isContentEditableTrue,a=h.isContentEditableFalse,m=h.isBr,l=h.isText,r=h.matchNodeNames("script style textarea"),q=h.matchNodeNames("img input textarea hr iframe video audio object"),p=h.matchNodeNames("table"),
k=f.isCaretContainer;return{isCaretCandidate:e,isInEditable:b,isAtomic:function(a){return q(a)||d(a)},isEditableCaretCandidate:function(a,c){return e(a)&&b(a,c)}}});v("4g",[],function(){function h(a){return a?{left:c(a.left),top:c(a.top),bottom:c(a.bottom),right:c(a.right),width:c(a.width),height:c(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function g(a,b,c){return 0<=a&&a<=Math.min(b.height,c.height)/2}function f(a,b){return a.bottom-a.height/2<b.top||!(a.top>b.bottom)&&g(b.top-
a.bottom,a,b)}function e(a,b){return a.top>b.bottom||!(a.bottom<b.top)&&g(b.bottom-a.top,a,b)}function b(a,b){return a.left<b.left}function d(a,b){return a.right>b.right}var c=Math.round;return{clone:h,collapse:function(a,b){return a=h(a),b?a.right=a.left:(a.left+=a.width,a.right=a.left),a.width=0,a},isEqual:function(a,b){return a.left===b.left&&a.top===b.top&&a.bottom===b.bottom&&a.right===b.right},isAbove:f,isBelow:e,isLeft:b,isRight:d,compare:function(a,c){return f(a,c)?-1:e(a,c)?1:b(a,c)?-1:d(a,
c)?1:0},containsXY:function(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}}});v("4h",[],function(){var h=RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");
return{isExtendingChar:function(g){return"string"==typeof g&&768<=g.charCodeAt(0)&&h.test(g)}}});v("20","4e 1t h k 4f 4g 4h".split(" "),function(h,g,f,e,b,d,c){function a(a){return"createRange"in a?a.createRange():f.DOM.createRng()}function m(a){return a&&/[\r\n\t ]/.test(a)}function l(a){var b,c=a.startContainer,d=a.startOffset;return!!(m(a.toString())&&x(c.parentNode)&&(b=c.data,m(b[d-1])||m(b[d+1])))}function r(b){function e(b){var c=b.getClientRects();c=0<c.length?d.clone(c[0]):d.clone(b.getBoundingClientRect());
if(w(b)&&0===c.left){var e,f=b.ownerDocument;c=a(f);f=f.createTextNode("\u00a0");var k=b.parentNode;b=(k.insertBefore(f,b),c.setStart(f,0),c.setEnd(f,1),e=d.clone(c.getBoundingClientRect()),k.removeChild(f),e)}else b=c;return b}function f(a,b){return a=d.collapse(a,b),a.width=1,a.right=a.left+1,a}function n(a){0!==a.height&&(0<g.length&&d.isEqual(a,g[g.length-1])||g.push(a))}function m(b,d){var k=a(b.ownerDocument);if(d<b.data.length){if(c.isExtendingChar(b.data[d]))return g;if(c.isExtendingChar(b.data[d-
1])&&(k.setStart(b,d),k.setEnd(b,d+1),!l(k)))return n(f(e(k),!1)),g}0<d&&(k.setStart(b,d-1),k.setEnd(b,d),l(k)||n(f(e(k),!1)));d<b.data.length&&(k.setStart(b,d),k.setEnd(b,d+1),l(k)||n(f(e(k),!0)))}var g=[];if(t(b.container()))return m(b.container(),b.offset()),g;if(p(b.container()))if(b.isAtEnd()){var u=y(b.container(),b.offset());t(u)&&m(u,u.data.length);z(u)&&!w(u)&&n(f(e(u),!1))}else{if(u=y(b.container(),b.offset()),t(u)&&m(u,0),z(u)&&b.isAtEnd())return n(f(e(u),!1)),g;b=y(b.container(),b.offset()-
1);z(b)&&!w(b)&&(k(b)||k(u)||!z(u))&&n(f(e(b),!1));z(u)&&n(f(e(u),!0))}return g}function q(b,c,d){function e(){return d||(d=r(new q(b,c))),d}return{container:h.constant(b),offset:h.constant(c),toRange:function(){var d;return d=a(b.ownerDocument),d.setStart(b,c),d.setEnd(b,c),d},getClientRects:e,isVisible:function(){return 0<e().length},isAtStart:function(){return t(b),0===c},isAtEnd:function(){return t(b)?c>=b.data.length:c>=b.childNodes.length},isEqual:function(a){return a&&b===a.container()&&c===
a.offset()},getNode:function(a){return y(b,a?c-1:c)}}}var p=g.isElement;b=b.isCaretCandidate;var k=g.matchStyleValues("display","block table"),u=g.matchStyleValues("float","left right"),z=h.and(p,b,h.negate(u)),x=h.negate(g.matchStyleValues("white-space","pre pre-line pre-wrap")),t=g.isText,w=g.isBr,n=f.nodeIndex,y=e.getNode;return q.fromRangeStart=function(a){return new q(a.startContainer,a.startOffset)},q.fromRangeEnd=function(a){return new q(a.endContainer,a.endOffset)},q.after=function(a){return new q(a.parentNode,
n(a)+1)},q.before=function(a){return new q(a.parentNode,n(a))},q.isAtStart=function(a){return!!a&&a.isAtStart()},q.isAtEnd=function(a){return!!a&&a.isAtEnd()},q.isTextPosition=function(a){return!!a&&g.isText(a.container())},q});v("1z",["1t","h","4e","1q","20"],function(h,g,f,e,b){function d(a){a=a.parentNode;return z(a)?d(a):a}function c(a){return a?e.reduce(a.childNodes,function(a,b){return z(b)&&"BR"!=b.nodeName?a=a.concat(c(b)):a.push(b),a},[]):[]}function a(a,b){for(;(a=a.previousSibling)&&u(a);)b+=
a.data.length;return b}function m(a){return function(b){return a===b}}function l(a){var b,f,k;return b=c(d(a)),f=e.findIndex(b,m(a),a),b=b.slice(0,f+1),k=e.reduce(b,function(a,c,d){return u(c)&&u(b[d-1])&&a++,a},0),b=e.filter(b,h.matchNodeNames(a.nodeName)),f=e.findIndex(b,m(a),a),f-k}function r(a){var b;return b=u(a)?"text()":a.nodeName.toLowerCase(),b+"["+l(a)+"]"}function q(a,b,c){var d=[];for(b=b.parentNode;!(b==a||c&&c(b));b=b.parentNode)d.push(b);return d}function p(a,b,d){var f=c(a);return f=
e.filter(f,function(a,b){return!u(a)||!u(f[b-1])}),f=e.filter(f,h.matchNodeNames(b)),f[d]}function k(a,c){for(var d,e=a,f=0;u(e);){if(d=e.data.length,c>=f&&c<=f+d){a=e;c-=f;break}if(!u(e.nextSibling)){a=e;c=d;break}f+=d;e=e.nextSibling}return c>a.data.length&&(c=a.data.length),new b(a,c)}var u=h.isText,z=h.isBogus,x=g.nodeIndex;return{create:function(b,c){var d,k,l,m,g,w=[];return d=c.container(),k=c.offset(),u(d)?l=a(d,k):(m=d.childNodes,k>=m.length?(l="after",k=m.length-1):l="before",d=m[k]),w.push(r(d)),
g=q(b,d),g=e.filter(g,f.negate(h.isBogus)),w=w.concat(e.map(g,function(a){return r(a)})),w.reverse().join("/")+","+l},resolve:function(a,c){var d,f,l;return c?(d=c.split(","),c=d[0].split("/"),l=1<d.length?d[1]:"before",f=e.reduce(c,function(a,b){return(b=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b))?("text()"===b[1]&&(b[1]="#text"),p(a,b[1],parseInt(b[2],10))):null},a),f?u(f)?k(f,parseInt(l,10)):(l="after"===l?x(f)+1:x(f),new b(f.parentNode,l)):null):null}}});v("u","1z 1u 20 1t k 9 1v c".split(" "),function(h,
g,f,e,b,d,c,a){function m(c){var k=c.dom;this.getBookmark=function(d,m){function u(b,c){var d=0;return a.each(k.select(b),function(a){if("all"!==a.getAttribute("data-mce-bogus"))return a!=c&&void d++}),d}function t(a){function b(b){var c;var d=b?"start":"end";var e=a[d+"Container"];d=a[d+"Offset"];1==e.nodeType&&"TR"==e.nodeName&&(c=e.childNodes,e=c[Math.min(b?d:d-1,c.length-1)],e&&(d=b?0:e.childNodes.length,a["set"+(b?"Start":"End")](e,d)))}return b(!0),b(),a}function w(a){function b(a,b){var c,
e=a[b?"startContainer":"endContainer"],f=a[b?"startOffset":"endOffset"],n=[],l=0;for(3===e.nodeType?n.push(m?r(e,f):f):(c=e.childNodes,f>=c.length&&c.length&&(l=1,f=Math.max(0,c.length-1)),n.push(k.nodeIndex(c[f],m)+l));e&&e!=d;e=e.parentNode)n.push(k.nodeIndex(e,m));return n}var d=k.getRoot(),e={};return e.start=b(a,!0),c.isCollapsed()||(e.end=b(a)),e}function n(a){function c(a,c){var d;if(e.isElement(a)&&(a=b.getNode(a,c),l(a)))return a;if(g.isCaretContainer(a)&&((e.isText(a)&&g.isCaretContainerBlock(a)&&
(a=a.parentNode),d=a.previousSibling,l(d))||(d=a.nextSibling,l(d))))return d}return c(a.startContainer,a.startOffset)||c(a.endContainer,a.endOffset)}var y,p,A,B,C;if(2==d)return C=c.getNode(),p=C?C.nodeName:null,y=c.getRng(),l(C)||"IMG"==p?{name:p,index:u(p,C)}:c.tridentSel?c.tridentSel.getBookmark(d):(C=n(y),C?(p=C.tagName,{name:p,index:u(p,C)}):w(y));if(3==d)return y=c.getRng(),{start:h.create(k.getRoot(),f.fromRangeStart(y)),end:h.create(k.getRoot(),f.fromRangeEnd(y))};if(d)return{rng:c.getRng()};
if(y=c.getRng(),A=k.uniqueId(),B=c.isCollapsed(),y.duplicate||y.item){if(y.item)return C=y.item(0),p=C.nodeName,{name:p,index:u(p,C)};p=y.duplicate();try{y.collapse(),y.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_start" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'),B||(p.collapse(!1),y.moveToElementText(p.parentElement()),0===y.compareEndPoints("StartToEnd",p)&&p.move("character",-1),p.pasteHTML('<span data-mce-type="bookmark" id="'+A+'_end" style="overflow:hidden;line-height:0px">&#xFEFF;</span>'))}catch(H){return null}}else{if(C=
c.getNode(),p=C.nodeName,"IMG"==p)return{name:p,index:u(p,C)};(p=t(y.cloneRange()),B)||(p.collapse(!1),B=k.create("span",{"data-mce-type":"bookmark",id:A+"_end",style:"overflow:hidden;line-height:0px"},"&#xFEFF;"),p.insertNode(B),q(B.nextSibling));y=t(y);y.collapse(!0);B=k.create("span",{"data-mce-type":"bookmark",id:A+"_start",style:"overflow:hidden;line-height:0px"},"&#xFEFF;");y.insertNode(B);q(B.previousSibling)}return c.moveToBookmark({id:A,keep:1}),{id:A}};this.moveToBookmark=function(b){function e(a){var c,
d,e=b[a?"start":"end"];if(e){var f=e[0];var k=g;for(c=e.length-1;1<=c;c--){if(d=k.childNodes,e[c]>d.length-1)return;k=d[e[c]]}3===k.nodeType&&(f=Math.min(e[0],k.nodeValue.length));1===k.nodeType&&(f=Math.min(e[0],k.childNodes.length));a?n.setStart(k,f):n.setEnd(k,f)}return!0}function f(c){var e,f,n=k.get(b.id+"_"+c);var l=b.keep;if(n&&(e=n.parentNode,"start"==c?(l?(e=n.firstChild,f=1):f=k.nodeIndex(n),p=u=e,B=C=f):(l?(e=n.firstChild,f=1):f=k.nodeIndex(n),u=e,C=f),!l)){l=n.previousSibling;e=n.nextSibling;
for(a.each(a.grep(n.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});n=k.get(b.id+"_"+c);)k.remove(n,1);l&&e&&l.nodeType==e.nodeType&&3==l.nodeType&&!d.opera&&(f=l.nodeValue.length,l.appendData(e.nodeValue),k.remove(e),"start"==c?(p=u=l,B=C=f):(u=l,C=f))}}function l(a){return!k.isBlock(a)||a.innerHTML||d.ie||(a.innerHTML='<br data-mce-bogus="1" />'),a}function m(){var a,c;return a=k.createRng(),c=h.resolve(k.getRoot(),b.start),a.setStart(c.container(),c.offset()),
c=h.resolve(k.getRoot(),b.end),a.setEnd(c.container(),c.offset()),a}var n,g,p,u,B,C;if(b)if(a.isArray(b.start)){if(n=k.createRng(),g=k.getRoot(),c.tridentSel)return c.tridentSel.moveToBookmark(b);e(!0)&&e()&&c.setRng(n)}else"string"==typeof b.start?c.setRng(m(b)):b.id?(f("start"),f("end"),p&&(n=k.createRng(),n.setStart(l(p),B),n.setEnd(l(u),C),c.setRng(n))):b.name?c.select(k.select(b.name)[b.index]):b.rng&&c.setRng(b.rng)}}var l=e.isContentEditableFalse,r=function(a,b){var d;var e=c.trim(a.data.slice(0,
b)).length;for(d=a.previousSibling;d&&3===d.nodeType;d=d.previousSibling)e+=c.trim(d.data).length;return e},q=function(a){e.isText(a)&&0===a.data.length&&a.parentNode.removeChild(a)};return m.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},m});v("5x","4e f 1t 20 1u 4f".split(" "),function(h,g,f,e,b,d){function c(a,b){for(var c;c=a(b);)if(!x(c))return c;return null}function a(a,b){for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(p(a))return a;return b}
function m(a,b){for(;a&&a!=b;){if(u(a))return a;a=a.parentNode}return null}function l(a,b){var c=b.ownerDocument.createRange();return a?(c.setStartBefore(b),c.setEndBefore(b)):(c.setStartAfter(b),c.setEndAfter(b)),c}function r(a,b,c){var d;for(a=a?"previousSibling":"nextSibling";c&&c!=b;){if(d=c[a],z(d)&&(d=d[a]),k(d)){if(m(d,b)==m(c,b))return d;break}if(n(d))break;c=c.parentNode}return null}function q(a,b){var c=k,d,e;var f=b?(d=b.container(),e=b.offset(),w(d)?d.childNodes[e+a]:null):null;return c(f)}
var p=f.isContentEditableTrue,k=f.isContentEditableFalse,u=f.matchStyleValues("display","block table table-cell table-caption list-item"),z=b.isCaretContainer,x=b.isCaretContainerBlock,t=h.curry,w=f.isElement,n=d.isCaretCandidate,y=t(l,!0),D=t(l,!1);return{isForwards:function(a){return 0<a},isBackwards:function(a){return 0>a},findNode:function(a,b,d,e,f){e=new g(a,e);if(0>b){if((k(a)||x(a))&&(a=c(e.prev,!0),d(a)))return a;for(;a=c(e.prev,f);)if(d(a))return a}if(0<b){if((k(a)||x(a))&&(a=c(e.next,!0),
d(a)))return a;for(;a=c(e.next,f);)if(d(a))return a}return null},getEditingHost:a,getParentBlock:m,isInSameBlock:function(a,b,c){return m(a.container(),c)==m(b.container(),c)},isInSameEditingHost:function(b,c,d){return a(b.container(),d)==a(c.container(),d)},isBeforeContentEditableFalse:t(q,0),isAfterContentEditableFalse:t(q,-1),normalizeRange:function(a,c,d){var e,n,l,m=t(r,!0,c),g=t(r,!1,c);if(n=d.startContainer,c=d.startOffset,b.isCaretContainerBlock(n)){if(w(n)||(n=n.parentNode),l=n.getAttribute("data-mce-caret"),
"before"==l&&(e=n.nextSibling,k(e)))return y(e);if("after"==l&&(e=n.previousSibling,k(e)))return D(e)}if(!d.collapsed)return d;if(f.isText(n)){if(z(n)){if(1===a){if(e=g(n))return y(e);if(e=m(n))return D(e)}if(-1===a){if(e=m(n))return D(e);if(e=g(n))return y(e)}return d}if(b.endsWithCaretContainer(n)&&c>=n.data.length-1)return 1===a&&(e=g(n))?y(e):d;if(b.startsWithCaretContainer(n)&&1>=c)return-1===a&&(e=m(n))?D(e):d;if(c===n.data.length)return e=g(n),e?y(e):d;if(0===c)return e=m(n),e?D(e):d}return d}}});
v("5a","1t 4f 20 5x 1q 4e".split(" "),function(h,g,f,e,b,d){function c(a,b){for(var c=[];a&&a!=b;)c.push(a),a=a.parentNode;return c}function a(a,b){return a.hasChildNodes()&&b<a.childNodes.length?a.childNodes[b]:null}function m(a,b){if(u(a)){if(x(b.previousSibling)&&!q(b.previousSibling))return f.before(b);if(q(b))return f(b,0)}if(z(a)){if(x(b.nextSibling)&&!q(b.nextSibling))return f.after(b);if(q(b))return f(b,b.data.length)}return z(a)?k(b)?f.before(b):f.after(b):f.before(b)}function l(n,g,D){var y,
B,C,H;if(!p(D)||!g)return null;if(g.isEqual(f.after(D))&&D.lastChild&&(g=f.after(D.lastChild),z(n)&&x(D.lastChild)&&p(D.lastChild)))return k(D.lastChild)?f.before(D.lastChild):g;if(y=g.container(),B=g.offset(),q(y)){if(z(n)&&0<B)return f(y,--B);if(u(n)&&B<y.length)return f(y,++B);var F=y}else{if(z(n)&&0<B&&(C=a(y,B-1),x(C)))return!t(C)&&(F=e.findNode(C,n,w,C))?q(F)?f(F,F.data.length):f.after(F):q(C)?f(C,C.data.length):f.before(C);if(u(n)&&B<y.childNodes.length&&(C=a(y,B),x(C))){y=C;var E;return h.isBr(y)&&
(E=l(1,f.after(y),D),E&&!e.isInSameBlock(f.before(y),f.before(E),D))?l(n,f.after(C),D):!t(C)&&(F=e.findNode(C,n,w,C))?q(F)?f(F,0):f.before(F):q(C)?f(C,0):f.after(C)}F=g.getNode()}return(u(n)&&g.isAtEnd()||z(n)&&g.isAtStart())&&(F=e.findNode(F,n,d.constant(!0),D,!0),w(F))?m(n,F):(C=e.findNode(F,n,w,D),H=b.last(b.filter(c(y,D),r)),!H||C&&H.contains(C)?C?m(n,C):null:u(n)?f.after(H):f.before(H))}var r=h.isContentEditableFalse,q=h.isText,p=h.isElement,k=h.isBr,u=e.isForwards,z=e.isBackwards,x=g.isCaretCandidate,
t=g.isAtomic,w=g.isEditableCaretCandidate;return function(a){return{next:function(b){return l(1,b,a)},prev:function(b){return l(-1,b,a)}}}});v("5w","1 49 4f 20 5x 5a 1t".split(" "),function(h,g,f,e,b,d,c){var a=function(a){return c.isBr(a)?e.before(a):e.after(a)},m=function(a){return e.isTextPosition(a)?0===a.offset():f.isCaretCandidate(a.getNode())},l=function(a){return e.isTextPosition(a)?a.offset()===a.container().data.length:f.isCaretCandidate(a.getNode(!0))},r=function(a,b){return!e.isTextPosition(a)&&
!e.isTextPosition(b)&&a.getNode()===b.getNode(!0)},q=function(a,b,c){b=new d(b);return g.from(a?b.next(c):b.prev(c))},p=function(b,d){var k=b?d.firstChild:d.lastChild;c.isText(k)?k=g.some(new e(k,b?0:k.data.length)):k?f.isCaretCandidate(k)?k=g.some(b?e.before(k):a(k)):(k=b?e.before(k):e.after(k),k=q(b,d,k)):k=g.none();return k};return{fromPosition:q,nextPosition:h.curry(q,!0),prevPosition:h.curry(q,!1),navigate:function(a,d,f){return q(a,d,f).bind(function(k){var p;if(p=b.isInSameBlock(f,k,d))if(a){if(p=
!r(f,k))p=!(!e.isTextPosition(f)&&c.isBr(f.getNode()));p=p&&l(f)&&m(k)}else p=!r(k,f)&&m(f)&&l(k);return p?q(a,d,k):g.some(k)})},positionIn:p,firstPositionIn:h.curry(p,!0),lastPositionIn:h.curry(p,!1)}});v("4i",["5w","20","5x"],function(h,g,f){var e=function(b){var d=g.fromRangeStart(b),c=g.fromRangeEnd(b),a=b.commonAncestorContainer;return h.fromPosition(!1,a,c).map(function(e){if(!f.isInSameBlock(d,c,a)&&f.isInSameBlock(d,e,a)){var l=d.container();var m=d.offset(),g=e.container();e=e.offset();var p=
document.createRange();l=(p.setStart(l,m),p.setEnd(g,e),p)}else l=b;return l}).getOr(b)};return{normalize:function(b){return b.collapsed?b:e(b)}}});v("4p",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console});ha("28",document);v("1w",["1","4","4p","28"],function(h,g,f,e){var b=function(b){if(null===b||void 0===b)throw new g("Node cannot be null or undefined");return{dom:h.constant(b)}};return{fromHtml:function(d,c){var a=(c||e).createElement("div");if(a.innerHTML=
d,!a.hasChildNodes()||1<a.childNodes.length)throw f.error("HTML does not have a single root node",d),"HTML must have a single root node";return b(a.childNodes[0])},fromTag:function(d,c){var a=(c||e).createElement(d);return b(a)},fromText:function(d,c){var a=(c||e).createTextNode(d);return b(a)},fromDom:b}});v("2k",["3","4a"],function(h,g){var f=function(e){return function(b){if(null===b)b="null";else{var d=typeof b;b="object"===d&&h.prototype.isPrototypeOf(b)?"array":"object"===d&&g.prototype.isPrototypeOf(b)?
"string":d}return b===e}};return{isString:f("string"),isObject:f("object"),isArray:f("array"),isNull:f("null"),isBoolean:f("boolean"),isUndefined:f("undefined"),isFunction:f("function"),isNumber:f("number")}});v("63",["2j","1","3","4"],function(h,g,f,e){return function(){var b=arguments;return function(){for(var d=new f(arguments.length),c=0;c<d.length;c++)d[c]=arguments[c];if(b.length!==d.length)throw new e('Wrong number of arguments to struct. Expected "['+b.length+']", got '+d.length+" arguments");
var a={};return h.each(b,function(b,c){a[b]=g.constant(d[c])}),a}}});v("5i",["49","5s"],function(h,g){var f=function(){var a=g.keys,b=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};return void 0===a?b:a}(),e=function(a,b){for(var c=f(a),d=0,e=c.length;d<e;d++){var m=c[d];b(a[m],m,a)}},b=function(a,b){var c={};return e(a,function(d,e){var f=b(d,e,a);c[f.k]=f.v}),c},d=function(a,b){var c=[];return e(a,function(a,d){c.push(b(a,d))}),c},c=function(a){return d(a,function(a){return a})};
return{bifilter:function(a,b){var c={},d={};return e(a,function(a,e){(b(a,e)?c:d)[e]=a}),{t:c,f:d}},each:e,map:function(a,c){return b(a,function(a,b,d){return{k:b,v:c(a,b,d)}})},mapToArray:d,tupleMap:b,find:function(a,b){for(var c=f(a),d=0,e=c.length;d<e;d++){var m=c[d],k=a[m];if(b(k,m,a))return h.some(k)}return h.none()},keys:f,values:c,size:function(a){return c(a).length}}});v("6v",["2j","2k","4"],function(h,g,f){var e=function(b){return b.slice(0).sort()};return{sort:e,reqMessage:function(b,d){throw new f("All required keys ("+
e(b).join(", ")+") were not specified. Specified keys were: "+e(d).join(", ")+".");},unsuppMessage:function(b){throw new f("Unsupported keys for object: "+e(b).join(", "));},validateStrArr:function(b,d){if(!g.isArray(d))throw new f("The "+b+" fields must be an array. Was: "+d+".");h.each(d,function(c){if(!g.isString(c))throw new f("The value "+c+" in the "+b+" fields was not a string.");})},invalidTypeMessage:function(b,d){throw new f("All values need to be of type: "+d+". Keys ("+e(b).join(", ")+
") were not.");},checkDupes:function(b){var d=e(b);h.find(d,function(b,a){return a<d.length-1&&b===d[a+1]}).each(function(b){throw new f("The field: "+b+" occurs more than once in the combined fields: ["+d.join(", ")+"].");})}}});v("64","2j 1 5i 49 6v 4 5s".split(" "),function(h,g,f,e,b,d,c){return function(a,m){var l=a.concat(m);if(0===l.length)throw new d("You must specify at least one required or optional field.");return b.validateStrArr("required",a),b.validateStrArr("optional",m),b.checkDupes(l),
function(d){var q=f.keys(d);h.forall(a,function(a){return h.contains(q,a)})||b.reqMessage(a,q);var p=h.filter(q,function(a){return!h.contains(l,a)});0<p.length&&b.unsuppMessage(p);var k={};return h.each(a,function(a){k[a]=g.constant(d[a])}),h.each(m,function(a){k[a]=g.constant(c.prototype.hasOwnProperty.call(d,a)?e.some(d[a]):e.none())}),k}}});v("5k",["63","64"],function(h,g){return{immutable:h,immutableBag:g}});v("65",[],function(){return{toArray:function(h,g){var f=[],e=function(b){return f.push(b),
g(b)},b=g(h);do b=b.bind(e);while(b.isSome());return f}}});v("7e",[],function(){return"undefined"!=typeof window?window:Function("return this;")()});v("6w",["7e"],function(h){var g=function(e,b){for(var d=void 0!==b?b:h,c=0;c<e.length&&void 0!==d&&null!==d;++c)d=d[e[c]];return d},f=function(e,b){for(var d=void 0!==b?b:h,c=0;c<e.length;++c){var a=e[c];d=(void 0!==d[a]&&null!==d[a]||(d[a]={}),d[a])}return d};return{path:g,resolve:function(e,b){var d=e.split(".");return g(d,b)},forge:f,namespace:function(e,
b){var d=e.split(".");return f(d,b)}}});v("5z",["6w"],function(h){return{getOrDie:function(g,f){var e=h.resolve(g,f);if(void 0===e)throw g+" not available on this browser";return e}}});v("4r",["5z"],function(h){return{documentPositionPreceding:function(g,f){var e=h.getOrDie("Node").DOCUMENT_POSITION_PRECEDING;return 0!==(g.compareDocumentPosition(f)&e)},documentPositionContainedBy:function(g,f){var e=h.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY;return 0!==(g.compareDocumentPosition(f)&e)}}});
v("60",[],function(){return{cached:function(h){var g,f=!1;return function(){return f||(f=!0,g=h.apply(null,arguments)),g}}}});ha("7u",Number);v("7f",["2j","7u","4a"],function(h,g,f){var e=function(){return b(0,0)},b=function(b,c){return{major:b,minor:c}};return{nu:b,detect:function(d,c){var a=f(c).toLowerCase();if(0===d.length)a=e();else{var m;a:{for(m=0;m<d.length;m++){var l=d[m];if(l.test(a)){m=l;break a}}m=void 0}a=m?b(g(a.replace(m,"$1")),g(a.replace(m,"$2"))):{major:0,minor:0}}return a},unknown:e}});
v("6x",["1","7f"],function(h,g){var f=function(b,d){return function(){return d===b}},e=function(b){var d=b.current;return{current:d,version:b.version,isEdge:f("Edge",d),isChrome:f("Chrome",d),isIE:f("IE",d),isOpera:f("Opera",d),isFirefox:f("Firefox",d),isSafari:f("Safari",d)}};return{unknown:function(){return e({current:void 0,version:g.unknown()})},nu:e,edge:h.constant("Edge"),chrome:h.constant("Chrome"),ie:h.constant("IE"),opera:h.constant("Opera"),firefox:h.constant("Firefox"),safari:h.constant("Safari")}});
v("6y",["1","7f"],function(h,g){var f=function(b,d){return function(){return d===b}},e=function(b){var d=b.current;return{current:d,version:b.version,isWindows:f("Windows",d),isiOS:f("iOS",d),isAndroid:f("Android",d),isOSX:f("OSX",d),isLinux:f("Linux",d),isSolaris:f("Solaris",d),isFreeBSD:f("FreeBSD",d)}};return{unknown:function(){return e({current:void 0,version:g.unknown()})},nu:e,windows:h.constant("Windows"),ios:h.constant("iOS"),android:h.constant("Android"),linux:h.constant("Linux"),osx:h.constant("OSX"),
solaris:h.constant("Solaris"),freebsd:h.constant("FreeBSD")}});v("6z",["1"],function(h){return function(g,f,e){var b=g.isiOS()&&!0===/ipad/i.test(e),d=g.isiOS()&&!b,c=g.isAndroid()&&3===g.version.major,a=g.isAndroid()&&4===g.version.major;c=b||c||a&&!0===/mobile/i.test(e);var m=(a=g.isiOS()||g.isAndroid())&&!c;f=f.isSafari()&&g.isiOS()&&!1===/safari/i.test(e);return{isiPad:h.constant(b),isiPhone:h.constant(d),isTablet:h.constant(c),isPhone:h.constant(m),isTouch:h.constant(a),isAndroid:g.isAndroid,
isiOS:g.isiOS,isWebView:h.constant(f)}}});v("70",["2j","7f","4a"],function(h,g,f){var e=function(b,d){var c=f(d).toLowerCase();return h.find(b,function(a){return a.search(c)})};return{detectBrowser:function(b,d){return e(b,d).map(function(b){var a=g.detect(b.versionRegexes,d);return{current:b.name,version:a}})},detectOs:function(b,d){return e(b,d).map(function(b){var a=g.detect(b.versionRegexes,d);return{current:b.name,version:a}})}}});v("6r",[],function(){return{addToStart:function(h,g){return g+
h},addToEnd:function(h,g){return h+g},removeFromStart:function(h,g){return h.substring(g)},removeFromEnd:function(h,g){return h.substring(0,h.length-g)}}});v("6s",["49","4"],function(h,g){return{first:function(f,e){return f.substr(0,e)},last:function(f,e){return f.substr(f.length-e,f.length)},head:function(f){return""===f?h.none():h.some(f.substr(0,1))},tail:function(f){return""===f?h.none():h.some(f.substring(1))}}});v("5j",["6r","6s","4"],function(h,g,f){var e=function(b,a,d){return""===a?!0:b.length<
a.length?!1:b.substr(d,d+a.length)===a},b=function(b,a){return e(b,a,0)},d=function(b,a){return e(b,a,b.length-a.length)};return{supplant:function(b,a){return b.replace(/\${([^{}]*)}/g,function(b,c){var d=a[c],e=typeof d;return"string"===e||"number"===e?d:b})},startsWith:b,removeLeading:function(c,a){return b(c,a)?h.removeFromStart(c,a.length):c},removeTrailing:function(b,a){return d(b,a)?h.removeFromEnd(b,a.length):b},ensureLeading:function(c,a){return b(c,a)?c:h.addToStart(c,a)},ensureTrailing:function(b,
a){return d(b,a)?b:h.addToEnd(b,a)},endsWith:d,contains:function(b,a){return-1!==b.indexOf(a)},trim:function(b){return b.replace(/^\s+|\s+$/g,"")},lTrim:function(b){return b.replace(/^\s+/g,"")},rTrim:function(b){return b.replace(/\s+$/g,"")},capitalize:function(b){return g.head(b).bind(function(a){return g.tail(b).map(function(b){return a.toUpperCase()+b})}).getOr(b)}}});v("71",["1","5j"],function(h,g){var f=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,e=function(b){return function(d){return g.contains(d,
b)}};f=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(b){return g.contains(b,"edge/")&&g.contains(b,"chrome")&&g.contains(b,"safari")&&g.contains(b,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,f],search:function(b){return g.contains(b,"chrome")&&!g.contains(b,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(b){return g.contains(b,"msie")||g.contains(b,"trident")}},
{name:"Opera",versionRegexes:[f,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:e("firefox")},{name:"Safari",versionRegexes:[f,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(b){return(g.contains(b,"safari")||g.contains(b,"mobile/"))&&g.contains(b,"applewebkit")}}];e=[{name:"Windows",search:e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(b){return g.contains(b,"iphone")||
g.contains(b,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:e("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:e("linux"),versionRegexes:[]},{name:"Solaris",search:e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:e("freebsd"),versionRegexes:[]}];return{browsers:h.constant(f),
oses:h.constant(e)}});v("61",["6x","6y","6z","70","71"],function(h,g,f,e,b){return{detect:function(d){var c=b.browsers(),a=b.oses();c=e.detectBrowser(c,d).fold(h.unknown,h.nu);a=e.detectOs(a,d).fold(g.unknown,g.nu);d=f(a,c,d);return{browser:c,os:a,deviceType:d}}}});ha("62",navigator);v("4s",["60","61","62"],function(h,g,f){return{detect:h.cached(function(){return g.detect(f.userAgent)})}});v("4q",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,
ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}});v("1x","2j 49 1w 4q 4 28".split(" "),function(h,g,f,e,b,d){var c=function(){var a=d.createElement("span");return void 0!==a.matches?0:void 0!==a.msMatchesSelector?1:void 0!==a.webkitMatchesSelector?2:void 0!==a.mozMatchesSelector?3:-1}(),a=e.ELEMENT,m=e.DOCUMENT;return{all:function(b,c){var e=void 0===c?d:c.dom();return e.nodeType!==a&&e.nodeType!==m||0===e.childElementCount?[]:h.map(e.querySelectorAll(b),f.fromDom)},
is:function(d,e){var f=d.dom();if(f.nodeType!==a)return!1;if(0===c)return f.matches(e);if(1===c)return f.msMatchesSelector(e);if(2===c)return f.webkitMatchesSelector(e);if(3===c)return f.mozMatchesSelector(e);throw new b("Browser lacks native selectors");},one:function(b,c){var e=void 0===c?d:c.dom();return e.nodeType!==a&&e.nodeType!==m||0===e.childElementCount?g.none():g.from(e.querySelector(b)).map(f.fromDom)}}});v("21",["2j","1","4r","4s","1x"],function(h,g,f,e,b){var d=function(a,b){return a.dom()===
b.dom()},c=function(a,b){var c=a.dom(),d=b.dom();return c!==d&&c.contains(d)},a=function(a,b){return f.documentPositionContainedBy(a.dom(),b.dom())};e=e.detect().browser.isIE()?a:c;return{eq:d,isEqualNode:function(a,b){return a.dom().isEqualNode(b.dom())},member:function(a,b){return h.exists(b,g.curry(d,a))},contains:e,is:b.is}});v("5h","2k 2j 1 49 5k 65 21 1w".split(" "),function(h,g,f,e,b,d,c,a){var m=function(b){return a.fromDom(b.dom().ownerDocument)},l=function(b){b=b.dom();return e.from(b.parentNode).map(a.fromDom)},
r=function(b){b=b.dom();return e.from(b.previousSibling).map(a.fromDom)},q=function(b){b=b.dom();return e.from(b.nextSibling).map(a.fromDom)},p=function(b){b=b.dom();return g.map(b.childNodes,a.fromDom)},k=function(b,c){var d=b.dom().childNodes;return e.from(d[c]).map(a.fromDom)},u=b.immutable("element","offset");return{owner:m,defaultView:function(b){b=b.dom().ownerDocument.defaultView;return a.fromDom(b)},documentElement:function(b){b=m(b);return a.fromDom(b.dom().documentElement)},parent:l,findIndex:function(a){return l(a).bind(function(b){b=
p(b);return g.findIndex(b,function(b){return c.eq(a,b)})})},parents:function(b,c){for(var d=h.isFunction(c)?c:f.constant(!1),e=b.dom(),k=[];null!==e.parentNode&&void 0!==e.parentNode;){e=e.parentNode;var l=a.fromDom(e);if(k.push(l),!0===d(l))break}return k},siblings:function(a){return l(a).map(p).map(function(b){return g.filter(b,function(b){return!c.eq(a,b)})}).getOr([])},prevSibling:r,offsetParent:function(b){b=b.dom();return e.from(b.offsetParent).map(a.fromDom)},prevSiblings:function(a){return g.reverse(d.toArray(a,
r))},nextSibling:q,nextSiblings:function(a){return d.toArray(a,q)},children:p,child:k,firstChild:function(a){return k(a,0)},lastChild:function(a){return k(a,a.dom().childNodes.length-1)},leaf:function(a,b){var c=p(a);return 0<c.length&&b<c.length?u(c[b],0):u(a,b)}}});v("4t",["5h"],function(h){var g=function(e,b){h.parent(e).each(function(d){d.dom().insertBefore(b.dom(),e.dom())})},f=function(e,b){e.dom().appendChild(b.dom())};return{before:g,after:function(e,b){h.nextSibling(e).fold(function(){h.parent(e).each(function(d){f(d,
b)})},function(d){g(d,b)})},prepend:function(e,b){h.firstChild(e).fold(function(){f(e,b)},function(d){e.dom().insertBefore(b.dom(),d.dom())})},append:f,appendAt:function(e,b,d){h.child(e,d).fold(function(){f(e,b)},function(c){g(c,b)})},wrap:function(e,b){g(e,b);f(b,e)}}});v("67",["2j","4t"],function(h,g){return{before:function(f,e){h.each(e,function(b){g.before(f,b)})},after:function(f,e){h.each(e,function(b,d){g.after(0===d?f:e[d-1],b)})},prepend:function(f,e){h.each(e.slice().reverse(),function(b){g.prepend(f,
b)})},append:function(f,e){h.each(e,function(b){g.append(f,b)})}}});v("68",["2j","67","5h"],function(h,g,f){var e=function(b){b=b.dom();null!==b.parentNode&&b.parentNode.removeChild(b)};return{empty:function(b){b.dom().textContent="";h.each(f.children(b),function(b){e(b)})},remove:e,unwrap:function(b){var d=f.children(b);0<d.length&&g.before(b,d);e(b)}}});v("4w",["4q"],function(h){var g=function(b){return b.dom().nodeName.toLowerCase()},f=function(b){return b.dom().nodeType},e=function(b){return function(a){return f(a)===
b}},b=e(h.ELEMENT),d=e(h.TEXT);e=e(h.DOCUMENT);return{name:g,type:f,value:function(b){return b.dom().nodeValue},isElement:b,isText:d,isDocument:e,isComment:function(b){return f(b)===h.COMMENT||"#comment"===g(b)}}});v("6p",["60","1w","4w","28"],function(h,g,f,e){var b=function(b){b=b.dom().body;if(null===b||void 0===b)throw"Body is not available yet";return g.fromDom(b)};return{body:h.cached(function(){return b(g.fromDom(e))}),getBody:b,inBody:function(b){b=f.isText(b)?b.dom().parentNode:b.dom();return void 0!==
b&&null!==b&&b.ownerDocument.body.contains(b)}}});v("69",["2j","6p","5h"],function(h,g,f){var e=function(b,d){var c=[];return h.each(f.children(b),function(a){d(a)&&(c=c.concat([a]));c=c.concat(e(a,d))}),c};return{all:function(b){return e(g.body(),b)},ancestors:function(b,d,c){return h.filter(f.parents(b,c),d)},siblings:function(b,d){return h.filter(f.siblings(b),d)},children:function(b,d){return h.filter(f.children(b),d)},descendants:e}});v("4x",["69","1x"],function(h,g){return{all:function(f){return g.all(f)},
ancestors:function(f,e,b){return h.ancestors(f,function(b){return g.is(b,e)},b)},siblings:function(f,e){return h.siblings(f,function(b){return g.is(b,e)})},children:function(f,e){return h.children(f,function(b){return g.is(b,e)})},descendants:function(f,e){return g.all(e,f)}}});v("4z",["2j","1","4w"],function(h,g,f){var e=function(b){var a;return function(c){return a=a?a:h.mapToObject(b,g.constant(!0)),a.hasOwnProperty(f.name(c))}},b=e("h1 h2 h3 h4 h5 h6".split(" ")),d=e("article aside details div dt figcaption footer form fieldset header hgroup html main nav section summary body p dl multicol dd figure address center blockquote h1 h2 h3 h4 h5 h6 listing xmp pre plaintext menu dir ul ol li hr table tbody thead tfoot th tr td caption".split(" "));
return{isBlock:d,isInline:function(b){return f.isElement(b)&&!d(b)},isHeading:b,isTextBlock:e("h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure".split(" ")),isListItem:e(["li","dd","dt"]),isVoid:e("area base basefont br col frame hr img input isindex link meta param embed source wbr track".split(" ")),isTableCell:e(["td","th"]),isBr:function(b){return f.isElement(b)&&"br"===f.name(b)}}});v("5y","2j 4t 68 1w 4x 4z".split(" "),
function(h,g,f,e,b,d){var c=function(a){var b=[];for(a=a.dom();a;)b.push(e.fromDom(a)),a=a.lastChild;return b};return{removeTrailingBr:function(a){var e=b.descendants(a,"br");a=h.filter(c(a).slice(-1),d.isBr);e.length===a.length&&h.each(a,f.remove)},fillWithPaddingBr:function(a){f.empty(a);g.append(a,e.fromHtml('<br data-mce-bogus="1">'))}}});v("4l",["f"],function(h){var g=function(b){return b&&/^(IMG)$/.test(b.nodeName)},f=function(b){return b&&3===b.nodeType&&/^([\t \r\n]+|)$/.test(b.nodeValue)},
e=function(b,d,c){return"color"!==c&&"backgroundColor"!==c||(d=b.toHex(d)),"fontWeight"===c&&700===d&&(d="bold"),"fontFamily"===c&&(d=d.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+d};return{isInlineBlock:g,moveStart:function(b,d,c){var a,e=c.startContainer,l=c.startOffset;if((c.startContainer!==c.endContainer||!g(c.startContainer.childNodes[c.startOffset]))&&(3===e.nodeType&&l>=e.nodeValue.length&&(l=b.nodeIndex(e),e=e.parentNode),1===e.nodeType)){var r=e.childNodes;l<r.length?(e=r[l],a=new h(e,
b.getParent(e,b.isBlock))):(e=r[r.length-1],a=new h(e,b.getParent(e,b.isBlock)),a.next(!0));for(b=a.current();b;b=a.next())if(3===b.nodeType&&!f(b))return c.setStart(b,0),void d.setRng(c)}},getNonWhiteSpaceSibling:function(b,d,c){if(b)for(d=d?"nextSibling":"previousSibling",b=c?b:b[d];b;b=b[d])if(1===b.nodeType||!f(b))return b},isTextBlock:function(b,d){return d.nodeType&&(d=d.nodeName),!!b.schema.getTextBlockElements()[d.toLowerCase()]},isValid:function(b,d,c){return b.schema.isValidChild(d,c)},
isWhiteSpaceNode:f,replaceVars:function(b,d){return"string"!=typeof b?b=b(d):d&&(b=b.replace(/%(\w+)/g,function(b,a){return d[a]||b})),b},isEq:function(b,d){return b=b||"",d=d||"",b=""+(b.nodeName||b),d=""+(d.nodeName||d),b.toLowerCase()===d.toLowerCase()},normalizeStyleValue:e,getStyle:function(b,d,c){return e(b,b.getStyle(d,c),c)},getTextDecoration:function(b,d){var c;return b.getParent(d,function(a){return c=b.getStyle(a,"text-decoration"),c&&"none"!==c}),c},getParents:function(b,d,c){return b.getParents(d,
c,b.getRoot())}}});v("4k",["u","f","4l"],function(h,g,f){var e=h.isBookmarkNode,b=f.getParents,d=f.isWhiteSpaceNode,c=f.isTextBlock,a=function(a,b){for("undefined"==typeof b&&(b=3===a.nodeType?a.length:a.childNodes.length);a&&a.hasChildNodes();)(a=a.childNodes[b])&&(b=3===a.nodeType?a.length:a.childNodes.length);return{node:a,offset:b}},m=function(b,c){var d=a(b,c);if(d.node){for(;d.node&&0===d.offset&&d.node.previousSibling;)d=a(d.node.previousSibling);d.node&&0<d.offset&&3===d.node.nodeType&&" "===
d.node.nodeValue.charAt(d.offset-1)&&1<d.offset&&(b=d.node,b.splitText(d.offset-1))}return b};return{expandRng:function(a,h,q,p){var k,l,r=h.startContainer,x=h.startOffset,t=h.endContainer,w=h.endOffset,n=a.dom,y=function(a){var b,c,f,k;if(b=c=a?r:t,f=a?"previousSibling":"nextSibling",k=n.getRoot(),3===b.nodeType&&!d(b)&&(a?0<x:w<b.nodeValue.length))return b;for(;q[0].block_expand||!n.isBlock(c);){for(a=c[f];a;a=a[f]){if(b=!e(a)&&!d(a))b=a,b=!("BR"===b.nodeName&&b.getAttribute("data-mce-bogus")&&
!b.nextSibling);if(b)return c}if(c===k||c.parentNode===k)break;c=c.parentNode}return c};1===r.nodeType&&r.hasChildNodes()&&(k=r.childNodes.length-1,r=r.childNodes[x>k?k:x],3===r.nodeType&&(x=0));1===t.nodeType&&t.hasChildNodes()&&(k=t.childNodes.length-1,t=t.childNodes[w>k?k:w-1],3===t.nodeType&&(w=t.nodeValue.length));k=function(a){for(var b=a;b;){if(1===b.nodeType&&n.getContentEditable(b))return"false"===n.getContentEditable(b)?b:a;b=b.parentNode}return a};var D=function(b,c,d){var e,f,k=function(a,
b){var c,e,f=a.nodeValue;return"undefined"==typeof b&&(b=d?f.length:0),d?(c=f.lastIndexOf(" ",b),e=f.lastIndexOf("\u00a0",b),c=c>e?c:e,-1===c||p||c++):(c=f.indexOf(" ",b),e=f.indexOf("\u00a0",b),c=-1!==c&&(-1===e||c<e)?c:e),c};if(3===b.nodeType){if(f=k(b,c),-1!==f)return{container:b,offset:f};var l=b}for(b=new g(b,n.getParent(b,n.isBlock)||a.getBody());e=b[d?"prev":"next"]();)if(3===e.nodeType){if(l=e,f=k(e),-1!==f)return{container:e,offset:f}}else if(n.isBlock(e))break;if(l)return c=d?0:l.length,
{container:l,offset:c}},A=function(a,c){var d,e,f;3===a.nodeType&&0===a.nodeValue.length&&a[c]&&(a=a[c]);var k=b(n,a);for(d=0;d<k.length;d++)for(e=0;e<q.length;e++)if(f=q[e],!("collapsed"in f&&f.collapsed!==h.collapsed)&&n.is(k[d],f.selector))return k[d];return a},B=function(d,e){var k,l=n.getRoot();(q[0].wrapper||(k=n.getParent(d,q[0].block,l)),k)||(k=n.getParent(d,"LI,TD,TH"),k=n.getParent(3===d.nodeType?d.parentNode:d,function(b){return b!==l&&c(a,b)},k));if(k&&q[0].wrapper&&(k=b(n,k,"ul,ol").reverse()[0]||
k),!k)for(k=d;k[e]&&!n.isBlock(k[e])&&(k=k[e],!f.isEq(k,"br")););return k||d};return r=k(r),t=k(t),(e(r.parentNode)||e(r))&&(r=e(r)?r:r.parentNode,r=r.nextSibling||r,3===r.nodeType&&(x=0)),(e(t.parentNode)||e(t))&&(t=e(t)?t:t.parentNode,t=t.previousSibling||t,3===t.nodeType&&(w=t.length)),q[0].inline&&(h.collapsed&&(l=D(r,x,!0),l&&(r=l.container,x=l.offset),l=D(t,w),l&&(t=l.container,w=l.offset)),t=p?t:m(t,w)),(q[0].inline||q[0].block_expand)&&(q[0].inline&&3===r.nodeType&&0!==x||(r=y(!0)),q[0].inline&&
3===t.nodeType&&w!==t.nodeValue.length||(t=y())),q[0].selector&&!1!==q[0].expand&&!q[0].inline&&(r=A(r,"previousSibling"),t=A(t,"nextSibling")),(q[0].block||q[0].selector)&&(r=B(r,"previousSibling"),t=B(t,"nextSibling"),q[0].block&&(n.isBlock(r)||(r=y(!0)),n.isBlock(t)||(t=y()))),1===r.nodeType&&(x=n.nodeIndex(r),r=r.parentNode),1===t.nodeType&&(w=n.nodeIndex(t)+1,t=t.parentNode),{startContainer:r,startOffset:x,endContainer:t,endOffset:w}}}});v("1l",["4l"],function(h){var g=h.isEq,f=function(a,b,
c){if(c=a.formatter.get(c))for(var d=0;d<c.length;d++)if(!1===c[d].inherit&&a.dom.is(b,c[d].selector))return!0;return!1},e=function(a,b,d,e){var l=a.dom.getRoot();return b!==l&&(b=a.dom.getParent(b,function(b){return!!f(a,b,d)||b.parentNode===l||!!c(a,b,d,e,!0)}),c(a,b,d,e))},b=function(a,b,c){return!!g(b,c.inline)||!!g(b,c.block)||(c.selector?1===b.nodeType&&a.is(b,c.selector):void 0)},d=function(a,b,c,d,e,f){var k,l,m=c[d];if(c.onmatch)return c.onmatch(b,c,d);if(m)if("undefined"==typeof m.length)for(k in m){if(m.hasOwnProperty(k)&&
((l="attributes"===d?a.getAttrib(b,k):h.getStyle(a,b,k),e&&!l&&!c.exact)||(!e||c.exact)&&!g(l,h.normalizeStyleValue(a,h.replaceVars(m[k],f),k))))return}else for(e=0;e<m.length&&("attributes"===d?!a.getAttrib(b,m[e]):!h.getStyle(a,b,m[e]));e++);return c},c=function(a,c,e,f,g){var l,k=a.formatter.get(e),m=a.dom;if(k&&c)for(e=0;e<k.length;e++)if(l=k[e],b(a.dom,c,l)&&d(m,c,l,"attributes",g,f)&&d(m,c,l,"styles",g,f)){if(g=l.classes)for(f=0;f<g.length;f++)if(!a.dom.hasClass(c,g[f]))return;return l}};return{matchNode:c,
matchName:b,match:function(a,b,c,d){var f;return d?e(a,d,b,c):(d=a.selection.getNode(),!!e(a,d,b,c)||(f=a.selection.getStart(),!(f===d||!e(a,f,b,c))))},matchAll:function(a,b,d){var e,f=[],l={};return e=a.selection.getStart(),a.dom.getParent(e,function(e){var k;for(k=0;k<b.length;k++){var g=b[k];!l[g]&&c(a,e,g,d)&&(l[g]=!0,f.push(g))}},a.dom.getRoot()),f},canApply:function(a,b){var c,d,e,f=a.formatter.get(b),k=a.dom;if(f){var g=a.selection.getStart();g=h.getParents(k,g);for(d=f.length-1;0<=d;d--){if(e=
f[d].selector,!e||f[d].defaultBlock)return!0;for(c=g.length-1;0<=c;c--)if(k.is(g[c],e))return!0}}return!1},matchesUnInheritedFormatSelector:f}});v("4j","2j 1w 5y k f 4k 4l 1l 1v 4e c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r){var q=m.ZWSP,p=function(a,b){for(;a;){if(3===a.nodeType&&a.nodeValue!==q||1<a.childNodes.length)return!1;b&&1===a.nodeType&&b.push(a);a=a.firstChild}return!0},k=function(a){if(a){var c=new b(a,a);for(a=c.current();a;a=c.next())if(3===a.nodeType)return a}return null},u=function(a,
b){var c=a.create("span",{id:"_mce_caret","data-mce-bogus":"1",style:""});return b&&c.appendChild(a.doc.createTextNode(q)),c},z=function(a){for(;a;){if("_mce_caret"===a.id)return a;a=a.parentNode}},x=function(a,b){var c;(c=z(b.getStart()))&&!a.isEmpty(c)&&r.walk(c,function(b){1!==b.nodeType||"_mce_caret"===b.id||a.isEmpty(b)||a.setAttrib(b,"data-mce-bogus",null)},"childNodes")},t=function(a,b,c,d){var e=b.getRng(!0);var n=a.getParent(c,a.isBlock);p(c)?(!1!==d&&(e.setStartBefore(c),e.setEndBefore(c)),
a.remove(c)):(d=k(c),d=(d&&d.nodeValue.charAt(0)===q&&d.deleteData(0,1),d),e.startContainer===d&&0<e.startOffset&&e.setStart(d,e.startOffset-1),e.endContainer===d&&0<e.endOffset&&e.setEnd(d,e.endOffset-1),a.remove(c,!0));n&&a.isEmpty(n)&&f.fillWithPaddingBr(g.fromDom(n));b.setRng(e)},w=function(a,b,c,d){if(c)t(a,b,c,d);else if(c=z(b.getStart()),!c)for(;c=a.get("_mce_caret");)t(a,b,c,!1)},n=function(a,b,d){var e=a.dom;(a=e.getParent(d,l.curry(c.isTextBlock,a)))&&e.isEmpty(a)?d.parentNode.replaceChild(b,
d):(f.removeTrailingBr(g.fromDom(d)),e.isEmpty(d)?d.parentNode.replaceChild(b,d):e.insertAfter(b,d))},y=function(a,b){return a.appendChild(b),b},D=function(a,b){var c=h.foldr(a,function(a,b){return y(a,b.cloneNode(!1))},b);return y(c,c.ownerDocument.createTextNode(q))},A=function(a){var b=a.dom,c=a.selection;if(!a._hasCaretEvents){a.on("BeforeGetContent",function(a){d&&"raw"!==a.format&&d()});a.on("mouseup keydown",function(a){e&&e(a)});var d=function(){var a,d=[];if(p(z(c.getStart()),d))for(a=d.length;a--;)b.setAttrib(d[a],
"data-mce-bogus","1")};var e=function(a){a=a.keyCode;w(b,c,null,!1);8===a&&c.isCollapsed()&&c.getStart().innerHTML===q&&w(b,c,z(c.getStart()));37!==a&&39!==a||w(b,c,z(c.getStart()));x(b,c)};a.on("SetContent",function(a){a.selection&&x(b,c)});a._hasCaretEvents=!0}};return{applyCaretFormat:function(a,b,c){var f,n,l,g=a.dom,m=a.selection;a._hasCaretEvents||(A(a),a._hasCaretEvents=!0);var w=m.getRng(!0);var y=w.startOffset;var p=w.startContainer.nodeValue;(f=z(m.getStart()))&&(n=k(f));var t=/[^\s\u00a0\u00ad\u200b\ufeff]/;
p&&0<y&&y<p.length&&t.test(p.charAt(y))&&t.test(p.charAt(y-1))?(l=m.getBookmark(),w.collapse(!0),w=d.expandRng(a,w,a.formatter.get(b)),w=(new e(g)).split(w),a.formatter.apply(b,c,w),m.moveToBookmark(l)):(f&&n.nodeValue===q?a.formatter.apply(b,c,f):(f=u(g,!0),n=f.firstChild,w.insertNode(f),y=1,a.formatter.apply(b,c,f)),m.setCursorLocation(n,y))},removeCaretFormat:function(b,c,f,k){var l,g=b.dom,m=b.selection,w=m.getRng(!0),y=[];b._hasCaretEvents||(A(b),b._hasCaretEvents=!0);var p=w.startContainer;
var h=w.startOffset;var r=p;for(3===p.nodeType&&(h!==p.nodeValue.length&&(l=!0),r=r.parentNode);r;){if(a.matchNode(b,r,c,f,k)){var q=r;break}r.nextSibling&&(l=!0);y.push(r);r=r.parentNode}q&&(l?(q=m.getBookmark(),w.collapse(!0),w=d.expandRng(b,w,b.formatter.get(c),!0),w=(new e(g)).split(w),b.formatter.remove(c,f,w),m.moveToBookmark(q)):(c=z(q),f=u(g,!1),y=D(y,f),c?n(b,f,c):n(b,f,q),t(g,m,c,!1),m.setCursorLocation(y,1),g.isEmpty(q)&&g.remove(q)))},isCaretNode:function(a){return 1===a.nodeType&&"_mce_caret"===
a.id}}});v("4m",["1q","1t","d"],function(h,g,f){var e={},b=h.filter,d=h.each;return function(b,a){e[b]||(e[b]=[]);e[b].push(a)}("pre",function(c){function a(a){return r(a.previousSibling)&&-1!==h.indexOf(e,a.previousSibling)}var e,l=c.selection.getRng();var r=g.matchNodeNames("pre");l.collapsed||(e=c.selection.getSelectedBlocks(),d(b(b(e,r),a),function(a){var b=a.previousSibling;f(a).remove();f(b).append("<br><br>").append(a.childNodes)}))}),{postProcess:function(b,a){d(e[b],function(b){b(a)})}}});
v("5b",["u","c"],function(h,g){var f=g.each;return function(e){this.compare=function(b,d){function c(a){var b={};return f(e.getAttribs(a),function(c){c=c.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(b[c]=e.getAttrib(a,c))}),b}function a(a,b){var c,d;for(d in a)if(a.hasOwnProperty(d)){if((c=b[d],"undefined"==typeof c)||a[d]!=c)return!1;delete b[d]}for(d in b)if(b.hasOwnProperty(d))return!1;return!0}return b.nodeName==d.nodeName&&!!a(c(b),c(d))&&!!a(e.parseStyle(e.getAttrib(b,
"style")),e.parseStyle(e.getAttrib(d,"style")))&&!h.isBookmarkNode(b)&&!h.isBookmarkNode(d)}}});v("1n","1 u k f 4j 4k 4l 1l c".split(" "),function(h,g,f,e,b,d,c,a,m){var l=/^(src|href|style)$/,r=m.each,q=c.isEq,p=function(a,b,c){var d,f,k;return d=b[c?"startContainer":"endContainer"],f=b[c?"startOffset":"endOffset"],1===d.nodeType&&(k=d.childNodes.length-1,!c&&f&&f--,d=d.childNodes[f>k?k:f]),3===d.nodeType&&c&&f>=d.nodeValue.length&&(d=(new e(d,a.getBody())).next()||d),3!==d.nodeType||c||0!==f||(d=
(new e(d,a.getBody())).prev()||d),d},k=function(a,b,c,d){a=a.create(c,d);return b.parentNode.insertBefore(a,b),a.appendChild(b),a},u=function(a,b,c){return!!q(b,c.inline)||!!q(b,c.block)||(c.selector?1===b.nodeType&&a.is(b,c.selector):void 0)},z=function(a,b,d,e){return b=c.getNonWhiteSpaceSibling(b,d,e),!b||"BR"===b.nodeName||a.isBlock(b)},x=function(a,b,d){var e,f=b.parentNode,n=a.dom,l=a.settings.forced_root_block;d.block&&(l?f===n.getRoot()&&(d.list_block&&q(b,d.list_block)||r(m.grep(b.childNodes),
function(b){c.isValid(a,l,b.nodeName.toLowerCase())?e?e.appendChild(b):(e=k(n,b,l),n.setAttribs(e,a.settings.forced_root_block_attrs)):e=0})):n.isBlock(b)&&!n.isBlock(f)&&(z(n,b,!1)||z(n,b.firstChild,!0,1)||b.insertBefore(n.create("br"),b.firstChild),z(n,b,!0)||z(n,b.lastChild,!1,1)||b.appendChild(n.create("br"))));d.selector&&d.inline&&!q(d.inline,b)||n.remove(b,1)},t=function(a,b,d,e,f){var k,n,g=a.dom;if(!(u(g,e,b)||b.links&&"A"===e.tagName))return!1;if("all"!==b.remove){r(b.styles,function(a,
k){a=c.normalizeStyleValue(g,c.replaceVars(a,d),k);"number"==typeof k&&(k=a,f=0);(b.remove_similar||!f||q(c.getStyle(g,f,k),a))&&g.setStyle(e,k,"");n=1});n&&""===g.getAttrib(e,"style")&&(e.removeAttribute("style"),e.removeAttribute("data-mce-style"));r(b.attributes,function(a,b){var k;if(a=c.replaceVars(a,d),"number"==typeof b&&(b=a,f=0),!f||q(g.getAttrib(f,b),a)){if("class"===b&&(a=g.getAttrib(e,b),a&&(k="",r(a.split(/\s+/),function(a){/mce\-\w+/.test(a)&&(k+=(k?" ":"")+a)}),k)))return void g.setAttrib(e,
b,k);"class"===b&&e.removeAttribute("className");l.test(b)&&e.removeAttribute("data-mce-"+b);e.removeAttribute(b)}});r(b.classes,function(a){a=c.replaceVars(a,d);f&&!g.hasClass(f,a)||g.removeClass(e,a)});var m=g.getAttribs(e);for(k=0;k<m.length;k++){var w=m[k].nodeName;if(0!==w.indexOf("_")&&0!==w.indexOf("data-"))return!1}}return"none"!==b.remove?(x(a,e,b),!0):void 0},w=function(b,d,e,f,k){var n;return r(c.getParents(b.dom,d.parentNode).reverse(),function(c){var d;n||"_start"===c.id||"_end"===c.id||
(d=a.matchNode(b,c,e,f,k),d&&!1!==d.split&&(n=c))}),n};return{removeFormat:t,remove:function(e,l,h,u,q){var n,y,B=e.formatter.get(l),A=B[0],D=!0,x=e.dom,z=e.selection,N=function(a){var b=w(e,a,l,h,q),c=a,d,f,k,n,g=e.dom;if(b){var m=b.parentNode;for(d=c.parentNode;d&&d!==m;d=d.parentNode){var p=g.clone(d,!1);for(n=0;n<B.length;n++)if(t(e,B[n],h,p,p)){p=0;break}p&&(f&&p.appendChild(f),k||(k=p),f=p)}A.mixed&&g.isBlock(b)||(c=g.split(b,c));f&&(a.parentNode.insertBefore(f,a),k.appendChild(a))}return c},
v=function(a){var b,c,d,f;if(1===a.nodeType&&x.getContentEditable(a)&&(d=D,D="true"===x.getContentEditable(a),f=!0),b=m.grep(a.childNodes),D&&!f){var k=0;for(c=B.length;k<c&&!t(e,B[k],h,a,a);k++);}if(A.deep&&b.length){k=0;for(c=b.length;k<c;k++)v(b[k]);f&&(D=d)}},U=function(a){var b=x.get(a?"_start":"_end"),c=b[a?"firstChild":"lastChild"];return g.isBookmarkNode(c)&&(c=c[a?"firstChild":"lastChild"]),3===c.nodeType&&0===c.data.length&&(c=a?b.previousSibling||b.nextSibling:b.nextSibling||b.previousSibling),
x.remove(b,!0),c},I=function(a){var b,n,l=a.commonAncestorContainer;if(a=d.expandRng(e,a,B,!0),A.split){if(b=p(e,a,!0),n=p(e,a),b!==n){if(/^(TR|TH|TD)$/.test(b.nodeName)&&b.firstChild&&(b="TR"===b.nodeName?b.firstChild.firstChild||b:b.firstChild||b),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n=n.firstChild||n),x.isChildOf(b,n)&&!x.isBlock(n)&&!/^(TH|TD)$/.test(b.nodeName)&&!/^(TH|TD)$/.test(n.nodeName))return b=k(x,b,"span",{id:"_start","data-mce-type":"bookmark"}),
N(b),void(b=U(!0));b=k(x,b,"span",{id:"_start","data-mce-type":"bookmark"});n=k(x,n,"span",{id:"_end","data-mce-type":"bookmark"});N(b);N(n);b=U(!0);n=U()}else b=n=N(b);a.startContainer=b.parentNode?b.parentNode:b;a.startOffset=x.nodeIndex(b);a.endContainer=n.parentNode?n.parentNode:n;a.endOffset=x.nodeIndex(n)+1}(new f(x)).walk(a,function(a){r(a,function(a){v(a);1===a.nodeType&&"underline"===e.dom.getStyle(a,"text-decoration")&&a.parentNode&&"underline"===c.getTextDecoration(x,a.parentNode)&&t(e,
{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,a)})})};if(u)return void(u.nodeType?(y=x.createRng(),y.setStartBefore(u),y.setEndAfter(u),I(y)):I(u));if("false"!==x.getContentEditable(z.getNode()))z.isCollapsed()&&A.inline&&!x.select("td[data-mce-selected],th[data-mce-selected]").length?b.removeCaretFormat(e,l,h,q):(n=z.getBookmark(),I(z.getRng(!0)),z.moveToBookmark(n),A.inline&&a.match(e,l,h,z.getStart())&&c.moveStart(x,z,z.getRng(!0)),e.nodeChanged());else for(u=z.getNode(),
n=0,y=B.length;n<y&&(!B[n].ceFalseOverride||!t(e,B[n],h,u,u));n++);}}});v("4n","1 u 5b 1t 4j 4l 1l 1n c".split(" "),function(h,g,f,e,b,d,c,a,m){var l=m.each,r=function(a){return a&&1===a.nodeType&&!g.isBookmarkNode(a)&&!b.isCaretNode(a)&&!e.isBogus(a)},q=function(a,b){var c;for(c=a;c&&(3!==c.nodeType||0===c.nodeValue.length);c=c[b])if(1===c.nodeType&&!g.isBookmarkNode(c))return c;return a},p=function(a,b,c){var d=new f(a);if(b&&c&&(b=q(b,"previousSibling"),c=q(c,"nextSibling"),d.compare(b,c))){for(d=
b.nextSibling;d&&d!==c;){var e=d;d=d.nextSibling;b.appendChild(e)}return a.remove(c),m.each(m.grep(c.childNodes),function(a){b.appendChild(a)}),b}return c},k=function(a,b,c){l(a.childNodes,function(a){r(a)&&(b(a)&&c(a),a.hasChildNodes()&&k(a,b,c))})},u=function(a,b){return h.curry(function(b,c){return!(!c||!d.getStyle(a,c,b))},b)},z=function(a,b,c){return h.curry(function(b,c,d){a.setStyle(d,b,c);""===d.getAttribute("style")&&d.removeAttribute("style");"SPAN"===d.nodeName&&0===a.getAttribs(d).length&&
a.remove(d,!0)},b,c)},x=function(a,b){var c;1===b.nodeType&&b.parentNode&&1===b.parentNode.nodeType&&(c=d.getTextDecoration(a,b.parentNode),a.getStyle(b,"color")&&c?a.setStyle(b,"text-decoration",c):a.getStyle(b,"text-decoration")===c&&a.setStyle(b,"text-decoration",null))},t=function(a,b,c){b.clear_child_styles&&l(a.select(b.links?"*:not(a)":"*",c),function(c){r(c)&&l(b.styles,function(b,d){a.setStyle(c,d,"")})})};return{mergeWithChildren:function(b,c,d,e){l(c,function(c){l(b.dom.select(c.inline,
e),function(e){r(e)&&a.removeFormat(b,c,d,e,c.exact?e:null)});t(b.dom,c,e)})},mergeUnderlineAndColor:function(a,b,c,d){(b.styles.color||b.styles.textDecoration)&&(m.walk(d,h.curry(x,a),"childNodes"),x(a,d))},mergeBackgroundColorAndFontSize:function(a,b,c,e){b.styles&&b.styles.backgroundColor&&k(e,u(a,"fontSize"),z(a,"backgroundColor",d.replaceVars(b.styles.backgroundColor,c)))},mergeSubSup:function(a,b,c,d){"sub"!==b.inline&&"sup"!==b.inline||(k(d,u(a,"fontSize"),z(a,"fontSize","")),a.remove(a.select("sup"===
b.inline?"sub":"sup",d),!0))},mergeSiblings:function(a,b,c,e){e&&!1!==b.merge_siblings&&(e=p(a,d.getNonWhiteSpaceSibling(e),e),p(a,e,d.getNonWhiteSpaceSibling(e,!0)))},mergeWithParents:function(b,d,e,f,k){c.matchNode(b,k.parentNode,e,f)&&a.removeFormat(b,d,f,k)||d.merge_with_parents&&b.dom.getParent(k.parentNode,function(n){if(c.matchNode(b,n,e,f))return a.removeFormat(b,d,f,k),!0})}}});v("1i","u 1t 4i k 4j 4k 4l 4m 1l 4n c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r){var q=r.each,p=function(k,u,z,
x){var t,w=k.formatter.get(u),n=w[0],y=!x&&k.selection.isCollapsed(),D=k.dom,A=k.selection,B=function(a,b){if(b=b||n,a){if(b.onformat&&b.onformat(a,b,z,x),q(b.styles,function(b,d){D.setStyle(a,d,c.replaceVars(b,z))}),b.styles){var d=D.getAttrib(a,"style");d&&a.setAttribute("data-mce-style",d)}q(b.attributes,function(b,d){D.setAttrib(a,d,c.replaceVars(b,z))});q(b.classes,function(b){b=c.replaceVars(b,z);D.hasClass(a,b)||D.addClass(a,b)})}},C=function(a,c){var d=!1;return!!n.selector&&(q(a,function(a){if(!("collapsed"in
a&&a.collapsed!==y))return D.is(c,a.selector)&&!b.isCaretNode(c)?(B(c,a),d=!0,!1):void 0}),d)},H=function(a,d,f,p){var t=[],y=!0;var A=n.inline||n.block;var x=a.create(A);B(x);(new e(a)).walk(d,function(d){var e,f=function(d){var l,g,h,D;if(D=y,l=d.nodeName.toLowerCase(),g=d.parentNode.nodeName.toLowerCase(),1===d.nodeType&&a.getContentEditable(d)&&(D=y,y="true"===a.getContentEditable(d),h=!0),c.isEq(l,"br"))return e=0,void(n.block&&a.remove(d));if(n.wrapper&&m.matchNode(k,d,u,z))return void(e=0);
if(y&&!h&&n.block&&!n.wrapper&&c.isTextBlock(k,l)&&c.isValid(k,g,A))return d=a.rename(d,A),B(d),t.push(d),void(e=0);if(n.selector){var H=C(w,d);if(!n.inline||H)return void(e=0)}!y||h||!c.isValid(k,A,l)||!c.isValid(k,g,A)||!p&&3===d.nodeType&&1===d.nodeValue.length&&65279===d.nodeValue.charCodeAt(0)||b.isCaretNode(d)||n.inline&&a.isBlock(d)?(e=0,q(r.grep(d.childNodes),f),h&&(y=D),e=0):(e||(e=a.clone(x,!1),d.parentNode.insertBefore(e,d),t.push(e)),e.appendChild(d))};q(d,f)});!0===n.links&&q(t,function(a){var b=
function(a){"A"===a.nodeName&&B(a,n);q(r.grep(a.childNodes),b)};b(a)});q(t,function(d){var e,f=function(a){var c=!1;return q(a.childNodes,function(a){if(a&&1===a.nodeType&&!h.isBookmarkNode(a)&&!b.isCaretNode(a)&&!g.isBogus(a))return c=a,!1}),c},p=function(b){var c,d;return c=f(b),c&&!h.isBookmarkNode(c)&&m.matchName(a,c,n)&&(d=a.clone(c,!1),B(d),a.replace(d,b,!0),a.remove(c,1)),d||b};return e=function(a){var b=0;return q(a.childNodes,function(a){c.isWhiteSpaceNode(a)||h.isBookmarkNode(a)||b++}),
b}(d),(1<t.length||!a.isBlock(d))&&0===e?void a.remove(d,1):void((n.inline||n.wrapper)&&(n.exact||1!==e||(d=p(d)),l.mergeWithChildren(k,w,z,d),l.mergeWithParents(k,n,u,z,d),l.mergeBackgroundColorAndFontSize(a,n,z,d),l.mergeSubSup(a,n,z,d),l.mergeSiblings(a,n,z,d)))})};if("false"!==D.getContentEditable(A.getNode())){if(n){if(x)x.nodeType?C(w,x)||(t=D.createRng(),t.setStartBefore(x),t.setEndAfter(x),H(D,d.expandRng(k,t,w),null,!0)):H(D,x,null,!0);else if(y&&n.inline&&!D.select("td[data-mce-selected],th[data-mce-selected]").length)b.applyCaretFormat(k,
u,z);else{var F=k.selection.getNode();k.settings.forced_root_block||!w[0].defaultBlock||D.getParent(F,D.isBlock)||p(k,w[0].defaultBlock);k.selection.setRng(f.normalize(k.selection.getRng()));t=A.getBookmark();H(D,d.expandRng(k,A.getRng(!0),w),t);n.styles&&l.mergeUnderlineAndColor(D,n,z,F);A.moveToBookmark(t);c.moveStart(D,A,A.getRng(!0));k.nodeChanged()}a.postProcess(u,k)}}else for(x=A.getNode(),A=0,H=w.length;A<H;A++)if(w[A].ceFalseOverride&&D.is(x,w[A].selector))return void B(x,w[A])};return{applyFormat:p}});
v("1j",["1h","4l","1l","c"],function(h,g,f,e){var b=e.each,d=function(a,c){var d={};a.set({});c.on("NodeChange",function(l){var m=g.getParents(c.dom,l.element),p={};m=e.grep(m,function(a){return 1===a.nodeType&&!a.getAttribute("data-mce-bogus")});b(a.get(),function(a,e){b(m,function(k){return c.formatter.matchNode(k,e,{},a.similar)?(d[e]||(b(a,function(a){a(!0,{node:k,format:e,parents:m})}),d[e]=a),p[e]=a,!1):!f.matchesUnInheritedFormatSelector(c,k,e)&&void 0})});b(d,function(a,c){p[c]||(delete d[c],
b(a,function(a){a(!1,{node:l.element,format:c,parents:m})}))})})},c=function(a,c,d,e){var f=a.get();b(c.split(","),function(a){f[a]||(f[a]=[],f[a].similar=e);f[a].push(d)});a.set(f)};return{formatChanged:function(a,b,e,f,g){null===b.get()&&d(b,a);c(b,e,f,g)}}});v("4o",["c"],function(h){return{get:function(g){var f={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],
alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},
{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",
styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},
clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,b,d){h.each(d,function(b,a){g.setAttrib(e,a,b)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return h.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){f[e]={block:e,remove:"all"}}),f}}});v("1k",["4o","c"],function(h,g){return function(f){var e={},b=function(d,c){d&&("string"!=typeof d?g.each(d,function(a,c){b(c,a)}):(c=c.length?c:[c],g.each(c,
function(a){"undefined"==typeof a.deep&&(a.deep=!a.selector);"undefined"==typeof a.split&&(a.split=!a.selector||a.inline);"undefined"==typeof a.remove&&a.selector&&!a.inline&&(a.remove="none");a.selector&&a.inline&&(a.mixed=!0,a.block_expand=!0);"string"==typeof a.classes&&(a.classes=a.classes.split(/\s+/))}),e[d]=c))};return b(h.get(f.dom)),b(f.settings.formats),{get:function(b){return b?e[b]:e},register:b,unregister:function(b){return b&&e[b]&&delete e[b],e}}}});v("1m",["h","c","m"],function(h,
g,f){function e(b,c){function d(b){m="string"==typeof b?{name:b,classes:[],attrs:{}}:b;b=a.create(m.name);var c=m;c.classes.length&&a.addClass(b,c.classes.join(" "));a.setAttribs(b,c.attrs);return b}function e(a,b){var c="string"!=typeof a?a.nodeName.toLowerCase():a;c=(c=x.getElementRule(c))&&c.parentsRequired;return!(!c||!c.length)&&(b&&-1!==g.inArray(c,b)?b:c[0])}function l(b,c,f){var k,n,m,w=0<c.length&&c[0],p=w&&w.name;if(m=e(b,p))p===m?(n=c[0],c=c.slice(1)):n=m;else if(w)n=c[0],c=c.slice(1);
else if(!f)return b;return n&&(k=d(n),k.appendChild(b)),f&&(k||(k=a.create("div"),k.appendChild(b)),g.each(f,function(a){a=d(a);k.insertBefore(a,b)})),l(k,c,n&&n.siblings)}var k,m,h,x=c&&c.schema||new f({});return b&&b.length?(m=b[0],k=d(m),h=a.create("div"),h.appendChild(l(k,b.slice(1),m.siblings)),h):""}function b(a){var b,c={classes:[],attrs:{}};return a=c.selector=g.trim(a),"*"!==a&&(b=a.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,b,d,e,f){switch(b){case "#":c.attrs.id=d;break;
case ".":c.classes.push(d);break;case ":":-1!==g.inArray(["checked","disabled","enabled","read-only","required"],d)&&(c.attrs[d]=d)}"["===e&&(a=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(c.attrs[a[1]]=a[2]);return""})),c.name=b||"div",c}function d(a){return a&&"string"==typeof a?(a=a.split(/\s*,\s*/)[0],a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),g.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(a){a=g.map(a.split(/(?:~\+|~|\+)/),b);var c=a.pop();return a.length&&(c.siblings=a),c}).reverse()):[]}var c=
g.each,a=h.DOM;return{getCssText:function(b,f){var l,g,m,k,h,z,x="";if(z=b.settings.preview_styles,!1===z)return"";if("string"!=typeof z&&(z="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof f){if(f=b.formatter.get(f),!f)return;f=f[0]}return"preview"in f&&(z=f.preview,!1===z)?"":(l=f.block||f.inline||"span",k=d(f.selector),k.length?(k[0].name||(k[0].name=l),l=f.selector,g=e(k,b)):g=e([l],
b),m=a.select(l,g)[0]||g.firstChild,c(f.styles,function(b,c){(b=b.replace(/%(\w+)/g,""))&&a.setStyle(m,c,b)}),c(f.attributes,function(b,c){(b=b.replace(/%(\w+)/g,""))&&a.setAttrib(m,c,b)}),c(f.classes,function(b){b=b.replace(/%(\w+)/g,"");a.hasClass(m,b)||a.addClass(m,b)}),b.fire("PreviewFormats"),a.setStyles(g,{position:"absolute",left:-65535}),b.getBody().appendChild(g),h=a.getStyle(b.getBody(),"fontSize",!0),h=/px$/.test(h)?parseInt(h,10):0,c(z.split(" "),function(c){var d=a.getStyle(m,c,!0);if(!("background-color"===
c&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(d)&&(d=a.getStyle(b.getBody(),c,!0),"#ffffff"===a.toHex(d).toLowerCase())||"color"===c&&"#000000"===a.toHex(d).toLowerCase())){if("font-size"===c&&/em|%$/.test(d)){if(0===h)return;d=parseFloat(d,10)/(/%$/.test(d)?100:1);d=d*h+"px"}"border"===c&&d&&(x+="padding:0 2px;");x+=c+":"+d+";"}}),b.fire("AfterPreviewFormats"),a.remove(g),x)},parseSelector:d,selectorToHtml:function(a,b){return e(d(a),b)}}});v("1o",["1i","1l","1n"],function(h,g,f){return{toggle:function(e,
b,d,c,a){b=b.get(d);!g.match(e,d,c,a)||"toggle"in b[0]&&!b[0].toggle?h.applyFormat(e,d,c,a):f.remove(e,d,c,a)}}});v("1p",[],function(){return{setup:function(h){h.addShortcut("meta+b","","Bold");h.addShortcut("meta+i","","Italic");h.addShortcut("meta+u","","Underline");for(var g=1;6>=g;g++)h.addShortcut("access+"+g,"",["FormatBlock",!1,"h"+g]);h.addShortcut("access+7","",["FormatBlock",!1,"p"]);h.addShortcut("access+8","",["FormatBlock",!1,"div"]);h.addShortcut("access+9","",["FormatBlock",!1,"address"])}}});
v("5","1h 1 1i 1j 1k 1l 1m 1n 1o 1p".split(" "),function(h,g,f,e,b,d,c,a,m,l){return function(r){var q=b(r),p=h(null);return l.setup(r),{get:q.get,register:q.register,unregister:q.unregister,apply:g.curry(f.applyFormat,r),remove:g.curry(a.remove,r),toggle:g.curry(m.toggle,r,q),match:g.curry(d.match,r),matchAll:g.curry(d.matchAll,r),matchNode:g.curry(d.matchNode,r),canApply:g.curry(d.canApply,r),formatChanged:g.curry(e.formatChanged,r,p),getCssText:g.curry(c.getCssText,r)}}});v("6",[],function(){function h(d,
c,a){var e,f,h,q,p,k;return e=c.x,f=c.y,h=d.w,q=d.h,p=c.w,k=c.h,a=(a||"").split(""),"b"===a[0]&&(f+=k),"r"===a[1]&&(e+=p),"c"===a[0]&&(f+=b(k/2)),"c"===a[1]&&(e+=b(p/2)),"b"===a[3]&&(f-=q),"r"===a[4]&&(e-=h),"c"===a[3]&&(f-=b(q/2)),"c"===a[4]&&(e-=b(h/2)),g(e,f,h,q)}function g(b,c,a,e){return{x:b,y:c,w:a,h:e}}var f=Math.min,e=Math.max,b=Math.round;return{inflate:function(b,c,a){return g(b.x-c,b.y-a,b.w+2*c,b.h+2*a)},relativePosition:h,findBestRelativePosition:function(b,c,a,e){var d,f;for(f=0;f<e.length;f++)if(d=
h(b,c,e[f]),d.x>=a.x&&d.x+d.w<=a.w+a.x&&d.y>=a.y&&d.y+d.h<=a.h+a.y)return e[f];return null},intersect:function(b,c){var a,d,l,h;return a=e(b.x,c.x),d=e(b.y,c.y),l=f(b.x+b.w,c.x+c.w),h=f(b.y+b.h,c.y+c.h),0>l-a||0>h-d?null:g(a,d,l-a,h-d)},clamp:function(b,c,a){var d,f,h,q,p,k,u,z,x,t;return p=b.x,k=b.y,u=b.x+b.w,z=b.y+b.h,x=c.x+c.w,t=c.y+c.h,d=e(0,c.x-p),f=e(0,c.y-k),h=e(0,u-x),q=e(0,z-t),p+=d,k+=f,a&&(u+=d,z+=f,p-=h,k-=q),u-=h,z-=q,g(p,k,u-p,z-k)},create:g,fromClientRect:function(b){return g(b.left,
b.top,b.width,b.height)}}});v("i",["h","c"],function(h,g){function f(){function a(a,b,d){function f(){k.remove(l);n&&(n.onreadystatechange=n.onload=n=null);b()}var k=e;var l=k.uniqueId();var n=document.createElement("script");n.id=l;n.type="text/javascript";n.src=g._addCacheSuffix(a);"onreadystatechange"in n?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&f()}:n.onload=f;n.onerror=function(){c(d)?d():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+
a)};(document.getElementsByTagName("head")[0]||document.body).appendChild(n)}var f={},l=[],h={},q=[],p=0;this.isDone=function(a){return 2==f[a]};this.markDone=function(a){f[a]=2};this.add=this.load=function(a,b,c,d){void 0==f[a]&&(l.push(a),f[a]=0);b&&(h[a]||(h[a]=[]),h[a].push({success:b,failure:d,scope:c||this}))};this.remove=function(a){delete f[a];delete h[a]};this.loadQueue=function(a,b,c){this.loadScripts(l,a,b,c)};this.loadScripts=function(e,l,g,m){function k(a,d){b(h[d],function(b){c(b[a])&&
b[a].call(b.scope)});h[d]=void 0}var w,n=[];q.push({success:l,failure:m,scope:g||this});(w=function(){var l=d(e);e.length=0;b(l,function(b){return 2===f[b]?void k("success",b):3===f[b]?void k("failure",b):void(1!==f[b]&&(f[b]=1,p++,a(b,function(){f[b]=2;p--;k("success",b);w()},function(){f[b]=3;p--;n.push(b);k("failure",b);w()})))});p||(b(q,function(a){0===n.length?c(a.success)&&a.success.call(a.scope):c(a.failure)&&a.failure.call(a.scope,n)}),q.length=0)})()}}var e=h.DOM,b=g.each,d=g.grep,c=function(a){return"function"==
typeof a};return f.ScriptLoader=new f,f});v("j",["i","c"],function(h,g){function f(){this.items=[];this.urls={};this.lookup={}}var e=g.each;return f.prototype={get:function(b){if(this.lookup[b])return this.lookup[b].instance},dependencies:function(b){var d;return this.lookup[b]&&(d=this.lookup[b].dependencies),d||[]},requireLangPack:function(b,d){var c=f.language;if(c&&!1!==f.languageLoad){if(d)if(d=","+d+",",-1!=d.indexOf(","+c.substr(0,2)+","))c=c.substr(0,2);else if(-1==d.indexOf(","+c+","))return;
h.ScriptLoader.add(this.urls[b]+"/langs/"+c+".js")}},add:function(b,d,c){return this.items.push(d),this.lookup[b]={instance:d,dependencies:c},d},remove:function(b){delete this.urls[b];delete this.lookup[b]},createUrl:function(b,d){return"object"==typeof d?d:{prefix:b.prefix,resource:d,suffix:b.suffix}},addComponents:function(b,d){var c=this.urls[b];e(d,function(a){h.ScriptLoader.add(c+"/"+a)})},load:function(b,d,c,a,g){function l(){var f=m.dependencies(b);e(f,function(a){a=m.createUrl(d,a);m.load(a.resource,
a,void 0,void 0)});c&&(a?c.call(a):c.call(h))}var m=this,q=d;m.urls[b]||("object"==typeof d&&(q=d.prefix+d.resource+d.suffix),0!==q.indexOf("/")&&-1==q.indexOf("://")&&(q=f.baseURL+"/"+q),m.urls[b]=q.substring(0,q.lastIndexOf("/")),m.lookup[b]?l():h.ScriptLoader.add(q,l,a,g))}},f.PluginManager=new f,f.ThemeManager=new f,f});v("l",[],function(){function h(b,d,c){var a=c?"lastChild":"firstChild";c=c?"prev":"next";if(b[a])return b[a];if(b!==d){if(a=b[c])return a;for(b=b.parent;b&&b!==d;b=b.parent)if(a=
b[c])return a}}function g(b,d){this.name=b;this.type=d;1===d&&(this.attributes=[],this.attributes.map={})}var f=/^[ \t\r\n]*$/,e={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return g.prototype={replace:function(b){return b.parent&&b.remove(),this.insert(b,this),this.remove(),this},attr:function(b,d){var c,a;if("string"!=typeof b){for(a in b)this.attr(a,b[a]);return this}if(c=this.attributes){if(void 0!==d){if(null===d){if(b in c.map)for(delete c.map[b],a=c.length;a--;)if(c[a].name===
b)return c.splice(a,1),this;return this}if(b in c.map)for(a=c.length;a--;){if(c[a].name===b){c[a].value=d;break}}else c.push({name:b,value:d});return c.map[b]=d,this}return c.map[b]}},clone:function(){var b,d,c=new g(this.name,this.type);if(d=this.attributes){var a=[];a.map={};var e=0;for(b=d.length;e<b;e++){var f=d[e];"id"!==f.name&&(a[a.length]={name:f.name,value:f.value},a.map[f.name]=f.value)}c.attributes=a}return c.value=this.value,c.shortEnded=this.shortEnded,c},wrap:function(b){return this.parent.insert(b,
this),b.append(this),this},unwrap:function(){var b;for(b=this.firstChild;b;){var d=b.next;this.insert(b,this,!0);b=d}this.remove()},remove:function(){var b=this.parent,d=this.next,c=this.prev;return b&&(b.firstChild===this?(b.firstChild=d,d&&(d.prev=null)):c.next=d,b.lastChild===this?(b.lastChild=c,c&&(c.next=null)):d.prev=c,this.parent=this.next=this.prev=null),this},append:function(b){var d;return b.parent&&b.remove(),d=this.lastChild,d?(d.next=b,b.prev=d,this.lastChild=b):this.lastChild=this.firstChild=
b,b.parent=this,b},insert:function(b,d,c){var a;return b.parent&&b.remove(),a=d.parent||this,c?(d===a.firstChild?a.firstChild=b:d.prev.next=b,b.prev=d.prev,b.next=d,d.prev=b):(d===a.lastChild?a.lastChild=b:d.next.prev=b,b.next=d.next,b.prev=d,d.next=b),b.parent=a,b},getAll:function(b){var d,c=[];for(d=this.firstChild;d;d=h(d,this))d.name===b&&c.push(d);return c},empty:function(){var b,d;if(this.firstChild){var c=[];for(d=this.firstChild;d;d=h(d,this))c.push(d);for(b=c.length;b--;)d=c[b],d.parent=
d.firstChild=d.lastChild=d.next=d.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(b,d){var c,a,e=this.firstChild;if(d=d||{},e){do{if(1===e.type){if(e.attributes.map["data-mce-bogus"])continue;if(b[e.name])return!1;for(c=e.attributes.length;c--;)if(a=e.attributes[c].name,"name"===a||0===a.indexOf("data-mce-bookmark"))return!1}if(8===e.type||3===e.type&&!f.test(e.value)||3===e.type&&e.parent&&d[e.parent.name]&&f.test(e.value))return!1}while(e=h(e,this))}return!0},walk:function(b){return h(this,
null,b)}},g.create=function(b,d){var c,a;if(c=new g(b,e[b]||1),d)for(a in d)c.attr(a,d[a]);return c},g});v("n",["m","g","c"],function(h,g,f){function e(b,a,d){var c,e=1;var f=b.getShortEndedElements();b=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(b.lastIndex=d;c=b.exec(a);){if(d=b.lastIndex,"/"===c[1])e--;else if(!c[1]){if(c[2]in f)continue;e++}if(0===e)break}return d}function b(b,a){function c(){}var l=this;b=b||{};l.schema=a=a||new h;!1!==
b.fix_self_closing&&(b.fix_self_closing=!0);d("comment cdata text start end pi doctype".split(" "),function(a){a&&(l[a]=b[a]||c)});l.parse=function(c){function d(a){var b,c;for(b=N.length;b--&&N[b].name!==a;);if(0<=b){for(c=N.length-1;c>=b;c--)a=N[c],a.valid&&G.end(a.name);N.length=b}}function l(a,c,d,e,f){var k;a=/[\s\u0000-\u001F]+/g;c=c.toLowerCase();d=c in L?c:U(d||e||f||"");if(e=R&&!w)e=c,e=!1===(0===e.indexOf("data-")||0===e.indexOf("aria-"));if(e){if(k=A[c],!k&&B){for(e=B.length;e--&&(k=B[e],
!k.pattern.test(c)););-1===e&&(k=null)}if(!k||k.validValues&&!(d in k.validValues))return}if(I[c]&&!b.allow_script_urls){k=d.replace(a,"");try{k=decodeURIComponent(k)}catch(na){k=unescape(k)}if(S.test(k)||!b.allow_html_data_urls&&P.test(k)&&!/^data:image\//i.test(k))return}w&&(c in I||0===c.indexOf("on"))||(r.map[c]=d,r.push({name:c,value:d}))}var k,m,h,r,t,w,n,y,D,A,B,C,H,F,E,J,G=this;var v=0;var N=[],K=0,U=g.decode,I=f.makeMap("src,href,data,background,formaction,poster"),S=/((java|vb)script|mhtml):/i,
P=/^data:/i;var X=RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g");var aa=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;var W=a.getShortEndedElements();var Q=b.self_closing_elements||a.getSelfClosingElements();var L=a.getBoolAttrs();
var R=b.validate;var V=b.remove_internals;var T=b.fix_self_closing;var ba=a.getSpecialElements();for(E=c+">";k=X.exec(E);){if(v<k.index&&G.text(U(c.substr(v,k.index-v))),m=k[6])m=m.toLowerCase(),":"===m.charAt(0)&&(m=m.substr(1)),d(m);else if(m=k[7]){if(k.index+k[0].length>c.length){G.text(U(c.substr(k.index)));v=k.index+k[0].length;continue}if(m=m.toLowerCase(),":"===m.charAt(0)&&(m=m.substr(1)),v=m in W,T&&Q[m]&&0<N.length&&N[N.length-1].name===m&&d(m),!R||(n=a.getElementRule(m))){if(y=!0,R&&(A=
n.attributes,B=n.attributePatterns),(D=k[8])?(w=-1!==D.indexOf("data-mce-type"),w&&V&&(y=!1),r=[],r.map={},D.replace(aa,l)):(r=[],r.map={}),R&&!w){if(C=n.attributesRequired,H=n.attributesDefault,F=n.attributesForced,J=n.removeEmptyAttrs,J&&!r.length&&(y=!1),F)for(h=F.length;h--;){var Y=F[h];var ea=Y.name;var ca=Y.value;"{$uid}"===ca&&(ca="mce_"+K++);r.map[ea]=ca;r.push({name:ea,value:ca})}if(H)for(h=H.length;h--;)Y=H[h],ea=Y.name,ea in r.map||(ca=Y.value,"{$uid}"===ca&&(ca="mce_"+K++),r.map[ea]=ca,
r.push({name:ea,value:ca}));if(C){for(h=C.length;h--&&!(C[h]in r.map););-1===h&&(y=!1)}if(Y=r.map["data-mce-bogus"]){if("all"===Y){v=e(a,c,X.lastIndex);X.lastIndex=v;continue}y=!1}}y&&G.start(m,r,v)}else y=!1;if(h=ba[m]){h.lastIndex=v=k.index+k[0].length;(k=h.exec(c))?(y&&(t=c.substr(v,k.index-v)),v=k.index+k[0].length):(t=c.substr(v),v=c.length);y&&(0<t.length&&G.text(t,!0),G.end(m));X.lastIndex=v;continue}v||(D&&D.indexOf("/")==D.length-1?y&&G.end(m):N.push({name:m,valid:y}))}else(m=k[1])?(">"===
m.charAt(0)&&(m=" "+m),b.allow_conditional_comments||"[if"!==m.substr(0,3).toLowerCase()||(m=" "+m),G.comment(m)):(m=k[2])?G.cdata(m.replace(/\x3c!--|--\x3e/g,"")):(m=k[3])?G.doctype(m):(m=k[4])&&G.pi(m,k[5]);v=k.index+k[0].length}v<c.length&&G.text(U(c.substr(v)));for(h=N.length-1;0<=h;h--)m=N[h],m.valid&&G.end(m.name)}}var d=f.each;return b.findEndTag=e,b});v("o",["l","m","n","c"],function(h,g,f,e){var b=e.makeMap,d=e.each,c=e.explode,a=e.extend,m=function(a,b){a.padd_empty_with_br?b.empty().append(new h("br",
"1")).shortEnded=!0:b.empty().append(new h("#text","3")).value="\u00a0"};return function(l,r){function q(a){var c,d,e,f,k,g,l;var m=b("tr,td,th,tbody,thead,tfoot,table");var t=r.getNonEmptyElements();var u=r.getWhiteSpaceElements();var q=r.getTextBlockElements();var x=r.getSpecialElements();for(c=0;c<a.length;c++)if(d=a[c],d.parent&&!d.fixed)if(q[d.name]&&"li"==d.parent.name){for(l=d.next;l&&q[l.name];)l.name="li",l.fixed=!0,d.parent.insert(l,d.parent),l=l.next;d.unwrap(d)}else{var z=[d];for(e=d.parent;e&&
!r.isValidChild(e.name,d.name)&&!m[e.name];e=e.parent)z.push(e);if(e&&1<z.length){z.reverse();var N=f=p.filterNode(z[0].clone());for(g=0;g<z.length-1;g++){r.isValidChild(f.name,z[g].name)?(k=p.filterNode(z[g].clone()),f.append(k)):k=f;for(f=z[g].firstChild;f&&f!=z[g+1];){var v=f.next;k.append(f);f=v}f=k}N.isEmpty(t,u)?e.insert(d,z[0],!0):(e.insert(N,z[0],!0),e.insert(d,N));e=z[0];(e.isEmpty(t,u)||e&&e.firstChild===e.lastChild&&"br"===e.firstChild.name)&&e.empty().remove()}else d.parent&&("li"===d.name?
(l=d.prev,!l||"ul"!==l.name&&"ul"!==l.name)?(l=d.next,!l||"ul"!==l.name&&"ul"!==l.name)?d.wrap(p.filterNode(new h("ul",1))):l.insert(d,l.firstChild,!0):l.append(d):r.isValidChild(d.parent.name,"div")&&r.isValidChild("div",d.name)?d.wrap(p.filterNode(new h("div",1))):x[d.name]?d.empty().remove():d.unwrap())}}var p=this,k={},u=[],z={},x={};l=l||{};l.validate=!("validate"in l)||l.validate;l.root_name=l.root_name||"body";p.schema=r=r||new g;p.filterNode=function(a){var b,c;d in k&&(c=z[d],c?c.push(a):
z[d]=[a]);for(b=u.length;b--;){var d=u[b].name;d in a.attributes.map&&(c=x[d],c?c.push(a):x[d]=[a])}return a};p.addNodeFilter=function(a,b){d(c(a),function(a){var c=k[a];c||(k[a]=c=[]);c.push(b)})};p.addAttributeFilter=function(a,b){d(c(a),function(a){var c;for(c=0;c<u.length;c++)if(u[c].name===a)return void u[c].callbacks.push(b);u.push({name:a,callbacks:[b]})})};p.parse=function(c,d){function e(){function a(a){a&&(c=a.firstChild,c&&3==c.type&&(c.value=c.value.replace(v,"")),c=a.lastChild,c&&3==
c.type&&(c.value=c.value.replace(K,"")))}var b,c=t.firstChild;if(r.isValidChild(t.name,aa.toLowerCase())){for(;c;){var d=c.next;3==c.type||1==c.type&&"p"!==c.name&&!G[c.name]&&!c.attr("data-mce-type")?b?b.append(c):(b=g(aa,1),b.attr(l.forced_root_block_attrs),t.insert(b,c),b.append(c)):(a(b),b=null);c=d}a(b)}}function g(a,b){var c,d=new h(a,b);return a in k&&(c=z[a],c?c.push(d):z[a]=[d]),d}function p(a){var b,c,d=r.getBlockElements();for(a=a.prev;a&&3===a.type;){if(c=a.value.replace(K,""),0<c.length)return void(a.value=
c);if(b=a.next){if(3==b.type&&b.value.length){a=a.prev;continue}if(!d[b.name]&&"script"!=b.name&&"style"!=b.name){a=a.prev;continue}}b=a.prev;a.remove();a=b}}var w,t,C,H,F,E,J,G,v,N,K,U,I,S,P,X,aa,W=[];if(d=d||{},z={},x={},G=a(b("script,style,head,html,body,title,meta,param"),r.getBlockElements()),X=r.getNonEmptyElements(),P=r.children,J=l.validate,aa="forced_root_block"in d?d.forced_root_block:l.forced_root_block,S=r.getWhiteSpaceElements(),v=/^[ \t\r\n]+/,K=/[ \t\r\n]+$/,U=/[ \t\r\n]+/g,I=/^[ \t\r\n]+$/,
w=new f({validate:J,allow_script_urls:l.allow_script_urls,allow_conditional_comments:l.allow_conditional_comments,self_closing_elements:function(a){var b,c={};for(b in a)"li"!==b&&"p"!=b&&(c[b]=a[b]);return c}(r.getSelfClosingElements()),cdata:function(a){C.append(g("#cdata",4)).value=a},text:function(a,b){var c;N||(a=a.replace(U," "),C.lastChild&&G[C.lastChild.name]&&(a=a.replace(v,"")));0!==a.length&&(c=g("#text",3),c.raw=!!b,C.append(c).value=a)},comment:function(a){C.append(g("#comment",8)).value=
a},pi:function(a,b){C.append(g(a,7)).value=b;p(C)},doctype:function(a){C.append(g("#doctype",10)).value=a;p(C)},start:function(a,b,c){var d,e;if(d=J?r.getElementRule(a):{}){d=g(d.outputName||a,1);d.attributes=b;d.shortEnded=c;C.append(d);(e=P[C.name])&&P[d.name]&&!e[d.name]&&W.push(d);for(e=u.length;e--;){var f=u[e].name;f in b.map&&(Q=x[f],Q?Q.push(d):x[f]=[d])}G[a]&&p(d);c||(C=d);!N&&S[a]&&(N=!0)}},end:function(a){var b,c,d,e;if(c=J?r.getElementRule(a):{}){if(G[a]&&!N){if(b=C.firstChild,b&&3===
b.type)if(d=b.value.replace(v,""),0<d.length)b.value=d,b=b.next;else{var f=b.next;b.remove();for(b=f;b&&3===b.type;)d=b.value,f=b.next,(0===d.length||I.test(d))&&b.remove(),b=f}if(b=C.lastChild,b&&3===b.type)if(d=b.value.replace(K,""),0<d.length)b.value=d;else for(f=b.prev,b.remove(),b=f;b&&3===b.type;)d=b.value,f=b.prev,(0===d.length||I.test(d))&&b.remove(),b=f}if(N&&S[a]&&(N=!1),(c.removeEmpty||c.paddEmpty)&&C.isEmpty(X,S))if(c.paddEmpty)m(l,C);else if(!C.attributes.map.name&&!C.attributes.map.id)return e=
C.parent,G[C.name]?C.empty().remove():C.unwrap(),void(C=e);C=C.parent}}},r),t=C=new h(d.context||l.root_name,11),w.parse(c),J&&W.length&&(d.context?d.invalid=!0:q(W)),aa&&("body"==t.name||d.isRootContent)&&e(),!d.invalid){for(E in z){var Q=k[E];w=z[E];for(F=w.length;F--;)w[F].parent||w.splice(F,1);var L=0;for(H=Q.length;L<H;L++)Q[L](w,E,d)}L=0;for(H=u.length;L<H;L++)if(Q=u[L],Q.name in x){w=x[Q.name];for(F=w.length;F--;)w[F].parent||w.splice(F,1);F=0;for(E=Q.callbacks.length;F<E;F++)Q.callbacks[F](w,
Q.name,d)}}return t};l.remove_trailing_brs&&p.addNodeFilter("br",function(b){var c,d,e,f,k,g,p,t=b.length,u=a({},r.getBlockElements()),q=r.getNonEmptyElements(),x=r.getNonEmptyElements();u.body=1;for(c=0;c<t;c++)if(d=b[c],e=d.parent,u[d.parent.name]&&d===e.lastChild){for(f=d.prev;f;){if(k=f.name,"span"!==k||"bookmark"!==f.attr("data-mce-type")){if("br"!==k)break;if("br"===k){d=null;break}}f=f.prev}d&&(d.remove(),e.isEmpty(q,x)&&(g=r.getElementRule(e.name),g&&(g.removeEmpty?e.remove():g.paddEmpty&&
m(l,e))))}else{for(f=d;e&&e.firstChild===f&&e.lastChild===f&&(f=e,!u[e.name]);)e=e.parent;f===e&&!0!==l.padd_empty_with_br&&(p=new h("#text",3),p.value="\u00a0",d.replace(p))}});p.addAttributeFilter("href",function(a){var b=a.length,c=function(a){return a.split(" ").filter(function(a){return 0<a.length}).concat(["noopener"]).sort().join(" ")},d=function(a){a=a?e.trim(a):"";return/\b(noopener)\b/g.test(a)?a:c(a)};if(!l.allow_unsafe_link_target)for(;b--;){var f=a[b];"a"===f.name&&"_blank"===f.attr("target")&&
f.attr("rel",d(f.attr("rel")))}});l.allow_html_in_named_anchor||p.addAttributeFilter("id,name",function(a){for(var b,c,d,e,f=a.length;f--;)if(e=a[f],"a"===e.name&&e.firstChild&&!e.attr("href")){d=e.parent;b=e.lastChild;do c=b.prev,d.insert(b,e),b=c;while(b)}});l.fix_list_elements&&p.addNodeFilter("ul,ol",function(a){for(var b,c,d=a.length;d--;)if(b=a[d],c=b.parent,"ul"===c.name||"ol"===c.name)if(b.prev&&"li"===b.prev.name)b.prev.append(b);else{var e=new h("li",1);e.attr("style","list-style-type: none");
b.wrap(e)}});l.validate&&r.getValidClasses()&&p.addAttributeFilter("class",function(a){for(var b,c,d,e,f,k,g,l=a.length,m=r.getValidClasses();l--;){b=a[l];c=b.attr("class").split(" ");f="";for(d=0;d<c.length;d++)e=c[d],g=!1,(k=m["*"])&&k[e]&&(g=!0),k=m[b.name],!g&&k&&k[e]&&(g=!0),g&&(f&&(f+=" "),f+=e);f.length||(f=null);b.attr("class",f)}})}});v("p",["g","c"],function(h,g){var f=g.makeMap;return function(e){var b,d,c,a,g,l=[];return e=e||{},b=e.indent,d=f(e.indent_before||""),c=f(e.indent_after||
""),a=h.getEncodeFunc(e.entity_encoding||"raw",e.entities),g="html"==e.element_format,{start:function(e,f,m){var k,h;if(b&&d[e]&&0<l.length&&(h=l[l.length-1],0<h.length&&"\n"!==h&&l.push("\n")),l.push("<",e),f){var p=0;for(k=f.length;p<k;p++){var q=f[p];l.push(" ",q.name,'="',a(q.value,!0),'"')}}!m||g?l[l.length]=">":l[l.length]=" />";m&&b&&c[e]&&0<l.length&&(h=l[l.length-1],0<h.length&&"\n"!==h&&l.push("\n"))},end:function(a){var d;l.push("</",a,">");b&&c[a]&&0<l.length&&(d=l[l.length-1],0<d.length&&
"\n"!==d&&l.push("\n"))},text:function(b,c){0<b.length&&(l[l.length]=c?b:a(b))},cdata:function(a){l.push("<![CDATA[",a,"]]\x3e")},comment:function(a){l.push("\x3c!--",a,"--\x3e")},pi:function(c,d){d?l.push("<?",c," ",a(d),"?>"):l.push("<?",c,"?>");b&&l.push("\n")},doctype:function(a){l.push("<!DOCTYPE",a,">",b?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}});v("q",["p","m"],function(h,g){return function(f,e){var b=new h(f);f=f||{};f.validate=!("validate"in
f)||f.validate;this.schema=e=e||new g;this.writer=b;this.serialize=function(d){function c(d){var f,l,m,k,h,z,x;if(f=a[d.type])f(d);else{if(f=d.name,l=d.shortEnded,m=d.attributes,g&&m&&1<m.length&&(h=[],h.map={},x=e.getElementRule(d.name))){var t=0;for(z=x.attributesOrder.length;t<z;t++){var w=x.attributesOrder[t];w in m.map&&(k=m.map[w],h.map[w]=k,h.push({name:w,value:k}))}t=0;for(z=m.length;t<z;t++)w=m[t].name,w in h.map||(k=m.map[w],h.map[w]=k,h.push({name:w,value:k}));m=h}if(b.start(d.name,m,l),
!l){if(d=d.firstChild){do c(d);while(d=d.next)}b.end(f)}}}var a,g;return g=f.validate,a={3:function(a){b.text(a.value,a.raw)},8:function(a){b.comment(a.value)},7:function(a){b.pi(a.name,a.value)},10:function(a){b.doctype(a.value)},4:function(a){b.cdata(a.value)},11:function(a){if(a=a.firstChild){do c(a);while(a=a.next)}}},b.reset(),1!=d.type||f.inner?a[11](d):c(d),b.getContent()}}});v("r","h o n g q l m 9 c 1v".split(" "),function(h,g,f,e,b,d,c,a,m,l){function r(a){var b;(a=a.lastChild)&&"br"===a.name&&
(b=a.prev,b&&"br"===b.name&&(a.remove(),b.remove()))}var q=m.each,p=m.trim,k=h.DOM;return function(d,h){function u(a){var b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+D.join("|")+')="[^"]+"'].join("|"),"gi");return l.trim(a.replace(b,""))}function t(a){var b,c,d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,e=h.schema;var k=u(a);for(c=e.getShortEndedElements();b=d.exec(k);){a=d.lastIndex;var n=b[0].length;b=c[b[1]]?a:f.findEndTag(e,k,a);k=k.substring(0,a-n)+k.substring(b);
d.lastIndex=a-n}return k}var w,n,y,D=["data-mce-selected"];return h&&(w=h.dom,n=h.schema),w=w||k,n=n||new c(d),d.entity_encoding=d.entity_encoding||"named",d.remove_trailing_brs=!("remove_trailing_brs"in d)||d.remove_trailing_brs,y=new g(d,n),y.addAttributeFilter("data-mce-tabindex",function(a,b){for(var c,d=a.length;d--;)c=a[d],c.attr("tabindex",c.attributes.map["data-mce-tabindex"]),c.attr(b,null)}),y.addAttributeFilter("src,href,style",function(a,b){for(var c,e,f=a.length,k="data-mce-"+b,n=d.url_converter,
g=d.url_converter_scope;f--;)c=a[f],e=c.attributes.map[k],void 0!==e?(c.attr(b,0<e.length?e:null),c.attr(k,null)):(e=c.attributes.map[b],"style"===b?e=w.serializeStyle(w.parseStyle(e),c.name):n&&(e=n.call(g,e,b,c.name)),c.attr(b,0<e.length?e:null))}),y.addAttributeFilter("class",function(a){for(var b,c,d=a.length;d--;)b=a[d],(c=b.attr("class"))&&(c=b.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),b.attr("class",0<c.length?c:null))}),y.addAttributeFilter("data-mce-type",function(a,b,c){for(var d=
a.length;d--;)b=a[d],"bookmark"!==b.attributes.map["data-mce-type"]||c.cleanup||b.remove()}),y.addNodeFilter("noscript",function(a){for(var b,c=a.length;c--;)(b=a[c].firstChild)&&(b.value=e.decode(b.value))}),y.addNodeFilter("script,style",function(a,b){function c(a){return a.replace(/(\x3c!--\[CDATA\[|\]\]--\x3e)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((\x3c!--)?(\s*\/\/)?\s*<!\[CDATA\[|(\x3c!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*\x3c!--|\/\*\s*\x3c!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(--\x3e)?|\s*\/\/\s*\]\]>(--\x3e)?|\/\/\s*(--\x3e)?|\]\]>|\/\*\s*--\x3e\s*\*\/|\s*--\x3e\s*)\s*$/g,
"")}for(var d,e,f,k=a.length;k--;)d=a[k],e=d.firstChild?d.firstChild.value:"","script"===b?(f=d.attr("type"),f&&d.attr("type","mce-no/type"==f?null:f.replace(/^mce\-/,"")),0<e.length&&(d.firstChild.value="// <![CDATA[\n"+c(e)+"\n// ]]\x3e")):0<e.length&&(d.firstChild.value="\x3c!--\n"+c(e)+"\n--\x3e")}),y.addNodeFilter("#comment",function(a){for(var b,c=a.length;c--;)b=a[c],0===b.value.indexOf("[CDATA[")?(b.name="#cdata",b.type=4,b.value=b.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===b.value.indexOf("mce:protected ")&&
(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(b.value).substr(14))}),y.addNodeFilter("xml:namespace,input",function(a,b){for(var c,d=a.length;d--;)c=a[d],7===c.type?c.remove():1===c.type&&("input"!==b||"type"in c.attributes.map||c.attr("type","text"))}),y.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),{schema:n,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,
serialize:function(c,e){var f,k,g,m,h,t;return a.ie&&0<w.select("script,style,select,map").length?(h=c.innerHTML,c=c.cloneNode(!1),w.setHTML(c,h)):c=c.cloneNode(!0),f=document.implementation,f.createHTMLDocument&&(k=f.createHTMLDocument(""),q("BODY"==c.nodeName?c.childNodes:[c],function(a){k.body.appendChild(k.importNode(a,!0))}),c="BODY"!=c.nodeName?k.body.firstChild:k.body,g=w.doc,w.doc=k),e=e||{},e.format=e.format||"html",e.selection&&(e.forced_root_block=""),e.no_events||(e.node=c,this.onPreProcess(e)),
h=l.trim(p(e.getInner?c.innerHTML:w.getOuterHTML(c))),t=y.parse(h,e),r(t),m=new b(d,n),e.content=m.serialize(t),e.no_events||this.onPostProcess(e),g&&(w.doc=g),e.node=null,e.content},addRules:function(a){n.addValidElements(a)},setRules:function(a){n.setValidElements(a)},onPreProcess:function(a){h&&h.fire("PreProcess",a)},onPostProcess:function(a){h&&h.fire("PostProcess",a)},addTempAttr:function(a){-1===m.inArray(D,a)&&(y.addAttributeFilter(a,function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)}),
D.push(a))},trimHtml:u,getTrimmedContent:function(){return t(h.getBody().innerHTML)},trimContent:t}}});v("s",["9"],function(h){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(g){return g.shiftKey||g.ctrlKey||g.altKey||this.metaKeyPressed(g)},metaKeyPressed:function(g){return h.mac?g.metaKey:g.ctrlKey&&!g.altKey}}});v("1y",["2j","4g"],function(h,g){return{isXYWithinRange:function(f,e,b){return!b.collapsed&&h.foldl(b.getClientRects(),function(b,
c){return b||g.containsXY(c,f,e)},!1)}}});v("t","1 1w 1x 1t 1y 9 8 c s".split(" "),function(h,g,f,e,b,d,c,a,m){var l=e.isContentEditableFalse,r=e.isContentEditableTrue,q=function(a,c){var d=c.target,e=a.selection.getRng(),f=c.target;f&&"IMG"===f.nodeName&&!b.isXYWithinRange(c.clientX,c.clientY,e)&&!c.isDefaultPrevented()&&(c.preventDefault(),a.selection.select(d))};return function(b,e){function k(a){var b=e.settings.object_resizing;return!1!==b&&!d.iOS&&("string"!=typeof b&&(b="table,img,div"),"false"!==
a.getAttribute("data-mce-resize")&&a!=e.getBody()&&f.is(g.fromDom(a),b))}function p(a){var b=a.screenX-K;var c=a.screenY-U;Q=b*v[2]+P;L=c*v[3]+X;Q=5>Q?5:Q;L=5>L?5:L;("IMG"==E.nodeName&&!1!==e.settings.resize_img_proportional?!m.modifierPressed(a):m.modifierPressed(a)||"IMG"==E.nodeName&&0!==v[2]*v[3])&&(ma(b)>ma(c)?(L=ja(Q*aa),Q=ja(L/aa)):(Q=ja(L/aa),L=ja(Q*aa)));T.setStyles(J,{width:Q,height:L});a=v.startPos.x+b;var d=v.startPos.y+c;a=0<a?a:0;d=0<d?d:0;T.setStyles(G,{left:a,top:d,display:"block"});
G.innerHTML=Q+" &times; "+L;0>v[2]&&J.clientWidth<=Q&&T.setStyle(J,"left",I+(P-Q));0>v[3]&&J.clientHeight<=L&&T.setStyle(J,"top",S+(X-L));b=da.scrollWidth-R;c=da.scrollHeight-V;0!==b+c&&T.setStyles(G,{left:a-b,top:d-c});W||(e.fire("ObjectResizeStart",{target:E,width:P,height:X}),W=!0)}function x(){function a(a,b){b&&(E.style[a]||!e.schema.isValid(E.nodeName.toLowerCase(),a)?T.setStyle(E,a,b):T.setAttrib(E,a,b))}W=!1;a("width",Q);a("height",L);T.unbind(Y,"mousemove",p);T.unbind(Y,"mouseup",x);ea!=
Y&&(T.unbind(ea,"mousemove",p),T.unbind(ea,"mouseup",x));T.remove(J);T.remove(G);ca&&"TABLE"!=E.nodeName||t(E);e.fire("ObjectResized",{target:E,width:Q,height:L});T.setAttrib(E,"style",T.getAttrib(E,"style"));e.nodeChanged()}function t(a,b,c){w();C();var f=T.getPos(a,da);I=f.x;S=f.y;f=a.getBoundingClientRect();var n=f.width||f.right-f.left;var g=f.height||f.bottom-f.top;E!=a&&(B(),E=a,Q=L=0);f=e.fire("ObjectSelected",{target:a});k(a)&&!f.isDefaultPrevented()?ba(ia,function(a,e){function f(b){K=b.screenX;
U=b.screenY;P=E.clientWidth;X=E.clientHeight;aa=X/P;v=a;a.startPos={x:n*a[0]+I,y:g*a[1]+S};R=da.scrollWidth;V=da.scrollHeight;J=E.cloneNode(!0);T.addClass(J,"mce-clonedresizable");T.setAttrib(J,"data-mce-bogus","all");J.contentEditable=!1;J.unSelectabe=!0;T.setStyles(J,{left:I,top:S,margin:0});J.removeAttribute("data-mce-selected");da.appendChild(J);T.bind(Y,"mousemove",p);T.bind(Y,"mouseup",x);ea!=Y&&(T.bind(ea,"mousemove",p),T.bind(ea,"mouseup",x));G=T.add(da,"div",{"class":"mce-resize-helper",
"data-mce-bogus":"all"},P+" &times; "+X)}var k;return b?void(e==b&&f(c)):(k=T.get("mceResizeHandle"+e),k&&T.remove(k),k=T.add(da,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),d.ie&&(k.contentEditable=!1),T.bind(k,"mousedown",function(a){a.stopImmediatePropagation();a.preventDefault();f(a)}),a.elm=k,void T.setStyles(k,{left:n*a[0]+I-k.offsetWidth/2,top:g*a[1]+S-k.offsetHeight/2}))}):w();E.setAttribute("data-mce-selected",
"1")}function w(){var a,b;C();E&&E.removeAttribute("data-mce-selected");for(a in ia)(b=T.get("mceResizeHandle"+a))&&(T.unbind(b),T.remove(b))}function n(a){function c(a,b){if(a){do if(a===b)return!0;while(a=a.parentNode)}}var d,f;if(!W&&!e.removed)return ba(T.select("img[data-mce-selected],hr[data-mce-selected]"),function(a){a.removeAttribute("data-mce-selected")}),f="mousedown"==a.type?a.target:b.getNode(),f=T.$(f).closest(ca?"table":"table,img,hr")[0],c(f,da)&&(H(),d=b.getStart(!0),c(d,f)&&c(b.getEnd(!0),
f)&&(!ca||f!=d&&"IMG"!==d.nodeName))?void t(f):void w()}function y(a){var b,c,d,f,k=a.srcElement;var n=k.getBoundingClientRect();a=N.clientX-n.left;n=N.clientY-n.top;for(b in ia)if(c=ia[b],d=k.offsetWidth*c[0],f=k.offsetHeight*c[1],8>ma(d-a)&&8>ma(f-n)){v=c;break}W=!0;e.fire("ObjectResizeStart",{target:E,width:E.clientWidth,height:E.clientHeight});e.getDoc().selection.empty();t(k,b,N)}function D(a){var b;a:{for(b=e.getBody();a&&a!=b;){if(r(a)||l(a)){b=a;break a}a=a.parentNode}b=null}return l(b)}function A(a){var b=
a.srcElement;if(D(b))a.preventDefault?a.preventDefault():a.returnValue=!1;else if(b!=E){if(e.fire("ObjectSelected",{target:b}),B(),0===b.id.indexOf("mceResizeHandle"))return void(a.returnValue=!1);if("IMG"==b.nodeName||"TABLE"==b.nodeName)w(),(E=b)&&b.attachEvent&&b.attachEvent("onresizestart",y)}}function B(){E&&E.detachEvent&&E.detachEvent("onresizestart",y)}function C(){for(var a in ia){var b=ia[a];b.elm&&(T.unbind(b.elm),delete b.elm)}}function H(){try{e.getDoc().execCommand("enableObjectResizing",
!1,!1)}catch(qa){}}function F(a){if(ca){var b=Y.body.createControlRange();try{return b.addElement(a),b.select(),!0}catch(na){}}}var E,J,G,v,N,K,U,I,S,P,X,aa,W,Q,L,R,V,T=e.dom,ba=a.each,Y=e.getDoc(),ea=document,ca=d.ie&&11>d.ie,ma=Math.abs,ja=Math.round,da=e.getBody();var ia={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};return e.contentStyles.push(".mce-content-body div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}.mce-content-body .mce-resizehandle:hover {background: #000}.mce-content-body img[data-mce-selected],.mce-content-body hr[data-mce-selected] {outline: 1px solid black;resize: none}.mce-content-body .mce-clonedresizable {position: absolute;"+
(d.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}.mce-content-body .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),e.on("init",function(){ca?(e.on("ObjectResized",function(a){"TABLE"!=a.target.nodeName&&(w(),F(a.target))}),da&&da.attachEvent&&
da.attachEvent("oncontrolselect",A),e.on("mousedown",function(a){N=a})):(H(),11<=d.ie&&(e.on("mousedown click",function(a){var b=a.target,c=b.nodeName;W||!/^(TABLE|IMG|HR)$/.test(c)||D(b)||(2!==a.button&&e.selection.select(b,"TABLE"==c),"mousedown"==a.type&&e.nodeChanged())}),e.dom.bind(da,"mscontrolselect",function(a){function b(a){c.setEditorTimeout(e,function(){e.selection.select(a)})}return D(a.target)?(a.preventDefault(),void b(a.target)):void(/^(TABLE|IMG|HR)$/.test(a.target.nodeName)&&(a.preventDefault(),
"IMG"==a.target.tagName&&b(a.target)))})));var a=c.throttle(function(a){e.composing||n(a)});e.on("nodechange ResizeEditor ResizeWindow drop",a);e.on("keyup compositionend",function(b){E&&"TABLE"==E.nodeName&&a(b)});e.on("hide blur",w);e.on("contextmenu",h.curry(q,e))}),e.on("remove",C),{isResizable:k,showResizeRect:t,hideResizeRect:w,updateResizeRect:n,controlSelect:F,destroy:function(){E=J=null;ca&&(B(),da&&da.detachEvent&&da.detachEvent("oncontrolselect",A))}}}});v("22",["1t"],function(h){var g=
function(f){for(var e=0,b=0;f&&f.nodeType;)e+=f.offsetLeft||0,b+=f.offsetTop||0,f=f.offsetParent;return{x:e,y:b}};return{scrollIntoView:function(f,e,b){var d,c,a,m=f.dom,l=m.getRoot(),r=0,q={elm:e,alignToTop:b};if((f.fire("scrollIntoView",q),!q.isDefaultPrevented())&&h.isElement(e)){if(!1===b&&(r=e.offsetHeight),"BODY"!==l.nodeName)if(b=f.selection.getScrollContainer())return d=g(e).y-g(b).y+r,a=b.clientHeight,c=b.scrollTop,void((d<c||d+25>c+a)&&(b.scrollTop=d<c?d:d-a+25));b=m.getViewPort(f.getWin());
d=m.getPos(e).y+r;c=b.y;a=b.h;(d<b.y||d+25>c+a)&&f.getWin().scrollTo(0,d<c?d:d-a+25)}}}});v("23",[],function(){return function(h){function g(b,d){var c,a,e,f,g,q,p=0,k=-1;if(c=b.duplicate(),c.collapse(d),q=c.parentElement(),q.ownerDocument===h.dom.doc){for(;"false"===q.contentEditable;)q=q.parentNode;if(!q.hasChildNodes())return{node:q,inside:1};var u=q.children;for(a=u.length-1;p<=a;)if(g=Math.floor((p+a)/2),f=u[g],c.moveToElementText(f),k=c.compareEndPoints(d?"StartToStart":"EndToEnd",b),0<k)a=
g-1;else{if(!(0>k))return{node:f};p=g+1}if(0>k)for(f?c.collapse(!1):(c.moveToElementText(q),c.collapse(!0),f=q,e=!0),a=0;0!==c.compareEndPoints(d?"StartToStart":"StartToEnd",b)&&0!==c.move("character",1)&&q==c.parentElement();)a++;else for(c.collapse(!0),a=0;0!==c.compareEndPoints(d?"StartToStart":"StartToEnd",b)&&0!==c.move("character",-1)&&q==c.parentElement();)a++;return{node:f,position:k,offset:a,inside:e}}}var f=this,e=h.dom;this.getBookmark=function(b){function d(a){var b,c,d=[];var f=a.parentNode;
for(b=e.getRoot().parentNode;f!=b&&9!==f.nodeType;){var g=f.children;for(c=g.length;c--;)if(a===g[c]){d.push(c);break}a=f;f=f.parentNode}return d}function c(b){if(b=g(a,b))return{position:b.position,offset:b.offset,indexes:d(b.node),inside:b.inside}}var a=h.getRng(),f={};return 2===b&&(a.item?f.start={ctrl:!0,indexes:d(a.item(0))}:(f.start=c(!0),h.isCollapsed()||(f.end=c()))),f};this.moveToBookmark=function(b){function d(a){var b;var c=e.getRoot();for(b=a.length-1;0<=b;b--){var d=c.children;var f=
a[b];f<=d.length-1&&(c=d[f])}return c}function c(c){var e,g,l,k=b[c?"start":"end"];k&&(e=0<k.position,g=f.createTextRange(),g.moveToElementText(d(k.indexes)),l=k.offset,void 0!==l?(g.collapse(k.inside||e),g.moveStart("character",e?-l:l)):g.collapse(c),a.setEndPoint(c?"StartToStart":"EndToStart",g),c&&a.collapse(!0))}var a,f=e.doc.body;b.start&&(b.start.ctrl?(a=f.createControlRange(),a.addElement(d(b.start.indexes)),a.select()):(a=f.createTextRange(),c(!0),c(),a.select()))};this.addRange=function(b){function d(a){var b;
var d=e.create("a");var k=a?f:r;var l=a?g:q;var m=c.duplicate();k!=z&&k!=z.documentElement||(k=x,l=0);3==k.nodeType?(k.parentNode.insertBefore(d,k),m.moveToElementText(d),m.moveStart("character",l),e.remove(d),c.setEndPoint(a?"StartToStart":"EndToEnd",m)):(b=k.childNodes,b.length?(l>=b.length?e.insertAfter(d,b[b.length-1]):k.insertBefore(d,b[l]),m.moveToElementText(d)):k.canHaveHTML&&(k.innerHTML="<span>&#xFEFF;</span>",d=k.firstChild,m.moveToElementText(d),m.collapse(!1)),c.setEndPoint(a?"StartToStart":
"EndToEnd",m),e.remove(d))}var c,a,f,g,r,q,p,k,u,z=h.dom.doc,x=z.body;if(f=b.startContainer,g=b.startOffset,r=b.endContainer,q=b.endOffset,c=x.createTextRange(),f==r&&1==f.nodeType){if(g==q&&!f.hasChildNodes()){if(f.canHaveHTML)return p=f.previousSibling,p&&!p.hasChildNodes()&&e.isBlock(p)?p.innerHTML="&#xFEFF;":p=null,f.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",c.moveToElementText(f.lastChild),c.select(),e.doc.selection.clear(),f.innerHTML="",void(p&&(p.innerHTML=""));g=e.nodeIndex(f);
f=f.parentNode}if(g==q-1)try{if(u=f.childNodes[g],a=x.createControlRange(),a.addElement(u),a.select(),k=h.getRng(),k.item&&u===k.item(0))return}catch(t){}}d(!0);d();c.select()};this.getRangeAt=function(){function b(a){var b,c,d,e,f=g(m,a),h=0;if(b=f.node,c=f.offset,f.inside&&!b.hasChildNodes())return void l[a?"setStart":"setEnd"](b,0);if(void 0===c)return void l[a?"setStartBefore":"setEndAfter"](b);if(0>f.position){if(d=f.inside?b.firstChild:b.nextSibling,!d)return void l[a?"setStartAfter":"setEndAfter"](b);
if(!c)return void(3==d.nodeType?l[a?"setStart":"setEnd"](d,0):l[a?"setStartBefore":"setEndBefore"](d));for(;d;){if(3==d.nodeType&&(e=d.nodeValue,h+=e.length,h>=c)){b=d;h-=c;h=e.length-h;break}d=d.nextSibling}}else{if(d=b.previousSibling,!d)return l[a?"setStartBefore":"setEndBefore"](b);if(!c)return void(3==b.nodeType?l[a?"setStart":"setEnd"](d,b.nodeValue.length):l[a?"setStartAfter":"setEndAfter"](d));for(;d;){if(3==d.nodeType&&(h+=d.nodeValue.length,h>=c)){b=d;h-=c;break}d=d.previousSibling}}l[a?
"setStart":"setEnd"](b,h)}var d,c,a,m=h.getRng(),l=e.createRng();if(d=m.item?m.item(0):m.parentElement(),d.ownerDocument!=e.doc)return l;if(c=h.isCollapsed(),m.item)return l.setStart(d.parentNode,e.nodeIndex(d)),l.setEnd(l.startContainer,l.startOffset+1),l;try{b(!0),c||b()}catch(p){if(-2147024809!=p.number)throw p;var r=f.getBookmark(2);var q=m.duplicate();q.collapse(!0);d=q.parentElement();c||(q=m.duplicate(),q.collapse(!1),a=q.parentElement(),a.innerHTML=a.innerHTML);d.innerHTML=d.innerHTML;f.moveToBookmark(r);
m=h.getRng();b(!0);c||b()}return l}}});v("66","2k 2j 5i 4w 4 4p".split(" "),function(h,g,f,e,b,d){var c=function(a,c,e){if(!(h.isString(e)||h.isBoolean(e)||h.isNumber(e)))throw d.error("Invalid call to Attr.set. Key ",c,":: Value ",e,":: Element ",a),new b("Attribute value was not simple");a.setAttribute(c,e+"")},a=function(a,b,d){c(a.dom(),b,d)},m=function(a,b){var c=a.dom().getAttribute(b);return null===c?void 0:c},l=function(a,b){var c=a.dom();return!(!c||!c.hasAttribute)&&c.hasAttribute(b)};return{clone:function(a){return g.foldl(a.dom().attributes,
function(a,b){return a[b.name]=b.value,a},{})},set:a,setAll:function(a,b){var d=a.dom();f.each(b,function(a,b){c(d,b,a)})},get:m,has:l,remove:function(a,b){a.dom().removeAttribute(b)},hasNone:function(a){a=a.dom().attributes;return void 0===a||null===a||0===a.length},transfer:function(b,c,d){e.isElement(b)&&e.isElement(c)&&g.each(d,function(d){l(b,d)&&!l(c,d)&&a(c,d,m(b,d))})}}});v("4u","66 1w 4t 67 68 5h".split(" "),function(h,g,f,e,b,d){var c=function(a){return g.fromDom(a.dom().cloneNode(!0))},
a=function(a,b){var c=g.fromTag(b),d=h.clone(a);return h.setAll(c,d),c};return{shallow:function(a){return g.fromDom(a.dom().cloneNode(!1))},shallowAs:a,deep:c,copy:function(b,f){var g=a(b,f),l=d.children(c(b));return e.append(g,l),g},mutate:function(c,g){var l=a(c,g);f.before(c,l);var m=d.children(c);return e.append(l,m),b.remove(c),l}}});v("4v",["2j","1w","28"],function(h,g,f){return{fromElements:function(e,b){var d=(b||f).createDocumentFragment();return h.each(e,function(b){d.appendChild(b.dom())}),
g.fromDom(d)}}});v("6b",["2k","49"],function(h,g){return function(f,e,b,d,c){return f(b,d)?g.some(b):h.isFunction(c)&&c(b)?g.none():e(b,d,c)}});v("6a","2k 2j 1 49 6p 21 1w 6b".split(" "),function(h,g,f,e,b,d,c,a){var m=function(a,b,d){a=a.dom();for(d=h.isFunction(d)?d:f.constant(!1);a.parentNode;){a=a.parentNode;var k=c.fromDom(a);if(b(k))return e.some(k);if(d(k))break}return e.none()},l=function(a,b){return g.find(a.dom().childNodes,f.compose(b,c.fromDom)).map(c.fromDom)},r=function(a,b){var d=function(a){for(var f=
0;f<a.childNodes.length;f++){if(b(c.fromDom(a.childNodes[f])))return e.some(c.fromDom(a.childNodes[f]));var k=d(a.childNodes[f]);if(k.isSome())return k}return e.none()};return d(a.dom())};return{first:function(a){return r(b.body(),a)},ancestor:m,closest:function(b,c,d){return a(function(a){return c(a)},m,b,c,d)},sibling:function(a,b){var f=a.dom();return f.parentNode?l(c.fromDom(f.parentNode),function(c){return!d.eq(a,c)&&b(c)}):e.none()},child:l,descendant:r}});v("4y",["6a","1x","6b"],function(h,
g,f){var e=function(b,d,c){return h.ancestor(b,function(a){return g.is(a,d)},c)};return{first:function(b){return g.one(b)},ancestor:e,sibling:function(b,d){return h.sibling(b,function(b){return g.is(b,d)})},child:function(b,d){return h.child(b,function(b){return g.is(b,d)})},descendant:function(b,d){return g.one(d,b)},closest:function(b,d,c){return f(g.is,e,b,d,c)}}});v("50",["1","21","5h"],function(h,g,f){var e=function(b,c,a){return g.contains(c,b)?f.parents(b,function(b){return a(b)||g.eq(b,c)}).slice(0,
-1):[]},b=function(b,c){return e(b,c,h.constant(!1))};return{parentsUntil:e,parents:b,parentsAndSelf:function(d,c){return[d].concat(b(d,c))}}});v("6c",["49"],function(h){return{cat:function(g){for(var f=[],e=function(b){f.push(b)},b=0;b<g.length;b++)g[b].each(e);return f},findMap:function(g,f){for(var e=0;e<g.length;e++){var b=f(g[e],e);if(b.isSome())return b}return h.none()},liftN:function(g,f){for(var e=[],b=0;b<g.length;b++){var d=g[b];if(!d.isSome())return h.none();e.push(d.getOrDie())}return h.some(f.apply(null,
e))}}});v("51","2j 1 49 6c 21 1w 4w 5h 1t".split(" "),function(h,g,f,e,b,d,c,a,m){var l=function(a){var b=a.startContainer;a=a.startOffset;return m.isText(b)?0===a?f.some(d.fromDom(b)):f.none():f.from(b.childNodes[a]).map(d.fromDom)},r=function(a){var b=a.endContainer;a=a.endOffset;return m.isText(b)?a===b.data.length?f.some(d.fromDom(b)):f.none():f.from(b.childNodes[a-1]).map(d.fromDom)},q=function(b){return a.firstChild(b).fold(g.constant([b]),function(a){return[b].concat(q(a))})},p=function(b){return a.lastChild(b).fold(g.constant([b]),
function(d){return"br"===c.name(d)?a.prevSibling(d).map(function(a){return[b].concat(p(a))}).getOr([]):[b].concat(p(d))})};return{hasAllContentsSelected:function(a,c){return e.liftN([l(c),r(c)],function(c,d){var e=h.find(q(a),g.curry(b.eq,c)),f=h.find(p(a),g.curry(b.eq,d));return e.isSome()&&f.isSome()}).getOr(!1)}}});v("52","2j 49 5k 21 4t 67 4u 1w 66 4x".split(" "),function(h,g,f,e,b,d,c,a,m,l){var r=f.immutable("element","width","rows"),q=f.immutable("element","cells"),p=f.immutable("x","y"),k=
function(a,b){var c=parseInt(m.get(a,b),10);return isNaN(c)?1:c},u=function(a,b,c){a=a.rows();return!!(a[c]?a[c].cells():[])[b]},z=function(a){return h.foldl(a,function(a,b){return b.cells().length>a?b.cells().length:a},0)},x=function(a,b){for(var c=a.rows(),d=0;d<c.length;d++)for(var f=c[d].cells(),k=0;k<f.length;k++)if(e.eq(f[k],b))return g.some(p(k,d));return g.none()},t=function(a,b,c,d,e){var f=[];for(a=a.rows();c<=e;c++){var k=a[c].cells();k=b<d?k.slice(b,d+1):k.slice(d,b+1);f.push(q(a[c].element(),
k))}return f},w=function(a){return h.map(a.rows(),function(a){var b=h.map(a.cells(),function(a){a=c.deep(a);return m.remove(a,"colspan"),m.remove(a,"rowspan"),a});a=c.shallow(a.element());return d.append(a,b),a})};return{fromDom:function(a){var b=r(c.shallow(a),0,[]);return h.each(l.descendants(a,"tr"),function(a,d){h.each(l.descendants(a,"td,th"),function(e,f){for(var g=f;u(b,g,d);)g++;for(var n=k(e,"rowspan"),l=k(e,"colspan"),m=b.rows(),h=d;h<d+n;h++){m[h]||(m[h]=q(c.deep(a),[]));for(var p=g;p<
g+l;p++)m[h].cells()[p]=h==d&&p==g?e:c.shallow(e)}})}),r(b.element(),z(b.rows()),b.rows())},toDom:function(e){var f=w(e);e=c.shallow(e.element());var k=a.fromTag("tbody");return d.append(k,f),b.append(e,k),e},subsection:function(a,b,c){return x(a,b).bind(function(b){return x(a,c).map(function(c){var d=b.x(),e=b.y(),f=c.x();c=c.y();d=e<c?t(a,d,e,f,c):t(a,d,c,f,e);return r(a.element(),z(d),d)})})}}});v("24","2j 1 21 4t 4u 1w 4v 4w 4x 4y 4z 50 51 52".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k){var u=
function(b){return h.find(b,function(b){return"ul"===a.name(b)||"ol"===a.name(b)})},z=function(b,c){return h.find(b,function(b){return"li"===a.name(b)&&p.hasAllContentsSelected(b,c)}).fold(g.constant([]),function(c){return u(b).map(function(b){return[d.fromTag("li"),d.fromTag(a.name(b))]}).getOr([])})},x=function(a,b){var d=h.foldl(b,function(a,b){return e.append(b,a),b},a);return 0<b.length?c.fromElements([d]):d},t=function(a,c){var e=q.parentsAndSelf(d.fromDom(c.commonAncestorContainer),a),f=h.filter(e,
function(a){return r.isInline(a)||r.isHeading(a)});e=z(e,c);return h.map(f.concat(e),b.shallow)},w=function(){return c.fromElements([])},n=function(a,b){return l.ancestor(b[0],"table",g.curry(f.eq,a)).bind(function(a){var d=b[0],e=b[b.length-1];a=k.fromDom(a);return k.subsection(a,d,e).map(function(a){return c.fromElements([k.toDom(a)])})}).getOrThunk(w)};return{read:function(a,b){var c=m.descendants(a,"td[data-mce-selected],th[data-mce-selected]");return 0<c.length?n(a,c):b.collapsed?w():x(d.fromDom(b.cloneContents()),
t(a,b))}}});v("v","21 1w 20 u t 1t k 22 f 23 9 24 1v c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k){function u(a,c,d,f){this.dom=a;this.win=c;this.serializer=d;this.editor=f;this.bookmarkManager=new e(this);this.controlSelection=new b(this,f);this.win.getSelection||(this.tridentSel=new l(this))}var z=k.each,x=k.trim,t=r.ie,w=function(a){return!(!a||!a.ownerDocument)&&h.contains(g.fromDom(a.ownerDocument),g.fromDom(a))};return u.prototype={setCursorLocation:function(a,b){var c=this.dom.createRng();
a?(c.setStart(a,b),c.setEnd(a,b),this.setRng(c),this.collapse(!1)):(this._moveEndPoint(c,this.editor.getBody(),!0),this.setRng(c))},getContent:function(a){var b,c,d,e=this.getRng(),f=this.dom.create("body"),k=this.getSel();return a=a||{},b=c="",a.get=!0,a.format=a.format||"html",a.selection=!0,this.editor.fire("BeforeGetContent",a),"text"===a.format?this.isCollapsed()?"":p.trim(e.text||(k.toString?k.toString():"")):(e.cloneContents?(d=a.contextual?q.read(g.fromDom(this.editor.getBody()),e).dom():
e.cloneContents(),d&&f.appendChild(d)):void 0!==e.item||void 0!==e.htmlText?(f.innerHTML="<br>"+(e.item?e.item(0).outerHTML:e.htmlText),f.removeChild(f.firstChild)):f.innerHTML=e.toString(),/^\s/.test(f.innerHTML)&&(b=" "),/\s+$/.test(f.innerHTML)&&(c=" "),a.getInner=!0,a.content=this.isCollapsed()?"":b+this.serializer.serialize(f,a)+c,this.editor.fire("GetContent",a),a.content)},setContent:function(a,b){var c,d,e=this.getRng(),f=this.win.document;if(b=b||{format:"html"},b.set=!0,b.selection=!0,b.content=
a,b.no_events||this.editor.fire("BeforeSetContent",b),a=b.content,e.insertNode){a+='<span id="__caret">_</span>';e.startContainer==f&&e.endContainer==f?f.body.innerHTML=a:(e.deleteContents(),0===f.body.childNodes.length?f.body.innerHTML=a:e.createContextualFragment?e.insertNode(e.createContextualFragment(a)):(c=f.createDocumentFragment(),d=f.createElement("div"),c.appendChild(d),d.outerHTML=a,e.insertNode(c)));c=this.dom.get("__caret");e=f.createRange();e.setStartBefore(c);e.setEndBefore(c);this.setRng(e);
this.dom.remove("__caret");try{this.setRng(e)}catch(H){}}else e.item&&(f.execCommand("Delete",!1,null),e=this.getRng()),/^\s+/.test(a)?(e.pasteHTML('<span id="__mce_tmp">_</span>'+a),this.dom.remove("__mce_tmp")):e.pasteHTML(a);b.no_events||this.editor.fire("SetContent",b)},getStart:function(a){var b=this.getRng();if(b.duplicate||b.item){if(b.item)return b.item(0);var c=b.duplicate();c.collapse(1);c=c.parentElement();c.ownerDocument!==this.dom.doc&&(c=this.dom.getRoot());for(b=a=b.parentElement();a=
a.parentNode;)if(a==c){c=b;break}return c}return c=b.startContainer,1==c.nodeType&&c.hasChildNodes()&&(a&&b.collapsed||(c=c.childNodes[Math.min(c.childNodes.length-1,b.startOffset)])),c&&3==c.nodeType?c.parentNode:c},getEnd:function(a){var b,c,d=this.getRng();return d.duplicate||d.item?d.item?d.item(0):(d=d.duplicate(),d.collapse(0),b=d.parentElement(),b.ownerDocument!==this.dom.doc&&(b=this.dom.getRoot()),b&&"BODY"==b.nodeName?b.lastChild||b:b):(b=d.endContainer,c=d.endOffset,1==b.nodeType&&b.hasChildNodes()&&
(a&&d.collapsed||(b=b.childNodes[0<c?c-1:c])),b&&3==b.nodeType?b.parentNode:b)},getBookmark:function(a,b){return this.bookmarkManager.getBookmark(a,b)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(a,b){var c=this.dom;var d=c.createRng();if(this.lastFocusBookmark=null,a){if(!b&&this.controlSelection.controlSelect(a))return;c=c.nodeIndex(a);d.setStart(a.parentNode,c);d.setEnd(a.parentNode,c+1);b&&(this._moveEndPoint(d,a,!0),this._moveEndPoint(d,a));this.setRng(d)}return a},
isCollapsed:function(){var a=this.getRng(),b=this.getSel();return!(!a||a.item)&&(a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!b||a.collapsed)},collapse:function(a){var b,c=this.getRng();c.item&&(b=c.item(0),c=this.win.document.body.createTextRange(),c.moveToElementText(b));c.collapse(!!a);this.setRng(c)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(a){function b(a,b,c){try{return b.compareBoundaryPoints(a,c)}catch(M){return-1}}
var c,d,e,f,k;if(!this.win||(f=this.win.document,"undefined"==typeof f||null===f))return null;if(!a&&this.lastFocusBookmark)return a=this.lastFocusBookmark,a.startContainer?(d=f.createRange(),d.setStart(a.startContainer,a.startOffset),d.setEnd(a.endContainer,a.endOffset)):d=a,d;if(a&&this.tridentSel)return this.tridentSel.getRangeAt(0);try{(c=this.getSel())&&(d=0<c.rangeCount?c.getRangeAt(0):c.createRange?c.createRange():f.createRange())}catch(E){}if(k=this.editor.fire("GetSelectionRange",{range:d}),
k.range!==d)return k.range;if(t&&d&&d.setStart&&f.selection){try{var g=f.selection.createRange()}catch(E){}g&&g.item&&(e=g.item(0),d=f.createRange(),d.setStartBefore(e),d.setEndAfter(e))}return d||(d=f.createRange?f.createRange():f.body.createTextRange()),d.setStart&&9===d.startContainer.nodeType&&d.collapsed&&(e=this.dom.getRoot(),d.setStart(e,0),d.setEnd(e,0)),this.selectedRange&&this.explicitRange&&(0===b(d.START_TO_START,d,this.selectedRange)&&0===b(d.END_TO_END,d,this.selectedRange)?d=this.explicitRange:
(this.selectedRange=null,this.explicitRange=null)),d},setRng:function(a,b){var c,d,e,f=a;if(f&&(f.select||w(f.startContainer)&&w(f.endContainer)))if(a.select){this.explicitRange=null;try{a.select()}catch(H){}}else if(this.tridentSel){if(a.cloneRange)try{this.tridentSel.addRange(a)}catch(H){}}else{if(c=this.getSel(),e=this.editor.fire("SetSelectionRange",{range:a,forward:b}),a=e.range,c){this.explicitRange=a;try{c.removeAllRanges(),c.addRange(a)}catch(H){}!1===b&&c.extend&&(c.collapse(a.endContainer,
a.endOffset),c.extend(a.startContainer,a.startOffset));this.selectedRange=0<c.rangeCount?c.getRangeAt(0):null}a.collapsed||a.startContainer!==a.endContainer||!c.setBaseAndExtent||r.ie||2>a.endOffset-a.startOffset&&a.startContainer.hasChildNodes()&&(d=a.startContainer.childNodes[a.startOffset],d&&"IMG"===d.tagName&&(c.setBaseAndExtent(a.startContainer,a.startOffset,a.endContainer,a.endOffset),c.anchorNode===a.startContainer&&c.focusNode===a.endContainer||c.setBaseAndExtent(d,0,d,1)));this.editor.fire("AfterSetSelectionRange",
{range:a,forward:b})}},setNode:function(a){return this.setContent(this.dom.getOuterHTML(a)),a},getNode:function(){function a(a,b){for(var c=a;a&&3===a.nodeType&&0===a.length;)a=b?a.nextSibling:a.previousSibling;return a||c}var b,c,d,e,f,k=this.getRng(),g=this.dom.getRoot();return k?(c=k.startContainer,d=k.endContainer,e=k.startOffset,f=k.endOffset,k.setStart?(b=k.commonAncestorContainer,!k.collapsed&&(c==d&&2>f-e&&c.hasChildNodes()&&(b=c.childNodes[e]),3===c.nodeType&&3===d.nodeType&&(c=c.length===
e?a(c.nextSibling,!0):c.parentNode,d=0===f?a(d.previousSibling,!1):d.parentNode,c&&c===d))?c:b&&3==b.nodeType?b.parentNode:b):(b=k.item?k.item(0):k.parentElement(),b.ownerDocument!==this.win.document&&(b=g),b)):g},getSelectedBlocks:function(a,b){var c,d=this.dom,e=[];if(c=d.getRoot(),a=d.getParent(a||this.getStart(),d.isBlock),b=d.getParent(b||this.getEnd(),d.isBlock),a&&a!=c&&e.push(a),a&&b&&a!=b){var f=a;for(var k=new m(a,c);(f=k.next())&&f!=b;)d.isBlock(f)&&e.push(f)}return b&&a!=b&&b!=c&&e.push(b),
e},isForward:function(){var a,b,c=this.dom,d=this.getSel();return!(d&&d.anchorNode&&d.focusNode)||(a=c.createRng(),a.setStart(d.anchorNode,d.anchorOffset),a.collapse(!0),b=c.createRng(),b.setStart(d.focusNode,d.focusOffset),b.collapse(!0),0>=a.compareBoundaryPoints(a.START_TO_START,b))},normalize:function(){var a=this.getRng();return r.range&&(new c(this.dom)).normalize(a)&&this.setRng(a,this.isForward()),a},selectorChanged:function(a,b){var c,d=this;return d.selectorChangedData||(d.selectorChangedData=
{},c={},d.editor.on("NodeChange",function(a){var b=a.element,e=d.dom,f=e.getParents(b,null,e.getRoot()),k={};z(d.selectorChangedData,function(a,b){z(f,function(d){if(e.is(d,b))return c[b]||(z(a,function(a){a(!0,{node:d,selector:b,parents:f})}),c[b]=a),k[b]=a,!1})});z(c,function(a,d){k[d]||(delete c[d],z(a,function(a){a(!1,{node:b,selector:d,parents:f})}))})})),d.selectorChangedData[a]||(d.selectorChangedData[a]=[]),d.selectorChangedData[a].push(b),d},getScrollContainer:function(){for(var a,b=this.dom.getRoot();b&&
"BODY"!=b.nodeName;){if(b.scrollHeight>b.clientHeight){a=b;break}b=b.parentNode}return a},scrollIntoView:function(b,c){a.scrollIntoView(this.editor,b,c)},placeCaretAt:function(a,b){this.setRng(c.getCaretRangeFromPoint(a,b,this.editor.getDoc()))},_moveEndPoint:function(a,b,c){var d=b,e=new m(b,d),f=this.dom.schema.getNonEmptyElements();do{if(3==b.nodeType&&0!==x(b.nodeValue).length)return void(c?a.setStart(b,0):a.setEnd(b,b.nodeValue.length));if(f[b.nodeName]&&!/^(TD|TH)$/.test(b.nodeName))return void(c?
a.setStartBefore(b):"BR"==b.nodeName?a.setEndBefore(b):a.setEndAfter(b));if(r.ie&&11>r.ie&&this.dom.isBlock(b)&&this.dom.isEmpty(b))return void(c?a.setStart(b,0):a.setEnd(b,0))}while(b=c?e.next():e.prev());"BODY"==d.nodeName&&(c?a.setStart(d,0):a.setEnd(d,d.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?f.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null;this.controlSelection.destroy()}},u});v("6d",[],function(){return{KEEP:0,
DELETE:2,INSERT:1,diff:function(h,g){var f=h.length+g.length+2,e=Array(f),b=Array(f),d=function(a,f,l,r,q){a:{var m=f-a,k=r-l;if(0===m||0===k)var u=null;else{u=m-k;m=k+m;m=(0===m%2?m:m+1)/2;e[1+m]=a;b[1+m]=f+1;for(k=0;k<=m;++k){for(var z=-k;z<=k;z+=2){var x=z+m;z===-k||z!=k&&e[x-1]<e[x+1]?e[x]=e[x+1]:e[x]=e[x-1]+1;for(var t=e[x],w=t-a+l-z;t<f&&w<r&&h[t]===g[w];)e[x]=++t,++w;if(0!=u%2&&u-k<=z&&z<=u+k&&b[x-u]<=e[x]){u=c(b[x-u],z+a-l,f,r);break a}}for(z=u-k;z<=u+k;z+=2){x=z+m-u;z===u-k||z!=u+k&&b[x+
1]<=b[x-1]?b[x]=b[x+1]-1:b[x]=b[x-1];t=b[x]-1;for(w=t-a+l-z;t>=a&&w>=l&&h[t]===g[w];)b[x]=t--,w--;if(0===u%2&&-k<=z&&z<=k&&b[x]<=e[x+u]){u=c(b[x],z+a-l,f,r);break a}}}u=void 0}}if(null===u||u.start===f&&u.diag===f-r||u.end===a&&u.diag===a-l)for(u=a,m=l;u<f||m<r;)u<f&&m<r&&h[u]===g[m]?(q.push([0,h[u]]),++u,++m):f-a>r-l?(q.push([2,h[u]]),++u):(q.push([1,g[m]]),++m);else{d(a,u.start,l,u.start-u.diag,q);for(a=u.start;a<u.end;++a)q.push([0,h[a]]);d(u.end,f,u.end-u.diag,r,q)}},c=function(a,b,c,d){for(var e=
a;e-b<d&&e<c&&h[e]===g[e-b];)++e;return{start:a,end:e,diag:b}};f=[];return d(0,h.length,0,g.length,f),f}}});v("53",["1q","g","6d"],function(h,g,f){var e=function(b){return 1===b.nodeType?b.outerHTML:3===b.nodeType?g.encodeRaw(b.data,!1):8===b.nodeType?"\x3c!--"+b.data+"--\x3e":""},b=function(b,c){var a=0;h.each(b,function(b){if(b[0]===f.KEEP)a++;else if(b[0]===f.INSERT){var d=a,e=b[1];var g=document.createElement("div");b=document.createDocumentFragment();for(e&&(g.innerHTML=e);e=g.firstChild;)b.appendChild(e);
c.hasChildNodes()&&d<c.childNodes.length?(d=c.childNodes[d],d.parentNode.insertBefore(b,d)):c.appendChild(b);a++}else b[0]===f.DELETE&&(d=a,c.hasChildNodes()&&d<c.childNodes.length&&(d=c.childNodes[d],d.parentNode.removeChild(d)))})};return{read:function(b){return h.filter(h.map(b.childNodes,e),function(b){return 0<b.length})},write:function(d,c){var a=h.map(c.childNodes,e);return b(f.diff(a,d),c),c}}});v("25",["1q","53"],function(h,g){var f=function(b){return{type:"fragmented",fragments:b,content:"",
bookmark:null,beforeBookmark:null}},e=function(b){return{type:"complete",fragments:null,content:b,bookmark:null,beforeBookmark:null}},b=function(b){return"fragmented"===b.type?b.fragments.join(""):b.content};return{createFragmentedLevel:f,createCompleteLevel:e,createFromEditor:function(b){var c,a,d;return c=g.read(b.getBody()),d=h.map(c,function(a){return b.serializer.trimContent(a)}),a=d.join(""),-1!==a.indexOf("</iframe>")?f(d):e(a)},applyToEditor:function(b,c,a){"fragmented"===c.type?g.write(c.fragments,
b.getBody()):b.setContent(c.content,{format:"raw"});b.selection.moveToBookmark(a?c.beforeBookmark:c.bookmark)},isEq:function(d,c){return!!d&&!!c&&b(d)===b(c)}}});v("w",["s","c","25"],function(h,g,f){return function(e){function b(b){q(!1);a.add({},b)}var d,c,a=this,m=0,l=[],h=0,q=function(b){0===h&&(a.typing=b)};return e.on("init",function(){a.add()}),e.on("BeforeExecCommand",function(b){b=b.command;"Undo"!==b&&"Redo"!==b&&"mceRepaint"!==b&&(a.typing&&(q(!1),a.add()),a.beforeChange())}),e.on("ExecCommand",
function(a){var c=a.command;"Undo"!==c&&"Redo"!==c&&"mceRepaint"!==c&&b(a)}),e.on("ObjectResizeStart Cut",function(){a.beforeChange()}),e.on("SaveContent ObjectResized blur",b),e.on("DragEnd",b),e.on("KeyUp",function(d){var k=d.keyCode;d.isDefaultPrevented()||((33<=k&&36>=k||37<=k&&40>=k||45===k||d.ctrlKey)&&(b(),e.nodeChanged()),46!==k&&8!==k||e.nodeChanged(),c&&a.typing&&!1===f.isEq(f.createFromEditor(e),l[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:l[0],lastLevel:null})),e.fire("TypingUndo"),
c=!1,e.nodeChanged()))}),e.on("KeyDown",function(d){var e=d.keyCode;if(!d.isDefaultPrevented()){if(33<=e&&36>=e||37<=e&&40>=e||45===e)return void(a.typing&&b(d));var f=d.ctrlKey&&!d.altKey||d.metaKey;!(16>e||20<e)||224===e||91===e||a.typing||f||(a.beforeChange(),q(!0),a.add({},d),c=!0)}}),e.on("MouseDown",function(c){a.typing&&b(c)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||e.nodeChanged()}),
a={data:l,typing:!1,beforeChange:function(){0===h&&(d=e.selection.getBookmark(2,!0))},add:function(a,b){var c,k,p=e.settings;if((c=f.createFromEditor(e),a=a||{},a=g.extend(a,c),0===h===!1||e.removed)||(k=l[m],e.fire("BeforeAddUndo",{level:a,lastLevel:k,originalEvent:b}).isDefaultPrevented())||k&&f.isEq(k,a))return null;if(l[m]&&(l[m].beforeBookmark=d),p.custom_undo_redo_levels&&l.length>p.custom_undo_redo_levels){for(c=0;c<l.length-1;c++)l[c]=l[c+1];l.length--;m=l.length}a.bookmark=e.selection.getBookmark(2,
!0);m<l.length-1&&(l.length=m+1);l.push(a);m=l.length-1;k={level:a,lastLevel:k,originalEvent:b};e.fire("AddUndo",k);0<m&&(e.setDirty(!0),e.fire("change",k));return a},undo:function(){a.typing&&(a.add(),a.typing=!1,q(!1));if(0<m){var b=l[--m];f.applyToEditor(e,b,!0);e.setDirty(!0);e.fire("undo",{level:b})}return b},redo:function(){if(m<l.length-1){var a=l[++m];f.applyToEditor(e,a,!1);e.setDirty(!0);e.fire("redo",{level:a})}return a},clear:function(){l=[];m=0;a.typing=!1;a.data=l;e.fire("ClearUndos")},
hasUndo:function(){return 0<m||a.typing&&l[0]&&!f.isEq(f.createFromEditor(e),l[0])},hasRedo:function(){return m<l.length-1&&!a.typing},transact:function(b){a.typing&&(q(!1),a.add());return a.beforeChange(),a.ignore(b),a.add()},ignore:function(a){try{h++,a()}finally{h--}},extra:function(b,c){var d,k;a.transact(b)&&(k=l[m].bookmark,d=l[m-1],f.applyToEditor(e,d,!0),a.transact(c)&&(l[m-1].beforeBookmark=k))}}}});v("57",["49","21","1w","6a","4z"],function(h,g,f,e,b){var d=function(b){return function(a){return g.eq(b,
f.fromDom(a.dom().parentNode))}};return{getParentBlock:function(c,a){return g.contains(c,a)?e.closest(a,function(a){return b.isTextBlock(a)||b.isListItem(a)},d(c)):h.none()},paddEmptyBody:function(b){if(b.dom.isEmpty(b.getBody())){b.setContent("");var a=b.getBody();a=a.firstChild&&b.dom.isBlock(a.firstChild)?a.firstChild:a;b.selection.setCursorLocation(a,0)}}}});v("7g",["4y"],function(h){return{any:function(g){return h.first(g).isSome()},ancestor:function(g,f,e){return h.ancestor(g,f,e).isSome()},
sibling:function(g,f){return h.sibling(g,f).isSome()},child:function(g,f){return h.child(g,f).isSome()},descendant:function(g,f){return h.descendant(g,f).isSome()},closest:function(g,f,e){return h.closest(g,f,e).isSome()}}});v("72","1 21 1w 7g 4f 1t f".split(" "),function(h,g,f,e,b,d,c){var a=function(a,c){var k;if(k=b.isCaretCandidate(c)){if(k=d.isText(c)&&/^[ \t\r\n]*$/.test(c.data)){k=f.fromDom(a);var l=f.fromDom(c);k=!1===e.ancestor(l,"pre,code",h.curry(g.eq,k))}k=!1===k}k||(k=d.isElement(c)&&
"A"===c.nodeName&&c.hasAttribute("name"));return k||m(c)},m=d.hasAttribute("data-mce-bookmark"),l=d.hasAttribute("data-mce-bogus"),r=d.hasAttributeValue("data-mce-bogus","all"),q=function(b){var e,f=0;if(a(b,b))return!1;if(e=b.firstChild,!e)return!0;var g=new c(e,b);do if(r(e))e=g.next(!0);else{if(!l(e))if(d.isBr(e))f++;else if(a(b,e))return!1;e=g.next()}while(e);return 1>=f};return{isEmpty:function(a){return q(a.dom())}}});v("6e","2j 1 49 6c 5k 21 1w 4w 6a 5h 5w 20 57 72 1t".split(" "),function(h,
g,f,e,b,d,c,a,m,l,r,q,p,k,u){var z=b.immutable("block","position"),x=b.immutable("from","to"),t=function(a,b){var d=c.fromDom(a),e=c.fromDom(b.container());return p.getParentBlock(d,e).map(function(a){return z(a,b)})},w=function(a){return l.parent(a.from().block()).bind(function(b){return l.parent(a.to().block()).filter(function(a){return d.eq(b,a)})}).isSome()},n=function(a,b,c){return u.isBr(c.position().getNode())&&!1===k.isEmpty(c.block())?r.positionIn(!1,c.block().dom()).bind(function(d){return d.isEqual(c.position())?
r.fromPosition(b,a,d).bind(function(b){return t(a,b)}):f.some(c)}).getOr(c):c},y=function(a,b,c){c=t(a,q.fromRangeStart(c));var f=c.bind(function(c){return r.fromPosition(b,a,c.position()).bind(function(c){return t(a,c).map(function(c){return n(a,b,c)})})});return e.liftN([c,f],x).filter(function(a){var b;if(b=!1===d.eq(a.from().block(),a.to().block())&&w(a))b=!1===u.isContentEditableFalse(a.from().block())&&!1===u.isContentEditableFalse(a.to().block());return b})};return{read:function(a,b,c){return c.collapsed?
y(a,b,c):f.none()}}});v("6f","2j 49 21 4t 68 1w 5h 5w 20 4z 72 1t 50".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p){var k=function(a){var b=c.children(a);return h.findIndex(b,l.isBlock).fold(function(){return b},function(a){return b.slice(0,a)})},u=function(a){a=k(a);return h.each(a,function(a){b.remove(a)}),a},z=function(c,e){a.positionIn(c,e.dom()).each(function(a){a=a.getNode();q.isBr(a)&&b.remove(d.fromDom(a))})},x=function(a,c){var d=p.parentsAndSelf(c,a);return h.find(d.reverse(),r.isEmpty).each(b.remove)},
t=function(a,b){var d=c.parents(b,function(b){return f.eq(b,a)});return g.from(d[d.length-2])},w=function(a,b){return f.contains(b,a)?c.parent(a).bind(function(c){return f.eq(c,b)?g.some(a):t(b,a)}):g.none()},n=function(c,d,f){if(r.isEmpty(f))return b.remove(f),a.firstPositionIn(d.dom());z(!0,d);z(!1,f);var k=u(d);return w(d,f).fold(function(){x(c,d);var b=a.lastPositionIn(f.dom());return h.each(k,function(a){e.append(f,a)}),b},function(b){var g=a.prevPosition(f.dom(),m.before(b.dom()));return h.each(k,
function(a){e.before(b,a)}),x(c,d),g})};return{mergeBlocks:function(a,b,c,d){return b?n(a,d,c):n(a,c,d)}}});v("54",["1w","6e","6f"],function(h,g,f){return{backspaceDelete:function(e,b){var d,c=h.fromDom(e.getBody());return d=g.read(c.dom(),b,e.selection.getRng()).bind(function(a){return f.mergeBlocks(c,b,a.from().block(),a.to().block())}),d.each(function(a){e.selection.setRng(a.toRange())}),d.isSome()}}});v("55","6c 21 1w 5w 20 57 6f".split(" "),function(h,g,f,e,b,d,c){var a=function(a,b){var e=b.getRng();
return h.liftN([d.getParentBlock(a,f.fromDom(e.startContainer)),d.getParentBlock(a,f.fromDom(e.endContainer))],function(d,f){return!1===g.eq(d,f)&&(e.deleteContents(),c.mergeBlocks(a,!0,d,f).each(function(a){b.setRng(a.toRange())}),!0)}).getOr(!1)};return{backspaceDelete:function(c,d){var g;if(g=!c.selection.isCollapsed()){c.selection.getRng();g=f.fromDom(c.getBody());var l=c.selection.getRng(),m=e.prevPosition(g.dom(),b.fromRangeStart(l)).isNone();l=e.nextPosition(g.dom(),b.fromRangeEnd(l)).isNone();
g=m&&l?(c.setContent(""),c.selection.setCursorLocation(),!0):a(g,c.selection)}return g}}});v("6m","2j 5i 2k 3 4 4p".split(" "),function(h,g,f,e,b,d){return{generate:function(c){if(!f.isArray(c))throw new b("cases must be an array");if(0===c.length)throw new b("there must be at least one case");var a=[],m={};return h.each(c,function(l,r){var q=g.keys(l);if(1!==q.length)throw new b("one and only one name per case");var p=q[0],k=l[p];if(void 0!==m[p])throw new b("duplicate key detected:"+p);if("cata"===
p)throw new b("cannot have a case named cata (sorry)");if(!f.isArray(k))throw new b("case arguments must be an array");a.push(p);m[p]=function(){var f=arguments.length;if(f!==k.length)throw new b("Wrong number of arguments to case "+p+". Expected "+k.length+" ("+k+"), got "+f);var l=new e(f);for(f=0;f<l.length;f++)l[f]=arguments[f];return{fold:function(){if(arguments.length!==c.length)throw new b("Wrong number of arguments to fold. Expected "+c.length+", got "+arguments.length);return arguments[r].apply(null,
l)},match:function(c){var d=g.keys(c);if(a.length!==d.length)throw new b("Wrong number of arguments to match. Expected: "+a.join(",")+"\nActual: "+d.join(","));if(!h.forall(a,function(a){return h.contains(d,a)}))throw new b("Not all branches were specified when using match. Specified: "+d.join(", ")+"\nRequired: "+a.join(", "));return c[p].apply(null,l)},log:function(b){d.log(b,{constructors:a,constructor:p,params:l})}}}}),m}}});v("6g","6m 49 1w 5w 20 5x 57 72 1t".split(" "),function(h,g,f,e,b,d,
c,a,m){var l=h.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),r=function(a,b){var c=b.getNode(!1===a),d=a?"after":"before";return m.isElement(c)&&c.getAttribute("data-mce-caret")===d},q=function(b,d,e,k){var n=k.getNode(!1===d);return c.getParentBlock(f.fromDom(b),f.fromDom(e.getNode())).map(function(b){return a.isEmpty(b)?l.remove(b.dom()):l.moveToElement(n)}).orThunk(function(){return g.some(l.moveToElement(n))})},p=function(a,b,c){return e.fromPosition(b,
a,c).bind(function(e){return b&&m.isContentEditableFalse(e.getNode())?q(a,b,c,e):!1===b&&m.isContentEditableFalse(e.getNode(!0))?q(a,b,c,e):b&&d.isAfterContentEditableFalse(c)?g.some(l.moveToPosition(e)):!1===b&&d.isBeforeContentEditableFalse(c)?g.some(l.moveToPosition(e)):g.none()})},k=function(a,b){return a&&m.isContentEditableFalse(b.nextSibling)?g.some(l.moveToElement(b.nextSibling)):!1===a&&m.isContentEditableFalse(b.previousSibling)?g.some(l.moveToElement(b.previousSibling)):g.none()},u=function(a,
b,c){return r(b,c)?k(b,c.getNode(!1===b)).fold(function(){return p(a,b,c)},g.some):p(a,b,c)};return{read:function(a,c,e){e=d.normalizeRange(c?1:-1,a,e);e=b.fromRangeStart(e);return!1===c&&d.isAfterContentEditableFalse(e)?g.some(l.remove(e.getNode(!0))):c&&d.isBeforeContentEditableFalse(e)?g.some(l.remove(e.getNode())):u(a,c,e)}}});v("6h","1 49 6c 4t 68 1w 4w 6a 5h 4f 5w 20 72 1t".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k){var u=function(a,b){var c=b.container(),d=b.offset();return!1===q.isTextPosition(b)&&
c===a.parentNode&&d>q.before(a).offset()?new q(b.container(),b.offset()-1):b},z=function(a){return k.isText(a)?new q(a,0):q.before(a)},x=function(a){return k.isText(a)?new q(a,a.data.length):q.after(a)},t=function(a){return l.isCaretCandidate(a.previousSibling)?g.some(x(a.previousSibling)):a.previousSibling?r.lastPositionIn(a.previousSibling):g.none()},w=function(a){return l.isCaretCandidate(a.nextSibling)?g.some(z(a.nextSibling)):a.nextSibling?r.firstPositionIn(a.nextSibling):g.none()},n=function(a,
b){var c=q.before(b.previousSibling?b.previousSibling:b.parentNode);return r.prevPosition(a,c).fold(function(){return r.nextPosition(a,q.after(b))},g.some)},y=function(a,b){return r.nextPosition(a,q.after(b)).fold(function(){return r.prevPosition(a,q.before(b))},g.some)},D=function(a,b){return t(b).orThunk(function(){return w(b)}).orThunk(function(){return n(a,b)})},A=function(a,b){return w(b).orThunk(function(){return t(b)}).orThunk(function(){return y(a,b)})},B=function(a,b,c){return(a?A(b,c):D(b,
c)).map(h.curry(u,c))},C=function(a,b,c){c.fold(function(){a.focus()},function(c){a.selection.setRng(c.toRange(),b)})},H=function(a){return function(b){return b.dom()===a}},F=function(a,b){return b&&a.schema.getBlockElements().hasOwnProperty(c.name(b))},v=function(a){if(p.isEmpty(a)){var c=d.fromHtml('<br data-mce-bogus="1">');return b.empty(a),e.append(a,c),g.some(q.before(c.dom()))}return g.none()},J=function(a,c){return f.liftN([m.prevSibling(a),m.nextSibling(a),c],function(c,d,e){var f;c=c.dom();
var g=d.dom();return k.isText(c)&&k.isText(g)?(f=c.data.length,c.appendData(g.data),b.remove(d),b.remove(a),e.container()===g?new q(c,f):e):(b.remove(a),e)}).orThunk(function(){return b.remove(a),c})};return{deleteElement:function(b,c,d){var e=B(c,b.getBody(),d.dom()),f=a.ancestor(d,h.curry(F,b),H(b.getBody())),k=J(d,e);f.bind(v).fold(function(){C(b,c,k)},function(a){C(b,c,g.some(a))})}}});v("56","2j 68 1w 4x 20 6g 6h 57 1t".split(" "),function(h,g,f,e,b,d,c,a,m){var l=function(a,b){return function(d){return c.deleteElement(a,
b,f.fromDom(d)),!0}},r=function(a,c){return function(d){d=c?b.before(d):b.after(d);return a.selection.setRng(d.toRange()),!0}},q=function(a){return function(b){return a.selection.setRng(b.toRange()),!0}},p=function(a,b){return d.read(a.getBody(),b,a.selection.getRng()).map(function(c){return c.fold(l(a,b),r(a,b),q(a))}).getOr(!1)};return{backspaceDelete:function(b,d){if(b.selection.isCollapsed())var k=p(b,d);else if(k=b.selection.getNode(),k=!!m.isContentEditableFalse(k))h.each(e.descendants(f.fromDom(b.getBody()),
".mce-offscreen-selection"),g.remove),k=(c.deleteElement(b,d,f.fromDom(b.selection.getNode())),a.paddEmptyBody(b),!0);return k},paddEmptyElement:function(a){var c;a:{var d=a.getBody();for(var e=a.selection.getNode();e&&e!==d;){if(m.isContentEditableTrue(e)||m.isContentEditableFalse(e)){d=e;break a}e=e.parentNode}d=null}return m.isContentEditableTrue(d)&&a.dom.isBlock(d)&&a.dom.isEmpty(d)&&(c=a.dom.create("br",{"data-mce-bogus":"1"}),a.dom.setHTML(d,""),d.appendChild(c),a.selection.setRng(b.before(c).toRange())),
!0}}});v("73",["1","1t","1v"],function(h,g,f){var e=g.isText,b=function(b){return e(b)&&b.data[0]===f.ZWSP},d=function(b){return e(b)&&b.data[b.data.length-1]===f.ZWSP};g=function(c,a){if(c)if(e(a.previousSibling))var g=d(a.previousSibling)?a.previousSibling:(a.previousSibling.appendData(f.ZWSP),a.previousSibling);else e(a)?g=b(a)?a:(a.insertData(0,f.ZWSP),a):(g=a.ownerDocument.createTextNode(f.ZWSP),g=(a.parentNode.insertBefore(g,a),g));else e(a.nextSibling)?g=b(a.nextSibling)?a.nextSibling:(a.nextSibling.insertData(0,
f.ZWSP),a.nextSibling):e(a)?g=d(a)?a:(a.appendData(f.ZWSP),a):(g=a.ownerDocument.createTextNode(f.ZWSP),g=(a.nextSibling?a.parentNode.insertBefore(g,a.nextSibling):a.parentNode.appendChild(g),g));return g};return{insertInline:g,insertInlineBefore:h.curry(g,!0),insertInlineAfter:h.curry(g,!1)}});v("74","2j 1u 20 1t 1v c".split(" "),function(h,g,f,e,b,d){var c=e.isElement,a=e.isText,m=function(a){var b=a.parentNode;b&&b.removeChild(a)},l=function(a){try{return a.nodeValue}catch(u){return""}},r=function(a){var c=
b.trim(a);return{count:a.length-c.length,text:c}},q=function(a,b){var c=b.container(),d=h.indexOf(c.childNodes,a).map(function(a){return a<b.offset()?new f(c,b.offset()-1):b}).getOr(b);return p(a),d},p=function(d){if(c(d)&&g.isCaretContainer(d)&&(g.hasContent(d)?d.removeAttribute("data-mce-caret"):m(d)),a(d)){var e=b.trim(l(d));0===e.length?m(d):d.nodeValue=e}};return{removeAndReposition:function(a,b){if(f.isTextPosition(b))if(b.container()===a){var c=r(a.data.substr(0,b.offset()));var d=r(a.data.substr(b.offset()));
d=c.text+d.text;0<d.length?(0===d.length?m(a):a.nodeValue=d,c=new f(a,b.offset()-c.count)):c=b}else c=(p(a),b);else c=b.container()===a.parentNode?q(a,b):(p(a),b);return c},remove:p}});v("2e","2j 1 5i 49 5j 5k 2k 4s c".split(" "),function(h,g,f,e,b,d,c,a,m){var l=d.immutable("sections","settings"),r=a.detect().deviceType.isTouch(),q=["lists","autolink","autosave"],p=function(a){return c.isArray(a)?a.join(" "):a},k=function(a){a=h.map(p(a).split(" "),b.trim);return h.filter(a,g.curry(h.contains,q)).join(" ")},
u=function(a,b){var c=f.bifilter(b,function(b,c){return h.contains(a,c)});return l(c.t,c.f)},z=function(a,b){var c=a.sections();return c.hasOwnProperty(b)?c[b]:{}},x=function(a,b){var c=b.external_plugins?b.external_plugins:{};return a&&a.external_plugins?m.extend({},a.external_plugins,c):c};return{getEditorSettings:function(a,b,c,d,e){a={id:b,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:c,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,
relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0};e=u(["mobile"],e);b=e.settings().plugins;return m.extend(a,d,e.settings(),r?z(e,"mobile"):{},{validate:!0,content_editable:e.settings().inline,external_plugins:x(d,e.settings())},r&&b&&e.sections().hasOwnProperty("mobile")?
{plugins:k(b)}:{})},get:function(a,b){return e.from(a.settings[b])},getString:g.curry(function(a,b,c){return e.from(b.settings[c]).filter(a)},c.isString),filterMobilePlugins:k}});v("75",[],function(){var h=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(g){return h.test(g)}}});v("6l","2j 1 49 6c 2k 1w 1x 1u 5w 20 5x 5a h 1t 2e 75".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,u,z){e=function(b,c){var d=c.container(),e=c.offset();return b?a.isCaretContainerInline(d)?k.isText(d.nextSibling)?
new l(d.nextSibling,0):l.after(d):a.isBeforeInline(c)?new l(d,e+1):c:a.isCaretContainerInline(d)?k.isText(d.previousSibling)?new l(d.previousSibling,d.previousSibling.data.length):l.before(d):a.isAfterInline(c)?new l(d,e-1):c};b=g.curry(e,!0);g=g.curry(e,!1);return{isInlineTarget:function(a,b){var e=u.getString(a,"inline_boundaries_selector").getOr("a[href],code");return c.is(d.fromDom(b),e)},findRootInline:function(a,b,c){a=h.filter(p.DOM.getParents(c.container(),"*",b),a);return f.from(a[a.length-
1])},isRtl:function(a){return"rtl"===p.DOM.getStyle(a,"direction",!0)||z.hasStrongRtl(a.textContent)},isAtZwsp:function(b){return a.isBeforeInline(b)||a.isAfterInline(b)},normalizePosition:e,normalizeForwards:b,normalizeBackwards:g,hasSameParentBlock:function(a,b,c){b=r.getParentBlock(b,a);a=r.getParentBlock(c,a);return b&&b===a}}});v("6i","49 1u 73 74 5w 20 1t 6l".split(" "),function(h,g,f,e,b,d,c,a){var m=function(a,b){return c.isText(a.container())?f.insertInline(b,a.container()):f.insertInline(b,
a.getNode())},l=function(a,b){var c=b.get();return c&&a.container()===c&&g.isCaretContainerInline(c)};return{renderCaret:function(a,c){return c.fold(function(b){e.remove(a.get());b=f.insertInlineBefore(b);return a.set(b),h.some(new d(b,b.length-1))},function(c){return b.firstPositionIn(c).map(function(b){if(l(b,a))return new d(a.get(),1);e.remove(a.get());b=m(b,!0);return a.set(b),new d(b,1)})},function(c){return b.lastPositionIn(c).map(function(b){if(l(b,a))return new d(a.get(),a.get().length-1);
e.remove(a.get());b=m(b,!1);return a.set(b),new d(b,b.length-1)})},function(b){e.remove(a.get());b=f.insertInlineAfter(b);return a.set(b),h.some(new d(b,1))})}}});v("76",["49"],function(h){return{evaluateUntil:function(g,f){for(var e=0;e<g.length;e++){var b=g[e].apply(null,f);if(b.isSome())return b}return h.none()}}});v("6j","6m 1 49 6c 1u 5w 20 5x 1t 6l 76".split(" "),function(h,g,f,e,b,d,c,a,m,l,r){var q=h.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),
p=function(b,c){var d=a.getParentBlock(c,b);return d?d:b},k=function(a,b,c){var e=l.normalizeForwards(c),k=p(b,e.container());return l.findRootInline(a,k,e).fold(function(){return d.nextPosition(k,e).bind(g.curry(l.findRootInline,a,k)).map(function(a){return q.before(a)})},f.none)},u=function(a,b,c){var e=l.normalizeBackwards(c);return l.findRootInline(a,b,e).bind(function(a){return d.prevPosition(a,e).isNone()?f.some(q.start(a)):f.none()})},z=function(a,b,c){var e=l.normalizeForwards(c);return l.findRootInline(a,
b,e).bind(function(a){return d.nextPosition(a,e).isNone()?f.some(q.end(a)):f.none()})},x=function(a,b,c){var e=l.normalizeBackwards(c),k=p(b,e.container());return l.findRootInline(a,k,e).fold(function(){return d.prevPosition(k,e).bind(g.curry(l.findRootInline,a,k)).map(function(a){return q.after(a)})},f.none)},t=function(a){return!1===l.isRtl(n(a))},w=function(a,b,c){return r.evaluateUntil([k,u,z,x],[a,b,c]).filter(t)},n=function(a){return a.fold(g.identity,g.identity,g.identity,g.identity)},y=function(a){return a.fold(g.constant("before"),
g.constant("start"),g.constant("end"),g.constant("after"))},D=function(a){return a.fold(q.before,q.before,q.after,q.after)},A=function(a,b,c,d,f,k){return e.liftN([l.findRootInline(b,c,d),l.findRootInline(b,c,f)],function(b,d){return b!==d&&l.hasSameParentBlock(c,b,d)?q.after(a?b:d):k}).getOr(k)},B=function(a,b){return a.fold(g.constant(!0),function(a){return!(y(a)===y(b)&&n(a)===n(b))})},C=function(a,b,c,e,f){var k=l.normalizePosition(a,f);return d.fromPosition(a,c,k).map(g.curry(l.normalizePosition,
a)).fold(function(){return e.map(D)},function(d){return w(b,c,d).map(g.curry(A,a,b,c,k,d)).filter(g.curry(B,e))}).filter(t)},H=function(a,b){return a?b.fold(g.compose(f.some,q.start),f.none,g.compose(f.some,q.after),f.none):b.fold(f.none,g.compose(f.some,q.before),f.none,g.compose(f.some,q.end))};h=function(a,b,c,d){var e=l.normalizePosition(a,d),f=w(b,c,e);return w(b,c,e).bind(g.curry(H,a)).orThunk(function(){return C(a,b,c,f,d)})};return{readLocation:w,findLocation:h,prevLocation:g.curry(h,!1),
nextLocation:g.curry(h,!0),getElement:n,outside:D,inside:function(a){return a.fold(q.start,q.start,q.end,q.end)}}});v("6k","2j 1h 1 74 20 6i 6j 6l".split(" "),function(h,g,f,e,b,d,c,a){var m=function(a,b){var c=a.dom.createRng();c.setStart(b.container(),b.offset());c.setEnd(b.container(),b.offset());a.selection.setRng(c)},l=function(a,b){a?b.setAttribute("data-mce-selected","1"):b.removeAttribute("data-mce-selected","1")},r=function(a,b,c){return d.renderCaret(b,c).map(function(b){return m(a,b),c})},
q=function(d,e,g){var k=d.getBody(),l=b.fromRangeStart(d.selection.getRng()),m=f.curry(a.isInlineTarget,d);return c.findLocation(g,m,k,l).bind(function(a){return r(d,e,a)})},p=function(a,d,e,f){d.selection.isCollapsed()&&(f=h.filter(f,a),h.each(f,function(f){f=b.fromRangeStart(d.selection.getRng());c.readLocation(a,d.getBody(),f).bind(function(a){return r(d,e,a)})}))};return{move:function(a,b,c){return function(){return!1!==a.settings.inline_boundaries&&q(a,b,c).isSome()}},setupSelectedState:function(c){var d=
new g(null),k=f.curry(a.isInlineTarget,c);return c.on("NodeChange",function(g){if(!1!==c.settings.inline_boundaries){var t=g.parents,w=h.filter(c.dom.select("*[data-mce-selected]"),k);t=h.filter(t,k);h.each(h.difference(w,t),f.curry(l,!1));h.each(h.difference(t,w),f.curry(l,!0));c.selection.isCollapsed()&&!0!==c.composing&&d.get()&&(w=b.fromRangeStart(c.selection.getRng()),b.isTextPosition(w)&&!1===a.isAtZwsp(w)&&(m(c,e.removeAndReposition(d.get(),w)),d.set(null)));p(k,c,d,g.parents)}}),d},setCaretPosition:m}});
v("58","1 49 6c 1w 1u 5w 20 5x 6h 6i 6j 6k 6l".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p){var k=function(a,b){var c=document.createRange();return c.setStart(a.container(),a.offset()),c.setEnd(b.container(),b.offset()),c},u=function(a){return f.liftN([d.firstPositionIn(a),d.lastPositionIn(a)],function(b,c){var e=p.normalizePosition(!0,b),f=p.normalizePosition(!1,c);return d.nextPosition(a,e).map(function(a){return a.isEqual(f)}).getOr(!0)}).getOr(!0)},z=function(a,b){return function(c){return l.renderCaret(b,
c).map(function(b){return q.setCaretPosition(a,b),!0}).getOr(!1)}},x=function(a,b,d,e){var f=a.getBody(),g=h.curry(p.isInlineTarget,a);a.undoManager.ignore(function(){a.selection.setRng(k(d,e));a.execCommand("Delete");r.readLocation(g,f,c.fromRangeStart(a.selection.getRng())).map(r.inside).map(z(a,b))});a.nodeChanged()},t=function(b,c){var d=a.getParentBlock(c,b);return d?d:b},w=function(a,b,c,f){var k=t(a.getBody(),f.container()),l=h.curry(p.isInlineTarget,a),n=r.readLocation(l,k,f);return n.bind(function(a){return c?
a.fold(h.constant(g.some(r.inside(a))),g.none,h.constant(g.some(r.outside(a))),g.none):a.fold(g.none,h.constant(g.some(r.outside(a))),g.none,h.constant(g.some(r.inside(a))))}).map(z(a,b)).getOrThunk(function(){var g=d.navigate(c,k,f),h=g.bind(function(a){return r.readLocation(l,k,a)});return n.isSome()&&h.isSome()?p.findRootInline(l,k,f).map(function(b){return!!u(b)&&(m.deleteElement(a,c,e.fromDom(b)),!0)}).getOr(!1):h.bind(function(d){return g.map(function(d){return c?x(a,b,f,d):x(a,b,d,f),!0})}).getOr(!1)})};
return{backspaceDelete:function(a,b,d){if(a.selection.isCollapsed()&&!1!==a.settings.inline_boundaries){var e=c.fromRangeStart(a.selection.getRng());return w(a,b,d,e)}return!1}}});v("6n","6m 2j 1 49 6c 5k 21 1w 4x 4y".split(" "),function(h,g,f,e,b,d,c,a,m,l){var r=d.immutable("start","end"),q=d.immutable("rng","table","cells"),p=h.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),k=function(b,c){return l.closest(a.fromDom(b),"td,th",c)},u=function(a,b){return l.ancestor(a,"table",b)},z=
function(a){return!1===c.eq(a.start(),a.end())},x=function(a,b){return u(a.start(),b).bind(function(d){return u(a.end(),b).bind(function(a){return c.eq(d,a)?e.some(d):e.none()})})},t=function(a,c){return b.liftN([k(a.startContainer,c),k(a.endContainer,c)],r).filter(z)},w=function(a,b){return x(a,b).bind(function(b){var c=m.descendants(b,"td,th");return q(a,b,c)})},n=function(a,b){var d=f.curry(c.eq,a);return t(b,d).map(function(a){return w(a,d)})},y=function(a,b){return g.findIndex(a,function(a){return c.eq(a,
b)})},D=function(a){return b.liftN([y(a.cells(),a.rng().start()),y(a.cells(),a.rng().end())],function(b,c){return a.cells().slice(b,c+1)})},A=function(a){return D(a).bind(function(b){var c=a.cells();return b.length===c.length?p.removeTable(a.table()):p.emptyCells(b)})};return{getActionFromRange:function(a,b){return n(a,b).map(A)},getActionFromCells:function(a){return p.emptyCells(a)}}});v("59","6m 2j 1 1w 4x 6h 6n 5y".split(" "),function(h,g,f,e,b,d,c,a){var m=function(b,c){return g.each(c,a.fillWithPaddingBr),
b.selection.setCursorLocation(c[0].dom(),0),!0},l=function(a,b){return d.deleteElement(a,!1,b),!0},r=function(a,b,d){return c.getActionFromRange(b,d).map(function(b){return b.fold(f.curry(l,a),f.curry(m,a))}).getOr(!1)};return{backspaceDelete:function(a){var c;if(c=!a.selection.isCollapsed()){c=e.fromDom(a.getBody());var d=a.selection.getRng(),f=b.descendants(c,"td[data-mce-selected],th[data-mce-selected]");c=0!==f.length?m(a,f):r(a,c,d)}return c}}});v("26","54 55 56 57 58 59".split(" "),function(h,
g,f,e,b,d){return{deleteCommand:function(c){f.backspaceDelete(c,!1)||b.backspaceDelete(c,!1)||h.backspaceDelete(c,!1)||d.backspaceDelete(c)||g.backspaceDelete(c,!1)||(c.getDoc().execCommand("Delete",!1,null),e.paddEmptyBody(c))},forwardDeleteCommand:function(c){f.backspaceDelete(c,!0)||b.backspaceDelete(c,!0)||h.backspaceDelete(c,!0)||d.backspaceDelete(c)||g.backspaceDelete(c,!0)||c.getDoc().execCommand("ForwardDelete",!1,null)}}});v("5c",["c","5a","20"],function(h,g,f){var e=function(a,b,c){b=b.serialize(c);
a=a.createFragment(b);b=a.firstChild;c=a.lastChild;return b&&"META"===b.nodeName&&b.parentNode.removeChild(b),c&&"mce_marker"===c.id&&c.parentNode.removeChild(c),a},b=function(a){return h.grep(a.childNodes,function(a){return"LI"===a.nodeName})},d=function(a){return 0<a.length&&!a[a.length-1].firstChild?a.slice(0,-1):a},c=function(a,b){var c=a.getParent(b,a.isBlock);return c&&"LI"===c.nodeName?c:null},a=function(a,b){var c=b.cloneRange(),d=b.cloneRange();return c.setStartBefore(a),d.setEndAfter(a),
[c.cloneContents(),d.cloneContents()]},m=function(a,b){var c=f.before(a);return(c=(new g(b)).next(c))?c.toRange():null},l=function(a,b){var c=f.after(a);return(c=(new g(b)).prev(c))?c.toRange():null},r=function(b,c,d,e){e=a(b,e);var f=b.parentNode;return f.insertBefore(e[0],b),h.each(c,function(a){f.insertBefore(a,b)}),f.insertBefore(e[1],b),f.removeChild(b),l(c[c.length-1],d)},q=function(a,b,c){var d=a.parentNode;return h.each(b,function(b){d.insertBefore(b,a)}),m(a,c)},p=function(a,b,c,d){return d.insertAfter(b.reverse(),
a),l(b[0],c)};return{isListFragment:function(a){var b=a.firstChild;a=a.lastChild;return b&&"meta"===b.name&&(b=b.next),a&&"mce_marker"===a.attr("id")&&(a=a.prev),!(!b||b!==a)&&("ul"===b.name||"ol"===b.name)},insertAtCaret:function(a,l,m,h){a=e(l,a,h);var k=c(l,m.startContainer);a=d(b(a.firstChild));h=l.getRoot();var w=function(a){var b=f.fromRangeStart(m),d=new g(l.getRoot());a=1===a?d.prev(b):d.next(b);return!a||c(l,a.getNode())!==k};return w(1)?q(k,a,h):w(2)?p(k,a,h,l):r(k,a,h,m)},isParentBlockLi:function(a,
b){return!!c(a,b)},trimListItems:d,listItems:b}});v("27","20 5a 5b 1t 4i 9 q 5c c".split(" "),function(h,g,f,e,b,d,c,a,m){var l=e.matchNodeNames("td th"),r=function(a,b,c){if("all"===c.getAttribute("data-mce-bogus"))c.parentNode.insertBefore(a.dom.createFragment(b),c);else{var d=c.firstChild,e=c.lastChild;!d||d===e&&"BR"===d.nodeName?a.dom.setHTML(c,b):a.selection.setContent(b)}},q=function(e,k,q){function p(a){function b(a){return d[a]&&3==d[a].nodeType}var c,d,e;return c=A.getRng(!0),d=c.startContainer,
e=c.startOffset,3==d.nodeType&&(0<e?a=a.replace(/^&nbsp;/," "):b("previousSibling")||(a=a.replace(/^ /,"&nbsp;")),e<d.length?a=a.replace(/&nbsp;(<br>|)$/," "):b("nextSibling")||(a=a.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),a}function x(){var a=A.getRng(!0);var b=a.startContainer;var c=a.startOffset;3==b.nodeType&&a.collapsed&&("\u00a0"===b.data[c]?(b.deleteData(c,1),/[\u00a0| ]$/.test(k)||(k+=" ")):"\u00a0"===b.data[c-1]&&(b.deleteData(c-1,1),/[\u00a0| ]$/.test(k)||(k=" "+k)))}function t(a){return a&&
!e.schema.getShortEndedElements()[a.nodeName]}var w,n,u,D=e.schema.getTextInlineElements(),A=e.selection,B=e.dom;/^ | $/.test(k)&&(k=p(k));var C=e.parser;var H=q.merge;var F=new c({validate:e.settings.validate},e.schema);var v={content:k,format:"html",selection:!0};e.fire("BeforeSetContent",v);k=v.content;-1==k.indexOf("{$caret}")&&(k+="{$caret}");k=k.replace(/\{\$caret\}/,'<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');var J=A.getRng();var G=J.startContainer||(J.parentElement?
J.parentElement():null);var M=e.getBody();G===M&&A.isCollapsed()&&B.isBlock(M.firstChild)&&t(M.firstChild)&&B.isEmpty(M.firstChild)&&(J=B.createRng(),J.setStart(M.firstChild,0),J.setEnd(M.firstChild,0),A.setRng(J));A.isCollapsed()||(e.selection.setRng(b.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),x());G=A.getNode();M={context:G.nodeName.toLowerCase(),data:q.data};if(w=C.parse(k,M),!0===q.paste&&a.isListFragment(w)&&a.isParentBlockLi(B,G))return J=a.insertAtCaret(F,B,
e.selection.getRng(!0),w),e.selection.setRng(J),void e.fire("SetContent",v);if(function(a){for(;a=a.walk();)1===a.type&&a.attr("data-mce-fragment","1")}(w),n=w.lastChild,"mce_marker"==n.attr("id"))for(q=n,n=n.prev;n;n=n.walk(!0))if(3==n.type||!B.isBlock(n.name)){e.schema.isValidChild(n.parent.name,"span")&&n.parent.insert(q,n,"br"===n.name);break}if(e._selectionOverrides.showBlockCaretContainer(G),M.invalid){A.setContent('<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>');G=
A.getNode();q=e.getBody();for(9==G.nodeType?G=n=q:n=G;n!==q;)G=n,n=n.parentNode;k=G==q?q.innerHTML:B.getOuterHTML(G);k=F.serialize(C.parse(k.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(w)})));G==q?B.setHTML(q,k):B.setOuterHTML(G,k)}else k=F.serialize(w),r(e,k,G);(function(){if(H){var a=e.getBody(),b=new f(B);m.each(B.select("*[data-mce-fragment]"),function(c){for(var d=c.parentNode;d&&d!=a;d=d.parentNode)D[c.nodeName.toLowerCase()]&&b.compare(d,c)&&B.remove(c,
!0)})}})();(function(a){function b(a){for(var b=e.getBody();a&&a!==b;a=a.parentNode)if("false"===e.dom.getContentEditable(a))return a;return null}function c(a){a=h.fromRangeStart(a);if(a=(new g(e.getBody())).next(a))return a.toRange()}var f,k;if(a){if(A.scrollIntoView(a),f=b(a))return B.remove(a),void A.select(f);J=B.createRng();(n=a.previousSibling)&&3==n.nodeType?(J.setStart(n,n.nodeValue.length),d.ie||(u=a.nextSibling,u&&3==u.nodeType&&(n.appendData(u.data),u.parentNode.removeChild(u)))):(J.setStartBefore(a),
J.setEndBefore(a));f=B.getParent(a,B.isBlock);B.remove(a);f&&B.isEmpty(f)&&(e.$(f).empty(),J.setStart(f,0),J.setEnd(f,0),l(f)||f.getAttribute("data-mce-fragment")||!(k=c(J))?B.add(f,B.create("br",{"data-mce-bogus":"1"})):(J=k,B.remove(f)));A.setRng(J)}})(B.get("mce_marker"));(function(a){m.each(a.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")})})(e.getBody());e.fire("SetContent",v);e.addVisual()};return{insertAtCaret:function(a,b){var c;var d="string"!=typeof b?(c=m.extend({paste:b.paste,
data:{paste:b.paste}},b),{content:b.content,details:c}):{content:b,details:{}};q(a,d.content,d.details)}}});v("x","26 1t k f 9 27 c".split(" "),function(h,g,f,e,b,d,c){var a=c.each,m=c.extend,l=c.map,r=c.inArray,q=c.explode,p=b.ie&&11>b.ie;return function(c){function k(a){var b;if(!c.quirks.isHidden()&&!c.removed){if(a=a.toLowerCase(),b=A.state[a])return b(a);try{return c.getDoc().queryCommandState(a)}catch(F){}return!1}}function z(b,c){c=c||"exec";a(b,function(b,d){a(d.toLowerCase().split(","),function(a){A[c][a]=
b})})}function x(a,b,d){return void 0===b&&(b=!1),void 0===d&&(d=null),c.getDoc().execCommand(a,b,d)}function t(a,b){y.toggle(a,b?{value:b}:void 0);c.nodeChanged()}var w,n,y,D,A={state:{},exec:{},value:{}},B=c.settings;c.on("PreInit",function(){w=c.dom;n=c.selection;B=c.settings;y=c.formatter});m(this,{execCommand:function(b,d,e,f){var g,k=0;if(!c.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(b)||f&&f.skip_focus||c.focus(),f=c.fire("BeforeExecCommand",{command:b,
ui:d,value:e}),f.isDefaultPrevented())return!1;if(g=b.toLowerCase(),f=A.exec[g])return f(g,d,e),c.fire("ExecCommand",{command:b,ui:d,value:e}),!0;if(a(c.plugins,function(a){if(a.execCommand&&a.execCommand(b,d,e))return c.fire("ExecCommand",{command:b,ui:d,value:e}),k=!0,!1}),k)return k;if(c.theme&&c.theme.execCommand&&c.theme.execCommand(b,d,e))return c.fire("ExecCommand",{command:b,ui:d,value:e}),!0;try{k=c.getDoc().execCommand(b,d,e)}catch(M){}return!!k&&(c.fire("ExecCommand",{command:b,ui:d,value:e}),
!0)}},queryCommandState:k,queryCommandValue:function(a){var b;if(!c.quirks.isHidden()&&!c.removed){if(a=a.toLowerCase(),b=A.value[a])return b(a);try{return c.getDoc().queryCommandValue(a)}catch(F){}}},queryCommandSupported:function(a){if(a=a.toLowerCase(),A.exec[a])return!0;try{return c.getDoc().queryCommandSupported(a)}catch(H){}return!1},addCommands:z,addCommand:function(a,b,d){a=a.toLowerCase();A.exec[a]=function(a,e,f,g){return b.call(d||c,e,f,g)}},addQueryStateHandler:function(a,b,d){a=a.toLowerCase();
A.state[a]=function(){return b.call(d||c)}},addQueryValueHandler:function(a,b,d){a=a.toLowerCase();A.value[a]=function(){return b.call(d||c)}},hasCustomCommand:function(a){return a=a.toLowerCase(),!!A.exec[a]}});z({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){c.undoManager.add()},"Cut,Copy,Paste":function(a){var d=c.getDoc();try{x(a)}catch(E){var e=!0}if("paste"!==a||d.queryCommandEnabled(a)||(e=!0),e||!d.queryCommandSupported(a))a=c.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),
b.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),c.notificationManager.open({text:a,type:"error"})},unlink:function(){if(n.isCollapsed()){var a=c.dom.getParent(c.selection.getStart(),"a");return void(a&&c.dom.remove(a,!0))}y.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(b){var c=b.substring(7);"full"==c&&(c="justify");a(["left","center","right","justify"],function(a){c!=a&&y.remove("align"+a)});"none"!=c&&t("align"+c)},"InsertUnorderedList,InsertOrderedList":function(a){x(a);
if(a=w.getParent(n.getNode(),"ol,ul")){var b=a.parentNode;/^(H[1-6]|P|ADDRESS|PRE)$/.test(b.nodeName)&&(D=n.getBookmark(void 0),w.split(b,a),n.moveToBookmark(D))}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){t(a)},"ForeColor,HiliteColor,FontName":function(a,b,c){t(a,c)},FontSize:function(a,b,c){var d,e;1<=c&&7>=c&&(e=q(B.font_size_style_values),d=q(B.font_size_classes),c=d?d[c-1]||c:e[c-1]||c);t(a,c)},RemoveFormat:function(a){y.remove(a)},mceBlockQuote:function(){t("blockquote")},
FormatBlock:function(a,b,c){return t(c||"p")},mceCleanup:function(){var a=n.getBookmark();c.setContent(c.getContent({cleanup:!0}),{cleanup:!0});n.moveToBookmark(a)},mceRemoveNode:function(a,b,d){a=d||n.getNode();a!=c.getBody()&&(D=n.getBookmark(void 0),c.dom.remove(a,!0),n.moveToBookmark(D))},mceSelectNodeDepth:function(a,b,d){var e=0;w.getParent(n.getNode(),function(a){if(1==a.nodeType&&e++==d)return n.select(a),!1},c.getBody())},mceSelectNode:function(a,b,c){n.select(c)},mceInsertContent:function(a,
b,e){d.insertAtCaret(c,e)},mceInsertRawHTML:function(a,b,d){n.setContent("tiny_mce_marker");c.setContent(c.getContent().replace(/tiny_mce_marker/g,function(){return d}))},mceToggleFormat:function(a,b,c){t(c)},mceSetContent:function(a,b,d){c.setContent(d)},"Indent,Outdent":function(b){var d;var e=B.indentation;var f=/[a-z%]+$/i.exec(e);e=parseInt(e,10);k("InsertUnorderedList")||k("InsertOrderedList")?x(b):(B.forced_root_block||w.getParent(n.getNode(),w.isBlock)||y.apply("div"),a(n.getSelectedBlocks(),
function(a){if("false"!==w.getContentEditable(a)&&"LI"!==a.nodeName){var g=c.getParam("indent_use_margin",!1)?"margin":"padding";g="TABLE"===a.nodeName?"margin":g;g+="rtl"==w.getStyle(a,"direction",!0)?"Right":"Left";"outdent"==b?(d=Math.max(0,parseInt(a.style[g]||0,10)-e),w.setStyle(a,g,d?d+f:"")):(d=parseInt(a.style[g]||0,10)+e+f,w.setStyle(a,g,d))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){c.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){c.hasVisual=
!c.hasVisual;c.addVisual()},mceReplaceContent:function(a,b,d){c.execCommand("mceInsertContent",!1,d.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(a,b,c){"string"==typeof c&&(c={href:c});a=w.getParent(n.getNode(),"a");c.href=c.href.replace(" ","%20");a&&c.href||y.remove("link");c.href&&y.apply("link",c,a)},selectAll:function(){var a,b=w.getRoot();n.getRng().setStart?(b=w.getParent(n.getStart(),g.isContentEditableTrue))&&(a=w.createRng(),a.selectNodeContents(b),
n.setRng(a)):(a=n.getRng(),a.item||(a.moveToElementText(b),a.select()))},"delete":function(){h.deleteCommand(c)},forwardDelete:function(){h.forwardDeleteCommand(c)},mceNewDocument:function(){c.setContent("")},InsertLineBreak:function(a,b,d){var g,k,l;a=n.getRng(!0);(new f(w)).normalize(a);var m=a.startOffset,h=a.startContainer;1==h.nodeType&&h.hasChildNodes()&&(b=m>h.childNodes.length-1,h=h.childNodes[Math.min(m,h.childNodes.length-1)]||h,m=b&&3==h.nodeType?h.nodeValue.length:0);var t=w.getParent(h,
w.isBlock);b=t?t.nodeName.toUpperCase():"";var q=t?w.getParent(t.parentNode,w.isBlock):null,r=q?q.nodeName.toUpperCase():"";d=d&&d.ctrlKey;"LI"!=r||d||(t=q,b=r);if(h&&3==h.nodeType&&m>=h.nodeValue.length){if(!(d=p))a:{h=new e(h,t);for(m=c.schema.getNonEmptyElements();d=h.next();)if(m[d.nodeName.toLowerCase()]||0<d.length){d=!0;break a}d=void 0}d||(g=w.create("br"),a.insertNode(g),a.setStartAfter(g),a.setEndAfter(g),k=!0)}g=w.create("br");a.insertNode(g);d=w.doc.documentMode;return p&&"PRE"==b&&(!d||
8>d)&&g.parentNode.insertBefore(w.doc.createTextNode("\r"),g),l=w.create("span",{},"&nbsp;"),g.parentNode.insertBefore(l,g),n.scrollIntoView(l),w.remove(l),k?(a.setStartBefore(g),a.setEndBefore(g)):(a.setStartAfter(g),a.setEndAfter(g)),n.setRng(a),c.undoManager.add(),!0}});z({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(a){var b="align"+a.substring(7);a=n.isCollapsed()?[w.getParent(n.getNode(),w.isBlock)]:n.getSelectedBlocks();a=l(a,function(a){return!!y.matchNode(a,b)});return-1!==
r(a,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return y.match(a)},mceBlockQuote:function(){return y.match("blockquote")},Outdent:function(){var a;return B.inline_styles&&((a=w.getParent(n.getStart(),w.isBlock))&&0<parseInt(a.style.paddingLeft,10)||(a=w.getParent(n.getEnd(),w.isBlock))&&0<parseInt(a.style.paddingLeft,10))?!0:k("InsertUnorderedList")||k("InsertOrderedList")||!B.inline_styles&&!!w.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(a){var b=
w.getParent(n.getNode(),"ul,ol");return b&&("insertunorderedlist"===a&&"UL"===b.tagName||"insertorderedlist"===a&&"OL"===b.tagName)}},"state");z({"FontSize,FontName":function(a){var b,c=0;return(b=w.getParent(n.getNode(),"span"))&&(c="fontsize"==a?b.style.fontSize:b.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),c}},"value");z({Undo:function(){c.undoManager.undo()},Redo:function(){c.undoManager.redo()}})}});v("y",["28","c"],function(h,g){function f(a,c){var g,m,q=this;if(a=
b(a),c=q.settings=c||{},g=c.base_uri,/^([\w\-]+):([^\/]{2})/i.test(a)||/^\s*#/.test(a))return void(q.source=a);var p=0===a.indexOf("//");0!==a.indexOf("/")||p||(a=(g?g.protocol||"http":"http")+"://mce_host"+a);/^[\w\-]*:?\/\//.test(a)||(m=c.base_uri?c.base_uri.path:(new f(h.location.href)).directory,""===c.base_uri.protocol?a="//mce_host"+q.toAbsPath(m,a):(a=/([^#?]*)([#?]?.*)/.exec(a),a=(g&&g.protocol||"http")+"://mce_host"+q.toAbsPath(m,a[1])+a[2]));a=a.replace(/@@/g,"(mce_at)");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);
e(d,function(b,c){var d=a[c];d&&(d=d.replace(/\(mce_at\)/g,"@@"));q[b]=d});g&&(q.protocol||(q.protocol=g.protocol),q.userInfo||(q.userInfo=g.userInfo),q.port||"mce_host"!==q.host||(q.port=g.port),q.host&&"mce_host"!==q.host||(q.host=g.host),q.source="");p&&(q.protocol="")}var e=g.each,b=g.trim,d="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c={ftp:21,http:80,https:443,mailto:25};return f.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a);
this.path=a[0];this.directory=a[1];this.file=a[2];this.source="";this.getURI()},toRelative:function(a){var b;if("./"===a)return a;if(a=new f(a,{base_uri:this}),"mce_host"!=a.host&&this.host!=a.host&&a.host||this.port!=a.port||this.protocol!=a.protocol&&""!==a.protocol)return a.getURI();var c=this.getURI(),d=a.getURI();return c==d||"/"==c.charAt(c.length-1)&&c.substr(0,c.length-1)==d?c:(b=this.toRelPath(this.path,a.path),a.query&&(b+="?"+a.query),a.anchor&&(b+="#"+a.anchor),b)},toAbsolute:function(a,
b){return a=new f(a,{base_uri:this}),a.getURI(b&&this.isSameOrigin(a))},isSameOrigin:function(a){if(this.host==a.host&&this.protocol==a.protocol){if(this.port==a.port)return!0;var b=c[this.protocol];if(b&&(this.port||b)==(a.port||b))return!0}return!1},toRelPath:function(a,b){var c,d,e=0,f="";if(a=a.substring(0,a.lastIndexOf("/")),a=a.split("/"),c=b.split("/"),a.length>=c.length){var g=0;for(d=a.length;g<d;g++)if(g>=c.length||a[g]!=c[g]){e=g+1;break}}if(a.length<c.length)for(g=0,d=c.length;g<d;g++)if(g>=
a.length||a[g]!=c[g]){e=g+1;break}if(1===e)return b;g=0;for(d=a.length-(e-1);g<d;g++)f+="../";g=e-1;for(d=c.length;g<d;g++)f+=g!=e-1?"/"+c[g]:c[g];return f},toAbsPath:function(a,b){var c,d=0,f=[];var g=/\/$/.test(b)?"/":"";a=a.split("/");b=b.split("/");e(a,function(a){a&&f.push(a)});a=f;var k=b.length-1;for(f=[];0<=k;k--)0!==b[k].length&&"."!==b[k]&&(".."!==b[k]?0<d?d--:f.push(b[k]):d++);return k=a.length-d,c=0>=k?f.reverse().join("/"):a.slice(0,k).join("/")+"/"+f.reverse().join("/"),0!==c.indexOf("/")&&
(c="/"+c),g&&c.lastIndexOf("/")!==c.length-1&&(c+=g),c},getURI:function(a){var b;return this.source&&!a||(b="",a||(b+=this.protocol?this.protocol+"://":"//",this.userInfo&&(b+=this.userInfo+"@"),this.host&&(b+=this.host),this.port&&(b+=":"+this.port)),this.path&&(b+=this.path),this.query&&(b+="?"+this.query),this.anchor&&(b+="#"+this.anchor),this.source=b),this.source}},f.parseDataUri=function(a){var b,c;return a=decodeURIComponent(a).split(","),c=/data:([^;]+)/.exec(a[0]),c&&(b=c[1]),{type:b,data:a[1]}},
f.getDocumentBaseUrl=function(a){var b;return b=0!==a.protocol.indexOf("http")&&"file:"!==a.protocol?a.href:a.protocol+"//"+a.host+a.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(b)&&(b=b.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(b)||(b+="/")),b},f});v("z",["c"],function(h){function g(){}var f,e,b=h.each,d=h.extend;return g.extend=f=function(c){function a(){var a,b;if(!e&&(this.init&&this.init.apply(this,arguments),b=this.Mixins))for(a=b.length;a--;){var c=b[a];c.init&&c.init.apply(this,
arguments)}}function g(){return this}function l(a,b){return function(){var c,d=this._super;return this._super=q[a],c=b.apply(this,arguments),this._super=d,c}}var h,q=this.prototype;e=!0;var p=new this;e=!1;c.Mixins&&(b(c.Mixins,function(a){for(var b in a)"init"!==b&&(c[b]=a[b])}),q.Mixins&&(c.Mixins=q.Mixins.concat(c.Mixins)));c.Methods&&b(c.Methods.split(","),function(a){c[a]=g});c.Properties&&b(c.Properties.split(","),function(a){var b="_"+a;c[a]=function(a){return void 0!==a?(this[b]=a,this):this[b]}});
c.Statics&&b(c.Statics,function(b,c){a[c]=b});c.Defaults&&q.Defaults&&(c.Defaults=d({},q.Defaults,c.Defaults));for(h in c){var k=c[h];"function"==typeof k&&q[h]?p[h]=l(h,k):p[h]=k}return a.prototype=p,a.constructor=a,a.extend=f,a},g});v("10",["c"],function(h){function g(e){function b(){return!1}function d(){return!0}function c(a,c,d,e){var k;if(!1===c&&(c=b),c){c={func:c};e&&h.extend(c,e);var l=a.toLowerCase().split(" ");for(k=l.length;k--;)a=l[k],(e=g[a])||(e=g[a]=[],q(a,!0)),d?e.unshift(c):e.push(c)}return f}
function a(a,b){var c,d,e,k;if(a){var l=a.toLowerCase().split(" ");for(c=l.length;c--;){if(a=l[c],d=g[a],!a){for(e in g)q(e,!1),delete g[e];break}if(d){if(b)for(k=d.length;k--;)d[k].func===b&&(d=d.slice(0,k).concat(d.slice(k+1)),g[a]=d);else d.length=0;d.length||(q(a,!1),delete g[a])}}}else{for(a in g)q(a,!1);g={}}return f}var f=this,g={};e=e||{};var r=e.scope||f;var q=e.toggleEvent||b;f.fire=function(c,f){var k,l,h;if(c=c.toLowerCase(),f=f||{},f.type=c,f.target||(f.target=r),f.preventDefault||(f.preventDefault=
function(){f.isDefaultPrevented=d},f.stopPropagation=function(){f.isPropagationStopped=d},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=d},f.isDefaultPrevented=b,f.isPropagationStopped=b,f.isImmediatePropagationStopped=b),e.beforeFire&&e.beforeFire(f),k=g[c]){var m=0;for(l=k.length;m<l;m++){if(h=k[m],h.once&&a(c,h.func),f.isImmediatePropagationStopped())return f.stopPropagation(),f;if(!1===h.func.call(r,f))return f.preventDefault(),f}}return f};f.on=c;f.off=a;f.once=function(a,
b,d){return c(a,b,d,{once:!0})};f.has=function(a){return a=a.toLowerCase(),!(!g[a]||0===g[a].length)}}var f=h.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return g.isNative=function(e){return!!f[e.toLowerCase()]},
g});v("11",["10"],function(h){function g(f){return f._eventDispatcher||(f._eventDispatcher=new h({scope:f,toggleEvent:function(e,b){h.isNative(e)&&f.toggleNativeEvent&&f.toggleNativeEvent(e,b)}})),f._eventDispatcher}return{fire:function(f,e,b){if(this.removed&&"remove"!==f)return e;if(e=g(this).fire(f,e,b),!1!==b&&this.parent)for(b=this.parent();b&&!e.isPropagationStopped();)b.fire(f,e,!1),b=b.parent();return e},on:function(f,e,b){return g(this).on(f,e,b)},off:function(f,e){return g(this).off(f,e)},
once:function(f,e){return g(this).once(f,e)},hasEventListeners:function(f){return g(this).has(f)}}});v("6o",[],function(){function h(g){this.create=g.create}return h.create=function(g,f){return new h({create:function(e,b){function d(a){e.set(b,a.value)}var c;return e.on("change:"+b,function(a){g.set(f,a.value)}),g.on("change:"+f,d),c=e._bindings,c||(c=e._bindings=[],e.on("destroy",function(){for(var a=c.length;a--;)c[a]()})),c.push(function(){g.off("change:"+f,d)}),g.get(f)}})},h});v("5d",["6o","z",
"11","c"],function(h,g,f,e){function b(d,c){var a;if(d===c)return!0;if(null===d||null===c||"object"!=typeof d||"object"!=typeof c)return d===c;if(e.isArray(c)){if(d.length!==c.length)return!1;for(a=d.length;a--;)if(!b(d[a],c[a]))return!1}if(0<d.nodeType||0<c.nodeType)return d===c;var f={};for(a in c){if(!b(d[a],c[a]))return!1;f[a]=!0}for(a in d)if(!f[a]&&!b(d[a],c[a]))return!1;return!0}return g.extend({Mixins:[f],init:function(b){var c;b=b||{};for(c in b){var a=b[c];a instanceof h&&(b[c]=a.create(this,
c))}this.data=b},set:function(d,c){var a,e,f=this.data[d];if(c instanceof h&&(c=c.create(this,d)),"object"==typeof d){for(a in d)this.set(a,d[a]);return this}return b(f,c)||(this.data[d]=c,e={target:this,name:d,value:c,oldValue:f},this.fire("change:"+d,e),this.fire("change",e)),this},get:function(b){return this.data[b]},has:function(b){return b in this.data},bind:function(b){return h.create(this,b)},destroy:function(){this.fire("destroy")}})});v("2n",["z"],function(h){function g(a){for(var b,c=[],
d=a.length;d--;)b=a[d],b.__checked||(c.push(b),b.__checked=1);for(d=c.length;d--;)delete c[d].__checked;return c}var f,e=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,b=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=/^\s*|\s*$/g,c=h.extend({init:function(a){function c(a){if(a)return a=a.toLowerCase(),function(b){return"*"===a||b.type===a}}function f(a){if(a)return function(b){return b._name===
a}}function g(a){if(a)return a=a.split("."),function(b){for(var c=a.length;c--;)if(!b.classes.contains(a[c]))return!1;return!0}}function h(a,b,c){if(a)return function(d){d=d[a]?d[a]():"";return b?"="===b?d===c:"*="===b?0<=d.indexOf(c):"~="===b?0<=(" "+d+" ").indexOf(" "+c+" "):"!="===b?d!=c:"^="===b?0===d.indexOf(c):"$="===b&&d.substr(d.length-c.length)===c:!!c}}function p(a){var b;if(a)return a=/(?:not\((.+)\))|(.+)/i.exec(a),a[1]?(b=u(a[1],[]),function(a){return!z(a,b)}):(a=a[2],function(b,c,d){return"first"===
a?0===c:"last"===a?c===d-1:"even"===a?0===c%2:"odd"===a?1===c%2:!!b[a]&&b[a]()})}function k(a,b,k){function l(a){a&&b.push(a)}var m;return m=e.exec(a.replace(d,"")),l(c(m[1])),l(f(m[2])),l(g(m[3])),l(h(m[4],m[5],m[6])),l(p(m[7])),b.pseudo=!!m[7],b.direct=k,b}function u(a,c){var d,e=[];do if(b.exec(""),d=b.exec(a),d&&(a=d[3],e.push(d[1]),d[2])){var f=d[3];break}while(d);f&&u(f,c);a=[];for(f=0;f<e.length;f++)">"!=e[f]&&a.push(k(e[f],[],">"===e[f-1]));return c.push(a),c}var z=this.match;this._selectors=
u(a,[])},match:function(a,b){var c,d,e,f,g,h;b=b||this._selectors;var m=0;for(c=b.length;m<c;m++){var x=b[m];var t=x.length;var w=a;var n=0;for(d=t-1;0<=d;d--)for(f=x[d];w;){if(f.pseudo){var y=w.parent().items();for(g=h=y.length;g--&&y[g]!==w;);}y=0;for(e=f.length;y<e;y++)if(!f[y](w,g,h)){y=e+1;break}if(y===e){n++;break}if(d===t-1)break;w=w.parent()}if(n===t)return!0}return!1},find:function(a){function b(a,c,d){var f,g,k=c[d];var l=0;for(f=a.length;l<f;l++){var h=a[l];var m=0;for(g=k.length;m<g;m++)if(!k[m](h,
l,f)){m=g+1;break}if(m===g)d==c.length-1?e.push(h):h.items&&b(h.items(),c,d+1);else if(k.direct)break;h.items&&b(h.items(),c,d)}}var d,e=[],h=this._selectors;if(a.items){var p=0;for(d=h.length;p<d;p++)b(a.items(),h[p],0);1<d&&(e=g(e))}return f||(f=c.Collection),new f(e)}});return c});v("2o",["c","2n","z"],function(h,g,f){var e,b,d=Array.prototype.push,c=Array.prototype.slice;return b={length:0,init:function(a){a&&this.add(a)},add:function(a){return h.isArray(a)?d.apply(this,a):a instanceof e?this.add(a.toArray()):
d.call(this,a),this},set:function(a){var b=this.length;this.length=0;this.add(a);for(a=this.length;a<b;a++)delete this[a];return this},filter:function(a){var b,c,d=[];"string"==typeof a?(a=new g(a),c=function(b){return a.match(b)}):c=a;var f=0;for(b=this.length;f<b;f++){var h=this[f];c(h)&&d.push(h)}return new e(d)},slice:function(){return new e(c.apply(this,arguments))},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return h.each(this,a),this},toArray:function(){return h.toArray(this)},
indexOf:function(a){for(var b=this.length;b--&&this[b]!==a;);return b},reverse:function(){return new e(h.toArray(this).reverse())},hasClass:function(a){return!!this[0]&&this[0].classes.contains(a)},prop:function(a,b){var c;return void 0!==b?(this.each(function(c){c[a]&&c[a](b)}),this):(c=this[0],c&&c[a]?c[a]():void 0)},exec:function(a){var b=h.toArray(arguments).slice(1);return this.each(function(c){c[a]&&c[a].apply(c,b)}),this},remove:function(){for(var a=this.length;a--;)this[a].remove();return this},
addClass:function(a){return this.each(function(b){b.classes.add(a)})},removeClass:function(a){return this.each(function(b){b.classes.remove(a)})}},h.each("fire on off show hide append prepend before after reflow".split(" "),function(a){b[a]=function(){var b=h.toArray(arguments);return this.each(function(c){a in c&&c[a].apply(c,b)}),this}}),h.each("text name disabled active selected checked visible parent value data".split(" "),function(a){b[a]=function(b){return this.prop(a,b)}}),e=f.extend(b),g.Collection=
e,e});v("2c",["9","c","h"],function(h,g,f){var e=0,b={id:function(){return"mceu_"+e++},create:function(b,c,a){var d=document.createElement(b);return f.DOM.setAttribs(d,c),"string"==typeof a?d.innerHTML=a:g.each(a,function(a){a.nodeType&&d.appendChild(a)}),d},createFragment:function(b){return f.DOM.createFragment(b)},getWindowSize:function(){return f.DOM.getViewPort()},getSize:function(b){if(b.getBoundingClientRect){var c=b.getBoundingClientRect();var a=Math.max(c.width||c.right-c.left,b.offsetWidth);
b=Math.max(c.height||c.bottom-c.bottom,b.offsetHeight)}else a=b.offsetWidth,b=b.offsetHeight;return{width:a,height:b}},getPos:function(d,c){return f.DOM.getPos(d,c||b.getContainer())},getContainer:function(){return h.container?h.container:document.body},getViewPort:function(b){return f.DOM.getViewPort(b)},get:function(b){return document.getElementById(b)},addClass:function(b,c){return f.DOM.addClass(b,c)},removeClass:function(b,c){return f.DOM.removeClass(b,c)},hasClass:function(b,c){return f.DOM.hasClass(b,
c)},toggleClass:function(b,c,a){return f.DOM.toggleClass(b,c,a)},css:function(b,c,a){return f.DOM.setStyle(b,c,a)},getRuntimeStyle:function(b,c){return f.DOM.getStyle(b,c,!0)},on:function(b,c,a,e){return f.DOM.bind(b,c,a,e)},off:function(b,c,a){return f.DOM.unbind(b,c,a)},fire:function(b,c,a){return f.DOM.fire(b,c,a)},innerHtml:function(b,c){f.DOM.setHTML(b,c)}};return b});v("5e",[],function(){return{parseBox:function(h){var g;if(h)return"number"==typeof h?(h=h||0,{top:h,left:h,bottom:h,right:h}):
(h=h.split(" "),g=h.length,1===g?h[1]=h[2]=h[3]=h[0]:2===g?(h[2]=h[0],h[3]=h[1]):3===g&&(h[3]=h[1]),{top:parseInt(h[0],10)||0,right:parseInt(h[1],10)||0,bottom:parseInt(h[2],10)||0,left:parseInt(h[3],10)||0})},measureBox:function(h,g){function f(b){var d=document.defaultView;return d?(b=b.replace(/[A-Z]/g,function(b){return"-"+b}),d.getComputedStyle(h,null).getPropertyValue(b)):h.currentStyle[b]}function e(b){b=parseFloat(f(b),10);return isNaN(b)?0:b}return{top:e(g+"TopWidth"),right:e(g+"RightWidth"),
bottom:e(g+"BottomWidth"),left:e(g+"LeftWidth")}}}});v("5f",["c"],function(h){function g(){}function f(e){this.cls=[];this.cls._map={};this.onchange=e||g;this.prefix=""}return h.extend(f.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var b=0;b<this.cls.length&&this.cls[b]!==e;b++);this.cls.splice(b,1);delete this.cls._map[e];this._change()}return this},toggle:function(e,b){var d=this.contains(e);
return d!==b&&(d?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue;this.onchange.call(this)}}),f.prototype.toString=function(){if(this.clsValue)return this.clsValue;var e="";for(var b=0;b<this.cls.length;b++)0<b&&(e+=" "),e+=this.prefix+this.cls[b];return e},f});v("2p",["8"],function(h){var g,f={};return{add:function(e){(e=e.parent())&&e._layout&&!e._layout.isNative()&&(f[e._id]||(f[e._id]=e),g||(g=!0,h.requestAnimationFrame(function(){var b;
g=!1;for(b in f){var d=f[b];d.state.get("rendered")&&d.reflow()}f={}},document.body)))},remove:function(e){f[e._id]&&delete f[e._id]}}});v("2q","z c 10 5d 2o 2c d 5e 5f 2p".split(" "),function(h,g,f,e,b,d,c,a,m,l){function r(a){return a._eventDispatcher||(a._eventDispatcher=new f({scope:a,toggleEvent:function(b,c){c&&f.isNative(b)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[b]=!0,a.state.get("rendered")&&q(a))}})),a._eventDispatcher}function q(a){function b(b){var c=a.getParentCtrl(b.target);
c&&c.fire(b.type,b)}function d(){var a=p._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(a){a.fire("mouseleave",{target:a.getEl()})}),p._lastHoverCtrl=null)}function e(b){var c;var d=a.getParentCtrl(b.target);var e=p._lastHoverCtrl,f=0;if(d!==e){if(p._lastHoverCtrl=d,c=d.parents().toArray().reverse(),c.push(d),e){d=e.parents().toArray().reverse();d.push(e);for(f=0;f<d.length&&c[f]===d[f];f++);for(b=d.length-1;b>=f;b--)e=d[b],e.fire("mouseleave",{target:e.getEl()})}for(b=
f;b<c.length;b++)d=c[b],d.fire("mouseenter",{target:d.getEl()})}}function f(b){b.preventDefault();"mousewheel"==b.type?(b.deltaY=-.025*b.wheelDelta,b.wheelDeltaX&&(b.deltaX=-.025*b.wheelDeltaX)):(b.deltaX=0,b.deltaY=b.detail);a.fire("wheel",b)}var g,l,h;if(l=a._nativeEvents){var m=a.parents().toArray();m.unshift(a);var t=0;for(g=m.length;!p&&t<g;t++)var p=m[t]._eventsRoot;p||(p=m[m.length-1]||a);a._eventsRoot=p;g=t;for(t=0;t<g;t++)m[t]._eventsRoot=p;(t=p._delegates)||(t=p._delegates={});for(h in l){if(!l)return!1;
"wheel"!==h||u?("mouseenter"===h||"mouseleave"===h?p._hasMouseEnter||(c(p.getEl()).on("mouseleave",d).on("mouseover",e),p._hasMouseEnter=1):t[h]||(c(p.getEl()).on(h,b),t[h]=!0),l[h]=!1):k?c(a.getEl()).on("mousewheel",f):c(a.getEl()).on("DOMMouseScroll",f)}}}var p,k="onmousewheel"in document,u=!1,z=0,x={Statics:{classPrefix:"mce-"},isRtl:function(){return p.rtl},classPrefix:"mce-",init:function(b){function d(a){var b;a=a.split(" ");for(b=0;b<a.length;b++)l.classes.add(a[b])}var f,k,l=this;l.settings=
b=g.extend({},l.Defaults,b);l._id=b.id||"mceu_"+z++;l._aria={role:b.role};l._elmCache={};l.$=c;l.state=new e({visible:!0,active:!1,disabled:!1,value:""});l.data=new e(b.data);l.classes=new m(function(){l.state.get("rendered")&&(l.getEl().className=this.toString())});l.classes.prefix=l.classPrefix;(f=b.classes)&&(l.Defaults&&(k=l.Defaults.classes,k&&f!=k&&d(k)),d(f));g.each("title text name visible disabled active value".split(" "),function(a){a in b&&l[a](b[a])});l.on("click",function(){if(l.disabled())return!1});
l.settings=b;l.borderBox=a.parseBox(b.border);l.paddingBox=a.parseBox(b.padding);l.marginBox=a.parseBox(b.margin);b.hidden&&l.hide()},Properties:"parent,name",getContainerElm:function(){return d.getContainer()},getParentCtrl:function(a){for(var b,c=this.getRoot().controlIdLookup;a&&c&&!(b=c[a.id]);)a=a.parentNode;return b},initLayoutRect:function(){var b,c=this.settings;var e=this.getEl();var f=this.borderBox=this.borderBox||a.measureBox(e,"border");this.paddingBox=this.paddingBox||a.measureBox(e,
"padding");this.marginBox=this.marginBox||a.measureBox(e,"margin");var g=d.getSize(e);var k=c.minWidth;var l=c.minHeight;e=k||g.width;var h=l||g.height;g=c.width;var m=c.height;var p=c.autoResize;p="undefined"!=typeof p?p:!g&&!m;g=g||e;m=m||h;var q=f.left+f.right;f=f.top+f.bottom;var r=c.maxWidth||65535,u=c.maxHeight||65535;return this._layoutRect=b={x:c.x||0,y:c.y||0,w:g,h:m,deltaW:q,deltaH:f,contentW:g-q,contentH:m-f,innerW:g-q,innerH:m-f,startMinWidth:k||0,startMinHeight:l||0,minW:Math.min(e,r),
minH:Math.min(h,u),maxW:r,maxH:u,autoResize:p,scrollW:0},this._lastLayoutRect={},b},layoutRect:function(a){var b,c,d,e,f,g=this._layoutRect;return g||(g=this.initLayoutRect()),a?(d=g.deltaW,e=g.deltaH,void 0!==a.x&&(g.x=a.x),void 0!==a.y&&(g.y=a.y),void 0!==a.minW&&(g.minW=a.minW),void 0!==a.minH&&(g.minH=a.minH),c=a.w,void 0!==c&&(c=c<g.minW?g.minW:c,c=c>g.maxW?g.maxW:c,g.w=c,g.innerW=c-d),c=a.h,void 0!==c&&(c=c<g.minH?g.minH:c,c=c>g.maxH?g.maxH:c,g.h=c,g.innerH=c-e),c=a.innerW,void 0!==c&&(c=c<
g.minW-d?g.minW-d:c,c=c>g.maxW-d?g.maxW-d:c,g.innerW=c,g.w=c+d),c=a.innerH,void 0!==c&&(c=c<g.minH-e?g.minH-e:c,c=c>g.maxH-e?g.maxH-e:c,g.innerH=c,g.h=c+e),void 0!==a.contentW&&(g.contentW=a.contentW),void 0!==a.contentH&&(g.contentH=a.contentH),b=this._lastLayoutRect,b.x===g.x&&b.y===g.y&&b.w===g.w&&b.h===g.h||(f=p.repaintControls,f&&f.map&&!f.map[this._id]&&(f.push(this),f.map[this._id]=!0),b.x=g.x,b.y=g.y,b.w=g.w,b.h=g.h),this):g},repaint:function(){var a,b,c;var d=document.createRange?function(a){return a}:
Math.round;var e=this.getEl().style;var f=this._layoutRect;var g=this._lastRepaintRect||{};var k=this.borderBox;var l=k.left+k.right;k=k.top+k.bottom;f.x!==g.x&&(e.left=d(f.x)+"px",g.x=f.x);f.y!==g.y&&(e.top=d(f.y)+"px",g.y=f.y);f.w!==g.w&&(c=d(f.w-l),e.width=(0<=c?c:0)+"px",g.w=f.w);f.h!==g.h&&(c=d(f.h-k),e.height=(0<=c?c:0)+"px",g.h=f.h);this._hasBody&&f.innerW!==g.innerW&&(c=d(f.innerW),b=this.getEl("body"),b&&(a=b.style,a.width=(0<=c?c:0)+"px"),g.innerW=f.innerW);this._hasBody&&f.innerH!==g.innerH&&
(c=d(f.innerH),b=b||this.getEl("body"),b&&(a=a||b.style,a.height=(0<=c?c:0)+"px"),g.innerH=f.innerH);this._lastRepaintRect=g;this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null;d.css(this.getEl(),{width:"",height:""});this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null;this.initLayoutRect()},on:function(a,b){var c=this;return r(c).on(a,function(a){var b,d;return"string"!=typeof a?a:function(e){return b||c.parentsAndSelf().each(function(c){var e=c.settings.callbacks;
if(e&&(b=e[a]))return d=c,!1}),b?b.call(d,e):(e.action=a,void this.fire("execute",e))}}(b)),c},off:function(a,b){return r(this).off(a,b),this},fire:function(a,b,c){if(b=b||{},b.control||(b.control=this),b=r(this).fire(a,b),!1!==c&&this.parent)for(c=this.parent();c&&!b.isPropagationStopped();)c.fire(a,b,!1),c=c.parent();return b},hasEventListeners:function(a){return r(this).has(a)},parents:function(a){var c,d=new b;for(c=this.parent();c;c=c.parent())d.add(c);return a&&(d=d.filter(a)),d},parentsAndSelf:function(a){return(new b(this)).add(this.parents(a))},
next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(a){a=a?this._id+"-"+a:this._id;return this._elmCache[a]||(this._elmCache[a]=c("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),
this},aria:function(a,b){var c=this.getEl(this.ariaTarget);return"undefined"==typeof b?this._aria[a]:(this._aria[a]=b,this.state.get("rendered")&&c.setAttribute("role"==a?a:"aria-"+a,b),this)},encode:function(a,b){return!1!==b&&(a=this.translate(a)),(a||"").replace(/[&<>"]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},translate:function(a){return p.translate?p.translate(a):a},before:function(a){var b=this.parent();return b&&b.insert(a,b.items().indexOf(this),!0),this},after:function(a){var b=this.parent();
return b&&b.insert(a,b.items().indexOf(this)),this},remove:function(){var a,b,d=this,e=d.getEl(),f=d.parent();if(d.items){var g=d.items().toArray();for(b=g.length;b--;)g[b].remove()}f&&f.items&&(a=[],f.items().each(function(b){b!==d&&a.push(b)}),f.items().set(a),f._lastRect=null);d._eventsRoot&&d._eventsRoot==d&&c(e).off();b=d.getRoot().controlIdLookup;return b&&delete b[d._id],e&&e.parentNode&&e.parentNode.removeChild(e),d.state.set("rendered",!1),d.state.destroy(),d.fire("remove"),d},renderBefore:function(a){return c(a).before(this.renderHtml()),
this.postRender(),this},renderTo:function(a){return c(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var a,b,d,e,f=this,g=f.settings;f.$el=c(f.getEl());f.state.set("rendered",!0);for(e in g)0===e.indexOf("on")&&f.on(e.substr(2),g[e]);if(f._eventsRoot){for(d=f.parent();!k&&d;d=d.parent())var k=d._eventsRoot;if(k)for(e in k._nativeEvents)f._nativeEvents[e]=
!0}q(f);g.style&&(a=f.getEl(),a&&(a.setAttribute("style",g.style),a.style.cssText=g.style));f.settings.border&&(b=f.borderBox,f.$el.css({"border-top-width":b.top,"border-right-width":b.right,"border-bottom-width":b.bottom,"border-left-width":b.left}));a=f.getRoot();a.controlIdLookup||(a.controlIdLookup={});a.controlIdLookup[f._id]=f;for(var h in f._aria)f.aria(h,f._aria[h]);!1===f.state.get("visible")&&(f.getEl().style.display="none");f.bindStates();f.state.on("change:visible",function(a){var b=a.value;
f.state.get("rendered")&&(f.getEl().style.display=!1===b?"none":"",f.getEl().getBoundingClientRect());(a=f.parent())&&(a._lastRect=null);f.fire(b?"show":"hide");l.add(f)});f.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(a){var b,c,d,e,f,g,k=this.getEl(),l=k.parentNode,h,m,p=k;for(h=m=0;p&&p!=l&&p.nodeType;)h+=p.offsetLeft||0,m+=p.offsetTop||0,p=p.offsetParent;return b=h,c=m,d=k.offsetWidth,e=k.offsetHeight,f=l.clientWidth,g=l.clientHeight,"end"==a?(b-=f-d,c-=g-e):"center"==
a&&(b-=f/2-d/2,c-=g/2-e/2),l.scrollLeft=b,l.scrollTop=c,this},getRoot:function(){for(var a,b=this,c=[];b;){if(b.rootControl){a=b.rootControl;break}c.push(b);a=b;b=b.parent()}a||(a=this);for(b=c.length;b--;)c[b].rootControl=a;return a},reflow:function(){l.remove(this);var a=this.parent();return a&&a._layout&&!a._layout.isNative()&&a.reflow(),this}};return g.each("text title visible disabled active value".split(" "),function(a){x[a]=function(b){return 0===arguments.length?this.state.get(a):("undefined"!=
typeof b&&this.state.set(a,b),this)}}),p=h.extend(x)});v("2r",[],function(){var h={};return{add:function(g,f){h[g.toLowerCase()]=f},has:function(g){return!!h[g.toLowerCase()]},create:function(g,f){var e;if("string"==typeof g?(f=f||{},f.type=g):(f=g,g=f.type),g=g.toLowerCase(),e=h[g],!e)throw Error("Could not find control by type: "+g);return e=new e(f),e.type=g,e}}});v("2s",[],function(){return function(h){function g(a){return a=a||t,a&&1===a.nodeType?a.getAttribute("role"):null}function f(a){for(var b=
a||t;b=b.parentNode;)if(a=g(b))return a}function e(a){var b=t;if(b&&1===b.nodeType)return b.getAttribute("aria-"+a)}function b(a){a=a.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function d(a){function c(a){if(1==a.nodeType&&"none"!=a.style.display&&!a.disabled){(b(a)&&!a.hidden||a.getAttribute("data-mce-tabstop")||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(g(a)))&&d.push(a);for(var e=0;e<a.childNodes.length;e++)c(a.childNodes[e])}}var d=
[];return c(a||x.getEl()),d}function c(a){var b;a=a||z;var c=a.parents().toArray();c.unshift(a);for(a=0;a<c.length&&(b=c[a],!b.settings.ariaRoot);a++);return b}function a(a,b){return 0>a?a=b.length-1:a>=b.length&&(a=0),b[a]&&b[a].focus(),a}function m(b,e){var f=-1,g=c();e=e||d(g.getEl());for(var k=0;k<e.length;k++)e[k]===t&&(f=k);g.lastAriaIndex=a(f+b,e)}function l(){"tablist"==f()?m(-1,d(t.parentNode)):z.parent().submenu?z.fire("cancel"):m(-1)}function r(){var a=g(),b=f();"tablist"==b?m(1,d(t.parentNode)):
"menuitem"==a&&"menu"==b&&e("haspopup")?u():m(1)}function q(){m(-1)}function p(){var a=g(),b=f();"menuitem"==a&&"menubar"==b?u():"button"==a&&e("haspopup")?u({key:"down"}):m(1)}function k(a){"tablist"==f()?(a=d(z.getEl("body"))[0])&&a.focus():m(a.shiftKey?-1:1)}function u(a){a=a||{};z.fire("click",{target:t,aria:a})}var z,x=h.root;try{var t=document.activeElement}catch(w){t=document.body}return z=x.getParentCtrl(t),x.on("keydown",function(a){function c(a,c){b(t)||t.getAttribute("data-mce-tabstop")||
"slider"!==g(t)&&!1!==c(a)&&a.preventDefault()}if(!a.isDefaultPrevented())switch(a.keyCode){case 37:c(a,l);break;case 39:c(a,r);break;case 38:c(a,q);break;case 40:c(a,p);break;case 27:z.fire("cancel");break;case 14:case 13:case 32:c(a,u);break;case 9:!1!==k(a)&&a.preventDefault()}}),x.on("focusin",function(a){t=a.target;z=a.control}),{focusFirst:function(b){b=c(b);var e=d(b.getEl());b.settings.ariaRemember&&"lastAriaIndex"in b?a(b.lastAriaIndex,e):a(0,e)}}}});v("2t","2q 2o 2n 2r 2s c d 5f 2p".split(" "),
function(h,g,f,e,b,d,c,a,m){var l={};return h.extend({init:function(b){var c=this;c._super(b);b=c.settings;b.fixed&&c.state.set("fixed",!0);c._items=new g;c.isRtl()&&c.classes.add("rtl");c.bodyClasses=new a(function(){c.state.get("rendered")&&(c.getEl("body").className=this.toString())});c.bodyClasses.prefix=c.classPrefix;c.classes.add("container");c.bodyClasses.add("container-body");b.containerCls&&c.classes.add(b.containerCls);c._layout=e.create((b.layout||"")+"layout");c.settings.items?c.add(c.settings.items):
c.add(c.render());c._hasBody=!0},items:function(){return this._items},find:function(a){return a=l[a]=l[a]||new f(a),a.find(this)},add:function(a){return this.items().add(this.create(a)).parent(this),this},focus:function(a){var b,c,d;return a&&(c=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?void c.focusFirst(this):(d=this.find("*"),this.statusbar&&d.add(this.statusbar.items()),d.each(function(a){return a.settings.autofocus?(b=null,!1):void(a.canFocus&&(b=b||a))}),b&&b.focus(),this)},replace:function(a,
b){for(var c,d=this.items(),e=d.length;e--;)if(d[e]===a){d[e]=b;break}0<=e&&(c=b.getEl(),c&&c.parentNode.removeChild(c),c=a.getEl(),c&&c.parentNode.removeChild(c));b.parent(this)},create:function(a){var b,c=this,f=[];return d.isArray(a)||(a=[a]),d.each(a,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),b=d.extend({},c.settings.defaults,a),a.type=b.type=b.type||a.type||c.settings.defaultType||(b.defaults?b.defaults.type:null),a=e.create(b)),f.push(a))}),f},renderNew:function(){var a=
this;return a.items().each(function(b,d){var e;b.parent(a);b.state.get("rendered")||(e=a.getEl("body"),e.hasChildNodes()&&d<=e.childNodes.length-1?c(e.childNodes[d]).before(b.renderHtml()):c(e).append(b.renderHtml()),b.postRender(),m.add(b))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(a){return this.items().set(this.create(a).concat(this.items().toArray())),this.renderNew()},insert:function(a,b,c){var d,
e,f;return a=this.create(a),d=this.items(),!c&&b<d.length-1&&(b+=1),0<=b&&b<d.length&&(e=d.slice(0,b).toArray(),f=d.slice(b).toArray(),d.set(e.concat(a,f))),this.renderNew()},fromJSON:function(a){for(var b in a)this.find("#"+b).value(a[b]);return this},toJSON:function(){var a={};return this.find("*").each(function(b){var c=b.name();b=b.value();c&&"undefined"!=typeof b&&(a[c]=b)}),a},renderHtml:function(){var a=this._layout,b=this.settings.role;return this.preRender(),a.preRender(this),'<div id="'+
this._id+'" class="'+this.classes+'"'+(b?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+a.renderHtml(this)+"</div></div>"},postRender:function(){var a;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(a=this.borderBox,this.$el.css({"border-top-width":a.top,"border-right-width":a.right,
"border-bottom-width":a.bottom,"border-left-width":a.left})),this.parent()||(this.keyboardNav=new b({root:this})),this},initLayoutRect:function(){var a=this._super();return this._layout.recalc(this),a},recalc:function(){var a=this._layoutRect,b=this._lastRect;if(!b||b.w!=a.w||b.h!=a.h)return this._layout.recalc(this),a=this.layoutRect(),this._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0},reflow:function(){var a;if(m.remove(this),this.visible()){h.repaintControls=[];h.repaintControls.map={};this.recalc();
for(a=h.repaintControls.length;a--;)h.repaintControls[a].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint();h.repaintControls=[]}return this}})});v("2u",["d"],function(h){function g(f){var e;if(f.changedTouches){var b="screenX screenY pageX pageY clientX clientY".split(" ");for(e=0;e<b.length;e++)f[b[e]]=f.changedTouches[0][b[e]]}}return function(f,e){var b,d,c,a,m=e.document||document;e=e||{};var l=function(b){return g(b),b.button!==d?r(b):(b.deltaX=b.screenX-
c,b.deltaY=b.screenY-a,b.preventDefault(),void e.drag(b))};var r=function(a){g(a);h(m).off("mousemove touchmove",l).off("mouseup touchend",r);b.remove();e.stop&&e.stop(a)};this.destroy=function(){h(m.getElementById(e.handle||f)).off()};h(m.getElementById(e.handle||f)).on("mousedown touchstart",function(q){var p,k,u,z,x,t,w,n;var y=Math.max;y=(p=m.documentElement,k=m.body,u=y(p.scrollWidth,k.scrollWidth),z=y(p.clientWidth,k.clientWidth),x=y(p.offsetWidth,k.offsetWidth),t=y(p.scrollHeight,k.scrollHeight),
w=y(p.clientHeight,k.clientHeight),n=y(p.offsetHeight,k.offsetHeight),{width:u<x?z:u,height:t<n?w:t});g(q);q.preventDefault();d=q.button;p=m.getElementById(e.handle||f);c=q.screenX;a=q.screenY;p=window.getComputedStyle?window.getComputedStyle(p,null).getPropertyValue("cursor"):p.runtimeStyle.cursor;b=h("<div></div>").css({position:"absolute",top:0,left:0,width:y.width,height:y.height,zIndex:2147483647,opacity:1E-4,cursor:p}).appendTo(m.body);h(m).on("mousemove touchmove",l).on("mouseup touchend",
r);e.start(q)})}});v("2v",["d","2u"],function(h,g){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function f(){function c(a,c,g,k,l,m){var p,t,w;if(p=b.getEl("scroll"+a)){if(t=c.toLowerCase(),w=g.toLowerCase(),h(b.getEl("absend")).css(t,b.layoutRect()[k]-1),!l)return void h(p).css("display","none");h(p).css("display","block");k=b.getEl("body");a=b.getEl("scroll"+a+"t");l=k["client"+g]-2*d;l-=e&&f?p["client"+m]:0;g=k["scroll"+g];g=l/g;m={};m[t]=k["offset"+c]+d;
m[w]=l;h(p).css(m);m={};m[t]=k["scroll"+c]*g;m[w]=l*g;h(a).css(m)}}var a=b.getEl("body");var e=a.scrollWidth>a.clientWidth;var f=a.scrollHeight>a.clientHeight;c("h","Left","Width","contentW",e,"Height");c("v","Top","Height","contentH",f,"Width")}function e(){function c(a,c,e,f,q){var l,k=b._id+"-scroll"+a,m=b.classPrefix;h(b.getEl()).append('<div id="'+k+'" class="'+m+"scrollbar "+m+"scrollbar-"+a+'"><div id="'+k+'t" class="'+m+'scrollbar-thumb"></div></div>');b.draghelper=new g(k+"t",{start:function(){l=
b.getEl("body")["scroll"+c];h("#"+k).addClass(m+"active")},drag:function(g){var k=b.layoutRect();var h=k.contentW>k.innerW;k=k.contentH>k.innerH;var m=b.getEl("body")["client"+e]-2*d;m-=h&&k?b.getEl("scroll"+a)["client"+q]:0;h=m/b.getEl("body")["scroll"+e];b.getEl("body")["scroll"+c]=l+g["delta"+f]/h},stop:function(){h("#"+k).removeClass(m+"active")}})}b.classes.add("scroll");c("v","Top","Height","Y","Width");c("h","Left","Width","X","Height")}var b=this,d=2;b.settings.autoScroll&&(b._hasScroll||
(b._hasScroll=!0,e(),b.on("wheel",function(c){var a=b.getEl("body");a.scrollLeft+=10*(c.deltaX||0);a.scrollTop+=10*c.deltaY;f()}),h(b.getEl("body")).on("scroll",f)),f())}}});v("2w",["2t","2v"],function(h,g){return h.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[g],renderHtml:function(){var f=this._layout,e=this.settings.html;return this.preRender(),f.preRender(this),"undefined"==typeof e?e='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+f.renderHtml(this)+"</div>":("function"==
typeof e&&(e=e.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+e+"</div>"}})});v("2x",["2c"],function(h){function g(f,e,b){var d,c,a,g,l,r,q,p,k,u;return k=h.getViewPort(),c=h.getPos(e),a=c.x,g=c.y,f.state.get("fixed")&&"static"==h.getRuntimeStyle(document.body,"position")&&(a-=k.x,g-=k.y),d=f.getEl(),u=h.getSize(d),l=u.width,r=u.height,u=h.getSize(e),q=u.width,p=u.height,b=(b||"").split(""),"b"===b[0]&&
(g+=p),"r"===b[1]&&(a+=q),"c"===b[0]&&(g+=Math.round(p/2)),"c"===b[1]&&(a+=Math.round(q/2)),"b"===b[3]&&(g-=r),"r"===b[4]&&(a-=l),"c"===b[3]&&(g-=Math.round(r/2)),"c"===b[4]&&(a-=Math.round(l/2)),{x:a,y:g,w:l,h:r}}return{testMoveRel:function(f,e){for(var b=h.getViewPort(),d=0;d<e.length;d++){var c=g(this,f,e[d]);if(this.state.get("fixed")){if(0<c.x&&c.x+c.w<b.w&&0<c.y&&c.y+c.h<b.h)return e[d]}else if(c.x>b.x&&c.x+c.w<b.w+b.x&&c.y>b.y&&c.y+c.h<b.h+b.y)return e[d]}return e[0]},moveRel:function(f,e){"string"!=
typeof e&&(e=this.testMoveRel(f,e));var b=g(this,f,e);return this.moveTo(b.x,b.y)},moveBy:function(f,e){var b=this.layoutRect();return this.moveTo(b.x+f,b.y+e),this},moveTo:function(f,e){function b(a,b,c){return 0>a?0:a+c>b?(a=b-c,0>a?0:a):a}if(this.settings.constrainToViewport){var d=h.getViewPort(window),c=this.layoutRect();f=b(f,d.w+d.x,c.w);e=b(e,d.h+d.y,c.h)}return this.state.get("rendered")?this.layoutRect({x:f,y:e}).repaint():(this.settings.x=f,this.settings.y=e),this.fire("move",{x:f,y:e}),
this}}});v("2y",["2c"],function(h){return{resizeToContent:function(){this._layoutRect.autoResize=!0;this._lastRect=null;this.reflow()},resizeTo:function(g,f){if(1>=g||1>=f){var e=h.getWindowSize();g=1>=g?g*e.w:g;f=1>=f?f*e.h:f}return this._layoutRect.autoResize=!1,this.layoutRect({minW:g,minH:f,w:g,h:f}).reflow()},resizeBy:function(g,f){var e=this.layoutRect();return this.resizeTo(e.w+g,e.h+f)}}});v("2z","2w 2x 2y 2c d 8".split(" "),function(h,g,f,e,b,d){function c(){p||(p=function(a){if(2!=a.button)for(var b=
x.length;b--;){var c=x[b],d=c.getParentCtrl(a.target),e;if((e=c.settings.autohide)&&!(e=!d)){a:{e=d;for(var f=c;e;){if(e==f){e=!0;break a}e=e.parent()}e=void 0}e=!e&&c.parent()!==d}e&&(a=c.fire("autohide",{target:a.target}),a.isDefaultPrevented()||c.hide())}},b(document).on("click touchstart",p))}function a(){k||(k=function(){var a;for(a=x.length;a--;)l(x[a])},b(window).on("scroll",k))}function m(){if(!u){var a=document.documentElement,c=a.clientWidth,d=a.clientHeight;u=function(){document.all&&c==
a.clientWidth&&d==a.clientHeight||(c=a.clientWidth,d=a.clientHeight,w.hideAll())};b(window).on("resize",u)}}function l(a){function b(b,c){for(var d,e=0;e<x.length;e++)if(x[e]!=a)for(d=x[e].parent();d&&(d=d.parent());)d==a&&x[e].fixed(b).moveBy(0,c).repaint()}var c=e.getViewPort().y;a.settings.autofix&&(a.state.get("fixed")?a._autoFixY>c&&(a.fixed(!1).layoutRect({y:a._autoFixY}).repaint(),b(!1,a._autoFixY-c)):(a._autoFixY=a.layoutRect().y,a._autoFixY<c&&(a.fixed(!0).layoutRect({y:0}).repaint(),b(!0,
c-a._autoFixY))))}function r(a,c){var d,e,f=w.zIndex||65535;if(a)t.push(c);else for(d=t.length;d--;)t[d]===c&&t.splice(d,1);if(t.length)for(d=0;d<t.length;d++)t[d].modal&&(f++,e=t[d]),t[d].getEl().style.zIndex=f,t[d].zIndex=f,f++;d=b("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];e?b(d).css("z-index",e.zIndex-1):d&&(d.parentNode.removeChild(d),z=!1);w.currentZIndex=f}function q(a){var b;for(b=x.length;b--;)x[b]===a&&x.splice(b,1);for(b=t.length;b--;)t[b]===a&&t.splice(b,1)}var p,k,u,z,x=
[],t=[],w=h.extend({Mixins:[g,f],init:function(e){var f=this;f._super(e);f._eventsRoot=f;f.classes.add("floatpanel");e.autohide&&(c(),m(),x.push(f));e.autofix&&(a(),f.on("move",function(){l(this)}));f.on("postrender show",function(a){if(a.control==f){var c,e=f.classPrefix;f.modal&&!z&&(c=b("#"+e+"modal-block",f.getContainerElm()),c[0]||(c=b('<div id="'+e+'modal-block" class="'+e+"reset "+e+'fade"></div>').appendTo(f.getContainerElm())),d.setTimeout(function(){c.addClass(e+"in");b(f.getEl()).addClass(e+
"in")}),z=!0);r(!0,f)}});f.on("show",function(){f.parents().each(function(a){if(a.state.get("fixed"))return f.fixed(!0),!1})});e.popover&&(f._preBodyHtml='<div class="'+f.classPrefix+'arrow"></div>',f.classes.add("popover").add("bottom").add(f.isRtl()?"end":"start"));f.aria("label",e.ariaLabel);f.aria("labelledby",f._id);f.aria("describedby",f.describedBy||f._id+"-none")},fixed:function(a){if(this.state.get("fixed")!=a){if(this.state.get("rendered")){var b=e.getViewPort();a?this.layoutRect().y-=b.y:
this.layoutRect().y+=b.y}this.classes.toggle("fixed",a);this.state.set("fixed",a)}return this},show:function(){var a,b=this._super();for(a=x.length;a--&&x[a]!==this;);return-1===a&&x.push(this),b},hide:function(){return q(this),r(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),r(!1,this)),this},remove:function(){q(this);this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",
this.settings.bodyRole),this._super()}});return w.hideAll=function(){for(var a=x.length;a--;){var b=x[a];b&&b.settings.autohide&&(b.hide(),x.splice(a,1))}},w});v("29","2z 2w 2c d 2u 5e 9 8".split(" "),function(h,g,f,e,b,d,c,a){function m(a){var b,d=e("meta[name=viewport]")[0];!1!==c.overrideViewPort&&(d||(d=document.createElement("meta"),d.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(d)),b=d.getAttribute("content"),b&&"undefined"!=typeof r&&(r=b),d.setAttribute("content",
a?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":r))}var l=[],r="";h=h.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(a){var b=this;b._super(a);b.isRtl()&&b.classes.add("rtl");b.classes.add("window");b.bodyClasses.add("window-body");b.state.set("fixed",!0);a.buttons&&(b.statusbar=new g({layout:"flex",
border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:b.isRtl()?"start":"end",defaults:{type:"button"},items:a.buttons}),b.statusbar.classes.add("foot"),b.statusbar.parent(b));b.on("click",function(a){var c=b.classPrefix+"close";(f.hasClass(a.target,c)||f.hasClass(a.target.parentNode,c))&&b.close()});b.on("cancel",function(){b.close()});b.aria("describedby",b.describedBy||b._id+"-none");b.aria("label",a.title);b._fullscreen=!1},recalc:function(){var a,b,c,d=this.statusbar;this._fullscreen&&(this.layoutRect(f.getWindowSize()),
this.layoutRect().contentH=this.layoutRect().innerH);this._super();var e=this.layoutRect();this.settings.title&&!this._fullscreen&&(a=e.headerW,a>e.w&&(b=e.x-Math.max(0,a/2),this.layoutRect({w:a,x:b}),c=!0));d&&(d.layoutRect({w:this.layoutRect().innerW}).recalc(),a=d.layoutRect().minW+e.deltaW,a>e.w&&(b=e.x-Math.max(0,a-e.w),this.layoutRect({w:a,x:b}),c=!0));c&&this.recalc()},initLayoutRect:function(){var a=this._super(),b=0;if(this.settings.title&&!this._fullscreen){var c=this.getEl("head");c=f.getSize(c);
a.headerW=c.width;a.headerH=c.height;b+=a.headerH}this.statusbar&&(b+=this.statusbar.layoutRect().h);a.deltaH+=b;a.minH+=b;a.h+=b;b=f.getWindowSize();return a.x=this.settings.x||Math.max(0,b.w/2-a.w/2),a.y=this.settings.y||Math.max(0,b.h/2-a.h/2),a},renderHtml:function(){var a=this._layout,b=this._id,c=this.classPrefix,d=this.settings,e="",f="",g=d.html;return this.preRender(),a.preRender(this),d.title&&(e='<div id="'+b+'-head" class="'+c+'window-head"><div id="'+b+'-title" class="'+c+'title">'+this.encode(d.title)+
'</div><div id="'+b+'-dragh" class="'+c+'dragh"></div><button type="button" class="'+c+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),d.url&&(g='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof g&&(g=a.renderHtml(this)),this.statusbar&&(f=this.statusbar.renderHtml()),'<div id="'+b+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+e+'<div id="'+b+'-body" class="'+this.bodyClasses+'">'+g+"</div>"+
f+"</div></div>"},fullscreen:function(b){var c,g,l=this,h=document.documentElement,m=l.classPrefix;b!=l._fullscreen&&((e(window).on("resize",function(){if(l._fullscreen)if(c)l._timer||(l._timer=a.setTimeout(function(){var a=f.getWindowSize();l.moveTo(0,0).resizeTo(a.w,a.h);l._timer=0},50));else{var b=(new Date).getTime();var d=f.getWindowSize();l.moveTo(0,0).resizeTo(d.w,d.h);50<(new Date).getTime()-b&&(c=!0)}}),g=l.layoutRect(),l._fullscreen=b,b)?(l._initial={x:g.x,y:g.y,w:g.w,h:g.h},l.borderBox=
d.parseBox("0"),l.getEl("head").style.display="none",g.deltaH-=g.headerH+2,e([h,document.body]).addClass(m+"fullscreen"),l.classes.add("fullscreen"),b=f.getWindowSize(),l.moveTo(0,0).resizeTo(b.w,b.h)):(l.borderBox=d.parseBox(l.settings.border),l.getEl("head").style.display="",g.deltaH+=g.headerH,e([h,document.body]).removeClass(m+"fullscreen"),l.classes.remove("fullscreen"),l.moveTo(l._initial.x,l._initial.y).resizeTo(l._initial.w,l._initial.h)));return l.reflow()},postRender:function(){var a,c,
d=this;setTimeout(function(){d.classes.add("in");d.fire("open")},0);d._super();d.statusbar&&d.statusbar.postRender();d.focus();this.dragHelper=new b(d._id+"-dragh",{start:function(){a=d.layoutRect().x;c=d.layoutRect().y},drag:function(b){d.moveTo(a+b.deltaX,c+b.deltaY)}});d.on("submit",function(a){a.isDefaultPrevented()||d.close()});l.push(d);m(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){this.dragHelper.destroy();this._super();this.statusbar&&this.statusbar.remove();
var a=this.classPrefix;var b;a:{for(b=0;b<l.length;b++)if(l[b]._fullscreen){b=!0;break a}b=!1}b&&e([document.documentElement,document.body]).removeClass(a+"fullscreen");for(a=l.length;a--;)l[a]===this&&l.splice(a,1);m(0<l.length)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return function(){if(!c.desktop){var b={w:window.innerWidth,h:window.innerHeight};a.setInterval(function(){var a=window.innerWidth,c=window.innerHeight;b.w==
a&&b.h==c||(b={w:a,h:c},e(window).trigger("resize"))},100)}e(window).on("resize",function(){var a,b=f.getWindowSize();for(a=0;a<l.length;a++){var c=l[a].layoutRect();l[a].moveTo(l[a].settings.x||Math.max(0,b.w/2-c.w/2),l[a].settings.y||Math.max(0,b.h/2-c.h/2))}})}(),h});v("2a",["29"],function(h){var g=h.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,
maxWidth:500,maxHeight:200}};this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function e(c,a,d){return{type:"button",text:c,subtype:d?"primary":"",onClick:function(c){c.control.parents()[1].close();b(a)}}}var b=f.callback||function(){};switch(f.buttons){case g.OK_CANCEL:var d=[e("Ok",!0,!0),e("Cancel",!1)];break;case g.YES_NO:case g.YES_NO_CANCEL:d=[e("Yes",1,!0),e("No",0)];f.buttons==g.YES_NO_CANCEL&&d.push(e("Cancel",-1));break;default:d=[e("Ok",!0,!0)]}return(new h({padding:20,
x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){b(!1)}})).renderTo(document.body).reflow()},alert:function(f,e){return"string"==typeof f&&(f={text:f}),f.callback=e,g.msgBox(f)},confirm:function(f,e){return"string"==typeof f&&(f={text:f}),f.callback=
e,f.buttons=g.OK_CANCEL,g.msgBox(f)}}});return g});v("12",["29","2a"],function(h,g){return function(f){function e(){if(c.length)return c[c.length-1]}function b(a){f.fire("OpenWindow",{win:a})}function d(a){f.fire("CloseWindow",{win:a})}var c=[];this.windows=c;f.on("remove",function(){for(var a=c.length;a--;)c[a].close()});this.open=function(a,e){var g;return f.editorManager.setActive(f),a.title=a.title||" ",a.url=a.url||a.file,a.url&&(a.width=parseInt(a.width||320,10),a.height=parseInt(a.height||
240,10)),a.body&&(a.items={defaults:a.defaults,type:a.bodyType||"form",items:a.body,data:a.data,callbacks:a.commands}),a.url||a.buttons||(a.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new h(a),c.push(g),g.on("close",function(){for(var a=c.length;a--;)c[a]===g&&c.splice(a,1);c.length||f.focus();d(g)}),a.data&&g.on("postRender",function(){this.find("*").each(function(b){var c=b.name();c in a.data&&b.value(a.data[c])})}),
g.features=a||{},g.params=e||{},1===c.length&&f.nodeChanged(),g=g.renderTo().reflow(),b(g),g};this.alert=function(a,c,e){var l=g.alert(a,function(){c?c.call(e||this):f.focus()});l.on("close",function(){d(l)});b(l)};this.confirm=function(a,c,e){var f=g.confirm(a,function(a){c.call(e||this,a)});f.on("close",function(){d(f)});b(f)};this.close=function(){e()&&e().close()};this.getParams=function(){return e()?e().params:null};this.setParams=function(a){e()&&(e().params=a)};this.getWindows=function(){return c}}});
v("6q",[],function(){return{isSupported:function(h){return void 0!==h.style}}});ha("5l",window);v("5g","2k 2j 5i 49 66 6p 1w 4w 6q 5j 4 4p 5l".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p){var k=function(a,b,c){if(!h.isString(c))throw q.error("Invalid call to CSS.set. Property ",b,":: Value ",c,":: Element ",a),new r("CSS value must be a string: "+c);m.isSupported(a)&&a.style.setProperty(b,c)},u=function(a,b,c){a=a.dom();k(a,b,c)},z=function(a,b){return m.isSupported(a)?a.style.getPropertyValue(b):
""},x=function(a,b){var c=a.dom();c=z(c,b);return e.from(c).filter(function(a){return 0<a.length})},t=function(a,b,c){x(a,c).each(function(a){x(b,c).isNone()&&u(b,c,a)})};return{copy:function(a,b){var c=a.dom(),d=b.dom();m.isSupported(c)&&m.isSupported(d)&&(d.style.cssText=c.style.cssText)},set:u,preserve:function(a,c){var d=b.get(a,"style"),e=c(a);return(void 0===d?b.remove:b.set)(a,"style",d),e},setAll:function(a,b){var c=a.dom();f.each(b,function(a,b){k(c,b,a)})},setOptions:function(a,b){var c=
a.dom();f.each(b,function(a,b){a.fold(function(){m.isSupported(c)&&c.style.removeProperty(b)},function(a){k(c,b,a)})})},remove:function(a,c){var d=a.dom();m.isSupported(d)&&d.style.removeProperty(c);b.has(a,"style")&&""===l.trim(b.get(a,"style"))&&b.remove(a,"style")},get:function(a,b){var c=a.dom(),e=p.getComputedStyle(c).getPropertyValue(b);c=""!==e||d.inBody(a)?e:z(c,b);return null===c?void 0:c},getRaw:x,isValidValue:function(a,b,d){a=c.fromTag(a);u(a,b,d);return x(a,b).isSome()},reflow:function(a){return a.dom().offsetWidth},
transfer:function(b,c,d){a.isElement(b)&&a.isElement(c)&&g.each(d,function(a){t(b,c,a)})}}});v("2b","1 49 21 1w 5g 5h".split(" "),function(h,g,f,e,b,d){var c=function(a,b){return b.dom()[a]},a=function(a,c){return parseInt(b.get(c,a),10)},m=h.curry(c,"clientWidth"),l=h.curry(c,"clientHeight"),r=h.curry(a,"margin-top"),q=h.curry(a,"margin-left");return{isXYInContentArea:function(a,b,c){var f=e.fromDom(a.getBody());f=a.inline?f:d.documentElement(f);var g=a.inline,k=f.dom().getBoundingClientRect();a=
g?k.left+f.dom().clientLeft+q(f):0;g=g?k.top+f.dom().clientTop+r(f):0;b-=a;c-=g;a=m(f);f=l(f);return 0<=b&&0<=c&&b<=a&&c<=f},isEditorAttachedToDom:function(a){a=a.inline?a.getBody():a.getContentAreaContainer();return g.from(a).map(e.fromDom).map(function(a){return f.contains(d.owner(a),a)}).getOr(!1)}}});v("30",["2q","2x"],function(h,g){return h.extend({Mixins:[g],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var f=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+
'" role="presentation"><div class="'+f+'tooltip-arrow"></div><div class="'+f+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.getEl().lastChild.innerHTML=f.encode(e.value)}),f._super()},repaint:function(){var f=this.getEl().style;var e=this._layoutRect;f.left=e.x+"px";f.top=e.y+"px";f.zIndex=131070}})});v("31",["2q","30"],function(h,g){var f,e=h.extend({init:function(b){var d=this;d._super(b);b=d.settings;
d.canFocus=!0;b.tooltip&&!1!==e.tooltips&&(d.on("mouseenter",function(c){var a=d.tooltip().moveTo(-65535);c.control==d?(c=a.text(b.tooltip).show().testMoveRel(d.getEl(),["bc-tc","bc-tl","bc-tr"]),a.classes.toggle("tooltip-n","bc-tc"==c),a.classes.toggle("tooltip-nw","bc-tl"==c),a.classes.toggle("tooltip-ne","bc-tr"==c),a.moveRel(d.getEl(),c)):a.hide()}),d.on("mouseleave mousedown click",function(){d.tooltip().hide()}));d.aria("label",b.ariaLabel||b.tooltip)},tooltip:function(){return f||(f=new g({type:"tooltip"}),
f.renderTo()),f},postRender:function(){var b=this.settings;this._super();this.parent()||!b.width&&!b.height||(this.initLayoutRect(),this.repaint());b.autofocus&&this.focus()},bindStates:function(){function b(a){c.aria("disabled",a);c.classes.toggle("disabled",a)}function d(a){c.aria("pressed",a);c.classes.toggle("active",a)}var c=this;return c.state.on("change:disabled",function(a){b(a.value)}),c.state.on("change:active",function(a){d(a.value)}),c.state.get("disabled")&&b(!0),c.state.get("active")&&
d(!0),c._super()},remove:function(){this._super();f&&(f.remove(),f=null)}});return e});v("32",["31"],function(h){return h.extend({Defaults:{value:0},init:function(g){this._super(g);this.classes.add("progress");this.settings.filter||(this.settings.filter=function(f){return Math.round(f)})},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div class="'+g+'bar-container"><div class="'+g+'bar"></div></div><div class="'+g+'text">0%</div></div>'},postRender:function(){return this._super(),
this.value(this.settings.value),this},bindStates:function(){function g(e){e=f.settings.filter(e);f.getEl().lastChild.innerHTML=e+"%";f.getEl().firstChild.firstChild.style.width=e+"%"}var f=this;return f.state.on("change:value",function(e){g(e.value)}),g(f.state.get("value")),f._super()}})});v("2d",["2q","2x","32","8"],function(h,g,f,e){var b=function(b,c){b.getEl().lastChild.textContent=c+(b.progressBar?" "+b.progressBar.value()+"%":"")};return h.extend({Mixins:[g],Defaults:{classes:"widget notification"},
init:function(b){var c=this;c._super(b);c.maxWidth=b.maxWidth;b.text&&c.text(b.text);b.icon&&(c.icon=b.icon);b.color&&(c.color=b.color);b.type&&c.classes.add("notification-"+b.type);b.timeout&&(0>b.timeout||0<b.timeout)&&!b.closeButton?c.closeButton=!1:(c.classes.add("has-close"),c.closeButton=!0);b.progressBar&&(c.progressBar=new f);c.on("click",function(a){-1!=a.target.className.indexOf(c.classPrefix+"close")&&c.close()})},renderHtml:function(){var b=this.classPrefix,c="",a="",e="",f="";return this.icon&&
(c='<i class="'+b+"ico "+b+"i-"+this.icon+'"></i>'),f=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(a='<button type="button" class="'+b+'close" aria-hidden="true">\u00d7</button>'),this.progressBar&&(e=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+f+' role="presentation">'+c+'<div class="'+b+'notification-inner">'+this.state.get("text")+"</div>"+e+a+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},
postRender:function(){var d=this;return e.setTimeout(function(){d.$el.addClass(d.classPrefix+"in");b(d,d.state.get("text"))},100),d._super()},bindStates:function(){var d=this;return d.state.on("change:text",function(c){d.getEl().firstChild.innerHTML=c.value;b(d,c.value)}),d.progressBar&&(d.progressBar.bindStates(),d.progressBar.state.on("change:value",function(c){b(d,d.state.get("text"))})),d._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var b=
this.getEl().style;var c=this._layoutRect;b.left=c.x+"px";b.top=c.y+"px";b.zIndex=65534}})});v("13",["2b","2c","2d","8","c"],function(h,g,f,e,b){return function(d){function c(){if(l.length)return l[l.length-1]}function a(){if(0<l.length){var a=l.slice(0,1)[0];var b=d.inline?d.getElement():d.getContentAreaContainer();if(a.moveRel(b,"tc-tc"),1<l.length)for(a=1;a<l.length;a++)l[a].moveRel(l[a-1].getEl(),"bc-tc")}}function m(a,c){if(c.progressBar||c.timeout)return null;var d=b.grep(a,function(a){return c.type===
a.settings.type&&c.text===a.settings.text});return 0===d.length?null:d[0]}var l=[],r=function(){var a=d.inline?d.getElement():d.getContentAreaContainer();return g.getSize(a).width};this.notifications=l;d.on("remove",function(){for(var a=l.length;a--;)l[a].close()});d.on("ResizeEditor",a);d.on("ResizeWindow",function(){e.requestAnimationFrame(function(){for(var b=0;b<l.length;b++)l[b].moveTo(0,0);a()})});this.open=function(c){if(!d.removed&&h.isEditorAttachedToDom(d)){var e;d.editorManager.setActive(d);
var g=m(l,c);return null===g?(c=b.extend(c,{maxWidth:r()}),e=new f(c),l.push(e),0<c.timeout&&(e.timer=setTimeout(function(){e.close()},c.timeout)),e.on("close",function(){var b=l.length;for(e.timer&&d.getWin().clearTimeout(e.timer);b--;)l[b]===e&&l.splice(b,1);a()}),e.renderTo(),a()):e=g,e}};this.close=function(){c()&&c().close()};this.getNotifications=function(){return l};d.on("SkinLoaded",function(){var a=d.settings.service_message;a&&d.notificationManager.open({text:a,type:"warning",timeout:0,
icon:""})})}});v("14",["11","h","c"],function(h,g,f){function e(a,b){return"selectionchange"==b?a.getDoc():!a.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(b)?a.getDoc().documentElement:a.settings.event_root?(a.eventRoot||(a.eventRoot=c.select(a.settings.event_root)[0]),a.eventRoot):a.getBody()}function b(a,b){var f;if(a.delegates||(a.delegates={}),!a.delegates[b]&&!a.removed)if(f=e(a,b),a.settings.event_root){if(d||(d={},a.editorManager.on("removeEditor",function(){var b;if(!a.editorManager.activeEditor&&
d){for(b in d)a.dom.unbind(e(a,b));d=null}})),!d[b]){var g=function(d){for(var e=d.target,f=a.editorManager.get(),g=f.length;g--;){var l=f[g].getBody();if(l=l===e||c.isChildOf(e,l))l=f[g],l=!l.hidden&&!l.readonly;l&&f[g].fire(b,d)}};d[b]=g;c.bind(f,b,g)}}else g=function(c){a.hidden||a.readonly||a.fire(b,c)},c.bind(f,b,g),a.delegates[b]=g}var d,c=g.DOM;g={bindPendingEventDelegates:function(){var a=this;f.each(a._pendingNativeEvents,function(c){b(a,c)})},toggleNativeEvent:function(a,c){"focus"!=a&&
"blur"!=a&&(c?this.initialized?b(this,a):this._pendingNativeEvents?this._pendingNativeEvents.push(a):this._pendingNativeEvents=[a]:this.initialized&&(this.dom.unbind(e(this,a),a,this.delegates[a]),delete this.delegates[a]))},unbindAllNativeEvents:function(){var a;if(this.delegates){for(a in this.delegates)this.dom.unbind(e(this,a),a,this.delegates[a]);delete this.delegates}this.inline||(this.getBody().onload=null,this.dom.unbind(this.getWin()),this.dom.unbind(this.getDoc()));this.dom.unbind(this.getBody());
this.dom.unbind(this.getContainer())}};return g=f.extend({},h,g)});v("15",["c","9"],function(h,g){var f=h.each,e=h.explode,b={f9:120,f10:121,f11:122},d=h.makeMap("alt,ctrl,shift,meta,access");return function(c){function a(a){var c,k={};f(e(a,"+"),function(a){a in d?k[a]=!0:/^[0-9]{2,}$/.test(a)?k.keyCode=parseInt(a,10):(k.charCode=a.charCodeAt(0),k.keyCode=b[a]||a.toUpperCase().charCodeAt(0))});a=[k.keyCode];for(c in d)k[c]?a.push(c):k[c]=!1;return k.id=a.join(","),k.access&&(k.alt=!0,g.mac?k.ctrl=
!0:k.shift=!0),k.meta&&(g.mac?k.meta=!0:(k.ctrl=!0,k.meta=!1)),k}function m(b,d,f,g){var k;return k=h.map(e(b,">"),a),k[k.length-1]=h.extend(k[k.length-1],{func:f,scope:g||c}),h.extend(k[0],{desc:c.translate(d),subpatterns:k.slice(1)})}function l(a,b){return!!b&&b.ctrl==a.ctrlKey&&b.meta==a.metaKey&&b.alt==a.altKey&&b.shift==a.shiftKey&&!!(a.keyCode==b.keyCode||a.charCode&&a.charCode==b.charCode)&&(a.preventDefault(),!0)}function r(a){return a.func?a.func.call(a.scope):null}var q={},p=[];c.on("keyup keypress keydown",
function(a){!(a.altKey||a.ctrlKey||a.metaKey||"keydown"===a.type&&112<=a.keyCode&&123>=a.keyCode)||a.isDefaultPrevented()||(f(q,function(b){if(l(a,b))return p=b.subpatterns.slice(0),"keydown"==a.type&&r(b),!0}),l(a,p[0])&&(1===p.length&&"keydown"==a.type&&r(p[0]),p.shift()))});this.add=function(a,b,d,g){var k;return k=d,"string"==typeof d?d=function(){c.execCommand(k,!1,null)}:h.isArray(k)&&(d=function(){c.execCommand(k[0],k[1],k[2])}),f(e(h.trim(a.toLowerCase())),function(a){a=m(a,b,d,g);q[a.id]=
a}),!0};this.remove=function(a){a=m(a);return!!q[a.id]&&(delete q[a.id],!0)}}});v("2l",["j"],function(h){var g=h.PluginManager,f=function(e,b){if(e._skinLoaded)e.notificationManager.open({type:"error",text:b});else e.on("SkinLoaded",function(){e.notificationManager.open({type:"error",text:b})})};return{pluginLoadError:function(e,b){a:{for(d in g.urls)if(g.urls[d]+"/plugin"+e.suffix+".js"===b)break a;var d=null}f(e,d?"Failed to load plugin: "+d+" from url "+b:"Failed to load plugin url: "+b)},uploadError:function(e,
b){f(e,"Failed to upload image: "+b)},displayError:f,initError:function(e){var b=window.console;b&&!window.test&&(b.error?b.error.apply(b,arguments):b.log.apply(b,arguments))}}});v("77",["1","1w","4y","1u"],function(h,g,f,e){var b=function(a){return f.descendant(g.fromDom(a.getBody()),"*[data-mce-caret]").fold(h.constant(null),function(a){return a.dom()})},d=function(a,b){b.hasAttribute("data-mce-caret")&&(e.showCaretContainerBlock(b),a.selection.setRng(a.selection.getRng()),a.selection.scrollIntoView(b))},
c=function(a,c){var f=b(a);if(f)return"compositionstart"===c.type?(c.preventDefault(),c.stopPropagation(),void d(f)):void(e.hasContent(f)&&d(a,f))};return{setup:function(a){a.on("keyup compositionstart",h.curry(c,a))}}});v("7h",["7","c","4e"],function(h,g,f){return function(e,b){function d(a,c,d,e){var f=new XMLHttpRequest;f.open("POST",b.url);f.withCredentials=b.credentials;f.upload.onprogress=function(a){e(a.loaded/a.total*100)};f.onerror=function(){d("Image upload failed due to a XHR Transport error. Code: "+
f.status)};f.onload=function(){var a;if(200>f.status||300<=f.status)var e=void d("HTTP Error: "+f.status);else(a=JSON.parse(f.responseText))&&"string"==typeof a.location?(e=b.basePath,a=a.location,e=e?e.replace(/\/$/,"")+"/"+a.replace(/^\//,""):a,e=void c(e)):e=void d("Invalid JSON: "+f.responseText);return e};var g=new FormData;g.append("file",a.blob(),a.filename());f.send(g)}function c(){return new h(function(a){a([])})}function a(a,b){return{url:"",blobInfo:a,status:!1,error:b}}function f(a,b){g.each(p[a],
function(a){a(b)});delete p[a]}function l(b,c,d){return e.markPending(b.blobUri()),new h(function(g){var k,l=function(){};try{var h=function(a){0>a||100<a||(k||(k=d()),k.progressBar.value(a))};c(b,function(a){k&&(k.close(),h=l);e.markUploaded(b.blobUri(),a);f(b.blobUri(),{url:a,blobInfo:b,status:!0});g({url:a,blobInfo:b,status:!0})},function(c){k&&(k.close(),h=l);e.removeFailed(b.blobUri());f(b.blobUri(),a(b,c));g(a(b,c))},h)}catch(y){g(a(b,y.message))}})}function r(a){var b=a.blobUri();return new h(function(a){p[b]=
p[b]||[];p[b].push(a)})}function q(a,c){return a=g.grep(a,function(a){return!e.isUploaded(a.blobUri())}),h.all(g.map(a,function(a){return e.isPending(a.blobUri())?r(a):l(a,b.handler,c)}))}var p={};return b=g.extend({credentials:!1,handler:d},b),{upload:function(a,e){return b.url||b.handler!==d?q(a,e):c()}}}});v("83",["5z"],function(h){return{atob:function(g){return h.getOrDie("atob")(g)},requestAnimationFrame:function(g){h.getOrDie("requestAnimationFrame")(g)}}});v("7v",["83","7"],function(h,g){function f(b){return new g(function(c,
a){var d=function(){a("Cannot convert "+b+" to Blob. Resource might not exist or is inaccessible.")};try{var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="blob";e.onload=function(){200==this.status?c(this.response):d()};e.onerror=d;e.send()}catch(r){d()}})}function e(b){var c,a;return b=decodeURIComponent(b).split(","),a=/data:([^;]+)/.exec(b[0]),a&&(c=a[1]),{type:c,data:b[1]}}function b(b){return new g(function(c){var a;b=e(b);try{var d=h.atob(b.data)}catch(r){return void c(new Blob([]))}var f=
new Uint8Array(d.length);for(a=0;a<f.length;a++)f[a]=d.charCodeAt(a);c(new Blob([f],{type:b.type}))})}return{uriToBlob:function(d){return 0===d.indexOf("blob:")?f(d):0===d.indexOf("data:")?b(d):null},blobToDataUri:function(b){return new g(function(c){var a=new FileReader;a.onloadend=function(){c(a.result)};a.readAsDataURL(b)})},parseDataUri:e}});v("7i",["7","1q","4e","7v","9"],function(h,g,f,e,b){var d=0,c=function(a,b,c,f){var g,l;return 0===b.src.indexOf("blob:")?(l=a.getByUri(b.src),void(l?c({image:b,
blobInfo:l}):e.uriToBlob(b.src).then(function(f){e.blobToDataUri(f).then(function(k){g=e.parseDataUri(k).data;l=a.create("blobid"+d++,f,g);a.add(l);c({image:b,blobInfo:l})})},function(a){f(a)}))):(g=e.parseDataUri(b.src).data,l=a.findFirst(function(a){return a.base64()===g}),void(l?c({image:b,blobInfo:l}):e.uriToBlob(b.src).then(function(e){l=a.create("blobid"+d++,e,g);a.add(l);c({image:b,blobInfo:l})},function(a){f(a)})))};return function(a,d){var e={};return{findAll:function(l,m){var p,k;return m||
(m=f.constant(!0)),p=g.filter(l?l.getElementsByTagName("img"):[],function(c){var d=c.src;return!!b.fileApi&&!c.hasAttribute("data-mce-bogus")&&!c.hasAttribute("data-mce-placeholder")&&!(!d||d==b.transparentSrc)&&(0===d.indexOf("blob:")?!a.isUploaded(d):0===d.indexOf("data:")&&m(c))}),k=g.map(p,function(a){var b;return e[a.src]?new h(function(b){e[a.src].then(function(c){return"string"==typeof c?c:void b({image:a,blobInfo:c.blobInfo})})}):(b=(new h(function(b,e){c(d,a,b,e)})).then(function(a){return delete e[a.image.src],
a})["catch"](function(b){return delete e[a.src],b}),e[a.src]=b,b)}),h.all(k)}}}});v("7w",["5z"],function(h){return{createObjectURL:function(g){return h.getOrDie("URL").createObjectURL(g)},revokeObjectURL:function(g){h.getOrDie("URL").revokeObjectURL(g)}}});v("2i",[],function(){var h=0,g=function(){var f=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+f()+f()+f()};return{uuid:function(f){return f+h++ +g()}}});v("7j",["7w","1q","4e","2i"],
function(h,g,f,e){return function(){function b(a){return d(function(b){return b.id()===a})}function d(a){return g.filter(c,a)[0]}var c=[],a=f.constant;return{create:function(b,c,d,f){b="object"==typeof b?b:{id:b,name:f,blob:c,base64:d};var g,k;if(!b.blob||!b.base64)throw"blob and base64 representations of the image are required for BlobInfo to be created";return g=b.id||e.uuid("blobid"),k=b.name||g,{id:a(g),name:a(k),filename:a(k+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[b.blob.type.toLowerCase()]||
"dat")),blob:a(b.blob),base64:a(b.base64),blobUri:a(b.blobUri||h.createObjectURL(b.blob)),uri:a(b.uri)}},add:function(a){b(a.id())||c.push(a)},get:b,getByUri:function(a){return d(function(b){return b.blobUri()==a})},findFirst:d,removeByUri:function(a){c=g.filter(c,function(b){return b.blobUri()!==a||(h.revokeObjectURL(b.blobUri()),!1)})},destroy:function(){g.each(c,function(a){h.revokeObjectURL(a.blobUri())});c=[]}}}});v("7k",[],function(){return function(){function h(f){return f in g}var g={};return{hasBlobUri:h,
getResultUri:function(f){return(f=g[f])?f.resultUri:null},isPending:function(f){return!!h(f)&&1===g[f].status},isUploaded:function(f){return!!h(f)&&2===g[f].status},markPending:function(f){g[f]={status:1,resultUri:null}},markUploaded:function(f,e){g[f]={status:2,resultUri:e}},removeFailed:function(f){delete g[f]},destroy:function(){g={}}}}});v("78","1q 7h 7i 7j 7k 2l".split(" "),function(h,g,f,e,b,d){return function(c){function a(a){return function(b){return c.selection?a(b):[]}}function m(a,b,c){var d=
0;do d=a.indexOf(b,d),-1!==d&&(a=a.substring(0,d)+c+a.substr(d+b.length),d+=c.length-b.length+1);while(-1!==d);return a}function l(a,b,c){return a=m(a,'src="'+b+'"','src="'+c+'"'),m(a,'data-mce-src="'+b+'"','data-mce-src="'+c+'"')}function r(a,b){h.each(c.undoManager.data,function(c){"fragmented"===c.type?c.fragments=h.map(c.fragments,function(c){return l(c,a,b)}):c.content=l(c.content,a,b)})}function q(){return c.notificationManager.open({text:c.translate("Image uploading..."),type:"info",timeout:-1,
progressBar:!0})}function p(b){return t||(t=new g(v,{url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),z().then(a(function(e){var f;return f=h.map(e,function(a){return a.blobInfo}),t.upload(f,q).then(a(function(a){a=h.map(a,function(a,b){var f=e[b].image;if(a.status&&!1!==c.settings.images_replace_blob_uris){var g=a.url;n.removeByUri(f.src);r(f.src,g);c.$(f).attr({src:y.images_reuse_filename?g+("?"+(new Date).getTime()):
g,"data-mce-src":c.convertURL(g,"src")})}else a.error&&d.uploadError(c,a.error);return{element:f,status:a.status}});return b&&b(a),a}))}))}function k(a){if(!1!==y.automatic_uploads)return p(a)}function u(a){return!y.images_dataimg_filter||y.images_dataimg_filter(a)}function z(){return w||(w=new f(v,n)),w.findAll(c.getBody(),u).then(a(function(a){return a=h.filter(a,function(a){return"string"!=typeof a||(d.displayError(c,a),!1)}),h.each(a,function(a){r(a.image.src,a.blobInfo.blobUri());a.image.src=
a.blobInfo.blobUri();a.image.removeAttribute("data-mce-src")}),a}))}function x(a){return a.replace(/src="(blob:[^"]+)"/g,function(a,b){var d=v.getResultUri(b);if(d)return'src="'+d+'"';d=n.getByUri(b);return d||(d=h.reduce(c.editorManager.get(),function(a,c){return a||c.editorUpload&&c.editorUpload.blobCache.getByUri(b)},null)),d?'src="data:'+d.blob().type+";base64,"+d.base64()+'"':a})}var t,w,n=new e,y=c.settings,v=new b;return c.on("setContent",function(){!1!==c.settings.automatic_uploads?k():z()}),
c.on("RawSaveContent",function(a){a.content=x(a.content)}),c.on("getContent",function(a){a.source_view||"raw"==a.format||(a.content=x(a.content))}),c.on("PostRender",function(){c.parser.addNodeFilter("img",function(a){h.each(a,function(a){var b=a.attr("src");n.getByUri(b)||(b=v.getResultUri(b))&&a.attr("src",b)})})}),{blobCache:n,uploadImages:p,uploadImagesAuto:k,scanForImages:z,destroy:function(){n.destroy();v.destroy();w=t=null}}}});v("79",["1"],function(h){var g=function(f){var e,b,d,c,a;var g=
f.settings;var l=f.dom,h=f.selection,q=f.schema,p=q.getBlockElements();var k=h.getStart();var u=f.getBody();if(a=g.forced_root_block,k&&1===k.nodeType&&a){for(;k&&k!==u;){if(p[k.nodeName])return;k=k.parentNode}if(e=h.getRng(),e.setStart){var z=e.startContainer;g=e.startOffset;var x=e.endContainer;var t=e.endOffset;try{var w=f.getDoc().activeElement===u}catch(y){}}else e.item&&(k=e.item(0),e=f.getDoc().body.createTextRange(),e.moveToElementText(k)),w=e.parentElement().ownerDocument===f.getDoc(),k=
e.duplicate(),k.collapse(!0),g=-1*k.move("character",-16777215),k.collapsed||(k=e.duplicate(),k.collapse(!1),t=-1*k.move("character",-16777215)-g);k=u.firstChild;for(c=u.nodeName.toLowerCase();k;)if((3===k.nodeType||1==k.nodeType&&!p[k.nodeName])&&q.isValidChild(c,a.toLowerCase()))if(3===k.nodeType&&0===k.nodeValue.length){var n=k;k=k.nextSibling;l.remove(n)}else b||(b=l.create(a,f.settings.forced_root_block_attrs),k.parentNode.insertBefore(b,k),d=!0),n=k,k=k.nextSibling,b.appendChild(n);else b=null,
k=k.nextSibling;if(d&&w){if(e.setStart)e.setStart(z,g),e.setEnd(x,t),h.setRng(e);else try{e=f.getDoc().body.createTextRange(),e.moveToElementText(u),e.collapse(!0),e.moveStart("character",g),0<t&&e.moveEnd("character",t),e.select()}catch(y){}f.nodeChanged()}}};return{setup:function(f){f.settings.forced_root_block&&f.on("NodeChange",h.curry(g,f))}}});v("81",["1q","1t","4g"],function(h,g,f){function e(b){function d(a){return h.map(a,function(a){return a=f.clone(a),a.node=b,a})}if(h.isArray(b))return h.reduce(b,
function(a,b){return a.concat(e(b))},[]);if(g.isElement(b))return d(b.getClientRects());if(g.isText(b)){var c=b.ownerDocument.createRange();return c.setStart(b,0),c.setEnd(b,b.data.length),d(c.getClientRects())}}return{getClientRects:e}});v("7q","4e 1q 1t 81 4g 5x 4f".split(" "),function(h,g,f,e,b,d,c){function a(a,b){return g.reduce(a,function(a,c){var d,e;return d=Math.min(Math.abs(a.left-b),Math.abs(a.right-b)),e=Math.min(Math.abs(c.left-b),Math.abs(c.right-b)),b>=c.left&&b<=c.right?c:b>=a.left&&
b<=a.right?a:e==d&&r(c.node)?c:e<d?c:a})}function m(a,b,d,e){for(;(e=q(e,a,c.isEditableCaretCandidate,b))&&!d(e););}function l(a,c){function d(a,b){var d;return d=g.filter(e.getClientRects(b),function(b){return!a(b,c)}),f=f.concat(d),0===d.length}var f=[];return f.push(c),m(-1,a,p(d,b.isAbove),c.node),m(1,a,p(d,b.isBelow),c.node),f}var r=f.isContentEditableFalse,q=d.findNode,p=h.curry;return{findClosestClientRect:a,findLineNodeRects:l,closestCaret:function(b,c,d){var f,k;return f=e.getClientRects(g.filter(g.toArray(b.getElementsByTagName("*")),
r)),f=g.filter(f,function(a){return d>=a.top&&d<=a.bottom}),k=a(f,c),k&&(k=a(l(b,k),c),k&&r(k.node))?{node:k.node,before:Math.abs(k.left-c)<Math.abs(k.right-c)}:null}}});v("84","4e 1q 81 4f 5x 5a 20 4g".split(" "),function(h,g,f,e,b,d,c,a){function m(a,c,d,f){for(;(f=b.findNode(f,a,e.isEditableCaretCandidate,c))&&!d(f););}function l(a,b,c,d,e,l){function k(d){var k;var l=f.getClientRects(d);-1==a&&(l=l.reverse());for(d=0;d<l.length;d++)if(k=l[d],!c(k,p)){if(0<r.length&&b(k,g.last(r))&&t++,k.line=
t,e(k))return!0;r.push(k)}}var h,p,t=0,r=[];return(p=g.last(l.getClientRects()))?(h=l.getNode(),k(h),m(a,d,k,h),r):r}h=h.curry;var r=h(l,-1,a.isAbove,a.isBelow),q=h(l,1,a.isBelow,a.isAbove);return{upUntil:r,downUntil:q,positionsUntil:function(b,e,f,l){var k,h,m,n,p,r=new d(e);e=[];var q=0;1==b?(k=r.next,h=a.isBelow,m=a.isAbove,n=c.after(l)):(k=r.prev,h=a.isAbove,m=a.isBelow,n=c.before(l));b=g.last(n.getClientRects());do if(n.isVisible()&&(p=g.last(n.getClientRects()),!m(p,b))){if(0<e.length&&h(p,
g.last(e))&&q++,p=a.clone(p),p.position=n,p.line=q,f(p))break;e.push(p)}while(n=k(n));return e},isAboveLine:h(function(a,b){return b.line>a}),isLine:h(function(a,b){return b.line===a})}});v("7s",["20","5x","1t","4e"],function(h,g,f,e){var b=f.isContentEditableTrue,d=f.isContentEditableFalse,c=function(a,b,c,d){return b._selectionOverrides.showCaret(a,c,d)},a=function(a,f){var l,m;return f=g.normalizeRange(1,a.getBody(),f),l=h.fromRangeStart(f),d(l.getNode())?c(1,a,l.getNode(),!l.isAtEnd()):d(l.getNode(!0))?
c(1,a,l.getNode(!0),!1):(m=a.dom.getParent(l.getNode(),e.or(d,b)),d(m)?c(1,a,m,!1):null)};return{showCaret:c,selectNode:function(a,b){if(a.fire("BeforeObjectSelected",{target:b}).isDefaultPrevented())var c=null;else c=b.ownerDocument.createRange(),c=(c.selectNode(b),c);return c},renderCaretAtRange:a,renderRangeCaret:function(b,c){var d;return c&&c.collapsed?(d=a(b,c),d?d:c):c}}});v("7x","1u 20 5x 5a 7q 84 1t k 9 7s 1q 4e".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q){var p=c.isContentEditableFalse,
k=a.getSelectedNode,u=f.isAfterContentEditableFalse,z=f.isBeforeContentEditableFalse,x=function(a,b){for(;(b=a(b))&&!b.isVisible(););return b},t=function(a,b,c){return c=f.normalizeRange(a,b,c),-1===a?g.fromRangeStart(c):g.fromRangeEnd(c)},w=function(a,b,c){var d,f=new e(a.getBody()),k=q.curry(x,f.next);f=q.curry(x,f.prev);c.collapsed&&a.settings.forced_root_block&&(d=a.dom.getParent(c.startContainer,"PRE"),d)&&(c=1===b?k(g.fromRangeStart(c)):f(g.fromRangeStart(c)),c||(c=a.dom.create(a.settings.forced_root_block),
c=((!m.ie||11<=m.ie)&&(c.innerHTML='<br data-mce-bogus="1">'),c),1===b?a.$(d).after(c):a.$(d).before(c),a.selection.select(c,!0),a.selection.collapse()))};return{moveH:function(a,b){return function(){var d;var g=new e(a.getBody());var m=q.curry(x,g.next),n=q.curry(x,g.prev);g=b?1:-1;var r=b?m:n,y=b?z:u;m=a.selection.getRng();var v;if(!m.collapsed&&(v=k(m),p(v)))v=l.showCaret(g,a,v,-1===g);else if(n=h.isCaretContainerBlock(m.startContainer),v=t(g,a.getBody(),m),y(v))v=l.selectNode(a,v.getNode(-1===
g));else if(v=r(v))if(y(v))v=l.showCaret(g,a,v.getNode(-1===g),1===g);else{r=r(v);if(y=y(r)){y=v;var J=f.isInSameBlock(y,r);y=!(J||!c.isBr(y.getNode()))||J}v=y?l.showCaret(g,a,r.getNode(-1===g),1===g):n?l.renderRangeCaret(a,v.toRange()):null}else v=n?m:null;g=(d=v)?d:(d=w(a,g,m),d?d:null);return!!g&&(a.selection.setRng(g),!0)}},moveV:function(a,c){return function(){var e;var f=c?1:-1;var g=c?d.downUntil:d.upUntil,h=a.selection.getRng(),m;a:{var n,q,x,y,v,N,K;if(K=k(h),n=t(f,a.getBody(),h),q=g(a.getBody(),
d.isAboveLine(1),n),g=r.filter(q,d.isLine(1)),x=r.last(n.getClientRects()),z(n)&&(K=n.getNode()),u(n)&&(K=n.getNode(!0)),x)if(y=x.left,m=b.findClosestClientRect(g,y),m&&p(m.node))m=(v=Math.abs(y-m.left),N=Math.abs(y-m.right),l.showCaret(f,a,m.node,v<N));else{if(K&&(v=d.positionsUntil(f,a.getBody(),d.isAboveLine(1),K),(m=b.findClosestClientRect(r.filter(v,d.isLine(1)),y))||(m=r.last(r.filter(v,d.isLine(0)))))){m=l.renderRangeCaret(a,m.position.toRange());break a}m=void 0}else m=null}f=(e=m)?e:(e=w(a,
f,h),e?e:null);return!!f&&(a.selection.setRng(f),!0)}}}});v("85",["2k","3","4"],function(h,g,f){var e=function(b){return function(){for(var c=new g(arguments.length),a=0;a<c.length;a++)c[a]=arguments[a];if(0===c.length)throw new f("Can't merge zero objects");a={};for(var d=0;d<c.length;d++){var e=c[d],h;for(h in e)e.hasOwnProperty(h)&&(a[h]=b(a[h],e[h]))}return a}},b=e(function(d,c){return h.isObject(d)&&h.isObject(c)?b(d,c):c});e=e(function(b,c){return c});return{deepMerge:b,merge:e}});v("7y",["2j",
"1","85"],function(h,g,f){var e=function(b){return h.map(b,function(b){return f.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:g.noop},b)})},b=function(b,c){return h.bind(e(b),function(a){return c.keyCode===a.keyCode&&c.shiftKey===a.shiftKey&&c.altKey===a.altKey&&c.ctrlKey===a.ctrlKey&&c.metaKey===a.metaKey?[a]:[]})};return{match:b,action:function(b){var c=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,c)}},execute:function(d,c){return h.find(b(d,
c),function(a){return a.action()})}}});v("7l",["6k","7x","7y","s"],function(h,g,f,e){var b=function(b,c,a){f.execute([{keyCode:e.RIGHT,action:g.moveH(b,!0)},{keyCode:e.LEFT,action:g.moveH(b,!1)},{keyCode:e.UP,action:g.moveV(b,!1)},{keyCode:e.DOWN,action:g.moveV(b,!0)},{keyCode:e.RIGHT,action:h.move(b,c,!0)},{keyCode:e.LEFT,action:h.move(b,c,!1)}],a).each(function(b){a.preventDefault()})};return{setup:function(d,c){d.on("keydown",function(a){!1===a.isDefaultPrevented()&&b(d,c,a)})}}});v("7m","54 55 56 58 7y s".split(" "),
function(h,g,f,e,b,d){var c=function(a,c,l){b.execute([{keyCode:d.BACKSPACE,action:b.action(f.backspaceDelete,a,!1)},{keyCode:d.DELETE,action:b.action(f.backspaceDelete,a,!0)},{keyCode:d.BACKSPACE,action:b.action(e.backspaceDelete,a,c,!1)},{keyCode:d.DELETE,action:b.action(e.backspaceDelete,a,c,!0)},{keyCode:d.BACKSPACE,action:b.action(g.backspaceDelete,a,!1)},{keyCode:d.DELETE,action:b.action(g.backspaceDelete,a,!0)},{keyCode:d.BACKSPACE,action:b.action(h.backspaceDelete,a,!1)},{keyCode:d.DELETE,
action:b.action(h.backspaceDelete,a,!0)}],l).each(function(a){l.preventDefault()})};return{setup:function(a,e){a.on("keydown",function(b){!1===b.isDefaultPrevented()&&c(a,e,b)});a.on("keyup",function(c){!1===c.isDefaultPrevented()&&b.execute([{keyCode:d.BACKSPACE,action:b.action(f.paddEmptyElement,a)},{keyCode:d.DELETE,action:b.action(f.paddEmptyElement,a)}],c)})}}});v("7z","1u 1t k f 1v c".split(" "),function(h,g,f,e,b,d){var c=function(a){a.innerHTML='<br data-mce-bogus="1">'},a=function(a,b){return a.nodeName===
b||a.previousSibling&&a.previousSibling.nodeName===b},m=function(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)},l=function(a){return m(a)&&m(a.parentNode)},r=function(a,b){return b&&a.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&!/^(fixed|absolute)/i.test(b.style.position)&&"true"!==a.getContentEditable(b)},q=function(a,c,e){var f=[];if(e){for(;e=e.firstChild;){if(a.isBlock(e))return;1!=e.nodeType||c[e.nodeName.toLowerCase()]||f.push(e)}for(c=f.length;c--;)e=f[c],!e.hasChildNodes()||e.firstChild==
e.lastChild&&""===e.firstChild.nodeValue?a.remove(e):e&&"A"===e.nodeName&&0===d.trim(b.trim(e.innerText||e.textContent)).length&&a.remove(e)}},p=function(a,c,d){return!1===g.isText(c)?d:a?1===d&&c.data.charAt(d-1)===b.ZWSP?0:d:d===c.data.length-1&&c.data.charAt(d)===b.ZWSP?c.data.length:d},k=function(a){var b=a.cloneRange();return b.setStart(a.startContainer,p(!0,a.startContainer,a.startOffset)),b.setEnd(a.endContainer,p(!1,a.endContainer,a.endOffset)),b},u=function(a,b){a.execCommand("InsertLineBreak",
!1,b)},v=function(a){do 3===a.nodeType&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;while(a)},x=function(a,b){var c,d,e=a.getRoot();for(c=b;c!==e&&"false"!==a.getContentEditable(c);)"true"===a.getContentEditable(c)&&(d=c),c=c.parentNode;return c!==e?d:e},t=function(a,b){var c=a.settings.forced_root_block;c&&c.toLowerCase()===b.tagName.toLowerCase()&&a.dom.setAttribs(b,a.settings.forced_root_block_attrs)},w=function(a,b,c,d,e){var f,g,k,l=b||"P";b=a.dom;var h=x(b,d);if(g=b.getParent(d,
b.isBlock),!g||!r(b,g)){if(g=g||h,k=g==a.getBody()||g&&/^(TD|TH|CAPTION)$/.test(g.nodeName)?g.nodeName.toLowerCase():g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=b.create(l),t(a,f),g.appendChild(f),c.setStart(f,0),c.setEnd(f,0),f;for(h=d;h.parentNode!=g;)h=h.parentNode;for(;h&&!b.isBlock(h);){var m=h;h=h.previousSibling}if(m&&a.schema.isValidChild(k,l.toLowerCase())){f=b.create(l);t(a,f);m.parentNode.insertBefore(f,m);for(h=m;h&&!b.isBlock(h);)a=h.nextSibling,f.appendChild(h),h=
a;c.setStart(d,e);c.setEnd(d,e)}}return d},n=function(a,b){var c;b.normalize();(c=b.lastChild)&&!/^(left|right)$/gi.test(a.getStyle(c,"float",!0))||a.add(b,"br")},y=function(a){var b=a.parentNode;return/^(LI|DT|DD)$/.test(b.nodeName)?b:a},D=function(a,b,c){for(a=a[c?"firstChild":"lastChild"];a&&1!=a.nodeType;)a=a[c?"nextSibling":"previousSibling"];return a===b};return{insert:function(b,d){function g(a){var b,c,d,f=a,g=T.getMoveCaretBeforeOnEnterElements();if(a){if(/^(LI|DT|DD)$/.test(a.nodeName)){a:{for(b=
a.firstChild;b;){if(1===b.nodeType||3===b.nodeType&&b.data&&/[\r\n\s]/.test(b.data))break a;b=b.nextSibling}b=void 0}b&&/^(UL|OL|DL)$/.test(b.nodeName)&&a.insertBefore(L.doc.createTextNode("\u00a0"),a.firstChild)}if(d=L.createRng(),a.normalize(),a.hasChildNodes()){for(b=new e(a,a);c=b.current();){if(3==c.nodeType){d.setStart(c,0);d.setEnd(c,0);break}if(g[c.nodeName.toLowerCase()]){d.setStartBefore(c);d.setEndBefore(c);break}f=c;b.next()}c||(d.setStart(f,0),d.setEnd(f,0))}else"BR"==a.nodeName?a.nextSibling&&
L.isBlock(a.nextSibling)?(d.setStartBefore(a),d.setEndBefore(a)):(d.setStartAfter(a),d.setEndAfter(a)):(d.setStart(a,0),d.setEnd(a,0));R.setRng(d);L.remove(void 0);R.scrollIntoView(a)}}function m(a){var d,e,f=M,g=T.getTextInlineElements();if(a||"TABLE"==X||"HR"==X?(d=L.create(a||W),t(b,d)):d=K.cloneNode(!1),e=d,!1===V.keep_styles)L.setAttrib(d,"style",null),L.setAttrib(d,"class",null);else{do g[f.nodeName]&&"_mce_caret"!=f.id&&(a=f.cloneNode(!1),L.setAttrib(a,"id",""),d.hasChildNodes()?(a.appendChild(d.firstChild),
d.appendChild(a)):(e=a,d.appendChild(a)));while((f=f.parentNode)&&f!=G)}return c(e),d}function B(b){var c,d;if(c=p(b,M,N),3==M.nodeType&&(b?0<c:c<M.nodeValue.length))return!1;if(M.parentNode==K&&Q&&!b||b&&1==M.nodeType&&M==K.firstChild)return!0;if(a(M,"TABLE")||a(M,"HR"))return Q&&!b||!Q&&b;var f=new e(M,K);for(3==M.nodeType&&(b&&0===c?f.prev():b||c!=M.nodeValue.length||f.next());c=f.current();){if(1===c.nodeType){if(!c.getAttribute("data-mce-bogus")&&(d=c.nodeName.toLowerCase(),ba[d]&&"br"!==d))return!1}else if(3===
c.nodeType&&!/^[ \t\r\n]*$/.test(c.nodeValue))return!1;b?f.prev():f.next()}return!0}function z(){I=/^(H[1-6]|PRE|FIGURE)$/.test(X)&&"HGROUP"!=aa?m(W):m();V.end_container_on_empty_block&&r(L,P)&&L.isEmpty(K)?I=L.split(P,K):L.insertAfter(I,K);g(I)}var A,G,M,N,K,U,I,S,P,X,aa,W,Q,L=b.dom,R=b.selection,V=b.settings,T=b.schema,ba=T.getNonEmptyElements(),Y=b.selection.getRng();if((new f(L)).normalize(Y),M=Y.startContainer,N=Y.startOffset,W=(V.force_p_newlines?"p":"")||V.forced_root_block,W=W?W.toUpperCase():
"",U=d.shiftKey,1==M.nodeType&&M.hasChildNodes()&&(Q=N>M.childNodes.length-1,M=M.childNodes[Math.min(N,M.childNodes.length-1)]||M,N=Q&&3==M.nodeType?M.nodeValue.length:0),G=x(L,M)){if(!L.isBlock(G)&&G!=L.getRoot())return void(W&&!U||u(b,d));if((W&&!U||!W&&U)&&(M=w(b,W,Y,M,N)),K=L.getParent(M,L.isBlock),P=K?L.getParent(K.parentNode,L.isBlock):null,X=K?K.nodeName.toUpperCase():"",aa=P?P.nodeName.toUpperCase():"","LI"!=aa||d.ctrlKey||(K=P,P=P.parentNode,X=aa),/^(LI|DT|DD)$/.test(X)){if(!W&&U)return void u(b,
d);if(L.isEmpty(K)){P!=b.getBody()&&(l(P)&&(W="LI"),I=W?m(W):L.create("BR"),D(P,K,!0)&&D(P,K,!1)?P&&P.parentNode&&"LI"===P.parentNode.nodeName?L.insertAfter(I,y(P)):L.replace(I,P):D(P,K,!0)?P&&P.parentNode&&"LI"===P.parentNode.nodeName?(L.insertAfter(I,y(P)),I.appendChild(L.doc.createTextNode(" ")),I.appendChild(P)):P.parentNode.insertBefore(I,P):D(P,K,!1)?L.insertAfter(I,y(P)):(P=y(P),A=Y.cloneRange(),A.setStartAfter(K),A.setEndAfter(P),S=A.extractContents(),"LI"===W&&S.firstChild&&"LI"==S.firstChild.nodeName?
(I=S.firstChild,L.insertAfter(S,P)):(L.insertAfter(S,P),L.insertAfter(I,P))),L.remove(K),g(I));return}}if("PRE"==X&&!1!==V.br_in_pre){if(!U)return void u(b,d)}else if(!W&&!U&&"LI"!=X||W&&U)return void u(b,d);W&&K===b.getBody()||(W=W||"P",h.isCaretContainerBlock(K)?(I=h.showCaretContainerBlock(K),L.isEmpty(K)&&c(K),g(I)):B()?z():B(!0)?(I=K.parentNode.insertBefore(m(),K),g(a(K,"HR")?I:K)):(A=k(Y).cloneRange(),A.setEndAfter(K),S=A.extractContents(),v(S),I=S.firstChild,L.insertAfter(S,K),q(L,ba,I),n(L,
K),L.isEmpty(K)&&c(K),I.normalize(),L.isEmpty(I)?(L.remove(I),z()):g(I)),L.setAttrib(I,"id",""),b.fire("NewBlock",{newBlock:I}))}}}});v("7n",["7z","s"],function(h,g){var f=function(b){b.typing&&(b.typing=!1,b.add())},e=function(b,d){d.isDefaultPrevented()||(d.preventDefault(),f(b.undoManager),b.undoManager.transact(function(){!1===b.selection.isCollapsed()&&b.execCommand("Delete");h.insert(b,d)}))};return{setup:function(b){b.on("keydown",function(d){d.keyCode===g.ENTER&&e(b,d)})}}});v("80",["1","20",
"1t","6j","6l"],function(h,g,f,e,b){var d=function(b,a,d){if(d=!(!d.fold(h.constant(!1),h.constant(!0),h.constant(!0),h.constant(!1))||!f.isText(a.container())))d=a.container(),a=a.offset(),d.insertData(a,"\u00a0"),b.selection.setCursorLocation(d,a+1),d=!0;return d};return{insertAtSelection:function(c){var a;if(a=!!c.selection.isCollapsed()){a=h.curry(b.isInlineTarget,c);var f=g.fromRangeStart(c.selection.getRng());a=e.readLocation(a,c.getBody(),f).map(h.curry(d,c,f)).getOr(!1)}return a}}});v("7o",
["80","7y","s"],function(h,g,f){var e=function(b,d){g.execute([{keyCode:f.SPACEBAR,action:g.action(h.insertAtSelection,b)}],d).each(function(b){d.preventDefault()})};return{setup:function(b){b.on("keydown",function(d){!1===d.isDefaultPrevented()&&e(b,d)})}}});v("7a",["7l","6k","7m","7n","7o"],function(h,g,f,e,b){return{setup:function(d){var c=g.setupSelectedState(d);h.setup(d,c);f.setup(d,c);e.setup(d);b.setup(d)}}});v("7b",["k","9","8"],function(h,g,f){return function(e){var b,d=[];"onselectionchange"in
e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(c){var a=e.selection.getRng();a={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset};"nodechange"!=c.type&&h.compareRanges(a,b)||e.fire("SelectionChange");b=a});e.on("contextmenu",function(){e.fire("SelectionChange")});e.on("SelectionChange",function(){var b=e.selection.getStart(!0);if(b&&(g.range||!e.selection.isCollapsed())){var a;a:{var f;if(f=e.$(b).parentsUntil(e.getBody()).add(b),
f.length===d.length){for(a=f.length;0<=a&&f[a]===d[a];a--);if(-1===a){a=(d=f,!0);break a}}a=(d=f,!1)}!a&&e.dom.isChildOf(b,e.getBody())&&e.nodeChanged({selectionChange:!0})}});e.on("MouseUp",function(b){b.isDefaultPrevented()||("IMG"==e.selection.getNode().nodeName?f.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())});this.nodeChanged=function(b){var a,c,d,f=e.selection;e.initialized&&f&&!e.settings.disable_nodechange&&!e.readonly&&(d=e.getBody(),a=f.getStart(!0)||d,a.ownerDocument==
e.getDoc()&&e.dom.isChildOf(a,d)||(a=d),c=[],e.dom.getParent(a,function(a){return a===d||void c.push(a)}),b=b||{},b.element=a,b.parents=c,e.fire("NodeChange",b))}}});v("7p","1u 74 20 d 1t k 4g 8".split(" "),function(h,g,f,e,b,d,c,a){var m=b.isContentEditableFalse;return function(b,d){function f(){var a,c;var d=e("*[contentEditable=false]",b);for(a=0;a<d.length;a++){var f=d[a];var l=f.previousSibling;h.endsWithCaretContainer(l)&&(c=l.data,1==c.length?l.parentNode.removeChild(l):l.deleteData(c.length-
1,1));l=f.nextSibling;h.startsWithCaretContainer(l)&&(c=l.data,1==c.length?l.parentNode.removeChild(l):l.deleteData(0,1))}v&&(g.remove(v),v=null);r&&(r.remove(),r=null);clearInterval(k)}function l(){k=a.setInterval(function(){e("div.mce-visual-caret",b).toggleClass("mce-visual-caret-hidden")},500)}var k,r,v;return{show:function(a,g){f();if(g&&/^(TD|TH)$/i.test(g.nodeName))var k=null;else{var n;if(d(g)){v=h.insertBlock("p",g,a);var p,t,q,x;var u=c.collapse(g.getBoundingClientRect(),a);u=("BODY"==b.tagName?
(n=b.ownerDocument.documentElement,p=b.scrollLeft||n.scrollLeft,t=b.scrollTop||n.scrollTop):(x=b.getBoundingClientRect(),p=b.scrollLeft-x.left,t=b.scrollTop-x.top),u.left+=p,u.right+=p,u.top+=t,u.bottom+=t,u.width=1,q=g.offsetWidth-g.clientWidth,0<q&&(a&&(q*=-1),u.left+=q,u.right+=q),u);n=(e(v).css("top",u.top),r=e('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(b),a&&r.addClass("mce-visual-caret-before"),l(),k=g.ownerDocument.createRange(),k.setStart(v,0),k.setEnd(v,
0),k)}else n=(v=h.insertInline(g,a),k=g.ownerDocument.createRange(),m(v.nextSibling)?(k.setStart(v,0),k.setEnd(v,0)):(k.setStart(v,1),k.setEnd(v,1)),k);k=n}return k},hide:f,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){a.clearInterval(k)}}}});v("82",[],function(){var h=function(g){var f,
e,b,d;return d=g.getBoundingClientRect(),f=g.ownerDocument,e=f.documentElement,b=f.defaultView,{top:d.top+b.pageYOffset-e.clientTop,left:d.left+b.pageXOffset-e.clientLeft}};return{calc:function(g,f){var e=g.inline?h(g.getBody()):{left:0,top:0},b=g.getBody();b=g.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0};if(f.target.ownerDocument!==g.getDoc()){var d=h(g.getContentAreaContainer());var c=g.getBody();var a=g.getDoc().documentElement;var m={left:c.scrollLeft,top:c.scrollTop};c={left:c.scrollLeft||
a.scrollLeft,top:c.scrollTop||a.scrollTop};c=g.inline?m:c;m=f.pageX-d.left+c.left;d=f.pageY-d.top+c.top}else m=f.pageX,d=f.pageY;return{pageX:m-e.left+b.left,pageY:d-e.top+b.top}}}});v("7r","1t 1q 4e 8 h 82".split(" "),function(h,g,f,e,b,d){var c=h.isContentEditableFalse,a=h.isContentEditableTrue,m=function(a,b,d){return b!==d&&!a.dom.isChildOf(b,d)&&!c(b)},l=function(a){a=a.cloneNode(!0);return a.removeAttribute("data-mce-selected"),a},r=function(b,d){return function(e){if(0===e.button){var k=g.find(d.dom.getParents(e.target),
f.or(c,a)),h=d.getBody();if(c(k)&&k!==h){h=d.dom.getPos(k);var l=d.getBody(),m=d.getDoc().documentElement;b.element=k;b.screenX=e.screenX;b.screenY=e.screenY;b.maxX=(d.inline?l.scrollWidth:m.offsetWidth)-2;b.maxY=(d.inline?l.scrollHeight:m.offsetHeight)-2;b.relX=e.pageX-h.x;b.relY=e.pageY-h.y;b.width=k.offsetWidth;b.height=k.offsetHeight;e=b.width;h=b.height;k=k.cloneNode(!0);d.dom.setStyles(k,{width:e,height:h});d.dom.setAttrib(k,"data-mce-selected",null);l=d.dom.create("div",{"class":"mce-drag-container",
"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});k=(d.dom.setStyles(l,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:h}),d.dom.setStyles(k,{margin:0,boxSizing:"border-box"}),l.appendChild(k),l);b.ghost=k}}}},q=function(a,b){var c=e.throttle(function(a,c){b._selectionOverrides.hideFakeCaret();b.selection.placeCaretAt(a,c)},0);return function(e){var f=Math.max(Math.abs(e.screenX-a.screenX),Math.abs(e.screenY-a.screenY));if(a.element&&!a.dragging&&
10<f){if(b.fire("dragstart",{target:a.element}).isDefaultPrevented())return;a.dragging=!0;b.focus()}if(a.dragging){var g=d.calc(b,e);f=g.pageX-a.relX;g=g.pageY+5;var k=a.ghost,h=b.getBody();k.parentNode!==h&&h.appendChild(k);k=a.ghost;h=a.width;var l=a.height,m=a.maxX,n=a.maxY,p=0,t=0;k.style.left=f+"px";k.style.top=g+"px";f+h>m&&(p=f+h-m);g+l>n&&(t=g+l-n);k.style.width=h-p+"px";k.style.height=l-t+"px";c(e.clientX,e.clientY)}}},p=function(a){a=a.getSel().getRangeAt(0).startContainer;return 3===a.nodeType?
a.parentNode:a},k=function(a,b){return function(c){if(a.dragging&&m(b,p(b.selection),a.element)){var d=l(a.element);c=b.fire("drop",{targetClone:d,clientX:c.clientX,clientY:c.clientY});c.isDefaultPrevented()||(d=c.targetClone,b.undoManager.transact(function(){var c=a.element;c&&c.parentNode&&c.parentNode.removeChild(c);b.insertContent(b.dom.getOuterHTML(d));b._selectionOverrides.hideFakeCaret()}))}v(a)}},u=function(a,b){return function(){v(a);a.dragging&&b.fire("dragend")}},v=function(a){a.dragging=
!1;a.element=null;(a=a.ghost)&&a.parentNode&&a.parentNode.removeChild(a)},x=function(a){var c={};var d=b.DOM;var e=document;var f=r(c,a);var g=q(c,a);var h=k(c,a);var l=u(c,a);a.on("mousedown",f);a.on("mousemove",g);a.on("mouseup",h);d.bind(e,"mousemove",g);d.bind(e,"mouseup",l);a.on("remove",function(){d.unbind(e,"mousemove",g);d.unbind(e,"mouseup",l)})},t=function(a){a.on("drop",function(b){var d="undefined"!=typeof b.clientX?a.getDoc().elementFromPoint(b.clientX,b.clientY):null;(c(d)||c(a.dom.getContentEditableParent(d)))&&
b.preventDefault()})};return{init:function(a){x(a);t(a)}}});v("7c","2j 68 1w 66 4x 4y 1u 20 5x 5a 7p 7q 1t 1y 7r 2b 9 7s 8 s".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,u,v,x,t,w,n){var y=p.isContentEditableTrue,z=p.isContentEditableFalse,A=m.isAfterContentEditableFalse,B=m.isBeforeContentEditableFalse;return function(p){function C(a,b,c){p.fire("ShowCaret",{target:b,direction:a,before:c}).isDefaultPrevented()?a=null:(p.selection.scrollIntoView(b,-1===a),a=P.show(c,b));return a}function D(b,
c){return c=m.normalizeRange(b,S,c),-1==b?a.fromRangeStart(c):a.fromRangeEnd(c)}function E(){function b(a){for(var b=p.getBody();a&&a!=b;){if(y(a)||z(a))return a;a=a.parentNode}return null}p.on("mouseup",function(a){var b=p.selection.getRng();b.collapsed&&v.isXYInContentArea(p,a.clientX,a.clientY)&&(a=t.renderCaretAtRange(p,b))&&p.selection.setRng(a)});p.on("click",function(a){var c;(c=b(a.target))&&(z(c)&&(a.preventDefault(),p.focus()),y(c)&&p.dom.isChildOf(c,p.selection.getNode())&&K())});p.on("blur NewBlock",
function(){K();U()});(function(a){var c=!1;a.on("touchstart",function(){c=!1});a.on("touchmove",function(){c=!0});a.on("touchend",function(d){var e=b(d.target);z(e)&&(c||(d.preventDefault(),N(t.selectNode(a,e))))})})(p);p.on("mousedown",function(c){var d;if(!1!==v.isXYInContentArea(p,c.clientX,c.clientY))if(d=b(c.target))z(d)?(c.preventDefault(),N(t.selectNode(p,d))):(K(),y(d)&&c.shiftKey||k.isXYWithinRange(c.clientX,c.clientY,p.selection.getRng())||p.selection.placeCaretAt(c.clientX,c.clientY));
else if(K(),U(),d=q.closestCaret(S,c.clientX,c.clientY)){var e=d.node,f=p.dom.getParent(c.target,p.dom.isBlock);e=p.dom.getParent(e,p.dom.isBlock);var g;(g=!f)||(g=p.dom.getParent(f,p.dom.isBlock),e=p.dom.getParent(e,p.dom.isBlock),g=g===e);(e=g)||(e=new l(f),f.firstChild?(f=a.before(f.firstChild),f=(f=e.next(f))&&!B(f)&&!A(f)):f=!1,e=!f);e&&(c.preventDefault(),p.getBody().focus(),(c=C(1,d.node,d.before))&&p.selection.setRng(c))}});p.on("keypress",function(a){n.modifierPressed(a)||z(p.selection.getNode())&&
a.preventDefault()});p.on("getSelectionRange",function(a){var b=a.range;if(I){if(!I.parentNode)return void(I=null);b=b.cloneRange();b.selectNode(I);a.range=b}});p.on("setSelectionRange",function(a){var b;(b=N(a.range,a.forward))&&(a.range=b)});p.on("AfterSetSelectionRange",function(a){a=a.range;M(a)||U();p.dom.hasClass(a.startContainer.parentNode,"mce-offscreen-selection")||K()});p.on("focus",function(){w.setEditorTimeout(p,function(){p.selection.setRng(t.renderRangeCaret(p,p.selection.getRng()))},
0)});p.on("copy",function(a){var b=a.clipboardData;if(!a.isDefaultPrevented()&&a.clipboardData&&!x.ie){var c;(c=(c=p.dom.get(X))?c.getElementsByTagName("*")[0]:c)&&(a.preventDefault(),b.clearData(),b.setData("text/html",c.outerHTML),b.setData("text/plain",c.outerText))}});u.init(p)}function J(){var a=p.contentStyles;a.push(P.getCss());a.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")}
function G(a){return c.isCaretContainer(a)||c.startsWithCaretContainer(a)||c.endsWithCaretContainer(a)}function M(a){return G(a.startContainer)||G(a.endContainer)}function N(a,c){var g,k,l,m,n,t,r,q,w,u,B=p.$,y=p.dom;if(!a)return null;if(a.collapsed){if(!M(a))if(!1===c){if(q=D(-1,a),z(q.getNode(!0)))return C(-1,q.getNode(!0),!1);if(z(q.getNode()))return C(-1,q.getNode(),!q.isAtEnd())}else{if(q=D(1,a),z(q.getNode()))return C(1,q.getNode(),!q.isAtEnd());if(z(q.getNode(!0)))return C(1,q.getNode(!0),
!1)}return null}return m=a.startContainer,n=a.startOffset,t=a.endOffset,3==m.nodeType&&0==n&&z(m.parentNode)&&(m=m.parentNode,n=y.nodeIndex(m),m=m.parentNode),1!=m.nodeType?null:(t==n+1&&(g=m.childNodes[n]),z(g)?(w=u=g.cloneNode(!0),r=p.fire("ObjectSelected",{target:g,targetClone:w}),r.isDefaultPrevented()?null:(k=d.descendant(f.fromDom(p.getBody()),"#"+X).fold(function(){return B([])},function(a){return B([a.dom()])}),w=r.targetClone,0===k.length&&(k=B('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",
X),k.appendTo(p.getBody())),a=p.dom.createRng(),w===u&&x.ie?(k.empty().append('<p style="font-size: 0" data-mce-bogus="all">\u00a0</p>').append(w),a.setStartAfter(k[0].firstChild.firstChild),a.setEndAfter(w)):(k.empty().append("\u00a0").append(w).append("\u00a0"),a.setStart(k[0].firstChild,1),a.setEnd(k[0].lastChild,0)),k.css({top:y.getPos(g,p.getBody()).y}),k[0].focus(),l=p.selection.getSel(),l.removeAllRanges(),l.addRange(a),h.each(b.descendants(f.fromDom(p.getBody()),"*[data-mce-selected]"),function(a){e.remove(a,
"data-mce-selected")}),g.setAttribute("data-mce-selected",1),I=g,U(),a)):null)}function K(){I&&(I.removeAttribute("data-mce-selected"),d.descendant(f.fromDom(p.getBody()),"#"+X).each(g.remove),I=null)}function U(){P.hide()}var I,S=p.getBody(),P=new r(p.getBody(),function(a){return p.dom.isBlock(a)}),X="sel-"+p.dom.uniqueId();return x.ceFalse&&(E(),J()),{showCaret:C,showBlockCaretContainer:function(a){if(a.hasAttribute("data-mce-caret")){c.showCaretContainerBlock(a);var b=p.selection.getRng();b&&p.selection.setRng(b);
p.selection.scrollIntoView(a[0],void 0)}},hideFakeCaret:U,destroy:function(){P.destroy();I=null}}}});v("7t",["h"],function(h){return{create:function(g,f,e){for(var b=[];f&&f!=g;f=f.parentNode)b.push(h.nodeIndex(f,e));return b},resolve:function(g,f){var e,b;var d=g;for(e=f.length-1;0<=e;e--){if(b=d.childNodes,f[e]>b.length-1)return null;d=b[f[e]]}return d}}});v("7d","s k f 7t l g 9 c 8 1u 20 5a".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q){return function(e){function f(a,b){try{e.getDoc().execCommand(a,
!1,b)}catch(ra){}}function p(){var a=e.getDoc().documentMode;return a?a:6}function q(){e.shortcuts.add("meta+a",null,"SelectAll")}function r(){e.settings.content_editable||R.bind(e.getDoc(),"mousedown mouseup",function(a){var b;a.target==e.getDoc().documentElement&&((b=V.getRng(),e.getBody().focus(),"mousedown"==a.type)?l.isCaretContainer(b.startContainer)||V.placeCaretAt(a.clientX,a.clientY):V.setRng(b))})}function t(){e.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===Q&&e.getBody().getElementsByTagName("hr").length&&
V.isCollapsed()&&0===V.getRng(!0).startOffset){var b=V.getNode(),c=b.previousSibling;if("HR"==b.nodeName)return R.remove(b),void a.preventDefault();c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(R.remove(c),a.preventDefault())}})}function w(){window.Range.prototype.getClientRects||e.on("mousedown",function(a){if(!a.isDefaultPrevented()&&"HTML"===a.target.nodeName){var b=e.getBody();b.blur();m.setEditorTimeout(e,function(){b.focus()})}})}function n(){e.on("click",function(a){var b=a.target;/^(IMG|HR)$/.test(b.nodeName)&&
"false"!==R.getContentEditableParent(b)&&(a.preventDefault(),e.selection.select(b),e.nodeChanged());"A"==b.nodeName&&R.hasClass(b,"mce-item-anchor")&&(a.preventDefault(),V.select(b))})}function y(){function a(){var a=R.getAttribs(V.getStart().cloneNode(!1));return function(){var b=V.getStart();b!==e.getBody()&&(R.setAttrib(b,"style",null),W(a,function(a){b.setAttributeNode(a.cloneNode(!0))}))}}function b(){return!V.isCollapsed()&&R.getParent(V.getStart(),R.isBlock)!=R.getParent(V.getEnd(),R.isBlock)}
e.on("keypress",function(c){var d;if(!c.isDefaultPrevented()&&(8==c.keyCode||46==c.keyCode)&&b())return d=a(),e.getDoc().execCommand("delete",!1,null),d(),c.preventDefault(),!1});R.bind(e.getDoc(),"cut",function(c){var d;!c.isDefaultPrevented()&&b()&&(d=a(),m.setEditorTimeout(e,function(){d()}))})}function v(){e.on("keydown",function(a){if(!a.isDefaultPrevented()&&a.keyCode===Q&&V.isCollapsed()&&0===V.getRng(!0).startOffset){var b=V.getNode().previousSibling;if(b&&b.nodeName&&"table"===b.nodeName.toLowerCase())return a.preventDefault(),
!1}})}function A(){7<p()||(f("RespectVisibilityInDesign",!0),e.contentStyles.push(".mceHideBrInPre pre br {display: none}"),R.addClass(e.getBody(),"mceHideBrInPre"),ba.addNodeFilter("pre",function(a){for(var c,d,e,f,g=a.length;g--;)for(c=a[g].getAll("br"),d=c.length;d--;)e=c[d],(f=e.prev)&&3===f.type&&"\n"!=f.value.charAt(f.value-1)?f.value+="\n":e.parent.insert(new b("#text",3),e,!0).value="\n"}),Y.addNodeFilter("pre",function(a){for(var b,c,d,e=a.length;e--;)for(b=a[e].getAll("br"),c=b.length;c--;)d=
b[c],(d=d.prev)&&3==d.type&&(d.value=d.value.replace(/\r?\n$/,""))}))}function B(){R.bind(e.getBody(),"mouseup",function(){var a,b=V.getNode();"IMG"==b.nodeName&&((a=R.getStyle(b,"width"))&&(R.setAttrib(b,"width",a.replace(/[^0-9%]+/g,"")),R.setStyle(b,"width","")),(a=R.getStyle(b,"height"))&&(R.setAttrib(b,"height",a.replace(/[^0-9%]+/g,"")),R.setStyle(b,"height","")))})}function C(){function a(){f("StyleWithCSS",!1);f("enableInlineTableEditing",!1);T.object_resizing||f("enableObjectResizing",!1)}
T.readonly||e.on("BeforeExecCommand MouseDown",a)}function H(){function a(){W(R.select("a"),function(a){var b=a.parentNode,c=R.getRoot();if(b.lastChild===a){for(;b&&!R.isBlock(b);){if(b.parentNode.lastChild!==b||b===c)return;b=b.parentNode}R.add(b,"br",{"data-mce-bogus":1})}})}e.on("SetContent ExecCommand",function(b){"setcontent"!=b.type&&"mceInsertLink"!==b.command||a()})}function F(){T.forced_root_block&&e.on("init",function(){f("DefaultParagraphSeparator",T.forced_root_block)})}function E(){e.on("keydown",
function(a){var b;a.isDefaultPrevented()||a.keyCode!=Q||(b=e.getDoc().selection.createRange(),b&&b.item&&(a.preventDefault(),e.undoManager.beforeChange(),R.remove(b.item(0)),e.undoManager.add()))})}function J(){var a;10<=p()&&(a="",W("p div h1 h2 h3 h4 h5 h6".split(" "),function(b,c){a+=(0<c?",":"")+b+":empty"}),e.contentStyles.push(a+"{padding-right: 1px !important}"))}function G(){9>p()&&(ba.addNodeFilter("noscript",function(a){for(var b,c,d=a.length;d--;)b=a[d],(c=b.firstChild)&&b.attr("data-mce-innertext",
c.value)}),Y.addNodeFilter("noscript",function(a){for(var c,e,f,g=a.length;g--;)c=a[g],(e=a[g].firstChild)?e.value=d.decode(e.value):(f=c.attributes.map["data-mce-innertext"],f&&(c.attr("data-mce-innertext",null),e=new b("#text",3),e.value=f,e.raw=!0,c.append(e)))}))}function M(){function a(a,b){var c=k.createTextRange();try{c.moveToPoint(a,b)}catch(O){c=null}return c}function b(b){var d;b.button?(d=a(b.x,b.y),d&&(0<d.compareEndPoints("StartToStart",e)?d.setEndPoint("StartToStart",e):d.setEndPoint("EndToEnd",
e),d.select())):c()}function c(){var a=g.selection.createRange();e&&!a.item&&0===a.compareEndPoints("StartToEnd",a)&&e.select();R.unbind(g,"mouseup",c);R.unbind(g,"mousemove",b);e=d=0}var d,e,f,g=R.doc,k=g.body;g.documentElement.unselectable=!0;R.bind(g,"mousedown contextmenu",function(k){"HTML"!==k.target.nodeName||(d&&c(),f=g.documentElement,f.scrollHeight>f.clientHeight)||(d=1,(e=a(k.x,k.y))&&(R.bind(g,"mouseup",c),R.bind(g,"mousemove",b),R.getRoot().focus(),e.select()))})}function N(){e.on("keyup focusin mouseup",
function(a){65==a.keyCode&&h.metaKeyPressed(a)||("keyup"!==a.type||e.selection.isCollapsed())&&V.normalize()},!0)}function K(){e.inline||e.on("keydown",function(){document.activeElement==document.body&&e.getWin().focus()})}function U(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(a){if("HTML"==a.target.nodeName){if(11<c.ie)return void e.getBody().focus();a=e.selection.getRng();e.getBody().focus();e.selection.setRng(a);e.selection.normalize();e.nodeChanged()}}))}
function I(){c.mac&&e.on("keydown",function(a){!h.metaKeyPressed(a)||a.shiftKey||37!=a.keyCode&&39!=a.keyCode||(a.preventDefault(),e.selection.getSel().modify("move",37==a.keyCode?"backward":"forward","lineboundary"))})}function S(){e.on("click",function(a){var b=a.target;do if("A"===b.tagName)return void a.preventDefault();while(b=b.parentNode)});e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function P(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(a){a.preventDefault()})})}
function X(){ba.addNodeFilter("br",function(a){for(var b=a.length;b--;)"Apple-interchange-newline"==a[b].attr("class")&&a[b].remove()})}function aa(){e.on("dragstart",function(a){var b,c;a.dataTransfer&&(e.selection.isCollapsed()&&"IMG"==a.target.tagName&&V.select(a.target),b=e.selection.getContent(),0<b.length&&(c=ja+escape(e.id)+","+escape(b),a.dataTransfer.setData(da,c)))});e.on("drop",function(a){if(!a.isDefaultPrevented()){var b,c;(b=a.dataTransfer&&(c=a.dataTransfer.getData(da),c&&0<=c.indexOf(ja))?
(c=c.substr(ja.length).split(","),{id:unescape(c[0]),html:unescape(c[1])}):null)&&b.id!=e.id&&(a.preventDefault(),a=g.getCaretRangeFromPoint(a.x,a.y,e.getDoc()),V.setRng(a),b=b.html,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:b,internal:!0}):e.execCommand("mceInsertContent",!1,b))}})}var W=a.each,Q=h.BACKSPACE,L=h.DELETE,R=e.dom,V=e.selection,T=e.settings,ba=e.parser,Y=e.serializer,ea=c.gecko,ca=c.ie,ha=c.webkit,ja="data:text/mce-internal,",
da=ca?"Text":"URL";(function(){e.on("keydown",function(a){var b,c,d,f,g;if(!a.isDefaultPrevented()&&a.keyCode==h.BACKSPACE&&(b=V.getRng(),c=b.startContainer,d=b.startOffset,f=R.getRoot(),g=c,b.collapsed&&0===d)){for(;g&&g.parentNode&&g.parentNode.firstChild==g&&g.parentNode!=f;)g=g.parentNode;"BLOCKQUOTE"===g.tagName&&(e.formatter.toggle("blockquote",null,g),b=R.createRng(),b.setStart(c,0),b.setEnd(c,0),V.setRng(b))}})})();(function(){function a(a){var b=R.create("body");a=a.cloneContents();return b.appendChild(a),
V.serializer.serialize(b,{format:"html"})}e.on("keydown",function(b){var c,d,f=b.keyCode;if(!b.isDefaultPrevented()&&(f==L||f==Q)&&(c=e.selection.isCollapsed(),d=e.getBody(),!c||R.isEmpty(d))){if(c=!c)c=e.selection.getRng(),c.setStart?(c=a(c),f=R.createRng(),f.selectNode(e.getBody()),f=a(f),c=c===f):c.item?c=!1:(f=c.duplicate(),c=(f.moveToElementText(e.getBody()),g.compareRanges(c,f))),c=!c;c||(b.preventDefault(),e.setContent(""),d.firstChild&&R.isBlock(d.firstChild)?e.selection.setCursorLocation(d.firstChild,
0):e.selection.setCursorLocation(d,0),e.nodeChanged())}})})();c.windowsPhone||N();ha&&(r(),n(),F(),P(),v(),X(),c.iOS?(K(),U(),S()):q());ca&&11>c.ie&&(t(),document.body.setAttribute("role","application"),A(),B(),E(),J(),G(),M());11<=c.ie&&(U(),v());c.ie&&(q(),f("AutoUrlDetect",!1),aa());ea&&(t(),w(),y(),C(),H(),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),I(),v());return{refreshContentEditable:function(){},isHidden:function(){var a;return!ea||
e.removed?0:(a=e.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount)}}}});v("6t","4t 1w 66 28 5l 5 77 h v r 78 2l 79 o l m 7a 7b 7c w 8 7d c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,u,v,x,t,w,n,y,D,A){var B=a.DOM,z=function(a,b){var c=g.fromDom(a.getDoc().head),d=g.fromTag("style");f.set(d,"type","text/css");h.append(d,g.fromText(b));h.append(c,d)},H=function(a){var b=new k(a.settings,a.schema);return b.addAttributeFilter("src,href,style,tabindex",function(b,c){for(var d,e,f,g=b.length,
k=a.dom;g--;)(d=b[g],e=d.attr(c),f="data-mce-"+c,d.attributes.map[f])||0===e.indexOf("data:")||0===e.indexOf("blob:")||("style"===c?(e=k.serializeStyle(k.parseStyle(e),d.name),e.length||(e=null),d.attr(f,e),d.attr(c,e)):"tabindex"===c?(d.attr(f,e),d.attr(c,null)):d.attr(f,a.convertURL(e,c,d.name)))}),b.addNodeFilter("script",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("type")||"no/type",0!==c.indexOf("mce-")&&b.attr("type","mce-"+c)}),b.addNodeFilter("#cdata",function(a){for(var b,c=a.length;c--;)b=
a[c],b.type=8,b.name="#comment",b.value="[CDATA["+b.value+"]]"}),b.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(b){for(var c,d=b.length,e=a.schema.getNonEmptyElements();d--;)c=b[d],c.isEmpty(e)&&0===c.getAll("br").length&&(c.append(new u("br",1)).shortEnded=!0)}),b},F=function(a){a.settings.auto_focus&&y.setEditorTimeout(a,function(){var b=!0===a.settings.auto_focus?a:a.editorManager.get(a.settings.auto_focus);b.destroyed||b.focus()},100)},E=function(a){a.bindPendingEventDelegates();a.initialized=
!0;a.fire("init");a.focus(!0);a.nodeChanged({initial:!0});a.execCallback("init_instance_callback",a);F(a)};return{initContentBody:function(f,g){var k,h=f.settings;var q=f.getElement();var u=f.getDoc();h.inline||(f.getElement().style.visibility=f.orgVisibility);g||h.content_editable||(u.open(),u.write(f.iframeHTML),u.close());h.content_editable&&(f.on("remove",function(){var a=this.getBody();B.removeClass(a,"mce-content-body");B.removeClass(a,"mce-edit-focus");B.setAttrib(a,"contentEditable",null)}),
B.addClass(q,"mce-content-body"),f.contentDocument=u=h.content_document||e,f.contentWindow=h.content_window||b,f.bodyElement=q,h.content_document=h.content_window=null,h.root_name=q.nodeName.toLowerCase());q=f.getBody();q.disabled=!0;f.readonly=h.readonly;f.readonly||(f.inline&&"static"===B.getStyle(q,"position",!0)&&(q.style.position="relative"),q.contentEditable=f.getParam("content_editable_state",!0));q.disabled=!1;f.editorUpload=new r(f);f.schema=new v(h);f.dom=new a(u,{keep_values:!0,url_converter:f.convertURL,
url_converter_scope:f,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:f.inline?f.getBody():null,collect:h.content_editable,schema:f.schema,onSetAttrib:function(a){f.fire("SetAttrib",a)}});f.parser=H(f);f.serializer=new l(h,f);f.selection=new m(f.dom,f.getWin(),f.serializer,f);f.formatter=new d(f);f.undoManager=new n(f);f._nodeChangeDispatcher=new t(f);f._selectionOverrides=new w(f);c.setup(f);x.setup(f);p.setup(f);f.fire("PreInit");h.browser_spellcheck||
h.gecko_spellcheck||(u.body.spellcheck=!1,B.setAttrib(q,"spellcheck","false"));f.quirks=new D(f);f.fire("PostRender");h.directionality&&(q.dir=h.directionality);h.nowrap&&(q.style.whiteSpace="nowrap");h.protect&&f.on("BeforeSetContent",function(a){A.each(h.protect,function(b){a.content=a.content.replace(b,function(a){return"\x3c!--mce:protected "+escape(a)+"--\x3e"})})});f.on("SetContent",function(){f.addVisual(f.getBody())});h.padd_empty_editor&&f.on("PostProcess",function(a){a.content=a.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,
"")});f.load({initial:!0,format:"html"});f.startContent=f.getContent({format:"raw"});f.on("compositionstart compositionend",function(a){f.composing="compositionstart"===a.type});0<f.contentStyles.length&&(k="",A.each(f.contentStyles,function(a){k+=a+"\r\n"}),f.dom.addStyle(k));(f.inline?B.styleSheetLoader:f.dom.styleSheetLoader).loadAll(f.contentCSS,function(a){E(f)},function(a){E(f)});h.content_style&&z(f,h.content_style)}}});v("5n",["j"],function(h){return h.PluginManager});v("5o",["j"],function(h){return h.ThemeManager});
v("5m","28 5l h 9 6t 5n 5o c 2i".split(" "),function(h,g,f,e,b,d,c,a,m){var l=f.DOM,r=function(b,c,e){var f;var g=d.get(e);(f=d.urls[e]||b.documentBaseUrl.replace(/\/$/,""),e=a.trim(e),g&&-1===a.inArray(c,e))&&(a.each(d.dependencies(e),function(a){r(b,c,a)}),!b.plugins[e])&&(g=new g(b,f,b.$),b.plugins[e]=g,g.init&&(g.init(b,f),c.push(e)))},q=function(b){var c=[];a.each(b.settings.plugins.split(/[ ,]/),function(a){r(b,c,a.replace(/^\-/,""))})},p=function(a){var b,d=a.settings;d.theme&&("function"!=
typeof d.theme?(d.theme=d.theme.replace(/^\-/,""),b=c.get(d.theme),a.theme=new b(a,c.urls[d.theme]),a.theme.init&&a.theme.init(a,c.urls[d.theme]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme=d.theme)},k=function(a){var b,c,d,e,f,g=a.settings,k=a.getElement();return g.render_ui&&a.theme&&(a.orgDisplay=k.style.display,"function"!=typeof g.theme?(b=g.width||l.getStyle(k,"width")||"100%",c=g.height||l.getStyle(k,"height")||k.offsetHeight,d=g.min_height||100,e=/^[0-9\.]+(|px)$/i,e.test(""+b)&&(b=
Math.max(parseInt(b,10),100)),e.test(""+c)&&(c=Math.max(parseInt(c,10),d)),f=a.theme.renderUI({targetNode:k,width:b,height:c,deltaWidth:g.delta_width,deltaHeight:g.delta_height}),g.content_editable||(c=(f.iframeHeight||c)+("number"==typeof c?f.deltaHeight||0:""),c<d&&(c=d))):(f=g.theme(a,k),f.editorContainer.nodeType&&(f.editorContainer.id=f.editorContainer.id||a.id+"_parent"),f.iframeContainer.nodeType&&(f.iframeContainer.id=f.iframeContainer.id||a.id+"_iframecontainer"),c=f.iframeHeight||k.offsetHeight),
a.editorContainer=f.editorContainer,f.height=c),f},u=function(a,c){if(h.domain!==g.location.hostname&&e.ie&&12>e.ie){var d=m.uuid("mce");a[d]=function(){b.initContentBody(a)};return l.setAttrib(c,"src",'javascript:(function(){document.open();document.domain="'+h.domain+'";var ed = window.parent.tinymce.get("'+a.id+'");document.write(ed.iframeHTML);document.close();ed.'+d+"(true);})()"),!0}return!1},v=function(a,b){var c=a.settings;a.iframeHTML=c.doctype+"<html><head>";c.document_base_url!=a.documentBaseUrl&&
(a.iframeHTML+='<base href="'+a.documentBaseURI.getURI()+'" />');!e.caretAfter&&c.ie7_compat&&(a.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />');a.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var d=c.body_id||"tinymce";-1!=d.indexOf("=")&&(d=a.getParam("body_id","","hash"),d=d[a.id]||d);var f=c.body_class||"";-1!=f.indexOf("=")&&(f=a.getParam("body_class","","hash"),f=f[a.id]||"");c.content_security_policy&&(a.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+
c.content_security_policy+'" />');a.iframeHTML+='</head><body id="'+d+'" class="mce-content-body '+f+'" data-id="'+a.id+'"><br></body></html>';var g=l.create("iframe",{id:a.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:a.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:b.height,display:"block"}});g.onload=function(){g.onload=null;a.fire("load")};d=u(a,g);return a.contentAreaContainer=b.iframeContainer,
a.iframeElement=g,l.add(b.iframeContainer,g),d};return{init:function(c){var d=c.settings;var e=c.getElement();if(c.rtl=d.rtl_ui||c.editorManager.i18n.rtl,c.editorManager.i18n.setCode(d.language),d.aria_label=d.aria_label||l.getAttrib(e,"aria-label",c.getLang("aria.rich_text_area")),c.fire("ScriptsLoaded"),p(c),q(c),e=k(c),d.content_css&&a.each(a.explode(d.content_css),function(a){c.contentCSS.push(c.documentBaseURI.toAbsolute(a))}),d.content_editable)return b.initContentBody(c);d=v(c,e);e.editorContainer&&
(l.get(e.editorContainer).style.display=c.orgDisplay,c.hidden=l.isHidden(e.editorContainer));c.getElement().style.display="none";l.setAttrib(c.id,"aria-hidden",!0);d||b.initContentBody(c)}}});v("2f","5l h a i 9 2l 5m 13 5n 5o c 12".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q){var p=g.DOM,k=function(a,b){var f=a.settings,g=e.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=a.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&g.add(f.language_url),f.theme&&
"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!l.urls[f.theme]){var k=f.theme_url;k=k?a.documentBaseURI.toAbsolute(k):"themes/"+f.theme+"/theme"+b+".js";l.load(f.theme,k)}r.isArray(f.plugins)&&(f.plugins=f.plugins.join(" "));r.each(f.external_plugins,function(a,b){m.load(b,a);f.plugins+=" "+b});r.each(f.plugins.split(/[ ,]/),function(a){if(a=r.trim(a),a&&!m.urls[a])"-"===a.charAt(0)?(a=a.substr(1,a.length),a=m.dependencies(a),r.each(a,function(a){a=m.createUrl({prefix:"plugins/",resource:a,
suffix:"/plugin"+b+".js"},a);m.load(a.resource,a)})):m.load(a,{prefix:"plugins/",resource:a,suffix:"/plugin"+b+".js"})});g.loadQueue(function(){a.removed||c.init(a)},a,function(b){d.pluginLoadError(a,b[0]);a.removed||c.init(a)})};return{render:function(c){function d(){p.unbind(h,"ready",d);c.render()}var e=c.settings,g=c.id;if(!f.Event.domLoaded)return void p.bind(h,"ready",d);if(c.getElement()&&b.contentEditable){e.inline?c.inline=!0:(c.orgVisibility=c.getElement().style.visibility,c.getElement().style.visibility=
"hidden");var l=c.getElement().form||p.getParent(g,"form");l&&(c.formElement=l,e.hidden_input&&!/TEXTAREA|INPUT/i.test(c.getElement().nodeName)&&(p.insertAfter(p.create("input",{type:"hidden",name:g}),g),c.hasHiddenInput=!0),c.formEventDelegate=function(a){c.fire(a.type,a)},p.bind(l,"submit reset",c.formEventDelegate),c.on("reset",function(){c.setContent(c.startContent,{format:"raw"})}),!e.submit_patch||l.submit.nodeType||l.submit.length||l._mceOldSubmit||(l._mceOldSubmit=l.submit,l.submit=function(){return c.editorManager.triggerSave(),
c.setDirty(!1),l._mceOldSubmit(l)}));c.windowManager=new q(c);c.notificationManager=new a(c);"xml"===e.encoding&&c.on("GetContent",function(a){a.save&&(a.content=p.encode(a.content))});e.add_form_submit_trigger&&c.on("submit",function(){c.initialized&&c.save()});e.add_unload_trigger&&(c._beforeUnload=function(){!c.initialized||c.destroyed||c.isHidden()||c.save({format:"raw",no_events:!0,set_dirty:!1})},c.editorManager.on("BeforeUnload",c._beforeUnload));c.editorManager.add(c);k(c,c.suffix)}}}});v("2g",
[],function(){function h(e,b,d){try{e.getDoc().execCommand(b,!1,d)}catch(c){}}function g(e){var b,d;return b=e.getBody(),d=function(b){0<e.dom.getParents(b.target,"a").length&&b.preventDefault()},e.dom.bind(b,"click",d),{unbind:function(){e.dom.unbind(b,"click",d)}}}function f(e,b){e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null);b?(e._clickBlocker=g(e),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=
!0,h(e,"StyleWithCSS",!1),h(e,"enableInlineTableEditing",!1),h(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}return{setMode:function(e,b){b!=(e.readonly?"readonly":"design")&&(e.initialized?f(e,"readonly"==b):e.on("init",function(){f(e,"readonly"==b)}),e.fire("SwitchMode",{mode:b}))}}});v("2h",[],function(){return{add:function(h,g,f){var e=h.sidebars?h.sidebars:[];e.push({name:g,settings:f});h.sidebars=e}}});v("16","j d h x 14 2e 9 q 2f 2g 15 2h c y 2i".split(" "),function(h,g,f,e,b,d,c,
a,m,l,r,q,p,k,u){function v(a,b,f){var l=this;var m=l.documentBaseUrl=f.documentBaseURL;var n=f.baseURI;b=d.getEditorSettings(l,a,m,f.defaultSettings,b);l.settings=b;h.language=b.language||"en";h.languageLoad=b.language_load;h.baseURL=f.baseURL;l.id=a;l.setDirty(!1);l.plugins={};l.documentBaseURI=new k(b.document_base_url,{base_uri:n});l.baseURI=n;l.contentCSS=[];l.contentStyles=[];l.shortcuts=new r(l);l.loadedCSS={};l.editorCommands=new e(l);l.suffix=f.suffix;l.editorManager=f;l.inline=b.inline;
b.cache_suffix&&(c.cacheSuffix=b.cache_suffix.replace(/^[\?\&]+/,""));!1===b.override_viewport&&(c.overrideViewPort=!1);f.fire("SetupEditor",l);l.execCallback("setup",l);l.$=g.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var x=f.DOM,t=p.extend,w=p.each,n=p.trim,y=p.resolve,D=c.gecko,A=c.ie;return v.prototype={render:function(){m.render(this)},focus:function(a){function b(a){return g.dom.getParent(a,function(a){return"true"===g.dom.getContentEditable(a)})}
var d,e,f,g=this,k=g.selection,l=g.settings.content_editable,h=g.getDoc(),m=g.getBody();if(!g.removed){if(!a){if(d=k.getRng(),d.item&&(e=d.item(0)),g.quirks.refreshContentEditable(),f=b(k.getNode()),g.$.contains(m,f))return f.focus(),k.normalize(),void g.editorManager.setActive(g);if(l||(c.opera||g.getBody().focus(),g.getWin().focus()),D||l){if(m.setActive)try{m.setActive()}catch(U){m.focus()}else g.inline&&document.activeElement!==m&&g.selection.setRng(g.lastRng),m.focus();l&&k.normalize()}e&&e.ownerDocument==
h&&(d=h.body.createControlRange(),d.addElement(e),d.select())}g.editorManager.setActive(g)}},execCallback:function(a){var b,c=this.settings[a];if(c)return this.callbackLookup&&(b=this.callbackLookup[a])&&(c=b.func,b=b.scope),"string"==typeof c&&(b=c.replace(/\.\w+$/,""),b=b?y(b):0,c=y(c),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[a]={func:c,scope:b}),c.apply(b||this,Array.prototype.slice.call(arguments,1))},translate:function(a){if(a&&p.is(a,"string")){var b=this.settings.language||
"en",c=this.editorManager.i18n;a=c.data[b+"."+a]||a.replace(/\{\#([^\}]+)\}/g,function(a,d){return c.data[b+"."+d]||"{#"+d+"}"})}return this.editorManager.translate(a)},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(void 0!==b?b:"{#"+a+"}")},getParam:function(a,b,c){var d;a=a in this.settings?this.settings[a]:b;return"hash"===c?(d={},"string"==typeof a?w(0<a.indexOf("=")?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(a){a=a.split("=");
1<a.length?d[n(a[0])]=n(a[1]):d[n(a[0])]=n(a)}):d=a,d):a},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});b.text||b.icon||(b.icon=a);c.buttons=c.buttons||{};b.tooltip=b.tooltip||b.title;c.buttons[a]=b},addSidebar:function(a,b){return q.add(this,a,b)},addMenuItem:function(a,b){var c=this;b.cmd&&(b.onclick=function(){c.execCommand(b.cmd)});c.menuItems=c.menuItems||{};c.menuItems[a]=b},addContextToolbar:function(a,
b){var c,d=this;d.contextToolbars=d.contextToolbars||[];"string"==typeof a&&(c=a,a=function(a){return d.dom.is(a,c)});d.contextToolbars.push({id:u.uuid("mcet"),predicate:a,items:b})},addCommand:function(a,b,c){this.editorCommands.addCommand(a,b,c)},addQueryStateHandler:function(a,b,c){this.editorCommands.addQueryStateHandler(a,b,c)},addQueryValueHandler:function(a,b,c){this.editorCommands.addQueryValueHandler(a,b,c)},addShortcut:function(a,b,c,d){this.shortcuts.add(a,b,c,d)},execCommand:function(a,
b,c,d){return this.editorCommands.execCommand(a,b,c,d)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(x.show(this.getContainer()),x.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var a=this.getDoc();
this.hidden||(A&&a&&!this.inline&&a.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this==this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(x.hide(this.getContainer()),x.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(a,b){this.fire("ProgressState",{state:a,time:b})},load:function(a){var b,c=this.getElement();return this.removed?"":c?(a=a||
{},a.load=!0,b=this.setContent(void 0!==c.value?c.value:c.innerHTML,a),a.element=c,a.no_events||this.fire("LoadContent",a),a.element=null,b):void 0},save:function(a){var b,c,d=this,e=d.getElement();if(e&&d.initialized&&!d.removed)return a=a||{},a.save=!0,a.element=e,b=a.content=d.getContent(a),a.no_events||d.fire("SaveContent",a),"raw"==a.format&&d.fire("RawSaveContent",a),b=a.content,/TEXTAREA|INPUT/i.test(e.nodeName)?e.value=b:(d.inline||(e.innerHTML=b),(c=x.getParent(d.id,"form"))&&w(c.elements,
function(a){if(a.name==d.id)return a.value=b,!1})),a.element=e=null,!1!==a.set_dirty&&d.setDirty(!1),b},setContent:function(b,c){var d,e,f=this.getBody();return c=c||{},c.format=c.format||"html",c.set=!0,c.content=b,c.no_events||this.fire("BeforeSetContent",c),b=c.content,0===b.length||/^\s+$/.test(b)?(e=A&&11>A?"":'<br data-mce-bogus="1">',"TABLE"==f.nodeName?b="<tr><td>"+e+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(b="<li>"+e+"</li>"),d=this.settings.forced_root_block,d&&this.schema.isValidChild(f.nodeName.toLowerCase(),
d.toLowerCase())?(b=e,b=this.dom.createHTML(d,this.settings.forced_root_block_attrs,b)):A||b||(b='<br data-mce-bogus="1">'),this.dom.setHTML(f,b),this.fire("SetContent",c)):("raw"!==c.format&&(b=(new a({validate:this.validate},this.schema)).serialize(this.parser.parse(b,{isRootContent:!0}))),c.content=n(b),this.dom.setHTML(f,c.content),c.no_events||this.fire("SetContent",c)),c.content},getContent:function(a){var b,c=this.getBody();return this.removed?"":(a=a||{},a.format=a.format||"html",a.get=!0,
a.getInner=!0,a.no_events||this.fire("BeforeGetContent",a),b="raw"==a.format?p.trim(this.serializer.getTrimmedContent()):"text"==a.format?c.innerText||c.textContent:this.serializer.serialize(c,a),"text"!=a.format?a.content=n(b):a.content=b,a.no_events||this.fire("GetContent",a),a.content)},insertContent:function(a,b){b&&(a=t({content:a},b));this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return!this.isNotDirty},setDirty:function(a){var b=!this.isNotDirty;this.isNotDirty=!a;a&&a!=b&&
this.fire("dirty")},setMode:function(a){l.setMode(this,a)},getContainer:function(){return this.container||(this.container=x.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=x.get(this.id)),this.targetElm},getWin:function(){var a;return this.contentWindow||(a=this.iframeElement,a&&(this.contentWindow=a.contentWindow)),this.contentWindow},getDoc:function(){var a;
return this.contentDocument||(a=this.getWin(),a&&(this.contentDocument=a.document)),this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(a,b,c){var d=this.settings;return d.urlconverter_callback?this.execCallback("urlconverter_callback",a,c,!0,b):!d.convert_urls||c&&"LINK"==c.nodeName||0===a.indexOf("file:")||0===a.length?a:d.relative_urls?this.documentBaseURI.toRelative(a):this.documentBaseURI.toAbsolute(a,d.remove_script_host)},
addVisual:function(a){var b,c=this,d=c.settings,e=c.dom;a=a||c.getBody();void 0===c.hasVisual&&(c.hasVisual=d.visual);w(e.select("table,a",a),function(a){var f;switch(a.nodeName){case "TABLE":return b=d.visual_table_class||"mce-item-table",f=e.getAttrib(a,"border"),void(f&&"0"!=f||!c.hasVisual?e.removeClass(a,b):e.addClass(a,b));case "A":return void(e.getAttrib(a,"href",!1)||(f=e.getAttrib(a,"name")||a.id,b=d.visual_anchor_class||"mce-item-anchor",f&&c.hasVisual?e.addClass(a,b):e.removeClass(a,b)))}});
c.fire("VisualAid",{element:a,hasVisual:c.hasVisual})},remove:function(){this.removed||(this.save(),this.removed=1,this.unbindAllNativeEvents(),this.hasHiddenInput&&x.remove(this.getElement().nextSibling),this.inline||(A&&10>A&&this.getDoc().execCommand("SelectAll",!1,null),x.setStyle(this.id,"display",this.orgDisplay),this.getBody().onload=null),this.fire("remove"),this.editorManager.remove(this),x.remove(this.getContainer()),this._selectionOverrides.destroy(),this.editorUpload.destroy(),this.destroy())},
destroy:function(a){if(!this.destroyed){if(!a&&!this.removed)return void this.remove();a||(this.editorManager.off("beforeunload",this._beforeUnload),this.theme&&this.theme.destroy&&this.theme.destroy(),this.selection.destroy(),this.dom.destroy());(a=this.formElement)&&(a._mceOldSubmit&&(a.submit=a._mceOldSubmit,a._mceOldSubmit=null),x.unbind(a,"submit reset",this.formEventDelegate));this.iframeElement=this.targetElm=this.bodyElement=this.contentDocument=this.contentWindow=this.contentAreaContainer=
this.formElement=this.container=this.editorContainer=null;this.selection&&(this.selection=this.selection.win=this.selection.dom=this.selection.dom.doc=null);this.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},t(v.prototype,b),v});v("17",["c"],function(h){var g={},f="en";return{setCode:function(e){e&&(f=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return f},rtl:!1,add:function(e,
b){var d=g[e];d||(g[e]=d={});for(var c in b)d[c]=b[c];this.setCode(e)},translate:function(e){function b(a){return h.is(a,"function")?Object.prototype.toString.call(a):d(a)?"":""+a}function d(a){return""===a||null===a||h.is(a,"undefined")}function c(c){return c=b(c),h.hasOwn(a,c)?b(a[c]):c}var a=g[f]||{};if(d(e))return"";if(h.is(e,"object")&&h.hasOwn(e,"raw"))return b(e.raw);if(h.is(e,"array")){var m=e.slice(1);e=c(e[0]).replace(/\{([0-9]+)\}/g,function(a,c){return h.hasOwn(m,c)?b(m[c]):a})}return c(e).replace(/{context:\w+}$/,
"")},data:g}});v("18",["h","8","9"],function(h,g,f){function e(e){function h(){try{return document.activeElement}catch(q){return document.body}}e.on("AddEditor",function(b){var l=b.editor;l.on("init",function(){(l.inline||f.ie)&&("onbeforedeactivate"in document&&9>f.ie?l.dom.bind(l.getBody(),"beforedeactivate",function(a){if(a.target==l.getBody())try{l.lastRng=l.selection.getRng()}catch(u){}}):l.on("nodechange mouseup keyup",function(a){var b=h();"nodechange"==a.type&&a.selectionChange||(b&&b.id==
l.id+"_ifr"&&(b=l.getBody()),l.dom.isChildOf(b,l.getBody())&&(l.lastRng=l.selection.getRng()))}))});l.on("setcontent",function(){l.lastRng=null});l.on("mousedown",function(){l.selection.lastFocusBookmark=null});l.on("focusin",function(){var a=e.focusedEditor;if(l.selection.lastFocusBookmark){var b=l.selection.lastFocusBookmark;var c;b=(b.startContainer?(c=l.getDoc().createRange(),c.setStart(b.startContainer,b.startOffset),c.setEnd(b.endContainer,b.endOffset)):c=b,c);l.selection.lastFocusBookmark=
null;l.selection.setRng(b)}a!=l&&(a&&a.fire("blur",{focusedEditor:l}),e.setActive(l),e.focusedEditor=l,l.fire("focus",{blurredEditor:a}),l.focus(!0));l.lastRng=null});l.on("focusout",function(){g.setEditorTimeout(l,function(){var a=e.focusedEditor;m(l,h())||a!=l||(l.fire("blur",{focusedEditor:null}),e.focusedEditor=null,l.selection&&(l.selection.lastFocusBookmark=null))})});d||(d=function(a){var b=e.activeEditor;a=a.target;if(b&&a.ownerDocument===document){var c;if(c=b.selection&&a!==b.getBody())c=
!0===l.inline===!1||!1===l.dom.isChildOf(a,l.getBody());if(c){c=b.selection;var d=b.dom;var f=b.lastRng;d=f&&f.startContainer?d.isChildOf(f.startContainer,d.getRoot())&&d.isChildOf(f.endContainer,d.getRoot())?{startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset}:void 0:f;c.lastFocusBookmark=d}a===document.body||m(b,a)||e.focusedEditor!==b||(b.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}},a.bind(document,"focusin",d));l.inline&&!c&&
(c=function(a){var b=e.activeEditor,c=b.dom;b.inline&&c&&!c.isChildOf(a.target,b.getBody())&&(a=b.selection.getRng(),a.collapsed||(b.lastRng=a))},a.bind(document,"mouseup",c))});e.on("RemoveEditor",function(f){e.focusedEditor==f.editor&&(e.focusedEditor=null);e.activeEditor||(a.unbind(document,"selectionchange",b),a.unbind(document,"focusin",d),a.unbind(document,"mouseup",c),b=d=c=null)})}var b,d,c,a=h.DOM,m=function(b,c){var d=b?b.settings.custom_ui_selector:"";return null!==a.getParent(c,function(a){return e.isEditorUIElement(a)||
!!d&&b.dom.is(a,d)})};return e.isEditorUIElement=function(a){return-1!==a.className.toString().indexOf("mce-")},e._isUIElement=m,e});v("2m",["c"],function(h){var g=h.each,f=h.explode;return{register:function(e){e.on("AddEditor",function(b){var d=b.editor;d.on("preInit",function(){function b(a,b){g(b,function(b,c){b&&h.setStyle(a,c,b)});h.rename(a,"span")}function a(a){h=d.dom;q.convert_fonts_to_spans&&g(h.select("font,u,strike",a.node),function(a){e[a.nodeName.toLowerCase()](h,a)})}var e,l,h,q=d.settings;
q.inline_styles&&(l=f(q.font_size_legacy_values),e={font:function(a,c){b(c,{backgroundColor:c.style.backgroundColor,color:c.color,fontFamily:c.face,fontSize:l[parseInt(c.size,10)-1]})},u:function(a,c){"html4"===d.settings.schema&&b(c,{textDecoration:"underline"})},strike:function(a,c){b(c,{textDecoration:"line-through"})}},d.on("PreProcess SetContent",a))})})}}});v("19","2j 2k j d h 16 9 2l 18 2m 17 11 7 c y".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,u){function v(a){A(n.get(),function(b){"scroll"===
a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function x(a){a!==H&&(a?e(window).on("resize scroll",v):e(window).off("resize scroll",v),H=a)}function t(a){var b=E;delete F[a.id];for(var c=0;c<F.length;c++)if(F[c]===a){F.splice(c,1);break}return E=h.filter(E,function(b){return a!==b}),n.activeEditor===a&&(n.activeEditor=0<E.length?E[0]:null),n.focusedEditor===a&&(n.focusedEditor=null),b.length!==E.length}var w,n,y=b.DOM,D=k.explode,A=k.each,B=k.extend,C=0,H=!1,F=[],E=[];return n={$:e,majorVersion:"4",
minorVersion:"6.6",releaseDate:"2017-08-30",editors:F,i18n:r,activeEditor:null,settings:{},setup:function(){var a,b,c="";if(a=u.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),b=window.tinymce||window.tinyMCEPreInit){var d=b.base||b.baseURL;c=b.suffix}else{b=document.getElementsByTagName("script");for(var e=0;e<b.length;e++){var f=b[e].src;var g=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=
g.indexOf(".min")&&(c=".min");d=f.substring(0,f.lastIndexOf("/"));break}}!d&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(c=".min"),d=f.substring(0,f.lastIndexOf("/")))}this.baseURL=(new u(a)).toAbsolute(d);this.documentBaseURL=a;this.baseURI=new u(this.baseURL);this.suffix=c;this.focusManager=new m(this)},overrideDefaults:function(a){var b;(b=a.base_url)&&(this.baseURL=(new u(this.documentBaseURL)).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new u(this.baseURL));
(b=a.suffix)&&(this.suffix=b);this.defaultSettings=a;a=a.plugin_base_urls;for(var c in a)f.PluginManager.urls[c]=a[c]},init:function(b){function f(a){var b=a.id;return b||(b=a.name,b=b&&!y.get(b)?a.name:y.uniqueId(),a.setAttribute("id",b)),b}function g(a){var c=b[a];if(c)return c.apply(q,Array.prototype.slice.call(arguments,2))}function l(a,b){return b.constructor===RegExp?b.test(a.className):y.hasClass(a,b)}function h(b){var d=[];if(c.ie&&11>c.ie)return a.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),
[];if(b.types)return A(b.types,function(a){d=d.concat(y.select(a.selector))}),d;if(b.selector)return y.select(b.selector);if(b.target)return[b.target];switch(b.mode){case "exact":var e=b.elements||"";0<e.length&&A(D(e),function(a){var b;(b=y.get(a))?d.push(b):A(document.forms,function(b){A(b.elements,function(b){b.name===a&&(a="mce_editor_"+C++,y.setAttrib(b,"id",a),d.push(b))})})});break;case "textareas":case "specific_textareas":A(y.select("textarea"),function(a){b.editor_deselector&&l(a,b.editor_deselector)||
b.editor_selector&&!l(a,b.editor_selector)||d.push(a)})}return d}function m(){function c(a,b,c){a=new d(a,b,q);p.push(a);a.on("init",function(){++n===l.length&&w(p)});a.targetElm=a.targetElm||c;a.render()}var l,n=0,p=[];return y.unbind(window,"ready",m),g("onpageload"),l=e.unique(h(b)),b.types?void A(b.types,function(a){k.each(l,function(d){return!y.is(d,a.selector)||(c(f(d),B({},b,a),d),!1)})}):(k.each(l,function(a){(a=q.get(a.id))&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(t(a),
a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0)}),l=k.grep(l,function(a){return!q.get(a.id)}),void(0===l.length?w([]):A(l,function(d){b.inline&&d.tagName.toLowerCase()in r?a.initError("Could not initialize inline editor on invalid inline target element",d):c(f(d),b,d)})))}var n,q=this;var r=k.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu",
" ");var w=function(a){n=a};return q.settings=b,y.bind(window,"ready",m),new p(function(a){n?a(n):w=function(b){a(b)}})},get:function(a){return 0===arguments.length?E.slice(0):g.isString(a)?h.find(E,function(b){return b.id===a}).getOr(null):g.isNumber(a)&&E[a]?E[a]:null},add:function(a){var b,c=this;return b=F[a.id],b===a?a:(null===c.get(a.id)&&(F[a.id]=a,F.push(a),E.push(a)),x(!0),c.activeEditor=a,c.fire("AddEditor",{editor:a}),w||(w=function(){c.fire("BeforeUnload")},y.bind(window,"beforeunload",
w)),a)},createEditor:function(a,b){return this.add(new d(a,b,this))},remove:function(a){var b,c=this;if(a)return g.isString(a)?(a=a.selector||a,void A(y.select(a),function(a){(b=c.get(a.id))&&c.remove(b)})):(b=a,g.isNull(c.get(b.id))?null:(t(b)&&c.fire("RemoveEditor",{editor:b}),0===E.length&&y.unbind(window,"beforeunload",w),b.remove(),x(0<E.length),b));for(a=E.length-1;0<=a;a--)c.remove(E[a])},execCommand:function(a,b,c){var e=this.get(c);switch(a){case "mceAddEditor":return this.get(c)||(new d(c,
this.settings,this)).render(),!0;case "mceRemoveEditor":return e&&e.remove(),!0;case "mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(this.execCommand("mceAddEditor",0,c),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(a,b,c)},triggerSave:function(){A(E,function(a){a.save()})},addI18n:function(a,b){r.add(a,b)},translate:function(a){return r.translate(a)},setActive:function(a){var b=this.activeEditor;this.activeEditor!=a&&(b&&b.fire("deactivate",{relatedTarget:a}),a.fire("activate",
{relatedTarget:b}));this.activeEditor=a}},B(n,q),n.setup(),l.register(n),n});v("1a",["11","c"],function(h,g){var f={send:function(e){function b(){!e.async||4==c.readyState||1E4<d++?(e.success&&1E4>d&&200==c.status?e.success.call(e.success_scope,""+c.responseText,c,e):e.error&&e.error.call(e.error_scope,1E4<d?"TIMED_OUT":"GENERAL",c,e),c=null):setTimeout(b,10)}var d=0;e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=!1!==e.async;e.data=e.data||
"";f.fire("beforeInitialize",{settings:e});var c=new XMLHttpRequest;if(c.overrideMimeType&&c.overrideMimeType(e.content_type),c.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(c.withCredentials=!0),e.content_type&&c.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&g.each(e.requestheaders,function(a){c.setRequestHeader(a.key,a.value)}),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c=f.fire("beforeSend",{xhr:c,settings:e}).xhr,c.send(e.data),!e.async)return b();
setTimeout(b,10)}};return g.extend(f,h),f});v("1b",[],function(){function h(g,f){var e,b,d;if(f=f||'"',null===g)return"null";if(b=typeof g,"string"==b)return e="\bb\tt\nn\ff\rr\"\"''\\\\",f+g.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){return'"'===f&&"'"===a?a:(c=e.indexOf(b),c+1?"\\"+e.charAt(c+1):(a=b.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a))})+f;if("object"==b){if(g.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(g)){var c=0;for(e="[";c<g.length;c++)e+=
(0<c?",":"")+h(g[c],f);return e+"]"}e="{";for(d in g)g.hasOwnProperty(d)&&(e+="function"!=typeof g[d]?(1<e.length?","+f:f)+d+f+":"+h(g[d],f):"");return e+"}"}return""+g}return{serialize:h,parse:function(g){try{return window[String.fromCharCode(101)+"val"]("("+g+")")}catch(f){}}}});v("1c",["1b","1a","c"],function(h,g,f){function e(d){this.settings=b({},d);this.count=0}var b=f.extend;return e.sendRPC=function(b){return(new e).send(b)},e.prototype={send:function(d){var c=d.error,a=d.success;d=b(this.settings,
d);d.success=function(b,e){b=h.parse(b);"undefined"==typeof b&&(b={error:"JSON Parse error."});b.error?c.call(d.error_scope||d.scope,b.error,e):a.call(d.success_scope||d.scope,b.result)};d.error=function(a,b){c&&c.call(d.error_scope||d.scope,a,b)};d.data=h.serialize({id:d.id||"c"+this.count++,method:d.method,params:d.params});d.content_type="application/json";g.send(d)}},e});v("1d",["h"],function(h){return{callbacks:{},count:0,send:function(g){var f=this,e=h.DOM,b=void 0!==g.count?g.count:f.count,
d="tinymce_jsonp_"+b;f.callbacks[b]=function(c){e.remove(d);delete f.callbacks[b];g.callback(c)};e.add(e.doc.body,"script",{id:d,src:g.url,type:"text/javascript"});f.count++}}});v("1e",[],function(){function h(){d=[];for(var a in b)d.push(a);f.length=d.length}function g(){var d="";if(a){for(var f in b){var g=b[f];d+=(d?",":"")+f.length.toString(32)+","+f+","+g.length.toString(32)+","+g}e.setAttribute(c,d);try{e.save(c)}catch(q){}h()}}var f,e,b,d,c,a;try{if(window.localStorage)return localStorage}catch(m){}return c=
"tinymce",e=document.documentElement,a=!!e.addBehavior,a&&e.addBehavior("#default#userData"),f={key:function(a){return d[a]},getItem:function(a){return a in b?b[a]:null},setItem:function(a,c){b[a]=""+c;g()},removeItem:function(a){delete b[a];g()},clear:function(){b={};g()}},function(){function d(a){var b,c;return c=void 0!==a?g+a:q.indexOf(",",g),-1===c||c>q.length?null:(b=q.substring(g,c),g=c+1,b)}var f,g=0;if(b={},a){e.load(c);var q=e.getAttribute(c)||"";do{var p=d();if(null===p)break;if(f=d(parseInt(p,
32)||0),null!==f){if(p=d(),null===p)break;p=d(parseInt(p,32)||0);f&&(b[f]=p)}}while(null!==f);h()}}(),f});v("1f",[],function(){var h=Math.min,g=Math.max,f=Math.round;return function(e){function b(b){if("object"==typeof b)if("r"in b)c=b.r,a=b.g,m=b.b;else{if("v"in b){var e=b.h;var l=b.s;b=b.v;var p,k;if(e=(parseInt(e,10)||0)%360,l=parseInt(l,10)/100,b=parseInt(b,10)/100,l=g(0,h(l,1)),b=g(0,h(b,1)),0===l)c=a=m=f(255*b);else{switch(p=e/60,k=b*l,e=k*(1-Math.abs(p%2-1)),b-=k,Math.floor(p)){case 0:c=k;
a=e;m=0;break;case 1:c=e;a=k;m=0;break;case 2:c=0;a=k;m=e;break;case 3:c=0;a=e;m=k;break;case 4:c=e;a=0;m=k;break;case 5:c=k;a=0;m=e;break;default:c=a=m=0}c=f(255*(c+b));a=f(255*(a+b));m=f(255*(m+b))}}}else(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(b))?(c=parseInt(e[1],10),a=parseInt(e[2],10),m=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(b))?(c=parseInt(e[1],16),a=parseInt(e[2],16),m=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(b))&&(c=parseInt(e[1]+
e[1],16),a=parseInt(e[2]+e[2],16),m=parseInt(e[3]+e[3],16));return c=0>c?0:255<c?255:c,a=0>a?0:255<a?255:a,m=0>m?0:255<m?255:m,d}var d=this,c=0,a=0,m=0;e&&b(e);d.toRgb=function(){return{r:c,g:a,b:m}};d.toHsv=function(){var b=c,d=a,e=m,p,k,u,v,x,t;return b/=255,d/=255,e/=255,x=h(b,h(d,e)),t=g(b,g(d,e)),x==t?(u=x,{h:0,s:0,v:100*u}):(v=b==x?d-e:e==x?b-d:e-b,p=b==x?3:e==x?1:5,p=60*(p-v/(t-x)),k=(t-x)/t,u=t,{h:f(p),s:f(100*k),v:f(100*u)})};d.toHex=function(){function b(a){return a=parseInt(a,10).toString(16),
1<a.length?a:"0"+a}return"#"+b(c)+b(a)+b(m)};d.parse=b}});v("33",["z","c"],function(h,g){return h.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=g.extend({},this.Defaults,f)},preRender:function(f){f.bodyClasses.add(this.settings.containerClass)},applyClasses:function(f){var e,b,d=this.settings;var c=d.firstControlClass;var a=d.lastControlClass;f.each(function(f){f.classes.remove(c).remove(a).add(d.controlClass);f.visible()&&(e||(e=f),b=f)});e&&
e.classes.add(c);b&&b.classes.add(a)},renderHtml:function(f){var e="";return this.applyClasses(f.items()),f.items().each(function(b){e+=b.renderHtml()}),e},recalc:function(){},postRender:function(){},isNative:function(){return!1}})});v("34",["33"],function(h){return h.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(g){g.items().filter(":visible").each(function(f){var e=f.settings;f.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h});f.recalc&&f.recalc()})},renderHtml:function(g){return'<div id="'+
g._id+'-absend" class="'+g.classPrefix+'abs-end"></div>'+this._super(g)}})});v("35",["31"],function(h){return h.extend({Defaults:{classes:"widget btn",role:"button"},init:function(g){var f=this;f._super(g);g=f.settings;var e=f.settings.size;f.on("click mousedown",function(b){b.preventDefault()});f.on("touchstart",function(b){f.fire("click",b);b.preventDefault()});g.subtype&&f.classes.add(g.subtype);e&&f.classes.add("btn-"+e);g.icon&&f.icon(g.icon)},icon:function(g){return arguments.length?(this.state.set("icon",
g),this):this.state.get("icon")},repaint:function(){var g,f=this.getEl().firstChild;f&&(g=f.style,g.width=g.height="100%");this._super()},renderHtml:function(){var g,f=this._id,e=this.classPrefix,b=this.state.get("icon"),d=this.state.get("text"),c="";return g=this.settings.image,g?(b="none","string"!=typeof g&&(g=window.getSelection?g[0]:g[1]),g=" style=\"background-image: url('"+g+"')\""):g="",d&&(this.classes.add("btn-has-text"),c='<span class="'+e+'txt">'+this.encode(d)+"</span>"),b=b?e+"ico "+
e+"i-"+b:"",'<div id="'+f+'" class="'+this.classes+'" tabindex="-1"><button id="'+f+'-button" role="presentation" type="button" tabindex="-1">'+(b?'<i class="'+b+'"'+g+"></i>":"")+c+"</button></div>"},bindStates:function(){function g(d){var c=e("span."+b,f.getEl());d?(c[0]||(e("button:first",f.getEl()).append('<span class="'+b+'"></span>'),c=e("span."+b,f.getEl())),c.html(f.encode(d))):c.remove();f.classes.toggle("btn-has-text",!!d)}var f=this,e=f.$,b=f.classPrefix+"txt";return f.state.on("change:text",
function(b){g(b.value)}),f.state.on("change:icon",function(b){b=b.value;var c=f.classPrefix;b=(f.settings.icon=b)?c+"ico "+c+"i-"+f.settings.icon:"";c=f.getEl().firstChild;var a=c.getElementsByTagName("i")[0];b?(a&&a==c.firstChild||(a=document.createElement("i"),c.insertBefore(a,c.firstChild)),a.className=b):a&&c.removeChild(a);g(f.state.get("text"))}),f._super()}})});v("36",["2t"],function(h){return h.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var g=this._layout;return this.classes.add("btn-group"),
this.preRender(),g.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});v("37",["31"],function(h){return h.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(g){var f=this;f._super(g);f.on("click mousedown",function(e){e.preventDefault()});f.on("click",function(e){e.preventDefault();f.disabled()||f.checked(!f.checked())});f.checked(f.settings.checked)},checked:function(g){return arguments.length?
(this.state.set("checked",g),this):this.state.get("checked")},value:function(g){return arguments.length?this.checked(g):this.checked()},renderHtml:function(){var g=this._id,f=this.classPrefix;return'<div id="'+g+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+g+'-al" tabindex="-1"><i class="'+f+"ico "+f+'i-checkbox"></i><span id="'+g+'-al" class="'+f+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){function g(e){f.classes.toggle("checked",e);f.aria("checked",
e)}var f=this;return f.state.on("change:text",function(e){f.getEl("al").firstChild.data=f.translate(e.value)}),f.state.on("change:checked change:value",function(e){f.fire("change");g(e.value)}),f.state.on("change:icon",function(e){e=e.value;var b=f.classPrefix;if("undefined"==typeof e)return f.settings.icon;e=(f.settings.icon=e)?b+"ico "+b+"i-"+f.settings.icon:"";b=f.getEl().firstChild;var d=b.getElementsByTagName("i")[0];e?(d&&d==b.firstChild||(d=document.createElement("i"),b.insertBefore(d,b.firstChild)),
d.className=e):d&&b.removeChild(d)}),f.state.get("checked")&&g(!0),f._super()}})});v("38","31 2r 2c d s c".split(" "),function(h,g,f,e,b,d){return h.extend({init:function(b){var a=this;a._super(b);b=a.settings;a.classes.add("combobox");a.subinput=!0;a.ariaTarget="inp";b.menu=b.menu||b.values;b.menu&&(b.icon="caret");a.on("click",function(c){var d=c.target,f=a.getEl();if(e.contains(f,d)||d==f)for(;d&&d!=f;)d.id&&-1!=d.id.indexOf("-open")&&(a.fire("action"),b.menu&&(a.showMenu(),c.aria&&a.menu.items()[0].focus())),
d=d.parentNode});a.on("keydown",function(b){var c;13==b.keyCode&&"INPUT"===b.target.nodeName&&(b.preventDefault(),a.parents().reverse().each(function(a){if(a.toJSON)return c=a,!1}),a.fire("submit",{data:c.toJSON()}))});a.on("keyup",function(b){if("INPUT"==b.target.nodeName){var c=a.state.get("value"),d=b.target.value;d!==c&&(a.state.set("value",d),a.fire("autocomplete",b))}});a.on("mouseover",function(b){var c=a.tooltip().moveTo(-65535);if(a.statusLevel()&&-1!==b.target.className.indexOf(a.classPrefix+
"status")){var d=a.statusMessage()||"Ok";d=c.text(d).show().testMoveRel(b.target,["bc-tc","bc-tl","bc-tr"]);c.classes.toggle("tooltip-n","bc-tc"==d);c.classes.toggle("tooltip-nw","bc-tl"==d);c.classes.toggle("tooltip-ne","bc-tr"==d);c.moveRel(b.target,d)}})},statusLevel:function(b){return 0<arguments.length&&this.state.set("statusLevel",b),this.state.get("statusLevel")},statusMessage:function(b){return 0<arguments.length&&this.state.set("statusMessage",b),this.state.get("statusMessage")},showMenu:function(){var b,
a=this,d=a.settings;a.menu||(b=d.menu||[],b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.menu=g.create(b).parent(a).renderTo(a.getContainerElm()),a.fire("createmenu"),a.menu.reflow(),a.menu.on("cancel",function(b){b.control===a.menu&&a.focus()}),a.menu.on("show hide",function(b){b.control.items().each(function(b){b.active(b.value()==a.value())})}).fire("show"),a.menu.on("select",function(b){a.value(b.control.value())}),a.on("focusin",function(b){"INPUT"==b.target.tagName.toUpperCase()&&
a.menu.hide()}),a.aria("expanded",!0));a.menu.show();a.menu.layoutRect({w:a.layoutRect().w});a.menu.moveRel(a.getEl(),a.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var b,a=this.getEl();var d=this.getEl("open");var g=this.layoutRect(),h=0;a=a.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(h=parseInt(f.getRuntimeStyle(a,"padding-right"),10)-parseInt(f.getRuntimeStyle(a,"padding-left"),10));d=d?g.w-f.getSize(d).width-10:g.w-
10;g=document;return g.all&&(!g.documentMode||8>=g.documentMode)&&(b=this.layoutRect().h-2+"px"),e(a).css({width:d-h,lineHeight:b}),this._super(),this},postRender:function(){var b=this;return e(this.getEl("inp")).on("change",function(a){b.state.set("value",a.target.value);b.fire("change",a)}),b._super()},renderHtml:function(){var b,a,d=this._id,e=this.settings,f=this.classPrefix,g=this.state.get("value")||"",h="",k="",u="";return"spellcheck"in e&&(k+=' spellcheck="'+e.spellcheck+'"'),e.maxLength&&
(k+=' maxlength="'+e.maxLength+'"'),e.size&&(k+=' size="'+e.size+'"'),e.subtype&&(k+=' type="'+e.subtype+'"'),u='<i id="'+d+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(k+=' disabled="disabled"'),b=e.icon,b&&"caret"!=b&&(b=f+"ico "+f+"i-"+e.icon),a=this.state.get("text"),(b||a)&&(h='<div id="'+d+'-open" class="'+f+"btn "+f+'open" tabIndex="-1" role="button"><button id="'+d+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=b?'<i class="'+b+'"></i>':
'<i class="'+f+'caret"></i>')+(a?(b?" ":"")+a:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+d+'" class="'+this.classes+'"><input id="'+d+'-inp" class="'+f+'textbox" value="'+this.encode(g,!1)+'" hidefocus="1"'+k+' placeholder="'+this.encode(e.placeholder)+'" />'+u+h+"</div>"},value:function(b){return arguments.length?(this.state.set("value",b),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(b,
a){var c=this;if(0===b.length)return void c.hideMenu();var e=function(a,b){return function(){c.fire("selectitem",{title:b,value:a})}};c.menu?c.menu.items().remove():c.menu=g.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(c).renderTo();d.each(b,function(b){c.menu.add({text:b.title,url:b.previewUrl,match:a,classes:"menu-item-ellipsis",onclick:e(b.value,b.title)})});c.menu.renderNew();c.hideMenu();c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),
c.hideMenu())});c.menu.on("select",function(){c.focus()});var f=c.layoutRect().w;c.menu.layoutRect({w:f,minW:0,maxW:f});c.menu.reflow();c.menu.show();c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var c=this;c.state.on("change:value",function(a){c.getEl("inp").value!=a.value&&(c.getEl("inp").value=a.value)});c.state.on("change:disabled",function(a){c.getEl("inp").disabled=a.value});c.state.on("change:statusLevel",
function(a){var b=c.getEl("status"),d=c.classPrefix;a=a.value;f.css(b,"display","none"===a?"none":"");f.toggleClass(b,d+"i-checkmark","ok"===a);f.toggleClass(b,d+"i-warning","warn"===a);f.toggleClass(b,d+"i-error","error"===a);c.classes.toggle("has-status","none"!==a);c.repaint()});f.on(c.getEl("status"),"mouseleave",function(){c.tooltip().hide()});c.on("cancel",function(a){c.menu&&c.menu.visible()&&(a.stopPropagation(),c.hideMenu())});var a=function(a,b){b&&0<b.items().length&&b.items().eq(a)[0].focus()};
return c.on("keydown",function(d){var e=d.keyCode;"INPUT"===d.target.nodeName&&(e===b.DOWN?(d.preventDefault(),c.fire("autocomplete"),a(0,c.menu)):e===b.UP&&(d.preventDefault(),a(-1,c.menu)))}),c._super()},remove:function(){e(this.getEl("inp")).off();this.menu&&this.menu.remove();this._super()}})});v("39",["38"],function(h){return h.extend({init:function(g){var f=this;g.spellcheck=!1;g.onaction&&(g.icon="none");f._super(g);f.classes.add("colorbox");f.on("change keyup postrender",function(){f.repaintColor(f.value())})},
repaintColor:function(g){var f=this.getEl("open");if(f=f?f.getElementsByTagName("i")[0]:null)try{f.style.background=g}catch(e){}},bindStates:function(){var g=this;return g.state.on("change:value",function(f){g.state.get("rendered")&&g.repaintColor(f.value)}),g._super()}})});v("3a",["35","2z"],function(h,g){return h.extend({showPanel:function(){var f=this,e=f.settings;if(f.active(!0),f.panel)f.panel.show();else{var b=e.panel;b.type&&(b={layout:"grid",items:b});b.role=b.role||"dialog";b.popover=!0;
b.autohide=!0;b.ariaRoot=!0;f.panel=(new g(b)).on("hide",function(){f.active(!1)}).on("cancel",function(b){b.stopPropagation();f.focus();f.hidePanel()}).parent(f).renderTo(f.getContainerElm());f.panel.fire("show");f.panel.reflow()}e=f.panel.testMoveRel(f.getEl(),e.popoverAlign||(f.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));f.panel.classes.toggle("start","bc-tl"===e);f.panel.classes.toggle("end","bc-tr"===e);f.panel.moveRel(f.getEl(),e)},hidePanel:function(){this.panel&&this.panel.hide()},
postRender:function(){var f=this;return f.aria("haspopup",!0),f.on("click",function(e){e.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():(f.showPanel(),f.panel.focus(!!e.aria)))}),f._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})});v("3b",["3a","h"],function(h,g){var f=g.DOM;return h.extend({init:function(e){this._super(e);this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=
e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this._id,b=this.classPrefix,d=this.state.get("text"),c=this.settings.icon?b+"ico "+b+"i-"+this.settings.icon:"",a=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",f="";return d&&(this.classes.add("btn-has-text"),f='<span class="'+b+'txt">'+this.encode(d)+"</span>"),'<div id="'+e+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+
(c?'<i class="'+c+'"'+a+"></i>":"")+'<span id="'+e+'-preview" class="'+b+'preview"></span>'+f+'</button><button type="button" class="'+b+'open" hidefocus="1" tabindex="-1"> <i class="'+b+'caret"></i></button></div>'},postRender:function(){var e=this,b=e.settings.onclick;return e.on("click",function(d){d.aria&&"down"==d.aria.key||d.control!=e||f.getParent(d.target,"."+e.classPrefix+"open")||(d.stopImmediatePropagation(),b.call(e,d))}),delete e.settings.onclick,e._super()}})});v("3c",["31","2u","2c",
"1f"],function(h,g,f,e){return h.extend({Defaults:{classes:"widget colorpicker"},init:function(b){this._super(b)},postRender:function(){function b(a,b){var c,d,e=f.getPos(a);return c=b.pageX-e.x,d=b.pageY-e.y,c=Math.max(0,Math.min(c/a.clientWidth,1)),d=Math.max(0,Math.min(d/a.clientHeight,1)),{x:c,y:d}}function d(a,b){f.css(p,{top:(360-a.h)/360*100+"%"});b||f.css(u,{left:a.s+"%",top:100-a.v+"%"});k.style.background=(new e({s:100,v:100,h:a.h})).toHex();l.color().parse({s:a.s,v:a.v,h:a.h})}function c(a){a=
b(k,a);h.s=100*a.x;h.v=100*(1-a.y);d(h);l.fire("change")}function a(a){a=b(q,a);h=r.toHsv();h.h=360*(1-a.y);d(h,!0);l.fire("change")}var h,l=this,r=l.color();var q=l.getEl("h");var p=l.getEl("hp");var k=l.getEl("sv");var u=l.getEl("svp");l._repaint=function(){h=r.toHsv();d(h)};l._super();l._svdraghelper=new g(l._id+"-sv",{start:c,drag:c});l._hdraghelper=new g(l._id+"-h",{start:a,drag:a});l._repaint()},rgb:function(){return this.color().toRgb()},value:function(b){return arguments.length?(this.color().parse(b),
void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new e),this._color},renderHtml:function(){var b,d=this._id,c=this.classPrefix,a,e="";var f="#ff0000 #ff0080 #ff00ff #8000ff #0000ff #0080ff #00ffff #00ff80 #00ff00 #80ff00 #ffff00 #ff8000 #ff0000".split(" ");var g=0;for(a=f.length-1;g<a;g++)e+='<div class="'+c+'colorpicker-h-chunk" style="height:'+100/a+"%;filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[g]+
",endColorstr="+f[g+1]+");-ms-filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+f[g]+",endColorstr="+f[g+1]+')"></div>';return b='<div id="'+d+'-h" class="'+c+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+
e+'<div id="'+d+'-hp" class="'+c+'colorpicker-h-marker"></div></div>','<div id="'+d+'" class="'+this.classes+'"><div id="'+d+'-sv" class="'+c+'colorpicker-sv"><div class="'+c+'colorpicker-overlay1"><div class="'+c+'colorpicker-overlay2"><div id="'+d+'-svp" class="'+c+'colorpicker-selector1"><div class="'+c+'colorpicker-selector2"></div></div></div></div></div>'+b+"</div>"}})});v("3d",["31"],function(h){return h.extend({init:function(g){var f=this;g.delimiter||(g.delimiter="\u00bb");f._super(g);f.classes.add("path");
f.canFocus=!0;f.on("click",function(e){var b;(b=e.target.getAttribute("data-index"))&&f.fire("select",{value:f.row()[b],index:b})});f.row(f.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(g){return arguments.length?(this.state.set("row",g),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var g=this;return g.state.on("change:row",
function(f){g.innerHtml(g._getDataPathHtml(f.value))}),g._super()},_getDataPathHtml:function(g){var f,e=g||[],b="",d=this.classPrefix;g=0;for(f=e.length;g<f;g++)b+=(0<g?'<div class="'+d+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+d+"path-item"+(g==f-1?" "+d+"last":"")+'" data-index="'+g+'" tabindex="-1" id="'+this._id+"-"+g+'" aria-level="'+(g+1)+'">'+e[g].name+"</div>";return b||(b='<div class="'+d+'path-item">\u00a0</div>'),b}})});v("3e",["3d"],
function(h){return h.extend({postRender:function(){var g=this,f=g.settings.editor;return!1!==f.settings.elementpath&&(g.on("select",function(e){f.focus();f.selection.select(this.row()[e.index].element);f.nodeChanged()}),f.on("nodeChange",function(e){var b=[];e=e.parents;for(var d=e.length;d--;){var c;if(c=1==e[d].nodeType){a:{c=e[d];if(1===c.nodeType){if("BR"==c.nodeName||c.getAttribute("data-mce-bogus")){c=!0;break a}if("bookmark"===c.getAttribute("data-mce-type")){c=!0;break a}}c=!1}c=!c}if(c&&
(c=f.fire("ResolveName",{name:e[d].nodeName.toLowerCase(),target:e[d]}),c.isDefaultPrevented()||b.push({name:c.name,element:e[d]}),c.isPropagationStopped()))break}g.row(b)})),g._super()}})});v("3f",["2t"],function(h){return h.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var g=this._layout,f=this.classPrefix;return this.classes.add("formitem"),g.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?
'<div id="'+this._id+'-title" class="'+f+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+"</div></div>"}})});v("3g",["2t","3f","c"],function(h,g,f){return h.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,b=e.items();e.settings.formItemDefaults||
(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}});b.each(function(b){var c,a=b.settings.label;a&&(c=new g(f.extend({items:{type:"label",id:b._id+"-l",text:a,flex:0,forId:b._id,disabled:b.disabled()}},e.settings.formItemDefaults)),c.type="formitem",b.aria("labelledby",b._id+"-l"),"undefined"==typeof b.settings.flex&&(b.settings.flex=1),e.replace(b,c),c.add(b))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super();
this.fromJSON(this.settings.data)},bindStates:function(){function e(){var d=0,c=[];if(!1!==b.settings.labelGapCalc){var a="children"==b.settings.labelGapCalc?b.find("formitem"):b.items();a.filter("formitem").each(function(a){a=a.items()[0];var b=a.getEl().clientWidth;d=b>d?b:d;c.push(a)});var e=b.settings.labelGap||0;for(a=c.length;a--;)c[a].settings.minWidth=d+e}}var b=this;b._super();b.on("show",e);e()}})});v("3h",["3g"],function(h){return h.extend({Defaults:{containerCls:"fieldset",layout:"flex",
direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var g=this._layout,f=this.classPrefix;return this.preRender(),g.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+f+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+g.renderHtml(this)+
"</div></fieldset>"}})});v("5p","1w 4x h 1t 1q 4e c 2i".split(" "),function(h,g,f,e,b,d,c,a){var m=c.trim,l=function(a,b,c,d,e){return{type:a,title:b,url:c,level:d,attach:e}},r=function(a,c){return b.map(g.descendants(h.fromDom(c),a),function(a){return a.dom()})},q=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)&&p(a)},p=function(a){var b;a:{for(b=a;b=b.parentNode;){var c=b.contentEditable;if(c&&"inherit"!==c){b=e.isContentEditableTrue(b);break a}}b=!1}return b&&!e.isContentEditableFalse(a)},
k=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)&&p(a)},u=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)?parseInt(a.nodeName.substr(1),10):0},v=function(b){var c=b.id?b.id:a.uuid("h");return l("header",b.innerText||b.textContent,"#"+c,u(b),function(){b.id=c})},x=function(a){var b=a.id||a.name;a=a.innerText||a.textContent;return l("anchor",a?a:"#"+b,"#"+b,0,d.noop)},t=function(a){return 0<m(a.title).length};return{find:function(a){a=r("h1,h2,h3,h4,h5,h6,a:not([href])",a);return b.filter(b.map(b.filter(a,
k),v).concat(b.map(b.filter(a,q),x)),t)}}});v("3i","5l 5p 19 38 1q 4e c".split(" "),function(h,g,f,e,b,d,c){var a={},m=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},l=function(a,b){return{title:a,value:{title:a,url:b,attach:d.noop}}},r=function(a,c){return!b.find(c,function(b){return b.url===a})},q=function(a,b,c){a=b in a?a[b]:c;return!1===a?null:a},p=function(e,f,g,h){var n={title:"-"},p=function(a){a=b.filter(a[g],function(a){return r(a,f)});return c.map(a,
function(a){return{title:a,value:{title:a,url:a,attach:d.noop}}})},t=function(a){var d=b.filter(f,function(b){return b.type==a});return c.map(d,m)},w=function(){var a=t("anchor"),b=q(h,"anchor_top","#top"),c=q(h,"anchor_bottom","#bottom");return null!==b&&a.unshift(l("<top>",b)),null!==c&&a.push(l("<bottom>",c)),a},x=function(a){return b.reduce(a,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(n,b)},[])};return!1===h.typeahead_urls?[]:"file"===g?x([k(e,p(a)),k(e,t("header")),
k(e,w())]):k(e,p(a))},k=function(a,b){var d=a.toLowerCase(),e=c.grep(b,function(a){return-1!==a.title.toLowerCase().indexOf(d)});return 1===e.length&&e[0].title===a?[]:e},v=function(c,d,e,f){var h=function(a){var b=g.find(e);b=p(a,b,f,d);c.showAutoComplete(b,a)};c.on("autocomplete",function(){h(c.value())});c.on("selectitem",function(a){a=a.value;c.value(a.url);var b=a.title;b=b.raw?b.raw:b;"image"===f?c.fire("change",{meta:{alt:b,attach:a.attach}}):c.fire("change",{meta:{text:b,attach:a.attach}});
c.focus()});c.on("click",function(a){0===c.value().length&&"INPUT"===a.target.nodeName&&h("")});c.on("PostRender",function(){c.getRoot().on("submit",function(d){if(!d.isDefaultPrevented()){d=c.value();var e=a[f];/^https?/.test(d)&&(e?-1===b.indexOf(e,d)&&(a[f]=e.slice(0,5).concat(d)):a[f]=[d])}})})},z=function(a,b,c){var d=b.filepicker_validator_handler;if(d){var e=function(b){return 0===b.length?void a.statusLevel("none"):void d({url:b,type:c},function(b){var c=b.status;b=b.message;c="valid"===c?
{status:"ok",message:b}:"unknown"===c?{status:"warn",message:b}:"invalid"===c?{status:"warn",message:b}:{status:"none",message:""};a.statusMessage(c.message);a.statusLevel(c.status)})};a.state.on("change:value",function(a){e(a.value)})}};return e.extend({init:function(a){var b,d,e,g=this,k=h.tinymce?h.tinymce.activeEditor:f.activeEditor,l=k.settings,m=a.filetype;a.spellcheck=!1;(e=l.file_picker_types||l.file_browser_callback_types)&&(e=c.makeMap(e,/[, ]/));e&&!e[m]||(d=l.file_picker_callback,!d||
e&&!e[m]?(d=l.file_browser_callback,!d||e&&!e[m]||(b=function(){d(g.getEl("inp").id,g.value(),m,h)})):b=function(){var a=g.fire("beforecall").meta;a=c.extend({filetype:m},a);d.call(k,function(a,b){g.value(a).fire("change",{meta:b})},g.value(),a)});b&&(a.icon="browse",a.onaction=b);g._super(a);v(g,l,k.getBody(),m);z(g,l,m)}})});v("3j",["34"],function(h){return h.extend({recalc:function(g){var f=g.layoutRect(),e=g.paddingBox;g.items().filter(":visible").each(function(b){b.layoutRect({x:e.left,y:e.top,
w:f.innerW-e.right-e.left,h:f.innerH-e.top-e.bottom});b.recalc&&b.recalc()})}})});v("3k",["34"],function(h){return h.extend({recalc:function(g){var f,e,b,d,c,a,h,l,r,q,p,k,v,z,x,t,w,n,y,D,A=[],B=Math.max,C=Math.min;var H=g.items().filter(":visible");var F=g.layoutRect();var E=g.paddingBox;var J=g.settings;var G=g.isRtl()?J.direction||"row-reversed":J.direction;var M=J.align;var N=g.isRtl()?J.pack||"end":J.pack;J=J.spacing||0;"row-reversed"!=G&&"column-reverse"!=G||(H=H.set(H.toArray().reverse()),
G=G.split("-")[0]);"column"==G?(l="y",a="h",h="minH",d="maxH",q="innerH",r="top",p="deltaH",k="contentH",w="left",x="w",v="x",z="innerW",t="minW",n="right",y="deltaW",D="contentW"):(l="x",a="w",h="minW",d="maxW",q="innerW",r="left",p="deltaW",k="contentW",w="top",x="h",v="y",z="innerH",t="minH",n="bottom",y="deltaH",D="contentH");var K=F[q]-E[r]-E[r];G=c=e=0;for(f=H.length;G<f;G++){var U=H[G];var I=U.layoutRect();var S=U.settings;S=S.flex;K-=G<f-1?J:0;0<S&&(e+=S,I[d]&&A.push(U),I.flex=S);K-=I[h];
S=E[w]+I[t]+E[n];S>c&&(c=S)}if(b={},0>K?b[h]=F[h]-K+F[p]:b[h]=F[q]-K+F[p],b[t]=c+F[y],b[k]=F[q]-K,b[D]=c,b.minW=C(b.minW,F.maxW),b.minH=C(b.minH,F.maxH),b.minW=B(b.minW,F.startMinWidth),b.minH=B(b.minH,F.startMinHeight),!F.autoResize||b.minW==F.minW&&b.minH==F.minH){g=K/e;G=0;for(f=A.length;G<f;G++)U=A[G],I=U.layoutRect(),b=I[d],S=I[h]+I.flex*g,S>b?(K-=I[d]-I[h],e-=I.flex,I.flex=0,I.maxFlexSize=b):I.maxFlexSize=0;g=K/e;d=E[r];b={};0===e&&("end"==N?d=K+E[r]:"center"==N?(d=Math.round(F[q]/2-(F[q]-K)/
2)+E[r],0>d&&(d=E[r])):"justify"==N&&(d=E[r],J=Math.floor(K/(H.length-1))));b[v]=E[w];G=0;for(f=H.length;G<f;G++)U=H[G],I=U.layoutRect(),S=I.maxFlexSize||I[h],"center"===M?b[v]=Math.round(F[z]/2-I[x]/2):"stretch"===M?(b[x]=B(I[t]||0,F[z]-E[w]-E[n]),b[v]=E[w]):"end"===M&&(b[v]=F[z]-I[x]-E.top),0<I.flex&&(S+=I.flex*g),b[a]=S,b[l]=d,U.layoutRect(b),U.recalc&&U.recalc(),d+=S+J}else(b.w=b.minW,b.h=b.minH,g.layoutRect(b),this.recalc(g),null===g._lastRect)&&(H=g.parent())&&(H._lastRect=null,H.recalc())}})});
v("3l",["33"],function(h){return h.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(g){g.items().filter(":visible").each(function(f){f.recalc&&f.recalc()})},isNative:function(){return!0}})});v("5q",["1","49","1w","4w","h"],function(h,g,f,e,b){var d=function(a,c){return g.from(b.DOM.getStyle(c,a,!0))},c=function(a){return function(b,c){return g.from(c).map(f.fromDom).filter(e.isElement).bind(function(c){var e;a:{for(e=c.dom();e!==b;){if(e.style[a]){e=
e.style[a];e=""!==e?g.some(e):g.none();break a}e=e.parentNode}e=g.none()}return e.or(d(a,c.dom()))}).getOr("")}};return{getFontSize:c("fontSize"),getFontFamily:h.compose(function(a){return a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},c("fontFamily")),toPt:function(a){return/[0-9.]+px$/.test(a)?Math.round(72*parseInt(a,10)/96)+"pt":a}}});v("3m","1 1w 4y h 19 9 5q 2q 2z 31 1q c".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q){function p(a){a.settings.ui_container&&(d.container=f.descendant(g.fromDom(document.body),
a.settings.ui_container).fold(h.constant(null),function(a){return a.dom()}))}function k(b){b.on("ScriptsLoaded",function(){b.rtl&&(a.rtl=!0)})}function v(a){function b(b,c){return function(){var d=this;a.on("nodeChange",function(e){var f=a.formatter,g=null;z(e.parents,function(a){if(z(b,function(b){if(c?f.matchNode(a,c,{value:b.value})&&(g=b.value):f.matchNode(a,b.value)&&(g=b.value),g)return!1}),g)return!1});d.value(g)})}}function d(b){return function(){var d=this,e=function(a){return a?a.split(",")[0]:
""};a.on("init nodeChange",function(f){var g=null;var h=c.getFontFamily(a.getBody(),f.element);z(b,function(a){a.value.toLowerCase()===h.toLowerCase()&&(g=a.value)});z(b,function(a){g||e(a.value).toLowerCase()!==e(h).toLowerCase()||(g=a.value)});d.value(g);!g&&h&&d.text(e(h))})}}function e(b){return function(){var d=this;a.on("init nodeChange",function(e){var f=null;var g=c.getFontSize(a.getBody(),e.element);var h=c.toPt(g);z(b,function(a){a.value===g?f=g:a.value===h&&(f=h)});d.value(f);f||d.text(h)})}}
function f(a){a=a.replace(/;$/,"").split(";");for(var b=a.length;b--;)a[b]=a[b].split("=");return a}function g(b){return function(){var c=this;a.formatter?a.formatter.formatChanged(b,function(a){c.active(a)}):a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function h(b){return function(){function c(){var c="redo"==b?"hasRedo":"hasUndo";return!!a.undoManager&&a.undoManager[c]()}var d=this;d.disabled(!c());a.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){d.disabled(a.readonly||
!c())})}}function k(b){b.control&&(b=b.control.value());b&&a.execCommand("mceToggleFormat",!1,b)}function l(b){var c=b.length;return q.each(b,function(b){b.menu&&(b.hidden=0===l(b.menu));var d=b.format;d&&(b.hidden=!a.formatter.canApply(d));b.hidden&&c--}),c}function p(b){var c=b.items().length;return b.items().each(function(b){b.menu&&b.visible(0<p(b.menu));!b.menu&&b.settings.menu&&b.visible(0<l(b.settings.menu));var d=b.settings.format;d&&b.visible(a.formatter.canApply(d));b.visible()||c--}),c}
var r=function(){function b(a){var e=[];if(a)return z(a,function(a){var f={text:a.title,icon:a.icon};if(a.items)f.menu=b(a.items);else{var g=a.format||"custom"+c++;a.format||(a.name=g,d.push(a));f.format=g;f.cmd=a.cmd}e.push(f)}),e}var c=0,d=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",
icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},
{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return a.on("init",function(){z(d,function(b){a.formatter.register(b.name,b)})}),{type:"menu",items:b(a.settings.style_formats_merge?a.settings.style_formats?e.concat(a.settings.style_formats):e:a.settings.style_formats||e),onPostRender:function(b){a.fire("renderFormatsMenu",
{control:b.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return a.formatter.getCssText(this.settings.format)},onPostRender:function(){var b=this;b.parent().on("show",function(){var c;(c=b.settings.format)&&(b.disabled(!a.formatter.canApply(c)),b.active(a.formatter.match(c)));(c=b.settings.cmd)&&b.active(a.queryCommandState(c))})},onclick:function(){this.settings.format&&k(this.settings.format);this.settings.cmd&&a.execCommand(this.settings.cmd)}}}}();z({bold:"Bold",
italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(b,c){a.addButton(c,{tooltip:b,onPostRender:g(c),onclick:function(){k(c)}})});z({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document",
"mceNewDocument"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1]})});z({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(b,c){a.addButton(c,{tooltip:b[0],cmd:b[1],onPostRender:g(c)})});var t=function(b){var c;
if("string"==typeof b)var d=b.split(" ");else if(q.isArray(b))return x(q.map(b,t));return c=q.grep(d,function(b){return"|"===b||b in a.menuItems}),q.map(c,function(b){return"|"===b?{text:"-"}:a.menuItems[b]})},v=function(b){var c=[{text:"-"}],d=q.grep(a.menuItems,function(a){return a.context===b});return q.each(d,function(a){"before"==a.separator&&c.push({text:"|"});a.prependToContext?c.unshift(a):c.push(a);"after"==a.separator&&c.push({text:"|"})}),c},u=function(a){a=a.insert_button_items?t(a.insert_button_items):
v("insert");return 0<a.length&&"-"===a[0].text&&(a=a.slice(1)),0<a.length&&"-"===a[a.length-1].text&&(a=a.slice(0,a.length-1)),a};a.addButton("undo",{tooltip:"Undo",onPostRender:h("undo"),cmd:"undo"});a.addButton("redo",{tooltip:"Redo",onPostRender:h("redo"),cmd:"redo"});a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"});a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:h("undo"),cmd:"undo"});a.addMenuItem("redo",{text:"Redo",icon:"redo",
shortcut:"Meta+Y",onPostRender:h("redo"),cmd:"redo"});a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var b=this;a.on("VisualAid",function(a){b.active(a.hasVisual)});b.active(a.hasVisual)},cmd:"mceToggleVisualAid"});a.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"});a.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(u(a.settings));this.menu.renderNew()}});z({cut:["Cut","Cut","Meta+X"],copy:["Copy",
"Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(b,c){a.addMenuItem(c,{text:b[0],icon:c,shortcut:b[2],cmd:b[1]})});a.on("mousedown",function(){m.hideAll()});a.addButton("styleselect",
{type:"menubutton",text:"Formats",menu:r,onShowMenu:function(){a.settings.style_formats_autohide&&p(this.menu)}});a.addButton("formatselect",function(){var c=[],d=f(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return z(d,function(b){c.push({text:b[0],value:b[1],textStyle:function(){return a.formatter.getCssText(b[1])}})}),{type:"listbox",text:d[0][0],values:c,fixedWidth:!0,onselect:k,onPostRender:b(c)}});a.addButton("fontselect",
function(){var b=[],c=f(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");
return z(c,function(a){b.push({text:{raw:a[0]},value:a[1],textStyle:-1==a[1].indexOf("dings")?"font-family:"+a[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:b,fixedWidth:!0,onPostRender:d(b),onselect:function(b){b.control.settings.value&&a.execCommand("FontName",!1,b.control.settings.value)}}});a.addButton("fontsizeselect",function(){var b=[];return z((a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt").split(" "),function(a){var c=a,d=a;a=a.split("=");1<
a.length&&(c=a[0],d=a[1]);b.push({text:c,value:d})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:b,fixedWidth:!0,onPostRender:e(b),onclick:function(b){b.control.settings.value&&a.execCommand("FontSize",!1,b.control.settings.value)}}});a.addMenuItem("formats",{text:"Formats",menu:r})}var z=q.each,x=function(a){return r.reduce(a,function(a,b){return a.concat(b)},[])};return b.on("AddEditor",function(a){a=a.editor;k(a);v(a);p(a)}),a.translate=function(a){return b.translate(a)},l.tooltips=
!d.iOS,{}});v("3n",["34"],function(h){return h.extend({recalc:function(g){var f,e,b,d,c,a=[],h=[];var l=g.settings;var r=g.items().filter(":visible");var q=g.layoutRect();var p=l.columns||Math.ceil(Math.sqrt(r.length));var k=Math.ceil(r.length/p);var v=l.spacingH||l.spacing||0;var z=l.spacingV||l.spacing||0;var x=l.alignH||l.align;var t=l.alignV||l.align;var w=g.paddingBox;var n="reverseRows"in l?l.reverseRows:g.isRtl();x&&"string"==typeof x&&(x=[x]);t&&"string"==typeof t&&(t=[t]);for(b=0;b<p;b++)a.push(0);
for(d=0;d<k;d++)h.push(0);for(d=0;d<k;d++)for(b=0;b<p&&(e=r[d*p+b],e);b++){var y=e.layoutRect();var D=y.minW;y=y.minH;a[b]=D>a[b]?D:a[b];h[d]=y>h[d]?y:h[d]}y=q.innerW-w.left-w.right;for(b=D=0;b<p;b++)D+=a[b]+(0<b?v:0),y-=(0<b?v:0)+a[b];var A=q.innerH-w.top-w.bottom;for(d=b=0;d<k;d++)b+=h[d]+(0<d?z:0),A-=(0<d?z:0)+h[d];if(D+=w.left+w.right,b+=w.top+w.bottom,f={},f.minW=D+(q.w-q.innerW),f.minH=b+(q.h-q.innerH),f.contentW=f.minW-q.deltaW,f.contentH=f.minH-q.deltaH,f.minW=Math.min(f.minW,q.maxW),f.minH=
Math.min(f.minH,q.maxH),f.minW=Math.max(f.minW,q.startMinWidth),f.minH=Math.max(f.minH,q.startMinHeight),!q.autoResize||f.minW==q.minW&&f.minH==q.minH){q.autoResize&&(f=g.layoutRect(f),f.contentW=f.minW-q.deltaW,f.contentH=f.minH-q.deltaH);g="start"==l.packV?0:0<A?Math.floor(A/k):0;d=0;if(l=l.flexWidths)for(b=0;b<l.length;b++)d+=l[b];else d=p;d=y/d;for(b=0;b<p;b++)a[b]+=l?l[b]*d:d;D=w.top;for(d=0;d<k;d++){f=w.left;q=h[d]+g;for(b=0;b<p&&(c=n?d*p+p-1-b:d*p+b,e=r[c],e);b++){A=e.settings;y=e.layoutRect();
l=Math.max(a[b],y.startMinWidth);y.x=f;y.y=D;var B=A.alignH||(x?x[b]||x[0]:null);"center"==B?y.x=f+l/2-y.w/2:"right"==B?y.x=f+l-y.w:"stretch"==B&&(y.w=l);B=A.alignV||(t?t[b]||t[0]:null);"center"==B?y.y=D+q/2-y.h/2:"bottom"==B?y.y=D+q-y.h:"stretch"==B&&(y.h=q);e.layoutRect(y);f+=l+v;e.recalc&&e.recalc()}D+=q+z}}else(f.w=f.minW,f.h=f.minH,g.layoutRect(f),this.recalc(g),null===g._lastRect)&&(k=g.parent())&&(k._lastRect=null,k.recalc())}})});v("3o",["31","8"],function(h,g){return h.extend({renderHtml:function(){return this.classes.add("iframe"),
this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(f){this.getEl().src=f},html:function(f,e){var b=this,d=this.getEl().contentWindow.document.body;return d?(d.innerHTML=f,e&&e()):g.setTimeout(function(){b.html(f)}),this}})});v("3p",["31"],function(h){return h.extend({init:function(g){this._super(g);this.classes.add("widget").add("infobox");this.canFocus=!1},severity:function(g){this.classes.remove("error");
this.classes.remove("warning");this.classes.remove("success");this.classes.add(g)},help:function(g){this.state.set("help",g)},renderHtml:function(){var g=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+g+"ico "+g+'i-help"></i></button></div></div>'},bindStates:function(){var g=this;return g.state.on("change:text",function(f){g.getEl("body").firstChild.data=g.encode(f.value);
g.state.get("rendered")&&g.updateLayoutRect()}),g.state.on("change:help",function(f){g.classes.toggle("has-help",f.value);g.state.get("rendered")&&g.updateLayoutRect()}),g._super()}})});v("3q",["31","2c"],function(h,g){return h.extend({init:function(f){this._super(f);this.classes.add("widget").add("label");this.canFocus=!1;f.multiline&&this.classes.add("autoscroll");f.strong&&this.classes.add("strong")},initLayoutRect:function(){var f=this._super();this.settings.multiline&&(g.getSize(this.getEl()).width>
f.maxW&&(f.minW=f.maxW,this.classes.add("multiline")),this.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,g.getSize(this.getEl()).height));return f},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(f){this.classes.remove("error");this.classes.remove("warning");this.classes.remove("success");this.classes.add(f)},renderHtml:function(){var f,e,b=this.settings.forId,d=this.settings.html?
this.settings.html:this.encode(this.state.get("text"));return!b&&(e=this.settings.forName)&&(f=this.getRoot().find("#"+e)[0],f&&(b=f._id)),b?'<label id="'+this._id+'" class="'+this.classes+'"'+(b?' for="'+b+'"':"")+">"+d+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+d+"</span>"},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.innerHtml(f.encode(e.value));f.state.get("rendered")&&f.updateLayoutRect()}),f._super()}})});v("3r",["2t"],function(h){return h.extend({Defaults:{role:"toolbar",
layout:"flow"},init:function(g){this._super(g);this.classes.add("toolbar")},postRender:function(){return this.items().each(function(g){g.classes.add("toolbar-item")}),this._super()}})});v("3s",["3r"],function(h){return h.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})});v("3t",["35","2r","3s"],function(h,g,f){var e=h.extend({init:function(b){this._renderOpen=!0;this._super(b);b=this.settings;this.classes.add("menubtn");b.fixedWidth&&this.classes.add("fixed-width");
this.aria("haspopup",!0);this.state.set("menu",b.menu||this.render())},showMenu:function(b){var d,c=this;return c.menu&&c.menu.visible()&&!1!==b?c.hideMenu():(c.menu||(d=c.state.get("menu")||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",d.renderTo?c.menu=d.parent(c).show().renderTo():c.menu=g.create(d).parent(c).renderTo(),c.fire("createmenu"),c.menu.reflow(),c.menu.on("cancel",function(a){a.control.parent()===c.menu&&(a.stopPropagation(),c.focus(),c.hideMenu())}),c.menu.on("select",function(){c.focus()}),
c.menu.on("show hide",function(a){a.control==c.menu&&c.activeMenu("show"==a.type);c.aria("expanded","show"==a.type)}).fire("show")),c.menu.show(),c.menu.layoutRect({w:c.layoutRect().w}),c.menu.moveRel(c.getEl(),c.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void c.fire("showmenu"))},hideMenu:function(){this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide())},activeMenu:function(b){this.classes.toggle("active",b)},renderHtml:function(){var b,d=this._id,c=this.classPrefix,
a=this.settings.icon,e=this.state.get("text"),g="";return b=this.settings.image,b?(a="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",e&&(this.classes.add("btn-has-text"),g='<span class="'+c+'txt">'+this.encode(e)+"</span>"),a=this.settings.icon?c+"ico "+c+"i-"+a:"",this.aria("role",this.parent()instanceof f?"menuitem":"button"),'<div id="'+d+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+d+'"><button id="'+d+'-open" role="presentation" type="button" tabindex="-1">'+
(a?'<i class="'+a+'"'+b+"></i>":"")+g+' <i class="'+c+'caret"></i></button></div>'},postRender:function(){var b=this;return b.on("click",function(d){var c;if(c=d.control===b)a:{c=d.target;for(var a=b.getEl();c;){if(a===c){c=!0;break a}c=c.parentNode}c=!1}c&&(b.focus(),b.showMenu(!d.aria),d.aria&&b.menu.items().filter(":visible")[0].focus())}),b.on("mouseenter",function(d){var c,a=d.control;d=b.parent();a&&d&&a instanceof e&&a.parent()==d&&(d.items().filter("MenuButton").each(function(b){b.hideMenu&&
b!=a&&(b.menu&&b.menu.visible()&&(c=!0),b.hideMenu())}),c&&(a.focus(),a.showMenu()))}),b._super()},bindStates:function(){var b=this;return b.state.on("change:menu",function(){b.menu&&b.menu.remove();b.menu=null}),b._super()},remove:function(){this._super();this.menu&&this.menu.remove()}});return e});v("3u",["31","2r","9","8"],function(h,g,f,e){return h.extend({Defaults:{border:0,role:"menuitem"},init:function(b){this._super(b);b=this.settings;this.classes.add("menu-item");b.menu&&this.classes.add("menu-item-expand");
b.preview&&this.classes.add("menu-item-preview");var d=this.state.get("text");"-"!==d&&"|"!==d||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-"));b.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),b.icon="selected");b.preview||b.selectable||this.classes.add("menu-item-normal");this.on("mousedown",function(b){b.preventDefault()});b.menu&&!b.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},
showMenu:function(){var b,d=this,c=d.settings,a=d.parent();if(a.items().each(function(a){a!==d&&a.hideMenu()}),c.menu)(b=d.menu)?b.show():(b=c.menu,b.length?b={type:"menu",items:b}:b.type=b.type||"menu",a.settings.itemDefaults&&(b.itemDefaults=a.settings.itemDefaults),b=d.menu=g.create(b).parent(d).renderTo(),b.reflow(),b.on("cancel",function(a){a.stopPropagation();d.focus();b.hide()}),b.on("show hide",function(a){a.control.items&&a.control.items().each(function(a){a.active(a.settings.selected)})}).fire("show"),
b.on("hide",function(a){a.control===b&&d.classes.remove("selected")}),b.submenu=!0),b._parentMenu=a,b.classes.add("menu-sub"),c=b.testMoveRel(d.getEl(),d.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),b.moveRel(d.getEl(),c),b.rel=c,c="menu-sub-"+c,b.classes.remove(b._lastRel).add(c),b._lastRel=c,d.classes.add("selected"),d.aria("expanded",!0)},hideMenu:function(){return this.menu&&(this.menu.items().each(function(b){b.hideMenu&&b.hideMenu()}),this.menu.hide(),this.aria("expanded",
!1)),this},renderHtml:function(){function b(a){var b,c;var d=f.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};a=a.split("+");for(b=0;b<a.length;b++)(c=d[a[b].toLowerCase()])&&(a[b]=c);return a.join("+")}function d(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(a){var b=g.match||"";return b?a.replace(new RegExp(d(b),"gi"),function(a){return"!mce~match["+a+"]mce~match!"}):a}function a(a){return a.replace(new RegExp(d("!mce~match["),"g"),"<b>").replace(new RegExp(d("]mce~match!"),
"g"),"</b>")}var e=this._id,g=this.settings,h=this.classPrefix,q=this.state.get("text"),p=this.settings.icon,k="",v=g.shortcut,z=this.encode(g.url),x="";return p&&this.parent().classes.add("menu-has-icons"),g.image&&(k=" style=\"background-image: url('"+g.image+"')\""),v&&(v=b(v)),p=h+"ico "+h+"i-"+(this.settings.icon||"none"),x="-"!==q?'<i class="'+p+'"'+k+"></i>\u00a0":"",q=a(this.encode(c(q))),z=a(this.encode(c(z))),'<div id="'+e+'" class="'+this.classes+'" tabindex="-1">'+x+("-"!==q?'<span id="'+
e+'-text" class="'+h+'text">'+q+"</span>":"")+(v?'<div id="'+e+'-shortcut" class="'+h+'menu-shortcut">'+v+"</div>":"")+(g.menu?'<div class="'+h+'caret"></div>':"")+(z?'<div class="'+h+'menu-item-link">'+z+"</div>":"")+"</div>"},postRender:function(){var b=this,d=b.settings,c=d.textStyle;if("function"==typeof c&&(c=c.call(this)),c){var a=b.getEl("text");a&&a.setAttribute("style",c)}return b.on("mouseenter click",function(a){a.control===b&&(d.menu||"click"!==a.type?(b.showMenu(),a.aria&&b.menu.focus(!0)):
(b.fire("select"),e.requestAnimationFrame(function(){b.parent().hideAll()})))}),b._super(),b},hover:function(){return this.parent().items().each(function(b){b.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(b){return"undefined"!=typeof b&&this.aria("checked",b),this._super(b)},remove:function(){this._super();this.menu&&this.menu.remove()}})});v("3v",["d","2q","8"],function(h,g,f){return function(e,b){var d,c,a=this,m=g.classPrefix;a.show=function(g,r){function l(){d&&
(h(e).append('<div class="'+m+"throbber"+(b?" "+m+"throbber-inline":"")+'"></div>'),r&&r())}return a.hide(),d=!0,g?c=f.setTimeout(l,g):l(),a};a.hide=function(){var b=e.lastChild;return f.clearTimeout(c),b&&-1!=b.className.indexOf("throbber")&&b.parentNode.removeChild(b),d=!1,a}}});v("3w",["2z","3u","3v","c"],function(h,g,f,e){return h.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(b){if(b.autohide=!0,b.constrainToViewport=
!0,"function"==typeof b.items&&(b.itemsFactory=b.items,b.items=[]),b.itemDefaults)for(var d=b.items,c=d.length;c--;)d[c]=e.extend({},b.itemDefaults,d[c]);this._super(b);this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll();this.fire("select")},load:function(){function b(){c.throbber&&(c.throbber.hide(),c.throbber=null)}var d,c=this;c.settings.itemsFactory&&
(c.throbber||(c.throbber=new f(c.getEl("body"),!0),0===c.items().length?(c.throbber.show(),c.fire("loading")):c.throbber.show(100,function(){c.items().remove();c.fire("loading")}),c.on("hide close",b)),c.requestTime=d=(new Date).getTime(),c.settings.itemsFactory(function(a){return 0===a.length?void c.hide():void(c.requestTime===d&&(c.getEl().style.width="",c.getEl("body").style.width="",b(),c.items().remove(),c.getEl("body").innerHTML="",c.add(a),c.renderNew(),c.fire("loaded")))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),
this._super()},preRender:function(){var b=this;return b.items().each(function(d){d=d.settings;if(d.icon||d.image||d.selectable)return b._hasIcons=!0,!1}),b.settings.itemsFactory&&b.on("postrender",function(){b.settings.itemsFactory&&b.load()}),b._super()}})});v("3x",["3t","3w"],function(h,g){return h.extend({init:function(f){function e(a){for(var b=0;b<a.length;b++){if(d=a[b].selected||f.value===a[b].value)return c=c||a[b].text,g.state.set("value",a[b].value),!0;if(a[b].menu&&e(a[b].menu))return!0}}
var b,d,c,a,g=this;g._super(f);f=g.settings;(g._values=b=f.values)&&("undefined"!=typeof f.value&&e(b),!d&&0<b.length&&(c=b[0].text,g.state.set("value",b[0].value)),g.state.set("menu",b));g.state.set("text",f.text||c);g.classes.add("listbox");g.on("select",function(b){var c=b.control;a&&(b.lastControl=a);f.multiple?c.active(!c.active()):g.value(b.control.value());a=c})},bindStates:function(){function f(b,c){b instanceof g&&b.items().each(function(a){a.hasMenus()||a.active(a.value()===c)})}function e(b,
c){var a;if(b)for(var d=0;d<b.length;d++){if(b[d].value===c)return b[d];if(b[d].menu&&(a=e(b[d].menu,c)))return a}}var b=this;return b.on("show",function(d){f(d.control,b.value())}),b.state.on("change:value",function(d){(d=e(b.state.get("menu"),d.value))?b.text(d.text):b.text(b.settings.text)}),b._super()}})});v("3y",["37"],function(h){return h.extend({Defaults:{classes:"radio",role:"radio"}})});v("3z",["31","2u"],function(h,g){return h.extend({renderHtml:function(){var f=this.classPrefix;return this.classes.add("resizehandle"),
"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+f+"ico "+f+'i-resize"></i></div>'},postRender:function(){var f=this;f._super();f.resizeDragHelper=new g(this._id,{start:function(){f.fire("ResizeStart")},drag:function(e){"both"!=f.settings.direction&&(e.deltaX=0);f.fire("Resize",e)},stop:function(){f.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),
this._super()}})});v("40",["31"],function(h){function g(f){var e="";if(f)for(var b=0;b<f.length;b++)e+='<option value="'+f[b]+'">'+f[b]+"</option>";return e}return h.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(f){var e=this;e._super(f);e.settings.size&&(e.size=e.settings.size);e.settings.options&&(e._options=e.settings.options);e.on("keydown",function(b){var d;13==b.keyCode&&(b.preventDefault(),e.parents().reverse().each(function(b){if(b.toJSON)return d=b,!1}),
e.fire("submit",{data:d.toJSON()}))})},options:function(f){return arguments.length?(this.state.set("options",f),this):this.state.get("options")},renderHtml:function(){var f,e="";return f=g(this._options),this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+f+"</select>"},bindStates:function(){var f=this;return f.state.on("change:options",function(e){f.getEl().innerHTML=g(e.value)}),f._super()}})});v("41",["31","2u","2c"],function(h,g,f){function e(b,
c,a){return b<c&&(b=c),b>a&&(b=a),b}function b(b,c){var a,d,e;"v"==b.settings.orientation?(e="top",d="height",a="h"):(e="left",d="width",a="w");var g=b.getEl("handle");a=((b.layoutRect()[a]||100)-f.getSize(g)[d])*((c-b._minValue)/(b._maxValue-b._minValue))+"px";g.style[e]=a;g.style.height=b.layoutRect().h+"px";g.setAttribute("aria-valuenow",c);e=""+b.settings.previewFilter(c);g.setAttribute("aria-valuetext",e);g.setAttribute("aria-valuemin",b._minValue);g.setAttribute("aria-valuemax",b._maxValue)}
return h.extend({init:function(b){b.previewFilter||(b.previewFilter=function(b){return Math.round(100*b)/100});this._super(b);this.classes.add("slider");"v"==b.orientation&&this.classes.add("vertical");this._minValue=b.minValue||0;this._maxValue=b.maxValue||100;this._initValue=this.state.get("value")},renderHtml:function(){var b=this._id;return'<div id="'+b+'" class="'+this.classes+'"><div id="'+b+'-handle" class="'+this.classPrefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},
postRender:function(){var b,c,a,h,l=this;var r=l._minValue;var q=l._maxValue;"v"==l.settings.orientation?(b="screenY",c="top",a="height",h="h"):(b="screenX",c="left",a="width",h="w");l._super();(function(a,b){function c(c){var d=l.value();d=((d+a)/(b-a)+.05*c)*(b-a)-a;d=e(d,a,b);l.value(d);l.fire("dragstart",{value:d});l.fire("drag",{value:d});l.fire("dragend",{value:d})}l.on("keydown",function(a){switch(a.keyCode){case 37:case 38:c(-1);break;case 39:case 40:c(1)}})})(r,q,l.getEl("handle"));(function(d,
k,m){var p,q,r,v,n;l._dragHelper=new g(l._id,{handle:l._id+"-handle",start:function(d){p=d[b];q=parseInt(l.getEl("handle").style[c],10);r=(l.layoutRect()[h]||100)-f.getSize(m)[a];l.fire("dragstart",{value:n})},drag:function(a){v=e(q+(a[b]-p),0,r);m.style[c]=v+"px";n=d+v/r*(k-d);l.value(n);l.tooltip().text(""+l.settings.previewFilter(n)).show().moveRel(m,"bc tc");l.fire("drag",{value:n})},stop:function(){l.tooltip().hide();l.fire("dragend",{value:n})}})})(r,q,l.getEl("handle"))},repaint:function(){this._super();
b(this,this.value())},bindStates:function(){var d=this;return d.state.on("change:value",function(c){b(d,c.value)}),d._super()}})});v("42",["31"],function(h){return h.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})});v("43",["3t","2c","d"],function(h,g,f){return h.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,b,d=this.getEl(),c=this.layoutRect();return this._super(),
e=d.firstChild,b=d.lastChild,f(e).css({width:c.w-g.getSize(b).width,height:c.h-2}),f(b).css({height:c.h-2}),this},activeMenu:function(e){f(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,b=this._id,d=this.classPrefix,c=this.state.get("icon"),a=this.state.get("text"),f="";return e=this.settings.image,e?(c="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",c=this.settings.icon?d+"ico "+d+"i-"+
c:"",a&&(this.classes.add("btn-has-text"),f='<span class="'+d+'txt">'+this.encode(a)+"</span>"),'<div id="'+b+'" class="'+this.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(c?'<i class="'+c+'"'+e+"></i>":"")+f+'</button><button type="button" class="'+d+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(c?"\u00a0":"")+this._menuBtnText:"")+' <i class="'+d+'caret"></i></button></div>'},postRender:function(){var e=this.settings.onclick;return this.on("click",
function(b){var d=b.target;if(b.control==this)for(;d;){if(b.aria&&"down"!=b.aria.key||"BUTTON"==d.nodeName&&-1==d.className.indexOf("open"))return b.stopImmediatePropagation(),void(e&&e.call(this,b));d=d.parentNode}}),delete this.settings.onclick,this._super()}})});v("44",["3l"],function(h){return h.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})});v("45",["2w","d","2c"],function(h,g,f){return h.extend({Defaults:{layout:"absolute",
defaults:{type:"panel"}},activateTab:function(e){var b;this.activeTabId&&(b=this.getEl(this.activeTabId),g(b).removeClass(this.classPrefix+"active"),b.setAttribute("aria-selected","false"));this.activeTabId="t"+e;b=this.getEl("t"+e);b.setAttribute("aria-selected","true");g(b).addClass(this.classPrefix+"active");this.items()[e].show().fire("showtab");this.reflow();this.items().each(function(b,c){e!=c&&b.hide()})},renderHtml:function(){var e=this,b=e._layout,d="",c=e.classPrefix;return e.preRender(),
b.preRender(e),e.items().each(function(a,b){var f=e._id+"-t"+b;a.aria("role","tabpanel");a.aria("labelledby",f);d+='<div id="'+f+'" class="'+c+'tab" unselectable="on" role="tab" aria-controls="'+a._id+'" aria-selected="false" tabIndex="-1">'+e.encode(a.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+c+'tabs" role="tablist">'+d+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+b.renderHtml(e)+"</div></div>"},
postRender:function(){var e=this;e._super();e.settings.activeTab=e.settings.activeTab||0;e.activateTab(e.settings.activeTab);this.on("click",function(b){var d=b.target.parentNode;if(d&&d.id==e._id+"-head")for(var c=d.childNodes.length;c--;)d.childNodes[c]==b.target&&e.activateTab(c)})},initLayoutRect:function(){var e;var b=f.getSize(this.getEl("head")).width;b=0>b?0:b;var d=0;this.items().each(function(a){b=Math.max(b,a.layoutRect().minW);d=Math.max(d,a.layoutRect().minH)});this.items().each(function(a){a.settings.x=
0;a.settings.y=0;a.settings.w=b;a.settings.h=d;a.layoutRect({x:0,y:0,w:b,h:d})});var c=f.getSize(this.getEl("head")).height;return this.settings.minWidth=b,this.settings.minHeight=d+c,e=this._super(),e.deltaH+=c,e.innerH=e.h-e.deltaH,e}})});v("46",["31","c","2c"],function(h,g,f){return h.extend({init:function(e){var b=this;b._super(e);b.classes.add("textbox");e.multiline?b.classes.add("multiline"):(b.on("keydown",function(d){var c;13==d.keyCode&&(d.preventDefault(),b.parents().reverse().each(function(a){if(a.toJSON)return c=
a,!1}),b.fire("submit",{data:c.toJSON()}))}),b.on("keyup",function(d){b.state.set("value",d.target.value)}))},repaint:function(){var e,b,d=0;var c=this.getEl().style;var a=this._layoutRect;var f=this._lastRepaintRect||{};var g=document;return!this.settings.multiline&&g.all&&(!g.documentMode||8>=g.documentMode)&&(c.lineHeight=a.h-d+"px"),e=this.borderBox,b=e.left+e.right+8,d=e.top+e.bottom+(this.settings.multiline?8:0),a.x!==f.x&&(c.left=a.x+"px",f.x=a.x),a.y!==f.y&&(c.top=a.y+"px",f.y=a.y),a.w!==
f.w&&(c.width=a.w-b+"px",f.w=a.w),a.h!==f.h&&(c.height=a.h-d+"px",f.h=a.h),this._lastRepaintRect=f,this.fire("repaint",{},!1),this},renderHtml:function(){var e,b,d=this.settings;return e={id:this._id,hidefocus:"1"},g.each("rows spellcheck maxLength size readonly min max step list pattern placeholder required multiple".split(" "),function(b){e[b]=d[b]}),this.disabled()&&(e.disabled="disabled"),d.subtype&&(e.type=d.subtype),b=f.create(d.multiline?"textarea":"input",e),b.value=this.state.get("value"),
b.className=this.classes,b.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value");e._super();e.$el.on("change",function(b){e.state.set("value",b.target.value);e.fire("change",b)})},bindStates:function(){var e=this;return e.state.on("change:value",function(b){e.getEl().value!=b.value&&(e.getEl().value=
b.value)}),e.state.on("change:disabled",function(b){e.getEl().disabled=b.value}),e._super()},remove:function(){this.$el.off();this._super()}})});ha("5r",RegExp);v("47",["31","c","2c","5r"],function(h,g,f,e){return h.extend({init:function(b){b=g.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},b);this._super(b);this.classes.add("dropzone");b.multiple&&this.classes.add("multiple")},renderHtml:function(){var b,d,c=this.settings;return b={id:this._id,hidefocus:"1"},d=f.create("div",
b,"<span>"+c.text+"</span>"),c.height&&f.css(d,"height",c.height+"px"),c.width&&f.css(d,"width",c.width+"px"),d.className=this.classes,d.outerHTML},postRender:function(){var b=this,d=function(a){a.preventDefault();b.classes.toggle("dragenter");b.getEl().className=b.classes},c=function(a){var c=b.settings.accept;if("string"!=typeof c)return a;var d=new e("("+c.split(/\s*,\s*/).join("|")+")$","i");return g.grep(a,function(a){return d.test(a.name)})};b._super();b.$el.on("dragover",function(a){a.preventDefault()});
b.$el.on("dragenter",d);b.$el.on("dragleave",d);b.$el.on("drop",function(a){if(a.preventDefault(),!b.state.get("disabled")){var d=c(a.dataTransfer.files);b.value=function(){return d.length?b.settings.multiple?d:d[0]:null};d.length&&b.fire("change",a)}})},remove:function(){this.$el.off();this._super()}})});v("48",["35","c","2c","d","5r"],function(h,g,f,e,b){return h.extend({init:function(b){b=g.extend({text:"Browse...",multiple:!1,accept:null},b);this._super(b);this.classes.add("browsebutton");b.multiple&&
this.classes.add("multiple")},postRender:function(){var b=this,c=f.create("input",{type:"file",id:b._id+"-browse",accept:b.settings.accept});b._super();e(c).on("change",function(a){var c=a.target.files;b.value=function(){return c.length?b.settings.multiple?c:c[0]:null};a.preventDefault();c.length&&b.fire("change",a)});e(c).on("click",function(a){a.stopPropagation()});e(b.getEl("button")).on("click",function(a){a.stopPropagation();c.click()});b.getEl().appendChild(c)},remove:function(){e(this.getEl("button")).off();
e(this.getEl("input")).off();this._super()}})});v("1g","2n 2o 2p 2q 2r 2s 2t 2u 2v 2w 2x 2y 2z 29 2a 30 31 32 2d 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 3g 3h 3i 3j 3k 3l 3m 3n 3o 3p 3q 3r 3s 3t 3u 3v 3w 3x 3y 3z 40 41 42 43 44 45 46 47 48".split(" "),function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,v,z,x,t,w,n,y,D,A,B,C,H,F,E,J,G,M,N,K,U,I,S,P,X,aa,W,Q,L,R,V,T,ba,Y,ea,ca,ha,ja,da,ia,qa,ra,na,oa,pa,sa,ka,la){var u=function(a,c,d){var e;var f=c.split(/[.\/]/);for(e=0;e<f.length-1;++e)void 0===a[f[e]]&&(a[f[e]]=
{}),a=a[f[e]];a[f[f.length-1]]=d;b.add(c.split(".").pop(),d)},ma={appendTo:function(O){u(O,"ui.Selector",h);u(O,"ui.Collection",g);u(O,"ui.ReflowQueue",f);u(O,"ui.Control",e);u(O,"ui.Factory",b);u(O,"ui.KeyboardNavigation",d);u(O,"ui.Container",c);u(O,"ui.DragHelper",a);u(O,"ui.Scrollable",m);u(O,"ui.Panel",l);u(O,"ui.Movable",r);u(O,"ui.Resizable",q);u(O,"ui.FloatPanel",p);u(O,"ui.Window",k);u(O,"ui.MessageBox",v);u(O,"ui.Tooltip",z);u(O,"ui.Widget",x);u(O,"ui.Progress",t);u(O,"ui.Notification",
w);u(O,"ui.Layout",n);u(O,"ui.AbsoluteLayout",y);u(O,"ui.Button",D);u(O,"ui.ButtonGroup",A);u(O,"ui.Checkbox",B);u(O,"ui.ComboBox",C);u(O,"ui.ColorBox",H);u(O,"ui.PanelButton",F);u(O,"ui.ColorButton",E);u(O,"ui.ColorPicker",J);u(O,"ui.Path",G);u(O,"ui.ElementPath",M);u(O,"ui.FormItem",N);u(O,"ui.Form",K);u(O,"ui.FieldSet",U);u(O,"ui.FilePicker",I);u(O,"ui.FitLayout",S);u(O,"ui.FlexLayout",P);u(O,"ui.FlowLayout",X);u(O,"ui.FormatControls",aa);u(O,"ui.GridLayout",W);u(O,"ui.Iframe",Q);u(O,"ui.InfoBox",
L);u(O,"ui.Label",R);u(O,"ui.Toolbar",V);u(O,"ui.MenuBar",T);u(O,"ui.MenuButton",ba);u(O,"ui.MenuItem",Y);u(O,"ui.Throbber",ea);u(O,"ui.Menu",ca);u(O,"ui.ListBox",ha);u(O,"ui.Radio",ja);u(O,"ui.ResizeHandle",da);u(O,"ui.SelectBox",ia);u(O,"ui.Slider",qa);u(O,"ui.Spacer",ra);u(O,"ui.SplitButton",na);u(O,"ui.StackLayout",oa);u(O,"ui.TabPanel",pa);u(O,"ui.TextBox",sa);u(O,"ui.DropZone",ka);u(O,"ui.BrowseButton",la);u(O,"ui.Api",ma)}};return ma});v("2","5 6 7 8 9 a b c d e f g h i j k l m n o p q r s t u v w x y z 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 1g".split(" "),
function(h,g,f,e,b,d,c,a,m,l,r,q,p,k,u,v,x,t,w,n,y,D,A,B,C,H,F,E,J,G,M,N,K,U,I,S,P,X,aa,W,Q,L,R,V,T,ba,Y,ea){var z=Q;return z=a.extend(z,{geom:{Rect:g},util:{Promise:f,Delay:e,Tools:a,VK:B,URI:G,Class:M,EventDispatcher:N,Observable:K,I18n:aa,XHR:L,JSON:R,JSONRequest:V,JSONP:T,LocalStorage:ba,Color:Y},dom:{EventUtils:d,Sizzle:c,DomQuery:m,TreeWalker:r,DOMUtils:p,ScriptLoader:k,RangeUtils:v,Serializer:A,ControlSelection:C,BookmarkManager:H,Selection:F,Event:d.Event},html:{Styles:l,Entities:q,Node:x,
Schema:t,SaxParser:w,DomParser:n,Writer:y,Serializer:D},Env:b,AddOnManager:u,Formatter:h,UndoManager:E,EditorCommands:J,WindowManager:U,NotificationManager:I,EditorObservable:S,Shortcuts:P,Editor:X,FocusManager:W,EditorManager:Q,DOM:p.DOM,ScriptLoader:k.ScriptLoader,PluginManager:u.PluginManager,ThemeManager:u.ThemeManager,trim:a.trim,isArray:a.isArray,is:a.is,toArray:a.toArray,makeMap:a.makeMap,each:a.each,map:a.map,grep:a.grep,inArray:a.inArray,extend:a.extend,create:a.create,walk:a.walk,createNS:a.createNS,
resolve:a.resolve,explode:a.explode,_addCacheSuffix:a._addCacheSuffix,isOpera:b.opera,isWebKit:b.webkit,isIE:b.ie,isGecko:b.gecko,isMac:b.mac}),ea.appendTo(z),z});v("0",["1","2"],function(h,g){var f=this||window;return function(){window.tinymce=g;window.tinyMCE=g;"function"!=typeof f.define||f.define.amd||(f.define("ephox/tinymce",[],h.constant(g)),f.define("19",[],h.constant(g)));"object"==typeof module&&(module.exports=g);return g}});ta("0")()}();
!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("a",tinymce.util.Tools.resolve),g("1",["a"],function(a){return a("tinymce.PluginManager")}),g("2",["a"],function(a){return a("tinymce.util.Tools")}),g("3",["a"],function(a){return a("tinymce.util.VK")}),g("b",["a"],function(a){return a("tinymce.dom.DOMUtils")}),g("8",[],function(){var a=function(a){return a&&3===a.nodeType},b=function(a){return a&&/^(OL|UL|DL)$/.test(a.nodeName)},c=function(a){return a&&/^(LI|DT|DD)$/.test(a.nodeName)},d=function(a){return a&&"BR"===a.nodeName},e=function(a){return a.parentNode.firstChild===a},f=function(a){return a.parentNode.lastChild===a},g=function(a,b){return b&&!!a.schema.getTextBlockElements()[b.nodeName]},h=function(a,b){return a&&a.nodeName in b},i=function(a,b){return!!d(b)&&!(!a.isBlock(b.nextSibling)||d(b.previousSibling))},j=function(a,b,c){var d=a.isEmpty(b);return!(c&&a.select("span[data-mce-type=bookmark]",b).length>0)&&d},k=function(a,b){return a.isChildOf(b,a.getRoot())};return{isTextNode:a,isListNode:b,isListItemNode:c,isBr:d,isFirstChild:e,isLastChild:f,isTextBlock:g,isBlock:h,isBogusBr:i,isEmpty:j,isChildOfBody:k}}),g("i",["a"],function(a){return a("tinymce.dom.RangeUtils")}),g("k",["i","8"],function(a,b){var c=function(c,d){var e=a.getNode(c,d);if(b.isListItemNode(c)&&b.isTextNode(e)){var f=d>=c.childNodes.length?e.data.length:0;return{container:e,offset:f}}return{container:c,offset:d}},d=function(a){var b=a.cloneRange(),d=c(a.startContainer,a.startOffset);b.setStart(d.container,d.offset);var e=c(a.endContainer,a.endOffset);return b.setEnd(e.container,e.offset),b};return{getNormalizedEndPoint:c,normalizeRange:d}}),g("c",["b","8","k"],function(a,b,c){var d=a.DOM,e=function(a){var b={},c=function(c){var e,f,g;f=a[c?"startContainer":"endContainer"],g=a[c?"startOffset":"endOffset"],1===f.nodeType&&(e=d.create("span",{"data-mce-type":"bookmark"}),f.hasChildNodes()?(g=Math.min(g,f.childNodes.length-1),c?f.insertBefore(e,f.childNodes[g]):d.insertAfter(e,f.childNodes[g])):f.appendChild(e),f=e,g=0),b[c?"startContainer":"endContainer"]=f,b[c?"startOffset":"endOffset"]=g};return c(!0),a.collapsed||c(),b},f=function(a){function b(b){var c,e,f,g=function(a){for(var b=a.parentNode.firstChild,c=0;b;){if(b===a)return c;1===b.nodeType&&"bookmark"===b.getAttribute("data-mce-type")||c++,b=b.nextSibling}return-1};c=f=a[b?"startContainer":"endContainer"],e=a[b?"startOffset":"endOffset"],c&&(1===c.nodeType&&(e=g(c),c=c.parentNode,d.remove(f)),a[b?"startContainer":"endContainer"]=c,a[b?"startOffset":"endOffset"]=e)}b(!0),b();var e=d.createRng();return e.setStart(a.startContainer,a.startOffset),a.endContainer&&e.setEnd(a.endContainer,a.endOffset),c.normalizeRange(e)};return{createBookmark:e,resolveBookmark:f}}),g("d",["a"],function(a){return a("tinymce.dom.DomQuery")}),g("9",["d","2","8"],function(a,b,c){var d=function(a){return a.dom.getParent(a.selection.getStart(!0),"OL,UL,DL")},e=function(a){var e=d(a);return b.grep(a.selection.getSelectedBlocks(),function(a){return c.isListNode(a)&&e!==a})},f=function(c,d){var e=b.map(d,function(a){var b=c.dom.getParent(a,"li,dd,dt",c.getBody());return b?b:a});return a.unique(e)},g=function(a){var d=a.selection.getSelectedBlocks();return b.grep(f(a,d),function(a){return c.isListItemNode(a)})};return{getParentList:d,getSelectedSubLists:e,getSelectedListItems:g}}),g("4",["b","c","8","9"],function(a,b,c,d){var e=a.DOM,f=function(a,b){var d;if(c.isListNode(a)){for(;d=a.firstChild;)b.appendChild(d);e.remove(a)}},g=function(a){var b,d,g;return"DT"===a.nodeName?(e.rename(a,"DD"),!0):(b=a.previousSibling,b&&c.isListNode(b)?(b.appendChild(a),!0):b&&"LI"===b.nodeName&&c.isListNode(b.lastChild)?(b.lastChild.appendChild(a),f(a.lastChild,b.lastChild),!0):(b=a.nextSibling,b&&c.isListNode(b)?(b.insertBefore(a,b.firstChild),!0):(b=a.previousSibling,!(!b||"LI"!==b.nodeName)&&(d=e.create(a.parentNode.nodeName),g=e.getStyle(a.parentNode,"listStyleType"),g&&e.setStyle(d,"listStyleType",g),b.appendChild(d),d.appendChild(a),f(a.lastChild,d),!0))))},h=function(a){var c=d.getSelectedListItems(a);if(c.length){for(var e=b.createBookmark(a.selection.getRng(!0)),f=0;f<c.length&&(g(c[f])||0!==f);f++);return a.selection.setRng(b.resolveBookmark(e)),a.nodeChanged(),!0}};return{indentSelection:h}}),g("e",["b","2","8"],function(a,b,c){var d=a.DOM,e=function(a,b){var e,f=b.parentNode;"LI"===f.nodeName&&f.firstChild===b&&(e=f.previousSibling,e&&"LI"===e.nodeName?(e.appendChild(b),c.isEmpty(a,f)&&d.remove(f)):d.setStyle(f,"listStyleType","none")),c.isListNode(f)&&(e=f.previousSibling,e&&"LI"===e.nodeName&&e.appendChild(b))},f=function(a,c){b.each(b.grep(a.select("ol,ul",c)),function(b){e(a,b)})};return{normalizeList:e,normalizeLists:f}}),g("l",["a"],function(a){return a("tinymce.Env")}),g("g",["b","l","8"],function(a,b,c){var d=a.DOM,e=function(a,e,f){var g,h,i,j=d.createFragment(),k=a.schema.getBlockElements();if(a.settings.forced_root_block&&(f=f||a.settings.forced_root_block),f&&(h=d.create(f),h.tagName===a.settings.forced_root_block&&d.setAttribs(h,a.settings.forced_root_block_attrs),c.isBlock(e.firstChild,k)||j.appendChild(h)),e)for(;g=e.firstChild;){var l=g.nodeName;i||"SPAN"===l&&"bookmark"===g.getAttribute("data-mce-type")||(i=!0),c.isBlock(g,k)?(j.appendChild(g),h=null):f?(h||(h=d.create(f),j.appendChild(h)),h.appendChild(g)):j.appendChild(g)}return a.settings.forced_root_block?i||b.ie&&!(b.ie>10)||h.appendChild(d.create("br",{"data-mce-bogus":"1"})):j.appendChild(d.create("br")),j};return{createNewTextBlock:e}}),g("f",["b","8","g","2"],function(a,b,c,d){var e=a.DOM,f=function(a,f,g,h){var i,j,k,l,m=function(a){d.each(k,function(b){a.parentNode.insertBefore(b,g.parentNode)}),e.remove(a)};for(k=e.select('span[data-mce-type="bookmark"]',f),h=h||c.createNewTextBlock(a,g),i=e.createRng(),i.setStartAfter(g),i.setEndAfter(f),j=i.extractContents(),l=j.firstChild;l;l=l.firstChild)if("LI"===l.nodeName&&a.dom.isEmpty(l)){e.remove(l);break}a.dom.isEmpty(j)||e.insertAfter(j,f),e.insertAfter(h,f),b.isEmpty(a.dom,g.parentNode)&&m(g.parentNode),e.remove(g),b.isEmpty(a.dom,f)&&e.remove(f)};return{splitList:f}}),g("5",["b","c","8","e","9","f","g"],function(a,b,c,d,e,f,g){var h=a.DOM,i=function(a,b){c.isEmpty(a,b)&&h.remove(b)},j=function(a,b){var e,j=b.parentNode,k=j.parentNode;return j===a.getBody()||("DD"===b.nodeName?(h.rename(b,"DT"),!0):c.isFirstChild(b)&&c.isLastChild(b)?("LI"===k.nodeName?(h.insertAfter(b,k),i(a.dom,k),h.remove(j)):c.isListNode(k)?h.remove(j,!0):(k.insertBefore(g.createNewTextBlock(a,b),j),h.remove(j)),!0):c.isFirstChild(b)?("LI"===k.nodeName?(h.insertAfter(b,k),b.appendChild(j),i(a.dom,k)):c.isListNode(k)?k.insertBefore(b,j):(k.insertBefore(g.createNewTextBlock(a,b),j),h.remove(b)),!0):c.isLastChild(b)?("LI"===k.nodeName?h.insertAfter(b,k):c.isListNode(k)?h.insertAfter(b,j):(h.insertAfter(g.createNewTextBlock(a,b),j),h.remove(b)),!0):("LI"===k.nodeName?(j=k,e=g.createNewTextBlock(a,b,"LI")):e=c.isListNode(k)?g.createNewTextBlock(a,b,"LI"):g.createNewTextBlock(a,b),f.splitList(a,j,b,e),d.normalizeLists(a.dom,j.parentNode),!0))},k=function(a){var c=e.getSelectedListItems(a);if(c.length){var d,f,g=b.createBookmark(a.selection.getRng(!0)),h=a.getBody();for(d=c.length;d--;)for(var i=c[d].parentNode;i&&i!==h;){for(f=c.length;f--;)if(c[f]===i){c.splice(d,1);break}i=i.parentNode}for(d=0;d<c.length&&(j(a,c[d])||0!==d);d++);return a.selection.setRng(b.resolveBookmark(g)),a.nodeChanged(),!0}};return{outdent:j,outdentSelection:k}}),g("h",["a"],function(a){return a("tinymce.dom.BookmarkManager")}),g("6",["h","2","5","c","8","e","9","f"],function(a,b,c,d,e,f,g,h){var i=function(a,b,c){var d=c["list-style-type"]?c["list-style-type"]:null;a.setStyle(b,"list-style-type",d)},j=function(a,c){b.each(c,function(b,c){a.setAttribute(c,b)})},k=function(a,c,d){j(c,d["list-attributes"]),b.each(a.select("li",c),function(a){j(a,d["list-item-attributes"])})},l=function(a,b,c){i(a,b,c),k(a,b,c)},m=function(a,b,c){var d,f,g=a.getBody();for(d=b[c?"startContainer":"endContainer"],f=b[c?"startOffset":"endOffset"],1===d.nodeType&&(d=d.childNodes[Math.min(f,d.childNodes.length-1)]||d);d.parentNode!==g;){if(e.isTextBlock(a,d))return d;if(/^(TD|TH)$/.test(d.parentNode.nodeName))return d;d=d.parentNode}return d},n=function(c,d){for(var f,g=[],h=c.getBody(),i=c.dom,j=m(c,d,!0),k=m(c,d,!1),l=[],n=j;n&&(l.push(n),n!==k);n=n.nextSibling);return b.each(l,function(b){if(e.isTextBlock(c,b))return g.push(b),void(f=null);if(i.isBlock(b)||e.isBr(b))return e.isBr(b)&&i.remove(b),void(f=null);var d=b.nextSibling;return a.isBookmarkNode(b)&&(e.isTextBlock(c,d)||!d&&b.parentNode===h)?void(f=null):(f||(f=i.create("p"),b.parentNode.insertBefore(f,b),g.push(f)),void f.appendChild(b))}),g},o=function(a,c,f){var g,h=a.selection.getRng(!0),i="LI",j=a.dom;f=f?f:{},"false"!==j.getContentEditable(a.selection.getNode())&&(c=c.toUpperCase(),"DL"===c&&(i="DT"),g=d.createBookmark(h),b.each(n(a,h),function(b){var d,g,h=function(a){var b=j.getStyle(a,"list-style-type"),c=f?f["list-style-type"]:"";return c=null===c?"":c,b===c};g=b.previousSibling,g&&e.isListNode(g)&&g.nodeName===c&&h(g)?(d=g,b=j.rename(b,i),g.appendChild(b)):(d=j.create(c),b.parentNode.insertBefore(d,b),d.appendChild(b),b=j.rename(b,i)),l(j,d,f),u(a.dom,d)}),a.selection.setRng(d.resolveBookmark(g)))},p=function(a){var i=d.createBookmark(a.selection.getRng(!0)),j=a.getBody(),k=g.getSelectedListItems(a),l=b.grep(k,function(b){return a.dom.isEmpty(b)});k=b.grep(k,function(b){return!a.dom.isEmpty(b)}),b.each(l,function(b){if(e.isEmpty(a.dom,b))return void c.outdent(a,b)}),b.each(k,function(b){var c,d;if(b.parentNode!==a.getBody()){for(c=b;c&&c!==j;c=c.parentNode)e.isListNode(c)&&(d=c);h.splitList(a,d,b),f.normalizeLists(a.dom,d.parentNode)}}),a.selection.setRng(d.resolveBookmark(i))},q=function(a,b){return a&&b&&e.isListNode(a)&&a.nodeName===b.nodeName},r=function(a,b,c){var d=a.getStyle(b,"list-style-type",!0),e=a.getStyle(c,"list-style-type",!0);return d===e},s=function(a,b){return a.className===b.className},t=function(a,b,c){return q(b,c)&&r(a,b,c)&&s(b,c)},u=function(a,b){var c,d;if(c=b.nextSibling,t(a,b,c)){for(;d=c.firstChild;)b.appendChild(d);a.remove(c)}if(c=b.previousSibling,t(a,b,c)){for(;d=c.lastChild;)b.insertBefore(d,b.firstChild);a.remove(c)}},v=function(a,b,c,d){if(b.nodeName!==c){var e=a.rename(b,c);l(a,e,d)}else l(a,b,d)},w=function(a,c,e,f,g){if(c.nodeName!==f||x(g)){var h=d.createBookmark(a.selection.getRng(!0));b.each([c].concat(e),function(b){v(a.dom,b,f,g)}),a.selection.setRng(d.resolveBookmark(h))}else p(a,f)},x=function(a){return"list-style-type"in a},y=function(a,b,c,e){if(b!==a.getBody())if(b)if(b.nodeName!==c||x(e)){var f=d.createBookmark(a.selection.getRng(!0));l(a.dom,b,e),u(a.dom,a.dom.rename(b,c)),a.selection.setRng(d.resolveBookmark(f))}else p(a,c);else o(a,c,e)},z=function(a,b,c){var d=g.getParentList(a),e=g.getSelectedSubLists(a);c=c?c:{},d&&e.length>0?w(a,d,e,b,c):y(a,d,b,c)};return{toggleList:z,removeList:p,mergeWithAdjacentLists:u}}),g("j",["a"],function(a){return a("tinymce.dom.TreeWalker")}),g("7",["i","j","3","6","c","8","e","k","9"],function(a,b,c,d,e,f,g,h,i){var j=function(c,d,e){var g,h,i=d.startContainer,j=d.startOffset;if(3===i.nodeType&&(e?j<i.data.length:j>0))return i;for(g=c.schema.getNonEmptyElements(),1===i.nodeType&&(i=a.getNode(i,j)),h=new b(i,c.getBody()),e&&f.isBogusBr(c.dom,i)&&h.next();i=h[e?"next":"prev2"]();){if("LI"===i.nodeName&&!i.hasChildNodes())return i;if(g[i.nodeName])return i;if(3===i.nodeType&&i.data.length>0)return i}},k=function(a,b){var c=b.childNodes;return 1===c.length&&!f.isListNode(c[0])&&a.isBlock(c[0])},l=function(a,b){k(a,b)&&a.remove(b.firstChild,!0)},m=function(a,b,c){var d,e;if(e=k(a,c)?c.firstChild:c,l(a,b),!f.isEmpty(a,b,!0))for(;d=b.firstChild;)e.appendChild(d)},n=function(a,b,c){var d,e,g=b.parentNode;f.isChildOfBody(a,b)&&f.isChildOfBody(a,c)&&(f.isListNode(c.lastChild)&&(e=c.lastChild),g===c.lastChild&&f.isBr(g.previousSibling)&&a.remove(g.previousSibling),d=c.lastChild,d&&f.isBr(d)&&b.hasChildNodes()&&a.remove(d),f.isEmpty(a,c,!0)&&a.$(c).empty(),m(a,b,c),e&&c.appendChild(e),a.remove(b),f.isEmpty(a,g)&&g!==a.getRoot()&&a.remove(g))},o=function(a,b,c){a.dom.$(c).empty(),n(a.dom,b,c),a.selection.setCursorLocation(c)},p=function(a,b,c,d){var f=a.dom;if(f.isEmpty(d))o(a,c,d);else{var g=e.createBookmark(b);n(f,c,d),a.selection.setRng(e.resolveBookmark(g))}},q=function(a,b,c,d){var f=e.createBookmark(b);n(a.dom,c,d),a.selection.setRng(e.resolveBookmark(f))},r=function(a,b){var c,e,g,i=a.dom,k=a.selection,l=i.getParent(k.getStart(),"LI");if(l){if(c=l.parentNode,c===a.getBody()&&f.isEmpty(i,c))return!0;if(e=h.normalizeRange(k.getRng(!0)),g=i.getParent(j(a,e,b),"LI"),g&&g!==l)return b?p(a,e,g,l):q(a,e,l,g),!0;if(!g&&!b&&d.removeList(a,c.nodeName))return!0}return!1},s=function(a,b){var c=a.getParent(b.parentNode,a.isBlock);a.remove(b),c&&a.isEmpty(c)&&a.remove(c)},t=function(a,b){var c=a.dom,e=c.getParent(a.selection.getStart(),c.isBlock);if(e&&c.isEmpty(e)){var f=h.normalizeRange(a.selection.getRng(!0)),g=c.getParent(j(a,f,b),"LI");if(g)return a.undoManager.transact(function(){s(c,e),d.mergeWithAdjacentLists(c,g.parentNode),a.selection.select(g,!0),a.selection.collapse(b)}),!0}return!1},u=function(a,b){return r(a,b)||t(a,b)},v=function(a){var b=a.dom.getParent(a.selection.getStart(),"LI,DT,DD");return!!(b||i.getSelectedListItems(a).length>0)&&(a.undoManager.transact(function(){a.execCommand("Delete"),g.normalizeLists(a.dom,a.getBody())}),!0)},w=function(a,b){return a.selection.isCollapsed()?u(a,b):v(a)},x=function(a){a.on("keydown",function(b){b.keyCode===c.BACKSPACE?w(a,!1)&&b.preventDefault():b.keyCode===c.DELETE&&w(a,!0)&&b.preventDefault()})};return{setup:x,backspaceDelete:w}}),g("0",["1","2","3","4","5","6","7","8","9"],function(a,b,c,d,e,f,g,h,i){var j=function(a,b){return function(){var c=a.dom.getParent(a.selection.getStart(),"UL,OL,DL");return c&&c.nodeName===b}},k=function(a){a.on("BeforeExecCommand",function(b){var c,f=b.command.toLowerCase();if("indent"===f?d.indentSelection(a)&&(c=!0):"outdent"===f&&e.outdentSelection(a)&&(c=!0),c)return a.fire("ExecCommand",{command:b.command}),b.preventDefault(),!0}),a.addCommand("InsertUnorderedList",function(b,c){f.toggleList(a,"UL",c)}),a.addCommand("InsertOrderedList",function(b,c){f.toggleList(a,"OL",c)}),a.addCommand("InsertDefinitionList",function(b,c){f.toggleList(a,"DL",c)})},l=function(a){a.addQueryStateHandler("InsertUnorderedList",j(a,"UL")),a.addQueryStateHandler("InsertOrderedList",j(a,"OL")),a.addQueryStateHandler("InsertDefinitionList",j(a,"DL"))},m=function(a){a.on("keydown",function(b){9!==b.keyCode||c.metaKeyPressed(b)||a.dom.getParent(a.selection.getStart(),"LI,DT,DD")&&(b.preventDefault(),b.shiftKey?e.outdentSelection(a):d.indentSelection(a))})},n=function(a){var c=function(c){return function(){var d=this;a.on("NodeChange",function(a){var e=b.grep(a.parents,h.isListNode);d.active(e.length>0&&e[0].nodeName===c)})}},d=function(a,c){var d=a.settings.plugins?a.settings.plugins:"";return b.inArray(d.split(/[ ,]/),c)!==-1};d(a,"advlist")||(a.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:c("OL")}),a.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:c("UL")})),a.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(b){var c=b.control;a.on("nodechange",function(){var b=i.getSelectedListItems(a),d=b.length>0&&h.isFirstChild(b[0]);c.disabled(d)})}})};return a.add("lists",function(a){return n(a),g.setup(a),a.on("init",function(){k(a),l(a),a.getParam("lists_indent_on_tab",!0)&&m(a)}),{backspaceDelete:function(b){g.backspaceDelete(a,b)}}}),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("3",tinymce.util.Tools.resolve),g("1",["3"],function(a){return a("tinymce.PluginManager")}),g("2",["3"],function(a){return a("tinymce.util.Tools")}),g("0",["1","2"],function(a,b){return a.add("advlist",function(a){function c(b){return a.$.contains(a.getBody(),b)}function d(a){return a&&/^(OL|UL|DL)$/.test(a.nodeName)&&c(a)}function e(a,c){var d=[];return c&&b.each(c.split(/[ ,]/),function(a){d.push({text:a.replace(/\-/g," ").replace(/\b\w/g,function(a){return a.toUpperCase()}),data:"default"==a?"":a})}),d}function f(b,c){var d="UL"==b?"InsertUnorderedList":"InsertOrderedList";a.execCommand(d,!1,c===!1?null:{"list-style-type":c})}function g(b){var c=a.dom.getStyle(a.dom.getParent(a.selection.getNode(),"ol,ul"),"listStyleType")||"";b.control.items().each(function(a){a.active(a.settings.data===c)})}var h,i,j=function(a,c){var d=a.settings.plugins?a.settings.plugins:"";return b.inArray(d.split(/[ ,]/),c)!==-1};h=e("OL",a.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),i=e("UL",a.getParam("advlist_bullet_styles","default,circle,disc,square"));var k=function(c){return function(){var e=this;a.on("NodeChange",function(a){var f=b.grep(a.parents,d);e.active(f.length>0&&f[0].nodeName===c)})}};j(a,"lists")&&(a.addCommand("ApplyUnorderedListStyle",function(a,b){f("UL",b["list-style-type"])}),a.addCommand("ApplyOrderedListStyle",function(a,b){f("OL",b["list-style-type"])}),a.addButton("numlist",{type:h.length>0?"splitbutton":"button",tooltip:"Numbered list",menu:h,onPostRender:k("OL"),onshow:g,onselect:function(a){f("OL",a.control.settings.data)},onclick:function(){a.execCommand("InsertOrderedList")}}),a.addButton("bullist",{type:i.length>0?"splitbutton":"button",tooltip:"Bullet list",onPostRender:k("UL"),menu:i,onshow:g,onselect:function(a){f("UL",a.control.settings.data)},onclick:function(){a.execCommand("InsertUnorderedList")}}))}),function(){}}),d("0")()}();tinymce.PluginManager.add("attach",function(a,p){function c(){function c(){if(!h&&0===b.text.length&&k){var a=this.value();this.parent().parent().find("#text")[0].value(a.substring(a.lastIndexOf("/")+1))}}var b={},g=a.selection,f=a.dom,h;var n=g.getNode();var d=f.getParent(n,"a[href].attach");var k=function(a){var b=g.getContent();if(/</.test(b)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(b)||-1==b.indexOf("href=")))return!1;if(a){a=a.childNodes;if(0===a.length)return!1;for(b=a.length-1;0<=b;b--)if(3!=a[b].nodeType)return!1}return!0}();
b.text=h=d?d.innerText||d.textContent:g.getContent({format:"text"});b.href=d?f.getAttrib(d,"href"):"";a.windowManager.open({title:"Attach File",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"File/Link Url",onchange:function(a){(a.meta||{}).text||c.call(this)},onkeyup:c},{name:"text",type:"textbox",size:40,label:"Description",onchange:function(){b.text=this.value()}}],onSubmit:function(c){function m(b,d){var e=a.selection.getRng();tinymce.util.Delay.setEditorTimeout(a,
function(){a.windowManager.confirm(b,function(b){a.selection.setRng(e);d(b)})})}function l(){var c={href:e,target:"_blank","class":"attach",title:b.title?b.title:null};d?(a.focus(),k&&b.text!=h&&("innerText"in d?d.innerText=b.text:d.textContent=b.text),f.setAttribs(d,c),g.select(d),a.undoManager.add()):k?a.insertContent(f.createHTML("a",c,f.encode(b.text))):a.execCommand("mceInsertLink",!1,c)}var e;b=tinymce.extend(b,c.data);(e=b.href)?0<e.indexOf("@")&&-1==e.indexOf("//")&&-1==e.indexOf("mailto:")?
m("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(a){a&&(e="mailto:"+e);l()}):a.settings.link_assume_external_targets&&!/^\w+:/i.test(e)||!a.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(e)?m("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(a){a&&(e="http://"+e);l()}):l():a.execCommand("unlink")}})}a.addButton("attach",{icon:"attach",tooltip:"Attach File",onclick:c,
stateSelector:"a[href].attach"});a.addCommand("mceAttach",c);this.showDialog=c;a.addMenuItem("attach",{icon:"attach",text:"Attach File",onclick:c,stateSelector:"a[href].attach",context:"insert",prependToContext:!0})});
(function(){var n={},g=function(b,c,f){if("string"!==typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===f)throw"no definition function for "+b;n[b]={deps:c,defn:f,instance:void 0}},p=function(b){var c=n[b];if(void 0===c)throw"module ["+b+"] was undefined";if(void 0===c.instance){for(var f=n[b],k=f.deps,g=f.defn,l=k.length,h=Array(l),d=0;d<l;++d)h[d]=p(k[d]);k=g.apply(null,h);if(void 0===k)throw"module ["+b+"] returned undefined";f.instance=k}return c.instance};
(function(b,c){g(b,[],function(){return c})})("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);g("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.Env")});g("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(b){return b("tinymce.PluginManager")});g("tinymce.plugins.autolink.Plugin",["tinymce.core.Env","tinymce.core.PluginManager"],function(b,c){c.add("autolink",function(f){function c(h,d,b){function f(a,b){0>b&&(b=0);if(3==
a.nodeType){var c=a.data.length;b>c&&(b=c)}return b}function c(a,b){1!=a.nodeType||a.hasChildNodes()?e.setStart(a,f(a,b)):e.setStartBefore(a)}function g(a,b){1!=a.nodeType||a.hasChildNodes()?e.setEnd(a,f(a,b)):e.setEndAfter(a)}if("A"!=h.selection.getNode().tagName){var e=h.selection.getRng(!0).cloneRange();if(5>e.startOffset){var a=e.endContainer.previousSibling;if(!a){if(!e.endContainer.firstChild||!e.endContainer.firstChild.nextSibling)return;a=e.endContainer.firstChild.nextSibling}d=a.length;c(a,
d);g(a,d);if(5>e.endOffset)return;d=e.endOffset}else{a=e.endContainer;if(3!=a.nodeType&&a.firstChild){for(;3!=a.nodeType&&a.firstChild;)a=a.firstChild;3==a.nodeType&&(c(a,0),g(a,a.nodeValue.length))}d=1==e.endOffset?2:e.endOffset-1-d}var k=d;do{c(a,2<=d?d-2:0);g(a,1<=d?d-1:0);--d;var m=e.toString()}while(" "!=m&&""!==m&&160!=m.charCodeAt(0)&&0<=d-2&&m!=b);e.toString()==b||160==e.toString().charCodeAt(0)?(c(a,d),g(a,k),d+=1):(0===e.startOffset?c(a,0):c(a,d),g(a,k));b=e.toString();"."==b.charAt(b.length-
1)&&g(a,k-1);b=e.toString();if(a=b.match(l))"www."==a[1]?a[1]="http://www.":/@$/.test(a[1])&&!/^mailto:/.test(a[1])&&(a[1]="mailto:"+a[1]),b=h.selection.getBookmark(),h.selection.setRng(e),h.execCommand("createlink",!1,a[1]+a[2]),h.settings.default_link_target&&h.dom.setAttrib(h.selection.getNode(),"target",h.settings.default_link_target),h.selection.moveToBookmark(b),h.nodeChanged()}}var g,l=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i;f.settings.autolink_pattern&&
(l=f.settings.autolink_pattern);f.on("keydown",function(b){13==b.keyCode&&c(f,-1,"",!1)});if(b.ie)f.on("focus",function(){if(!g){g=!0;try{f.execCommand("AutoUrlDetect",!1,!0)}catch(h){}}});else f.on("keypress",function(b){41==b.keyCode&&c(f,-1,"(",!0)}),f.on("keyup",function(b){32==b.keyCode&&c(f,0,"",!0)})});return function(){}});p("tinymce.plugins.autolink.Plugin")()})();
!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("4",tinymce.util.Tools.resolve),g("1",["4"],function(a){return a("tinymce.PluginManager")}),g("2",["4"],function(a){return a("tinymce.util.Tools")}),g("5",["4"],function(a){return a("tinymce.Env")}),g("6",["4"],function(a){return a("tinymce.util.JSON")}),g("7",["4"],function(a){return a("tinymce.util.XHR")}),g("8",["4"],function(a){return a("tinymce.ui.Throbber")}),g("e",["4"],function(a){return a("tinymce.util.Promise")}),h("d",document),g("9",["e","2","d"],function(a,b,c){return function(c){function d(a,b){return a?a.replace(/\/$/,"")+"/"+b.replace(/^\//,""):b}function e(a,b,e,f){var g,h;g=new XMLHttpRequest,g.open("POST",c.url),g.withCredentials=c.credentials,g.upload.onprogress=function(a){f(a.loaded/a.total*100)},g.onerror=function(){e("Image upload failed due to a XHR Transport error. Code: "+g.status)},g.onload=function(){var a;return g.status<200||g.status>=300?void e("HTTP Error: "+g.status):(a=JSON.parse(g.responseText),a&&"string"==typeof a.location?void b(d(c.basePath,a.location)):void e("Invalid JSON: "+g.responseText))},h=new FormData,h.append("file",a.blob(),a.filename()),g.send(h)}function f(b,c){return new a(function(a,d){try{c(b,a,d,i)}catch(a){d(a.message)}})}function g(a){return a===e}function h(b){return!c.url&&g(c.handler)?a.reject("Upload url missng from the settings."):f(b,c.handler)}var i=function(){};return c=b.extend({credentials:!1,handler:e},c),{upload:h}}}),h("b",Math),g("a",["2","b","d"],function(a,b,c){var d=function(a,d){function e(a,b){f.parentNode&&f.parentNode.removeChild(f),d({width:a,height:b})}var f=c.createElement("img");f.onload=function(){e(b.max(f.width,f.clientWidth),b.max(f.height,f.clientHeight))},f.onerror=function(){e()};var g=f.style;g.visibility="hidden",g.position="fixed",g.bottom=g.left=0,g.width=g.height="auto",c.body.appendChild(f),f.src=a},e=function(b,c,d){function e(b,d){return d=d||[],a.each(b,function(a){var b={text:a.text||a.title};a.menu?b.menu=e(a.menu):(b.value=a.value,c(b)),d.push(b)}),d}return e(b,d||[])},f=function(a){return a&&(a=a.replace(/px$/,"")),a},g=function(a){return a.length>0&&/^[0-9]+$/.test(a)&&(a+="px"),a},h=function(a){if(a.margin){var b=a.margin.split(" ");switch(b.length){case 1:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[0],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[0];break;case 2:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[1];break;case 3:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[1];break;case 4:a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[3]}delete a.margin}return a};return{getImageSize:d,buildListItems:e,removePixelSuffix:f,addPixelSuffix:g,mergeMargins:h}}),h("c",RegExp),g("3",["5","6","2","7","8","9","a","b","c","d"],function(a,b,c,d,e,f,g,h,i,j){return function(j){function k(a){var c=j.settings.image_list;"string"==typeof c?d.send({url:c,success:function(c){a(b.parse(c))}}):"function"==typeof c?c(a):a(c)}function l(b){function d(){var a=new e(s.getEl()),b=this.value(),c=new f({url:B.images_upload_url,basePath:B.images_upload_base_path,credentials:B.images_upload_credentials,handler:B.images_upload_handler}),d=j.editorUpload.blobCache.create({blob:b,name:b.name?b.name.replace(/\.[^\.]+$/,""):null,base64:"data:image/fake;base64,="}),g=function(){a.hide(),URL.revokeObjectURL(d.blobUri())};return a.show(),c.upload(d).then(function(a){var b=s.find("#src");return b.value(a),s.find("tabpanel")[0].activateTab(0),b.fire("change"),g(),a},function(a){j.windowManager.alert(a),g()})}function k(a){return j.schema.getTextBlockElements()[a.nodeName]}function l(){var a,b,c,d;a=s.find("#width")[0],b=s.find("#height")[0],a&&b&&(c=a.value(),d=b.value(),s.find("#constrain")[0].checked()&&v&&w&&c&&d&&(v!=c?(d=h.round(c/v*d),isNaN(d)||b.value(d)):(c=h.round(d/w*c),isNaN(c)||a.value(c))),v=c,w=d)}function m(){if(j.settings.image_advtab){var a=s.toJSON(),b=A.parseStyle(a.style);b=g.mergeMargins(b),a.vspace&&(b["margin-top"]=b["margin-bottom"]=g.addPixelSuffix(a.vspace)),a.hspace&&(b["margin-left"]=b["margin-right"]=g.addPixelSuffix(a.hspace)),a.border&&(b["border-width"]=g.addPixelSuffix(a.border)),s.find("#style").value(A.serializeStyle(A.parseStyle(A.serializeStyle(b))))}}function n(){if(j.settings.image_advtab){var a=s.toJSON(),b=A.parseStyle(a.style);s.find("#vspace").value(""),s.find("#hspace").value(""),b=g.mergeMargins(b),(b["margin-top"]&&b["margin-bottom"]||b["margin-right"]&&b["margin-left"])&&(b["margin-top"]===b["margin-bottom"]?s.find("#vspace").value(g.removePixelSuffix(b["margin-top"])):s.find("#vspace").value(""),b["margin-right"]===b["margin-left"]?s.find("#hspace").value(g.removePixelSuffix(b["margin-right"])):s.find("#hspace").value("")),b["border-width"]&&s.find("#border").value(g.removePixelSuffix(b["border-width"])),s.find("#style").value(A.serializeStyle(A.parseStyle(A.serializeStyle(b))))}}function o(a){function b(){a.onload=a.onerror=null,j.selection&&(j.selection.select(a),j.nodeChanged())}a.onload=function(){z.width||z.height||!C||A.setAttribs(a,{width:a.clientWidth,height:a.clientHeight}),b()},a.onerror=b}function p(){var a,b;m(),l(),z=c.extend(z,s.toJSON()),z.alt||(z.alt=""),z.title||(z.title=""),""===z.width&&(z.width=null),""===z.height&&(z.height=null),z.style||(z.style=null),z={src:z.src,alt:z.alt,title:z.title,width:z.width,height:z.height,style:z.style,caption:z.caption,"class":z["class"]},j.undoManager.transact(function(){if(!z.src)return void(t&&(A.remove(t),j.focus(),j.nodeChanged()));if(""===z.title&&(z.title=null),t?A.setAttribs(t,z):(z.id="__mcenew",j.focus(),j.selection.setContent(A.createHTML("img",z)),t=A.get("__mcenew"),A.setAttrib(t,"id",null)),j.editorUpload.uploadImagesAuto(),z.caption===!1&&A.is(t.parentNode,"figure.image")&&(a=t.parentNode,A.insertAfter(t,a),A.remove(a)),z.caption!==!0)o(t);else if(!A.is(t.parentNode,"figure.image")){b=t,t=t.cloneNode(!0),a=A.create("figure",{"class":"image"}),a.appendChild(t),a.appendChild(A.create("figcaption",{contentEditable:!0},"Caption")),a.contentEditable=!1;var c=A.getParent(b,k);c?A.split(c,b,a):A.replace(a,b),j.selection.select(a)}})}function q(a){var b,d,e,f=a.meta||{};x&&x.value(j.convertURL(this.value(),"src")),c.each(f,function(a,b){s.find("#"+b).value(a)}),f.width||f.height||(b=j.convertURL(this.value(),"src"),d=j.settings.image_prepend_url,e=new i("^(?:[a-z]+:)?//","i"),d&&!e.test(b)&&b.substring(0,d.length)!==d&&(b=d+b),this.value(b),g.getImageSize(j.documentBaseURI.toAbsolute(this.value()),function(a){a.width&&a.height&&C&&(v=a.width,w=a.height,s.find("#width").value(v),s.find("#height").value(w))}))}function r(a){a.meta=s.toJSON()}var s,t,u,v,w,x,y,z={},A=j.dom,B=j.settings,C=B.image_dimensions!==!1;t=j.selection.getNode(),u=A.getParent(t,"figure.image"),u&&(t=A.select("img",u)[0]),t&&("IMG"!=t.nodeName||t.getAttribute("data-mce-object")||t.getAttribute("data-mce-placeholder"))&&(t=null),t&&(v=A.getAttrib(t,"width"),w=A.getAttrib(t,"height"),z={src:A.getAttrib(t,"src"),alt:A.getAttrib(t,"alt"),title:A.getAttrib(t,"title"),"class":A.getAttrib(t,"class"),width:v,height:w,caption:!!u}),b&&(x={type:"listbox",label:"Image list",values:g.buildListItems(b,function(a){a.value=j.convertURL(a.value||a.url,"src")},[{text:"None",value:""}]),value:z.src&&j.convertURL(z.src,"src"),onselect:function(a){var b=s.find("#alt");(!b.value()||a.lastControl&&b.value()==a.lastControl.text())&&b.value(a.control.text()),s.find("#src").value(a.control.value()).fire("change")},onPostRender:function(){x=this}}),j.settings.image_class_list&&(y={name:"class",type:"listbox",label:"Class",values:g.buildListItems(j.settings.image_class_list,function(a){a.value&&(a.textStyle=function(){return j.formatter.getCssText({inline:"img",classes:[a.value]})})})});var D=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:q,onbeforecall:r},x];if(j.settings.image_description!==!1&&D.push({name:"alt",type:"textbox",label:"Image description"}),j.settings.image_title&&D.push({name:"title",type:"textbox",label:"Image Title"}),C&&D.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:l,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:l,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),D.push(y),j.settings.image_caption&&a.ceFalse&&D.push({name:"caption",type:"checkbox",label:"Caption"}),j.settings.image_advtab||j.settings.images_upload_url){var E=[{title:"General",type:"form",items:D}];if(j.settings.image_advtab&&(t&&(t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight&&(z.hspace=g.removePixelSuffix(t.style.marginLeft)),t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom&&(z.vspace=g.removePixelSuffix(t.style.marginTop)),t.style.borderWidth&&(z.border=g.removePixelSuffix(t.style.borderWidth)),z.style=j.dom.serializeStyle(j.dom.parseStyle(j.dom.getAttrib(t,"style")))),E.push({title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:n},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:m},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]})),j.settings.images_upload_url){var F=".jpg,.jpeg,.png,.gif",G={title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:F,onchange:d},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:F,height:100,onchange:d}]};E.push(G)}s=j.windowManager.open({title:"Insert/edit image",data:z,bodyType:"tabpanel",body:E,onSubmit:p})}else s=j.windowManager.open({title:"Insert/edit image",data:z,body:D,onSubmit:p})}function m(){k(l)}return{open:m}}}),g("0",["1","2","3"],function(a,b,c){return a.add("image",function(a){a.on("preInit",function(){function c(a){var b=a.attr("class");return b&&/\bimage\b/.test(b)}function d(a){return function(d){function e(b){b.attr("contenteditable",a?"true":null)}for(var f,g=d.length;g--;)f=d[g],c(f)&&(f.attr("contenteditable",a?"false":null),b.each(f.getAll("figcaption"),e))}}a.parser.addNodeFilter("figure",d(!0)),a.serializer.addNodeFilter("figure",d(!1))}),a.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:c(a).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),a.addMenuItem("image",{icon:"image",text:"Image",onclick:c(a).open,context:"insert",prependToContext:!0}),a.addCommand("mceImage",c(a).open)}),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("3",tinymce.util.Tools.resolve),g("1",["3"],function(a){return a("tinymce.PluginManager")}),g("2",["3"],function(a){return a("tinymce.util.Tools")}),g("0",["1","2"],function(a,b){return a.add("charmap",function(a){function c(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]}function d(a){return b.grep(a,function(a){return j(a)&&2==a.length})}function e(a){return j(a)?[].concat(d(a)):"function"==typeof a?a():[]}function f(b){var c=a.settings;return c.charmap&&(b=e(c.charmap)),c.charmap_append?[].concat(b).concat(e(c.charmap_append)):b}function g(){return f(c())}function h(b){a.fire("insertCustomChar",{chr:b}).chr,a.execCommand("mceInsertContent",!1,b)}function i(){function b(a){for(;a;){if("TD"==a.nodeName)return a;a=a.parentNode}}var c,d,e,f;c='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var i=g(),j=Math.min(i.length,25),k=Math.ceil(i.length/j);for(e=0;e<k;e++){for(c+="<tr>",d=0;d<j;d++){var l=e*j+d;if(l<i.length){var m=i[l],n=m?String.fromCharCode(parseInt(m[0],10)):"&nbsp;";c+='<td title="'+m[1]+'"><div tabindex="-1" title="'+m[1]+'" role="button" data-chr="'+n+'">'+n+"</div></td>"}else c+="<td />"}c+="</tr>"}c+="</tbody></table>";var o={type:"container",html:c,onclick:function(a){var c=a.target;if(/^(TD|DIV)$/.test(c.nodeName)){var d=b(c).firstChild;d&&d.hasAttribute("data-chr")&&(h(d.getAttribute("data-chr")),a.ctrlKey||f.close())}},onmouseover:function(a){var c=b(a.target);c&&c.firstChild?(f.find("#preview").text(c.firstChild.firstChild.data),f.find("#previewTitle").text(c.title)):(f.find("#preview").text(" "),f.find("#previewTitle").text(" "))}};f=a.windowManager.open({title:"Special character",spacing:10,padding:10,items:[o,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){f.close()}}]})}var j=b.isArray;return a.addCommand("mceShowCharmap",i),a.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),a.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"}),{getCharMap:g,insertChar:h}}),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("3",tinymce.util.Tools.resolve),g("1",["3"],function(a){return a("tinymce.Env")}),g("2",["3"],function(a){return a("tinymce.PluginManager")}),g("0",["1","2"],function(a,b){return b.add("anchor",function(b){var c=function(a){return!a.attr("href")&&(a.attr("id")||a.attr("name"))&&!a.firstChild},d=function(a){return function(b){for(var d=0;d<b.length;d++)c(b[d])&&b[d].attr("contenteditable",a)}},e=function(a){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(a)},f=function(){var a=b.selection.getNode(),c="A"==a.tagName&&""===b.dom.getAttrib(a,"href"),d="";c&&(d=a.id||a.name||""),b.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:d},onsubmit:function(d){var f=d.data.id;return e(f)?void(c?(a.removeAttribute("name"),a.id=f):(b.selection.collapse(!0),b.execCommand("mceInsertContent",!1,b.dom.createHTML("a",{id:f})))):(d.preventDefault(),void b.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."))}})};a.ceFalse&&b.on("PreInit",function(){b.parser.addNodeFilter("a",d("false")),b.serializer.addNodeFilter("a",d(null))}),b.addCommand("mceAnchor",f),b.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:f,stateSelector:"a:not([href])"}),b.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:f})}),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("4",tinymce.util.Tools.resolve),g("1",["4"],function(a){return a("tinymce.PluginManager")}),g("2",["4"],function(a){return a("tinymce.util.Tools")}),g("3",[],function(){function a(a){return a&&1==a.nodeType&&"false"===a.contentEditable}function b(b,c,d,e,f){function g(a,b){if(b=b||0,!a[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var c=a.index;if(b>0){var d=a[b];if(!d)throw"Invalid capture group";c+=a[0].indexOf(d),a[0]=d}return[c,c+a[0].length,[a[0]]]}function h(b){var c;if(3===b.nodeType)return b.data;if(o[b.nodeName]&&!n[b.nodeName])return"";if(c="",a(b))return"\n";if((n[b.nodeName]||p[b.nodeName])&&(c+="\n"),b=b.firstChild)do c+=h(b);while(b=b.nextSibling);return c}function i(b,c,d){var e,f,g,h,i=[],j=0,k=b,l=c.shift(),m=0;a:for(;;){if((n[k.nodeName]||p[k.nodeName]||a(k))&&j++,3===k.nodeType&&(!f&&k.length+j>=l[1]?(f=k,h=l[1]-j):e&&i.push(k),!e&&k.length+j>l[0]&&(e=k,g=l[0]-j),j+=k.length),e&&f){if(k=d({startNode:e,startNodeIndex:g,endNode:f,endNodeIndex:h,innerNodes:i,match:l[2],matchIndex:m}),j-=f.length-h,e=null,f=null,i=[],l=c.shift(),m++,!l)break}else if(o[k.nodeName]&&!n[k.nodeName]||!k.firstChild){if(k.nextSibling){k=k.nextSibling;continue}}else if(!a(k)){k=k.firstChild;continue}for(;;){if(k.nextSibling){k=k.nextSibling;break}if(k.parentNode===b)break a;k=k.parentNode}}}function j(a){var b;if("function"!=typeof a){var c=a.nodeType?a:m.createElement(a);b=function(a,b){var d=c.cloneNode(!1);return d.setAttribute("data-mce-index",b),a&&d.appendChild(m.createTextNode(a)),d}}else b=a;return function(a){var c,d,e,f=a.startNode,g=a.endNode,h=a.matchIndex;if(f===g){var i=f;e=i.parentNode,a.startNodeIndex>0&&(c=m.createTextNode(i.data.substring(0,a.startNodeIndex)),e.insertBefore(c,i));var j=b(a.match[0],h);return e.insertBefore(j,i),a.endNodeIndex<i.length&&(d=m.createTextNode(i.data.substring(a.endNodeIndex)),e.insertBefore(d,i)),i.parentNode.removeChild(i),j}c=m.createTextNode(f.data.substring(0,a.startNodeIndex)),d=m.createTextNode(g.data.substring(a.endNodeIndex));for(var k=b(f.data.substring(a.startNodeIndex),h),l=[],n=0,o=a.innerNodes.length;n<o;++n){var p=a.innerNodes[n],q=b(p.data,h);p.parentNode.replaceChild(q,p),l.push(q)}var r=b(g.data.substring(0,a.endNodeIndex),h);return e=f.parentNode,e.insertBefore(c,f),e.insertBefore(k,f),e.removeChild(f),e=g.parentNode,e.insertBefore(r,g),e.insertBefore(d,g),e.removeChild(g),r}}var k,l,m,n,o,p,q=[],r=0;if(m=c.ownerDocument,n=f.getBlockElements(),o=f.getWhiteSpaceElements(),p=f.getShortEndedElements(),l=h(c)){if(b.global)for(;k=b.exec(l);)q.push(g(k,e));else k=l.match(b),q.push(g(k,e));return q.length&&(r=q.length,i(c,q,j(d))),r}}return{findAndReplaceDOMText:b}}),g("0",["1","2","3"],function(a,b,c){function d(a){function d(){function c(){g.statusbar.find("#next").disabled(!h(m+1).length),g.statusbar.find("#prev").disabled(!h(m-1).length)}function d(){a.windowManager.alert("Could not find the specified string.",function(){g.find("#find")[0].focus()})}var e,f={};e=b.trim(a.selection.getContent({format:"text"}));var g=a.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){a.focus(),l.done()},onSubmit:function(a){var b,e,i,j;return a.preventDefault(),e=g.find("#case").checked(),j=g.find("#words").checked(),i=g.find("#find").value(),i.length?f.text==i&&f.caseState==e&&f.wholeWord==j?0===h(m+1).length?void d():(l.next(),void c()):(b=l.find(i,e,j),b||d(),g.statusbar.items().slice(1).disabled(0===b),c(),void(f={text:i,caseState:e,wholeWord:j})):(l.done(!1),void g.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){g.submit()}},{text:"Replace",disabled:!0,onclick:function(){l.replace(g.find("#replace").value())||(g.statusbar.items().slice(1).disabled(!0),m=-1,f={})}},{text:"Replace all",disabled:!0,onclick:function(){l.replace(g.find("#replace").value(),!0,!0),g.statusbar.items().slice(1).disabled(!0),f={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){l.prev(),c()}},{text:"Next",name:"next",disabled:!0,onclick:function(){l.next(),c()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:e},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})}function e(a){var b=a.getAttribute("data-mce-index");return"number"==typeof b?""+b:b}function f(b){var d,e;return e=a.dom.create("span",{"data-mce-bogus":1}),e.className="mce-match-marker",d=a.getBody(),l.done(!1),c.findAndReplaceDOMText(b,d,e,!1,a.schema)}function g(a){var b=a.parentNode;a.firstChild&&b.insertBefore(a.firstChild,a),a.parentNode.removeChild(a)}function h(c){var d,f=[];if(d=b.toArray(a.getBody().getElementsByTagName("span")),d.length)for(var g=0;g<d.length;g++){var h=e(d[g]);null!==h&&h.length&&h===c.toString()&&f.push(d[g])}return f}function i(b){var c=m,d=a.dom;b=b!==!1,b?c++:c--,d.removeClass(h(m),"mce-match-marker-selected");var e=h(c);return e.length?(d.addClass(h(c),"mce-match-marker-selected"),a.selection.scrollIntoView(e[0]),c):-1}function j(b){var c=a.dom,d=b.parentNode;c.remove(b),c.isEmpty(d)&&c.remove(d)}function k(a){var b=e(a);return null!==b&&b.length>0}var l=this,m=-1;l.init=function(a){a.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:d,separator:"before",context:"edit"}),a.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:d}),a.addCommand("SearchReplace",d),a.shortcuts.add("Meta+F","",d)},l.find=function(a,b,c){a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),a=a.replace(/\s/g,"\\s"),a=c?"\\b"+a+"\\b":a;var d=f(new RegExp(a,b?"g":"gi"));return d&&(m=-1,m=i(!0)),d},l.next=function(){var a=i(!0);a!==-1&&(m=a)},l.prev=function(){var a=i(!1);a!==-1&&(m=a)},l.replace=function(c,d,f){var i,n,o,p,q,r,s=m;for(d=d!==!1,o=a.getBody(),n=b.grep(b.toArray(o.getElementsByTagName("span")),k),i=0;i<n.length;i++){var t=e(n[i]);if(p=q=parseInt(t,10),f||p===m){for(c.length?(n[i].firstChild.nodeValue=c,g(n[i])):j(n[i]);n[++i];){if(p=parseInt(e(n[i]),10),p!==q){i--;break}j(n[i])}d&&s--}else q>m&&n[i].setAttribute("data-mce-index",q-1)}return a.undoManager.add(),m=s,d?(r=h(s+1).length>0,l.next()):(r=h(s-1).length>0,l.prev()),!f&&r},l.done=function(c){var d,f,h,i;for(f=b.toArray(a.getBody().getElementsByTagName("span")),d=0;d<f.length;d++){var j=e(f[d]);null!==j&&j.length&&(j===m.toString()&&(h||(h=f[d].firstChild),i=f[d].firstChild),g(f[d]))}if(h&&i){var k=a.dom.createRng();return k.setStart(h,0),k.setEnd(i,i.data.length),c!==!1&&a.selection.setRng(k),k}}}return a.add("searchreplace",d),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("3",tinymce.util.Tools.resolve),g("1",["3"],function(a){return a("tinymce.dom.DOMUtils")}),g("2",["3"],function(a){return a("tinymce.PluginManager")}),g("0",["1","2"],function(a,b){return b.add("code",function(b){function c(){var c=b.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:b.getParam("code_dialog_width",600),minHeight:b.getParam("code_dialog_height",Math.min(a.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(a){b.focus(),b.undoManager.transact(function(){b.setContent(a.data.code)}),b.selection.setCursorLocation(),b.nodeChanged()}});c.find("#code").value(b.getContent({source_view:!0}))}b.addCommand("mceCodeEditor",c),b.addButton("code",{icon:"code",tooltip:"Source code",onclick:c}),b.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:c})}),function(){}}),d("0")()}();(function(){var r={},d=function(a,h,c){if("string"!==typeof a)throw"module id must be a string";if(void 0===h)throw"no dependencies for "+a;if(void 0===c)throw"no definition function for "+a;r[a]={deps:h,defn:c,instance:void 0}},u=function(a){var h=r[a];if(void 0===h)throw"module ["+a+"] was undefined";if(void 0===h.instance){for(var c=r[a],f=c.deps,n=c.defn,d=f.length,k=Array(d),b=0;b<d;++b)k[b]=u(f[b]);f=n.apply(null,k);if(void 0===f)throw"module ["+a+"] returned undefined";c.instance=f}return h.instance},
v=function(a,h){d(a,[],function(){return h})};v("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);d("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});d("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.VK")});d("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Delay")});d("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],
function(a){return a("tinymce.util.Tools")});d("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.XHR")});d("tinymce.plugins.link.core.Settings",[],function(){return{assumeExternalTargets:function(a){return"boolean"===typeof a.link_assume_external_targets?a.link_assume_external_targets:!1},hasContextToolbar:function(a){return"boolean"===typeof a.link_context_toolbar?a.link_context_toolbar:!1},getLinkList:function(a){return a.link_list},hasDefaultLinkTarget:function(a){return"string"===
typeof a.default_link_target},getDefaultLinkTarget:function(a){return a.default_link_target},getTargetList:function(a){return a.target_list},setTargetList:function(a,h){a.settings.target_list=h},shouldShowTargetList:function(a){return!1!==a.target_list},getRelList:function(a){return a.rel_list},hasRelList:function(a){return void 0!==a.rel_list},getLinkClassList:function(a){return a.link_class_list},hasLinkClassList:function(a){return void 0!==a.link_class_list},shouldShowLinkTitle:function(a){return!1!==
a.link_title},allowUnsafeLinkTarget:function(a){return"boolean"===typeof a.allow_unsafe_link_target?a.allow_unsafe_link_target:!1}}});v("global!RegExp",RegExp);d("tinymce.plugins.link.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.link.core.Settings","global!RegExp"],function(a,h,c){var f=function(b,l){var e=function(b){return(b=g(b))?[b,"noopener noreferrer"].join(" "):"noopener noreferrer"},g=function(b){var l=new c("("+"noopener noreferrer".replace(" ","|")+")","g");b&&(b=a.trim(b.replace(l,
"")));return b?b:null};return l?e(b):g(b)},n=function(b,a){a=a||b.selection.getStart();return k(a)?b.dom.select("a[href]",a)[0]:b.dom.getParent(a,"a[href]")},d=function(b){return b&&"A"===b.nodeName&&b.href},k=function(b){return b&&"FIGURE"===b.nodeName&&/\bimage\b/i.test(b.className)};return{link:function(b,a){return function(e){b.undoManager.transact(function(){var g=b.selection.getNode(),l=n(b,g),c={href:e.href,target:e.target?e.target:null,rel:e.rel?e.rel:null,"class":e["class"]?e["class"]:null,
title:e.title?e.title:null};!1===h.allowUnsafeLinkTarget(b.settings)&&(c.rel=f(c.rel,"_blank"==c.target));e.href===a.href&&(a.attach(),a={});if(l)b.focus(),e.hasOwnProperty("text")&&("innerText"in l?l.innerText=e.text:l.textContent=e.text),b.dom.setAttribs(l,c),b.selection.select(l),b.undoManager.add();else if(k(g)){if(g=b.dom.select("img",g)[0])c=b.dom.create("a",c),g.parentNode.insertBefore(c,g),c.appendChild(g)}else e.hasOwnProperty("text")?b.insertContent(b.dom.createHTML("a",c,b.dom.encode(e.text))):
b.execCommand("mceInsertLink",!1,c)})}},unlink:function(b){return function(){b.undoManager.transact(function(){var a=b.selection.getNode();if(k(a)){var c;if(c=b.dom.select("img",a)[0])if(a=b.dom.getParents(c,"a[href]",a)[0])a.parentNode.insertBefore(c,a),b.dom.remove(a)}else b.execCommand("unlink")})}},isLink:d,hasLinks:function(b){return 0<a.grep(b,d).length},isOnlyTextSelected:function(b){return!/</.test(b)||/^<a [^>]+>[^<]+<\/a>$/.test(b)&&-1!=b.indexOf("href=")?!0:!1},getAnchorElement:n,getAnchorText:function(b,
a){return(a?a.innerText||a.textContent:b.getContent({format:"text"})).replace(/\uFEFF/g,"")}}});d("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(a,h,c,f,d){var n={},k=function(a,b){var g=d.getLinkList(a.settings);"string"==typeof g?c.send({url:g,success:function(c){b(a,JSON.parse(c))}}):"function"==typeof g?g(function(c){b(a,c)}):b(a,g)},b=function(a,b,c){var g=
function(a,c){c=c||[];h.each(a,function(a){var e={text:a.text||a.title};a.menu?e.menu=g(a.menu):(e.value=a.value,b&&b(e));c.push(e)});return c};return g(a,c||[])},l=function(b,c,e){var g=b.selection.getRng();a.setEditorTimeout(b,function(){b.windowManager.confirm(c,function(a){b.selection.setRng(g);e(a)})})},e=function(a,c){var e={},g=a.dom,k,r,w,z,u,v,t,A=function(a){var b=x.find("#text");(!b.value()||a.lastControl&&b.value()==a.lastControl.text())&&b.value(a.control.text());x.find("#href").value(a.control.value())},
B=function(){k||!y||e.text||this.parent().parent().find("#text")[0].value(this.value())};var y=f.isOnlyTextSelected(a.selection.getContent());var m=f.getAnchorElement(a);e.text=k=f.getAnchorText(a.selection,m);e.href=m?g.getAttrib(m,"href"):"";m?e.target=g.getAttrib(m,"target"):d.hasDefaultLinkTarget(a.settings)&&(e.target=d.getDefaultLinkTarget(a.settings));if(t=g.getAttrib(m,"rel"))e.rel=t;if(t=g.getAttrib(m,"class"))e["class"]=t;if(t=g.getAttrib(m,"title"))e.title=t;y&&(r={name:"text",type:"textbox",
size:40,label:"Text to display",onchange:function(){e.text=this.value()}});c&&(w={type:"listbox",label:"Link list",values:b(c,function(b){b.value=a.convertURL(b.value||b.url,"href")},[{text:"None",value:""}]),onselect:A,value:a.convertURL(e.href,"href"),onPostRender:function(){w=this}});if(d.shouldShowTargetList(a.settings)){void 0===d.getTargetList(a.settings)&&d.setTargetList(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]);var C={name:"target",type:"listbox",label:"Target",values:b(d.getTargetList(a.settings))}}d.hasRelList(a.settings)&&
(z={name:"rel",type:"listbox",label:"Rel",values:b(d.getRelList(a.settings))});d.hasLinkClassList(a.settings)&&(u={name:"class",type:"listbox",label:"Class",values:b(d.getLinkClassList(a.settings),function(b){b.value&&(b.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[b.value]})})})});d.shouldShowLinkTitle(a.settings)&&(v={name:"title",type:"textbox",label:"Title",value:e.title});var x=a.windowManager.open({title:"Insert link",data:e,body:[{name:"href",type:"filepicker",filetype:"file",
size:40,autofocus:!0,label:"Url",onchange:function(b){var c=b.meta||{};w&&w.value(a.convertURL(this.value(),"href"));h.each(b.meta,function(a,b){var c=x.find("#"+b);"text"===b?0===k.length&&(c.value(a),e.text=a):c.value(a)});c.attach&&(n={href:this.value(),attach:c.attach});c.text||B.call(this)},onkeyup:B,onbeforecall:function(a){a.meta=x.toJSON()}},r,v,function(b){var c=[];h.each(a.dom.select("a:not([href])"),function(a){(a=a.name||a.id)&&c.push({text:a,value:"#"+a,selected:-1!=b.indexOf("#"+a)})});
if(c.length)return c.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:c,onselect:A}}(e.href),w,z,C,u],onSubmit:function(b){var c=d.assumeExternalTargets(a.settings),g=f.link(a,n),m=f.unlink(a),p=h.extend({},e,b.data),q=p.href;q?(y&&p.text!==k||delete p.text,0<q.indexOf("@")&&-1==q.indexOf("//")&&-1==q.indexOf("mailto:")?l(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(a){a&&(p.href="mailto:"+q);g(p)}):
!0===c&&!/^\w+:/i.test(q)||!1===c&&/^\s*www[\.|\d\.]/i.test(q)?l(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(a){a&&(p.href="http://"+q);g(p)}):g(p)):m()}})};return{open:function(a){k(a,e)}}});d("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});d("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.Env")});d("tinymce.plugins.link.core.OpenUrl",
["tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(a,d){return{open:function(c){if(!d.ie||10<d.ie){var f=document.createElement("a");f.target="_blank";f.href=c;f.rel="noreferrer noopener";c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);document.body.appendChild(f);f.dispatchEvent(c);document.body.removeChild(f)}else if(f=window.open("","_blank"))f.opener=null,f=f.document,f.open(),f.write('<meta http-equiv="refresh" content="0; url='+
a.DOM.encode(c)+'">'),f.close()}}});d("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.ui.Dialog","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(a,d,c,f,n){var h=function(a,c){return a.dom.getParent(c,"a[href]")},k=function(a,f){if(f){var b=(b=f.getAttribute("data-mce-href"))?b:f.getAttribute("href");/^#/.test(b)?(b=a.$(b),b.length&&a.selection.scrollIntoView(b[0],!0)):c.open(f.href)}};return{openDialog:function(a){return function(){d.open(a)}},
gotoSelectedLink:function(a){return function(){k(a,h(a,a.selection.getStart()))}},leftClickedOnAHref:function(a){return function(b){var c;if(c=n.hasContextToolbar(a.settings))c=a.plugins.contextmenu,c=!(c&&c.isContextMenuVisible());if(c&&f.isLink(b)){b=a.selection;c=b.getRng();var d=c.startContainer;if(3==d.nodeType&&b.isCollapsed()&&0<c.startOffset&&c.startOffset<d.data.length)return!0}return!1}},setupGotoLinks:function(b){b.on("click",function(c){var e=h(b,c.target);e&&a.metaKeyPressed(c)&&(c.preventDefault(),
k(b,e))});b.on("keydown",function(a){var c=h(b,b.selection.getStart());c&&13===a.keyCode&&!0===a.altKey&&!1===a.shiftKey&&!1===a.ctrlKey&&!1===a.metaKey&&(a.preventDefault(),k(b,c))})},toggleActiveState:function(a){return function(){var b=this;a.on("nodechange",function(c){b.active(!a.readonly&&!!f.getAnchorElement(a,c.element))})}},toggleViewLinkState:function(a){return function(){var b=this,c=function(a){f.hasLinks(a.parents)?b.show():b.hide()};f.hasLinks(a.dom.getParents(a.selection.getStart()))||
b.hide();a.on("nodechange",c);b.on("remove",function(){a.off("nodechange",c)})}}}});d("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(a,d){return{setupButtons:function(c){c.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:a.openDialog(c),onpostrender:a.toggleActiveState(c)});c.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:d.unlink(c),onpostrender:a.toggleActiveState(c)});c.addContextToolbar&&
c.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:a.gotoSelectedLink(c)})},setupMenuItems:function(c){c.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:a.gotoSelectedLink(c),onPostRender:a.toggleViewLinkState(c),prependToContext:!0});c.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:a.openDialog(c),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(c){c.addContextToolbar&&c.addContextToolbar(a.leftClickedOnAHref(c),
"openlink | link unlink")}}});d("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.core.Actions","tinymce.plugins.link.ui.Controls"],function(a,d,c){a.add("link",function(a){c.setupButtons(a);c.setupMenuItems(a);c.setupContextToolbars(a);d.setupGotoLinks(a);a.addShortcut("Meta+K","",d.openDialog(a));a.addCommand("mceLink",d.openDialog(a))});return function(){}});u("tinymce.plugins.link.Plugin")()})();
!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("5",tinymce.util.Tools.resolve),g("1",["5"],function(a){return a("tinymce.dom.DOMUtils")}),g("2",["5"],function(a){return a("tinymce.PluginManager")}),g("3",["5"],function(a){return a("tinymce.util.I18n")}),g("4",["5"],function(a){return a("tinymce.util.Tools")}),g("0",["1","2","3","4"],function(a,b,c,d){var e=c.translate;return b.add("textcolor",function(b){function c(a){var c;return b.dom.getParents(b.selection.getStart(),function(b){var d;(d=b.style["forecolor"==a?"color":"background-color"])&&(c=d)}),c}function f(a){var c,d,e=[];for(d=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],d=b.settings.textcolor_map||d,d=b.settings[a+"_map"]||d,c=0;c<d.length;c+=2)e.push({text:d[c+1],color:"#"+d[c]});return e}function g(){function a(a,b){var c="transparent"==a;return'<td class="mce-grid-cell'+(c?" mce-colorbtn-trans":"")+'"><div id="'+p+"-"+q++ +'" data-mce-color="'+(a?a:"")+'" role="option" tabIndex="-1" style="'+(a?"background-color: "+a:"")+'" title="'+e(b)+'">'+(c?"&#215;":"")+"</div></td>"}var c,d,g,h,i,j,k,n,o=this,p=o._id,q=0;for(n=o.settings.origin,c=f(n),c.push({text:e("No color"),color:"transparent"}),g='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',h=c.length-1,j=0;j<m[n];j++){for(g+="<tr>",i=0;i<l[n];i++)k=j*l[n]+i,k>h?g+="<td></td>":(d=c[k],g+=a(d.color,d.text));g+="</tr>"}if(b.settings.color_picker_callback){for(g+='<tr><td colspan="'+l[n]+'" class="mce-custom-color-btn"><div id="'+p+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+p+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+e("Custom...")+"</button></div></td></tr>",g+="<tr>",i=0;i<l[n];i++)g+=a("","Custom color");g+="</tr>"}return g+="</tbody></table>"}function h(a,c){b.undoManager.transact(function(){b.focus(),b.formatter.apply(a,{value:c}),b.nodeChanged()})}function i(a){b.undoManager.transact(function(){b.focus(),b.formatter.remove(a,{value:null},null,!0),b.nodeChanged()})}function j(e){function f(a){n.hidePanel(),n.color(a),h(n.settings.format,a)}function g(){n.hidePanel(),n.resetColor(),i(n.settings.format)}function j(a,b){a.style.background=b,a.setAttribute("data-mce-color",b)}var k,m,n=this.parent();m=n.settings.origin,a.DOM.getParent(e.target,".mce-custom-color-btn")&&(n.hidePanel(),b.settings.color_picker_callback.call(b,function(a){var b,c,e,g=n.panel.getEl().getElementsByTagName("table")[0];for(b=d.map(g.rows[g.rows.length-1].childNodes,function(a){return a.firstChild}),e=0;e<b.length&&(c=b[e],c.getAttribute("data-mce-color"));e++);if(e==l[m])for(e=0;e<l[m]-1;e++)j(b[e],b[e+1].getAttribute("data-mce-color"));j(c,a),f(a)},c(n.settings.format))),k=e.target.getAttribute("data-mce-color"),k?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"==k?g():f(k)):null!==k&&n.hidePanel()}function k(){var a=this;a._color?h(a.settings.format,a._color):i(a.settings.format)}var l,m;m={forecolor:b.settings.forecolor_rows||b.settings.textcolor_rows||5,backcolor:b.settings.backcolor_rows||b.settings.textcolor_rows||5},l={forecolor:b.settings.forecolor_cols||b.settings.textcolor_cols||8,backcolor:b.settings.backcolor_cols||b.settings.textcolor_cols||8},b.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:g,onclick:j},onclick:k}),b.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:g,onclick:j},onclick:k})}),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("8",tinymce.util.Tools.resolve),g("1",["8"],function(a){return a("tinymce.html.Node")}),g("2",["8"],function(a){return a("tinymce.PluginManager")}),g("3",["8"],function(a){return a("tinymce.util.Tools")}),g("9",["8"],function(a){return a("tinymce.html.Writer")}),g("a",["8"],function(a){return a("tinymce.html.SaxParser")}),g("b",["8"],function(a){return a("tinymce.html.Schema")}),g("5",["3","9","a","b"],function(a,b,c,d){var e=function(a,e){if(a.settings.media_filter_html===!1)return e;var f,g=new b;return new c({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(a){g.comment(a)},cdata:function(a){g.cdata(a)},text:function(a,b){g.text(a,b)},start:function(b,c,d){if(f=!0,"script"!==b&&"noscript"!==b){for(var e=0;e<c.length;e++){if(0===c[e].name.indexOf("on"))return;"style"===c[e].name&&(c[e].value=a.dom.serializeStyle(a.dom.parseStyle(c[e].value),b))}g.start(b,c,d),f=!1}},end:function(a){f||g.end(a)}},new d({})).parse(e),g.getContent()};return{sanitize:e}}),g("c",[],function(){var a=function(a,b){if(a)for(var c=0;c<a.length;c++)if(b.indexOf(a[c].filter)!==-1)return a[c]};return{getVideoScriptMatch:a}}),g("d",["8"],function(a){return a("tinymce.Env")}),g("4",["5","c","1","d"],function(a,b,c,d){var e=function(a,b){var e,f=b.name;return e=new c("img",1),e.shortEnded=!0,g(a,b,e),e.attr({width:b.attr("width")||"300",height:b.attr("height")||("audio"===f?"30":"150"),style:b.attr("style"),src:d.transparentSrc,"data-mce-object":f,"class":"mce-object mce-object-"+f}),e},f=function(a,b){var d,e,f,h=b.name;return d=new c("span",1),d.attr({contentEditable:"false",style:b.attr("style"),"data-mce-object":h,"class":"mce-preview-object mce-object-"+h}),g(a,b,d),e=new c(h,1),e.attr({src:b.attr("src"),allowfullscreen:b.attr("allowfullscreen"),width:b.attr("width")||"300",height:b.attr("height")||("audio"===h?"30":"150"),frameborder:"0"}),f=new c("span",1),f.attr("class","mce-shim"),d.append(e),d.append(f),d},g=function(b,c,d){var e,f,g,h,i;for(g=c.attributes,h=g.length;h--;)e=g[h].name,f=g[h].value,"width"!==e&&"height"!==e&&"style"!==e&&("data"!==e&&"src"!==e||(f=b.convertURL(f,e)),d.attr("data-mce-p-"+e,f));i=c.firstChild&&c.firstChild.value,i&&(d.attr("data-mce-html",escape(a.sanitize(b,i))),d.firstChild=null)},h=function(a){for(;a=a.parent;)if(a.attr("data-ephox-embed-iri"))return!0;return!1},i=function(a){return function(c){for(var g,i,j=c.length;j--;)g=c[j],g.parent&&(g.parent.attr("data-mce-object")||("script"!==g.name||(i=b.getVideoScriptMatch(a.settings.media_scripts,g.attr("src"))))&&(i&&(i.width&&g.attr("width",i.width.toString()),i.height&&g.attr("height",i.height.toString())),"iframe"===g.name&&a.settings.media_live_embeds!==!1&&d.ceFalse?h(g)||g.replace(f(a,g)):h(g)||g.replace(e(a,g))))}};return{createPreviewIframeNode:f,createPlaceholderNode:e,placeHolderConverter:i}}),g("e",["8"],function(a){return a("tinymce.dom.DOMUtils")}),g("f",[],function(){var a=function(a){return a.replace(/px$/,"")},b=function(a){return/^[0-9.]+$/.test(a)?a+"px":a},c=function(b){return function(c){return c?a(c.style[b]):""}},d=function(a){return function(c,d){c&&(c.style[a]=b(d))}};return{getMaxWidth:c("maxWidth"),getMaxHeight:c("maxHeight"),setMaxWidth:d("maxWidth"),setMaxHeight:d("maxHeight")}}),g("6",["9","a","b","e","f"],function(a,b,c,d,e){var f=d.DOM,g=function(a,b){var c,d,e,f;for(c in b)if(e=""+b[c],a.map[c])for(d=a.length;d--;)f=a[d],f.name===c&&(e?(a.map[c]=e,f.value=e):(delete a.map[c],a.splice(d,1)));else e&&(a.push({name:c,value:e}),a.map[c]=e)},h=function(c){var d=new a,e=new b(d);return e.parse(c),d.getContent()},i=function(d,e,f){var h,i=new a,j=0;return new b({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(a){i.comment(a)},cdata:function(a){i.cdata(a)},text:function(a,b){i.text(a,b)},start:function(a,b,c){switch(a){case"video":case"object":case"embed":case"img":case"iframe":void 0!==e.height&&void 0!==e.width&&g(b,{width:e.width,height:e.height})}if(f)switch(a){case"video":g(b,{poster:e.poster,src:""}),e.source2&&g(b,{src:""});break;case"iframe":g(b,{src:e.source1});break;case"source":if(j++,j<=2&&(g(b,{src:e["source"+j],type:e["source"+j+"mime"]}),!e["source"+j]))return;break;case"img":if(!e.poster)return;h=!0}i.start(a,b,c)},end:function(a){if("video"===a&&f)for(var b=1;b<=2;b++)if(e["source"+b]){var c=[];c.map={},j<b&&(g(c,{src:e["source"+b],type:e["source"+b+"mime"]}),i.start("source",c,!0))}if(e.poster&&"object"===a&&f&&!h){var d=[];d.map={},g(d,{src:e.poster,width:e.width,height:e.height}),i.start("img",d,!0)}i.end(a)}},new c({})).parse(d),i.getContent()},j=function(a){var b=f.createFragment(a);return""!==f.getAttrib(b.firstChild,"data-ephox-embed-iri")},k=function(a,b){var c=f.createFragment(a),d=c.firstChild;return e.setMaxWidth(d,b.width),e.setMaxHeight(d,b.height),h(d.outerHTML)},l=function(a,b,c){return j(a)?k(a,b):i(a,b,c)};return{updateHtml:l}}),g("g",["8"],function(a){return a("tinymce.util.Delay")}),g("h",["3","a","b","e","c","f"],function(a,b,c,d,e,f){var g=d.DOM,h=function(a){return g.getAttrib(a,"data-ephox-embed-iri")},i=function(a){var b=g.createFragment(a);return""!==h(b.firstChild)},j=function(c,d){var f={};return new b({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(b,d){if(f.source1||"param"!==b||(f.source1=d.map.movie),"iframe"!==b&&"object"!==b&&"embed"!==b&&"video"!==b&&"audio"!==b||(f.type||(f.type=b),f=a.extend(d.map,f)),"script"===b){var g=e.getVideoScriptMatch(c,d.map.src);if(!g)return;f={type:"script",source1:d.map.src,width:g.width,height:g.height}}"source"===b&&(f.source1?f.source2||(f.source2=d.map.src):f.source1=d.map.src),"img"!==b||f.poster||(f.poster=d.map.src)}}).parse(d),f.source1=f.source1||f.src||f.data,f.source2=f.source2||"",f.poster=f.poster||"",f},k=function(a){var b=g.createFragment(a),c=b.firstChild;return{type:"ephox-embed-iri",source1:h(c),source2:"",poster:"",width:f.getMaxWidth(c),height:f.getMaxHeight(c)}},l=function(a,b){return i(b)?k(b):j(a,b)};return{htmlToData:l}}),g("m",[],function(){var a=function(a){var b={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},c=a.toLowerCase().split(".").pop(),d=b[c];return d?d:""};return{guess:a}}),g("n",[],function(){var a=[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-_]+(?:\?.+)?)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}];return{urlPatterns:a}}),g("k",["m","h","n","c","6","3"],function(a,b,c,d,e,f){var g=function(g,h){var i="",j=f.extend({},h);if(!j.source1&&(f.extend(j,b.htmlToData(g.settings.media_scripts,j.embed)),!j.source1))return"";if(j.source2||(j.source2=""),j.poster||(j.poster=""),j.source1=g.convertURL(j.source1,"source"),j.source2=g.convertURL(j.source2,"source"),j.source1mime=a.guess(j.source1),j.source2mime=a.guess(j.source2),j.poster=g.convertURL(j.poster,"poster"),f.each(c.urlPatterns,function(a){var b,c,d=a.regex.exec(j.source1);if(d){for(c=a.url,b=0;d[b];b++)c=c.replace("$"+b,function(){return d[b]});j.source1=c,j.type=a.type,j.allowFullscreen=a.allowFullscreen,j.width=j.width||a.w,j.height=j.height||a.h}}),j.embed)i=e.updateHtml(j.embed,j,!0);else{var k=d.getVideoScriptMatch(g.settings.media_scripts,j.source1);if(k&&(j.type="script",j.width=k.width,j.height=k.height),j.width=j.width||300,j.height=j.height||150,f.each(j,function(a,b){j[b]=g.dom.encode(a)}),"iframe"===j.type){var l=j.allowFullscreen?' allowFullscreen="1"':"";i+='<iframe src="'+j.source1+'" width="'+j.width+'" height="'+j.height+'"'+l+"></iframe>"}else"application/x-shockwave-flash"===j.source1mime?(i+='<object data="'+j.source1+'" width="'+j.width+'" height="'+j.height+'" type="application/x-shockwave-flash">',j.poster&&(i+='<img src="'+j.poster+'" width="'+j.width+'" height="'+j.height+'" />'),i+="</object>"):j.source1mime.indexOf("audio")!==-1?g.settings.audio_template_callback?i=g.settings.audio_template_callback(j):i+='<audio controls="controls" src="'+j.source1+'">'+(j.source2?'\n<source src="'+j.source2+'"'+(j.source2mime?' type="'+j.source2mime+'"':"")+" />\n":"")+"</audio>":"script"===j.type?i+='<script src="'+j.source1+'"></script>':i=g.settings.video_template_callback?g.settings.video_template_callback(j):'<video width="'+j.width+'" height="'+j.height+'"'+(j.poster?' poster="'+j.poster+'"':"")+' controls="controls">\n<source src="'+j.source1+'"'+(j.source1mime?' type="'+j.source1mime+'"':"")+" />\n"+(j.source2?'<source src="'+j.source2+'"'+(j.source2mime?' type="'+j.source2mime+'"':"")+" />\n":"")+"</video>"}return i};return{dataToHtml:g}}),g("l",["8"],function(a){return a("tinymce.util.Promise")}),g("i",["k","l"],function(a,b){var c=function(a,c,d){var e={};return new b(function(b,f){var g=function(d){return d.html&&(e[a.source1]=d),b({url:a.source1,html:d.html?d.html:c(a)})};e[a.source1]?g(e[a.source1]):d({url:a.source1},g,f)})},d=function(a,c){return new b(function(b){b({html:c(a),url:a.source1})})},e=function(b){return function(c){return a.dataToHtml(b,c)}},f=function(a,b){var f=a.settings.media_url_resolver;return f?c(b,e(a),f):d(b,e(a))};return{getEmbedHtml:f}}),g("j",[],function(){var a=function(a,b){a.state.set("oldVal",a.value()),b.state.set("oldVal",b.value())},b=function(a,b){var c=a.find("#width")[0],d=a.find("#height")[0],e=a.find("#constrain")[0];c&&d&&e&&b(c,d,e.checked())},c=function(b,c,d){var e=b.state.get("oldVal"),f=c.state.get("oldVal"),g=b.value(),h=c.value();d&&e&&f&&g&&h&&(g!==e?(h=Math.round(g/e*h),isNaN(h)||c.value(h)):(g=Math.round(h/f*g),isNaN(g)||b.value(g))),a(b,c)},d=function(c){b(c,a)},e=function(a){b(a,c)},f=function(a){var b=function(){a(function(a){e(a)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:b,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:b,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}};return{createUi:f,syncSize:d,updateSize:e}}),g("7",["g","h","6","i","f","3","d","j"],function(a,b,c,d,e,f,g,h){var i=g.ie&&g.ie<=8?"onChange":"onInput",j=function(a){return function(b){var c=b&&b.msg?"Media embed handler error: "+b.msg:"Media embed handler threw unknown error.";a.notificationManager.open({type:"error",text:c})}},k=function(a){var c=a.selection.getNode(),d=c.getAttribute("data-ephox-embed-iri");return d?{source1:d,"data-ephox-embed-iri":d,width:e.getMaxWidth(c),height:e.getMaxHeight(c)}:c.getAttribute("data-mce-object")?b.htmlToData(a.settings.media_scripts,a.serializer.serialize(c,{selection:!0})):{}},l=function(a){var b=a.selection.getNode();if(b.getAttribute("data-mce-object")||b.getAttribute("data-ephox-embed-iri"))return a.selection.getContent()},m=function(a,c){return function(d){var e=d.html,g=a.find("#embed")[0],i=f.extend(b.htmlToData(c.settings.media_scripts,e),{source1:d.url});a.fromJSON(i),g&&(g.value(e),h.updateSize(a))}},n=function(a,b){var c,d,e=a.dom.select("img[data-mce-object]");for(c=0;c<b.length;c++)for(d=e.length-1;d>=0;d--)b[c]===e[d]&&e.splice(d,1);a.selection.select(e[0])},o=function(a,b){var c=a.dom.select("img[data-mce-object]");a.insertContent(b),n(a,c),a.nodeChanged()},p=function(a,b){var e=a.toJSON();e.embed=c.updateHtml(e.embed,e),e.embed?o(b,e.embed):d.getEmbedHtml(b,e).then(function(a){o(b,a.html)})["catch"](j(b))},q=function(a,b){f.each(b,function(b,c){a.find("#"+c).value(b)})},r=function(a){var e,g,n=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){d.getEmbedHtml(a,e.toJSON()).then(m(e,a))["catch"](j(a))},1)},onchange:function(b){d.getEmbedHtml(a,e.toJSON()).then(m(e,a))["catch"](j(a)),q(e,b.meta)},onbeforecall:function(a){a.meta=e.toJSON()}}],o=[],r=function(a){a(e),g=e.toJSON(),e.find("#embed").value(c.updateHtml(g.embed,g))};if(a.settings.media_alt_source!==!1&&o.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),a.settings.media_poster!==!1&&o.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),a.settings.media_dimensions!==!1){var s=h.createUi(r);n.push(s)}g=k(a);var t={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:l(a),multiline:!0,rows:5,label:"Source"},u=function(){g=f.extend({},b.htmlToData(a.settings.media_scripts,this.value())),this.parent().parent().fromJSON(g)};t[i]=u,e=a.windowManager.open({title:"Insert/edit media",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:n},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},t]},{title:"Advanced",type:"form",items:o}],onSubmit:function(){h.updateSize(e),p(e,a)}}),h.syncSize(e)};return{showDialog:r}}),g("0",["1","2","3","4","5","6","7"],function(a,b,c,d,e,f,g){var h=function(b){b.on("ResolveName",function(a){var b;1===a.target.nodeType&&(b=a.target.getAttribute("data-mce-object"))&&(a.name=b)}),b.on("preInit",function(){var f=b.schema.getSpecialElements();c.each("video audio iframe object".split(" "),function(a){f[a]=new RegExp("</"+a+"[^>]*>","gi")});var g=b.schema.getBoolAttrs();c.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(a){g[a]={}}),b.parser.addNodeFilter("iframe,video,audio,object,embed,script",d.placeHolderConverter(b)),b.serializer.addAttributeFilter("data-mce-object",function(c,d){for(var f,g,h,i,j,k,l,m,n=c.length;n--;)if(f=c[n],f.parent){for(l=f.attr(d),g=new a(l,1),"audio"!==l&&"script"!==l&&(m=f.attr("class"),m&&m.indexOf("mce-preview-object")!==-1?g.attr({width:f.firstChild.attr("width"),height:f.firstChild.attr("height")}):g.attr({width:f.attr("width"),height:f.attr("height")})),g.attr({style:f.attr("style")}),i=f.attributes,h=i.length;h--;){var o=i[h].name;0===o.indexOf("data-mce-p-")&&g.attr(o.substr(11),i[h].value)}"script"===l&&g.attr("type","text/javascript"),j=f.attr("data-mce-html"),j&&(k=new a("#text",3),k.raw=!0,k.value=e.sanitize(b,unescape(j)),g.append(k)),f.replace(g)}})}),b.on("click keyup",function(){var a=b.selection.getNode();a&&b.dom.hasClass(a,"mce-preview-object")&&b.dom.getAttrib(a,"data-mce-selected")&&a.setAttribute("data-mce-selected","2")}),b.on("ObjectSelected",function(a){var b=a.target.getAttribute("data-mce-object");"audio"!==b&&"script"!==b||a.preventDefault()}),b.on("objectResized",function(a){var b,c=a.target;c.getAttribute("data-mce-object")&&(b=c.getAttribute("data-mce-html"),b&&(b=unescape(b),c.setAttribute("data-mce-html",escape(f.updateHtml(b,{width:a.width,height:a.height})))))}),this.showDialog=function(){g.showDialog(b)},b.addButton("media",{tooltip:"Insert/edit media",onclick:this.showDialog,stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),b.addMenuItem("media",{icon:"media",text:"Media",onclick:this.showDialog,context:"insert",prependToContext:!0}),b.on("setContent",function(){b.$("span.mce-preview-object").each(function(a,c){var d=b.$(c);0===d.find("span.mce-shim",c).length&&d.append('<span class="mce-shim"></span>')})}),b.addCommand("mceMedia",this.showDialog)};return b.add("media",h),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("b",tinymce.util.Tools.resolve),g("1",["b"],function(a){return a("tinymce.dom.TreeWalker")}),g("2",["b"],function(a){return a("tinymce.Env")}),g("3",["b"],function(a){return a("tinymce.PluginManager")}),g("4",["b"],function(a){return a("tinymce.util.Tools")}),g("5",["b"],function(a){return a("tinymce.util.VK")}),g("c",["2"],function(a){function b(b){(!a.ie||a.ie>9)&&(b.hasChildNodes()||(b.innerHTML='<br data-mce-bogus="1" />'))}var c=function(a){return function(b,c){b&&(c=parseInt(c,10),1===c||0===c?b.removeAttribute(a,1):b.setAttribute(a,c,1))}},d=function(a){return function(b){return parseInt(b.getAttribute(a)||1,10)}};return{setColSpan:c("colSpan"),setRowSpan:c("rowspan"),getColSpan:d("colSpan"),getRowSpan:d("rowSpan"),setSpanVal:function(a,b,d){c(b)(a,d)},getSpanVal:function(a,b){return d(b)(a)},paddCell:b}}),g("d",["4","c"],function(a,b){var c=function(a,b,c){return a[c]?a[c][b]:null},d=function(a,b,d){var e=c(a,b,d);return e?e.elm:null},e=function(a,b,e,f){var g,h,i=0,j=d(a,b,e);for(g=e;(f>0?g<a.length:g>=0)&&(h=c(a,b,g),j===h.elm);g+=f)i++;return i},f=function(a,b,c){for(var d,e=a[c],f=b;f<e.length;f++)if(d=e[f],d.real)return d.elm;return null},g=function(a,c){for(var d,f=[],g=a[c],h=0;h<g.length;h++)d=g[h],f.push({elm:d.elm,above:e(a,h,c,-1)-1,below:e(a,h,c,1)-1}),h+=b.getColSpan(d.elm)-1;return f},h=function(a,c){var d=a.elm.ownerDocument,e=d.createElement("td");return b.setColSpan(e,b.getColSpan(a.elm)),b.setRowSpan(e,c),b.paddCell(e),e},i=function(a,b,c,d){var e=f(a,c+1,d);e?e.parentNode.insertBefore(b,e):(e=f(a,0,d),e.parentNode.appendChild(b))},j=function(a,c,d,e){if(0!==c.above){b.setRowSpan(c.elm,c.above);var f=h(c,c.below+1);return i(a,f,d,e),f}return null},k=function(a,c,d,e){if(0!==c.below){b.setRowSpan(c.elm,c.above+1);var f=h(c,c.below);return i(a,f,d,e+1),f}return null},l=function(b,c,e,f){var h=g(b,e),i=d(b,c,e).parentNode,l=[];return a.each(h,function(a,c){var d=f?j(b,a,c,e):k(b,a,c,e);null!==d&&l.push(l)}),{cells:l,row:i}};return{splitAt:l}}),g("6",["4","2","c","d"],function(a,b,c,d){var e=a.each,f=c.getSpanVal,g=c.setSpanVal;return function(h,i,j){function k(){h.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function l(a){return a===h.getBody()}function m(b,c){return b?(c=a.map(c.split(","),function(a){return a.toLowerCase()}),a.grep(b.childNodes,function(b){return a.inArray(c,b.nodeName.toLowerCase())!==-1})):[]}function n(){var a=0;Z=[],$=0,e(["thead","tbody","tfoot"],function(b){var c=m(i,b)[0],d=m(c,"tr");e(d,function(c,d){d+=a,e(m(c,"td,th"),function(a,c){var e,g,h,i;if(Z[d])for(;Z[d][c];)c++;for(h=f(a,"rowspan"),i=f(a,"colspan"),g=d;g<d+h;g++)for(Z[g]||(Z[g]=[]),e=c;e<c+i;e++)Z[g][e]={part:b,real:g==d&&e==c,elm:a,rowspan:h,colspan:i};$=Math.max($,c+1)})}),a+=d.length})}function o(a){return h.fire("newrow",{node:a}),a}function p(a){return h.fire("newcell",{node:a}),a}function q(a,b){return a=a.cloneNode(b),a.removeAttribute("id"),a}function r(a,b){var c;if(c=Z[b])return c[a]}function s(a,b){return a[b]?a[b]:null}function t(a,b){for(var c=[],d=0;d<a.length;d++)c.push(r(b,d));return c}function u(a){return a&&(!!ca.getAttrib(a.elm,"data-mce-selected")||a==j)}function v(){var a=[];return e(i.rows,function(b){e(b.cells,function(c){if(ca.getAttrib(c,"data-mce-selected")||j&&c==j.elm)return a.push(b),!1})}),a}function w(){var a=0;return e(Z,function(b){if(e(b,function(b){u(b)&&a++}),a)return!1}),a}function x(){var a=ca.createRng();l(i)||(a.setStartAfter(i),a.setEndAfter(i),ba.setRng(a),ca.remove(i))}function y(d){var f,i={};return h.settings.table_clone_elements!==!1&&(i=a.makeMap((h.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),a.walk(d,function(a){var c;if(3==a.nodeType)return e(ca.getParents(a.parentNode,null,d).reverse(),function(a){i[a.nodeName]&&(a=q(a,!1),f?c&&c.appendChild(a):f=c=a,c=a)}),c&&(c.innerHTML=b.ie&&b.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),d=q(d,!1),p(d),g(d,"rowSpan",1),g(d,"colSpan",1),f?d.appendChild(f):c.paddCell(d),d}function z(){var a,b=ca.createRng();return e(ca.select("tr",i),function(a){0===a.cells.length&&ca.remove(a)}),0===ca.select("tr",i).length?(b.setStartBefore(i),b.setEndBefore(i),ba.setRng(b),void ca.remove(i)):(e(ca.select("thead,tbody,tfoot",i),function(a){0===a.rows.length&&ca.remove(a)}),n(),void(_&&(a=Z[Math.min(Z.length-1,_.y)],a&&(ba.select(a[Math.min(a.length-1,_.x)].elm,!0),ba.collapse(!0)))))}function A(a,b,c,d){var e,f,g,h,i;for(e=Z[b][a].elm.parentNode,g=1;g<=c;g++)if(e=ca.getNext(e,"tr")){for(f=a;f>=0;f--)if(i=Z[b+g][f].elm,i.parentNode==e){for(h=1;h<=d;h++)ca.insertAfter(y(i),i);break}if(f==-1)for(h=1;h<=d;h++)e.insertBefore(y(e.cells[0]),e.cells[0])}}function B(){e(Z,function(a,b){e(a,function(a,c){var d,e,h;if(u(a)&&(a=a.elm,d=f(a,"colspan"),e=f(a,"rowspan"),d>1||e>1)){for(g(a,"rowSpan",1),g(a,"colSpan",1),h=0;h<d-1;h++)ca.insertAfter(y(a),a);A(c,b,e-1,d)}})})}function C(a,b,c){for(var d=[],e=0;e<a.length;e++)(e<b||e>c)&&d.push(a[e]);return d}function D(b){return a.grep(b,function(a){return a.real===!1})}function E(a){for(var b=[],c=0;c<a.length;c++){var d=a[c].elm;b[b.length-1]!==d&&b.push(d)}return b}function F(b,d,e,f,g){var h=0;if(g-e<1)return 0;for(var i=e+1;i<=g;i++){var j=C(s(b,i),d,f),k=D(j);j.length===k.length&&(a.each(E(k),function(a){c.setRowSpan(a,c.getRowSpan(a)-1)}),h++)}return h}function G(b,d,e,f,g){var h=0;if(f-d<1)return 0;for(var i=d+1;i<=f;i++){var j=C(t(b,i),e,g),k=D(j);j.length===k.length&&(a.each(E(k),function(a){c.setColSpan(a,c.getColSpan(a)-1)}),h++)}return h}function H(b,c,d){var f,h,i,j,k,l,m,o,p,q,s,t,v;if(b?(f=T(b),h=f.x,i=f.y,j=h+(c-1),k=i+(d-1)):(_=aa=null,e(Z,function(a,b){e(a,function(a,c){u(a)&&(_||(_={x:c,y:b}),aa={x:c,y:b})})}),_&&(h=_.x,i=_.y,j=aa.x,k=aa.y)),o=r(h,i),p=r(j,k),o&&p&&o.part==p.part){B(),n(),t=F(Z,h,i,j,k),v=G(Z,h,i,j,k),o=r(h,i).elm;var w=j-h-v+1,x=k-i-t+1;for(w===$&&x===Z.length&&(w=1,x=1),w===$&&x>1&&(x=1),g(o,"colSpan",w),g(o,"rowSpan",x),m=i;m<=k;m++)for(l=h;l<=j;l++)Z[m]&&Z[m][l]&&(b=Z[m][l].elm,b!=o&&(q=a.grep(b.childNodes),e(q,function(a){o.appendChild(a)}),q.length&&(q=a.grep(o.childNodes),s=0,e(q,function(a){"BR"==a.nodeName&&s++<q.length-1&&o.removeChild(a)})),ca.remove(b)));z()}}function I(a){var b,c,d,h,i,j,k,l,m,n;if(e(Z,function(c,d){if(e(c,function(c){if(u(c)&&(c=c.elm,i=c.parentNode,j=o(q(i,!1)),b=d,a))return!1}),a)return void 0===b}),void 0!==b){for(h=0,n=0;h<Z[0].length;h+=n)if(Z[b][h]&&(c=Z[b][h].elm,n=f(c,"colspan"),c!=d)){if(a){if(b>0&&Z[b-1][h]&&(l=Z[b-1][h].elm,m=f(l,"rowSpan"),m>1)){g(l,"rowSpan",m+1);continue}}else if(m=f(c,"rowspan"),m>1){g(c,"rowSpan",m+1);continue}k=y(c),g(k,"colSpan",c.colSpan),j.appendChild(k),d=c}j.hasChildNodes()&&(a?i.parentNode.insertBefore(j,i):ca.insertAfter(j,i))}}function J(a,b){b=b||v().length||1;for(var c=0;c<b;c++)I(a)}function K(a){var b,c;e(Z,function(c){if(e(c,function(c,d){if(u(c)&&(b=d,a))return!1}),a)return void 0===b}),e(Z,function(d,e){var h,i,j;d[b]&&(h=d[b].elm,h!=c&&(j=f(h,"colspan"),i=f(h,"rowspan"),1==j?a?(h.parentNode.insertBefore(y(h),h),A(b,e,i-1,j)):(ca.insertAfter(y(h),h),A(b,e,i-1,j)):g(h,"colSpan",h.colSpan+1),c=h))})}function L(a,b){b=b||w()||1;for(var c=0;c<b;c++)K(a)}function M(b){return a.grep(N(b),u)}function N(a){var b=[];return e(a,function(a){e(a,function(a){b.push(a)})}),b}function O(){var b=[];if(l(i)){if(1==Z[0].length)return;if(M(Z).length==N(Z).length)return}e(Z,function(c){e(c,function(c,d){u(c)&&a.inArray(b,d)===-1&&(e(Z,function(a){var b,c=a[d].elm;b=f(c,"colSpan"),b>1?g(c,"colSpan",b-1):ca.remove(c)}),b.push(d))})}),z()}function P(){function a(a){var b,c;e(a.cells,function(a){var c=f(a,"rowSpan");c>1&&(g(a,"rowSpan",c-1),b=T(a),A(b.x,b.y,1,1))}),b=T(a.cells[0]),e(Z[b.y],function(a){var b;a=a.elm,a!=c&&(b=f(a,"rowSpan"),b<=1?ca.remove(a):g(a,"rowSpan",b-1),c=a)})}var b;b=v(),l(i)&&b.length==i.rows.length||(e(b.reverse(),function(b){a(b)}),z())}function Q(){var a=v();if(!l(i)||a.length!=i.rows.length)return ca.remove(a),z(),a}function R(){var a=v();return e(a,function(b,c){a[c]=q(b,!0)}),a}function S(b,c){var h,i,j,l=[];b&&(h=d.splitAt(Z,_.x,_.y,c),i=h.row,a.each(h.cells,p),j=a.map(b,function(a){return a.cloneNode(!0)}),e(j,function(a,b,d){var h,j,k,m,n=a.cells.length,q=0;for(o(a),h=0;h<n;h++)j=a.cells[h],m=f(j,"colspan"),k=f(j,"rowspan"),q+=m,k>1&&(q--,b+k>d.length?(k=d.length-b,g(j,"rowSpan",k),l.push(d.length-1)):l.push(b+k-1)),p(j);for(e(l,function(a){b<=a&&q++}),h=q;h<$;h++)a.appendChild(y(a.cells[n-1]));for(h=$;h<q;h++)j=a.cells[a.cells.length-1],m=f(j,"colspan"),m>1?g(j,"colSpan",m-1):ca.remove(j);c?i.parentNode.insertBefore(a,i):i=ca.insertAfter(a,i)}),k())}function T(a){var b;return e(Z,function(c,d){return e(c,function(c,e){if(c.elm==a)return b={x:e,y:d},!1}),!b}),b}function U(a){_=T(a)}function V(){var a,b;return a=b=0,e(Z,function(c,d){e(c,function(c,e){var f,g;u(c)&&(c=Z[d][e],e>a&&(a=e),d>b&&(b=d),c.real&&(f=c.colspan-1,g=c.rowspan-1,f&&e+f>a&&(a=e+f),g&&d+g>b&&(b=d+g)))})}),{x:a,y:b}}function W(a){var b,c,d,e,f,g,h,i,j,l;if(aa=T(a),_&&aa){for(b=Math.min(_.x,aa.x),c=Math.min(_.y,aa.y),d=Math.max(_.x,aa.x),e=Math.max(_.y,aa.y),f=d,g=e,l=c;l<=e;l++)for(j=b;j<=d;j++)a=Z[l][j],a.real&&(h=a.colspan-1,i=a.rowspan-1,h&&j+h>f&&(f=j+h),i&&l+i>g&&(g=l+i));for(k(),l=c;l<=g;l++)for(j=b;j<=f;j++)Z[l][j]&&ca.setAttrib(Z[l][j].elm,"data-mce-selected","1")}}function X(a,b){var c,d,e;c=T(a),d=c.y*$+c.x;do{if(d+=b,e=r(d%$,Math.floor(d/$)),!e)break;if(e.elm!=a)return ba.select(e.elm,!0),ca.isEmpty(e.elm)&&ba.collapse(!0),!0}while(e.elm==a);return!1}function Y(b){if(_){var c=d.splitAt(Z,_.x,_.y,b);a.each(c.cells,p)}}var Z,$,_,aa,ba=h.selection,ca=ba.dom;i=i||ca.getParent(ba.getStart(!0),"table"),n(),j=j||ca.getParent(ba.getStart(!0),"th,td"),j&&(_=T(j),aa=V(),j=r(_.x,_.y)),a.extend(this,{deleteTable:x,split:B,merge:H,insertRow:I,insertRows:J,insertCol:K,insertCols:L,splitCols:Y,deleteCols:O,deleteRows:P,cutRows:Q,copyRows:R,pasteRows:S,getPos:T,setStartCell:U,setEndCell:W,moveRelIdx:X,refresh:n})}}),g("7",["6","1","4"],function(a,b,c){return function(d,e){function f(a){d.getBody().style.webkitUserSelect="",(a||p)&&(d.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),p=!1)}function g(a,b){return!(!a||!b)&&a===o.getParent(b,"table")}function h(b){var c,f,h=b.target;if(!m&&!n&&h!==l&&(l=h,k&&j)){if(f=o.getParent(h,"td,th"),g(k,f)||(f=o.getParent(k,"td,th")),j===f&&!p)return;if(e(!0),g(k,f)){b.preventDefault(),i||(i=new a(d,k,j),d.getBody().style.webkitUserSelect="none"),i.setEndCell(f),p=!0,c=d.selection.getSel();try{c.removeAllRanges?c.removeAllRanges():c.empty()}catch(a){}}}}var i,j,k,l,m,n,o=d.dom,p=!0,q=function(){j=i=k=l=null,e(!1)};return d.on("SelectionChange",function(a){p&&a.stopImmediatePropagation()},!0),d.on("MouseDown",function(a){2==a.button||m||n||(f(),j=o.getParent(a.target,"td,th"),k=o.getParent(j,"table"))}),d.on("mouseover",h),d.on("remove",function(){o.unbind(d.getDoc(),"mouseover",h),f()}),d.on("MouseUp",function(){function a(a,d){var f=new b(a,a);do{if(3==a.nodeType&&0!==c.trim(a.nodeValue).length)return void(d?e.setStart(a,0):e.setEnd(a,a.nodeValue.length));if("BR"==a.nodeName)return void(d?e.setStartBefore(a):e.setEndBefore(a))}while(a=d?f.next():f.prev())}var e,f,g,h,k,l=d.selection;if(j){if(i&&(d.getBody().style.webkitUserSelect=""),f=o.select("td[data-mce-selected],th[data-mce-selected]"),f.length>0){e=o.createRng(),h=f[0],e.setStartBefore(h),e.setEndAfter(h),a(h,1),g=new b(h,o.getParent(f[0],"table"));do if("TD"==h.nodeName||"TH"==h.nodeName){if(!o.getAttrib(h,"data-mce-selected"))break;k=h}while(h=g.next());a(k),l.setRng(e)}d.nodeChanged(),q()}}),d.on("KeyUp Drop SetContent",function(a){f("setcontent"==a.type),q(),m=!1}),d.on("ObjectResizeStart ObjectResized",function(a){m="objectresized"!=a.type}),d.on("dragstart",function(){n=!0}),d.on("drop dragend",function(){n=!1}),{clear:f}}}),g("8",["4","2"],function(a,b){var c=a.each;return function(d){function e(){var a=d.settings.color_picker_callback;if(a)return function(){var b=this;a.call(d,function(a){b.value(a).fire("change")},b.value())}}function f(a){return{title:"Advanced",type:"form",defaults:{onchange:function(){l(a,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:e()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:e()}]}]}}function g(a){return a?a.replace(/px$/,""):""}function h(a){return/^[0-9]+$/.test(a)&&(a+="px"),a}function i(a){c("left center right".split(" "),function(b){d.formatter.remove("align"+b,{},a)})}function j(a){c("top middle bottom".split(" "),function(b){d.formatter.remove("valign"+b,{},a)})}function k(b,c,d){function e(b,d){return d=d||[],a.each(b,function(a){var b={text:a.text||a.title};a.menu?b.menu=e(a.menu):(b.value=a.value,c&&c(b)),d.push(b)}),d}return e(b,d||[])}function l(a,b,c){var d=b.toJSON(),e=a.parseStyle(d.style);c?(b.find("#borderColor").value(e["border-color"]||"")[0].fire("change"),b.find("#backgroundColor").value(e["background-color"]||"")[0].fire("change")):(e["border-color"]=d.borderColor,e["background-color"]=d.backgroundColor),b.find("#style").value(a.serializeStyle(a.parseStyle(a.serializeStyle(e))))}function m(a,b,c){var d=a.parseStyle(a.getAttrib(c,"style"));d["border-color"]&&(b.borderColor=d["border-color"]),d["background-color"]&&(b.backgroundColor=d["background-color"]),b.style=a.serializeStyle(d)}function n(a,b,d){var e=a.parseStyle(a.getAttrib(b,"style"));c(d,function(a){e[a.name]=a.value}),a.setAttrib(b,"style",a.serializeStyle(a.parseStyle(a.serializeStyle(e))))}var o=this;o.tableProps=function(){o.table(!0)},o.table=function(e){function j(){function c(a,b,d){if("TD"===a.tagName||"TH"===a.tagName)v.setStyle(a,b,d);else if(a.children)for(var e=0;e<a.children.length;e++)c(a.children[e],b,d)}var e;l(v,this),w=a.extend(w,this.toJSON()),w["class"]===!1&&delete w["class"],d.undoManager.transact(function(){if(p||(p=d.plugins.table.insertTable(w.cols||1,w.rows||1)),d.dom.setAttribs(p,{style:w.style,"class":w["class"]}),d.settings.table_style_by_css){if(u=[],u.push({name:"border",value:w.border}),u.push({name:"border-spacing",value:h(w.cellspacing)}),n(v,p,u),v.setAttribs(p,{"data-mce-border-color":w.borderColor,"data-mce-cell-padding":w.cellpadding,"data-mce-border":w.border}),p.children)for(var a=0;a<p.children.length;a++)c(p.children[a],"border",w.border),c(p.children[a],"padding",h(w.cellpadding))}else d.dom.setAttribs(p,{border:w.border,cellpadding:w.cellpadding,cellspacing:w.cellspacing});v.getAttrib(p,"width")&&!d.settings.table_style_by_css?v.setAttrib(p,"width",g(w.width)):v.setStyle(p,"width",h(w.width)),v.setStyle(p,"height",h(w.height)),e=v.select("caption",p)[0],e&&!w.caption&&v.remove(e),!e&&w.caption&&(e=v.create("caption"),e.innerHTML=b.ie?"\xa0":'<br data-mce-bogus="1"/>',p.insertBefore(e,p.firstChild)),i(p),w.align&&d.formatter.apply("align"+w.align,{},p),d.focus(),d.addVisual()})}function o(a,b){function c(a,c){for(var d=0;d<c.length;d++){var e=v.getStyle(c[d],b);if("undefined"==typeof a&&(a=e),a!=e)return""}return a}var e,f=d.dom.select("td,th",a);return e=c(e,f)}var p,q,r,s,t,u,v=d.dom,w={};e===!0?(p=v.getParent(d.selection.getStart(),"table"),p&&(w={width:g(v.getStyle(p,"width")||v.getAttrib(p,"width")),height:g(v.getStyle(p,"height")||v.getAttrib(p,"height")),cellspacing:g(v.getStyle(p,"border-spacing")||v.getAttrib(p,"cellspacing")),cellpadding:v.getAttrib(p,"data-mce-cell-padding")||v.getAttrib(p,"cellpadding")||o(p,"padding"),border:v.getAttrib(p,"data-mce-border")||v.getAttrib(p,"border")||o(p,"border"),borderColor:v.getAttrib(p,"data-mce-border-color"),caption:!!v.select("caption",p)[0],"class":v.getAttrib(p,"class")},c("left center right".split(" "),function(a){d.formatter.matchNode(p,"align"+a)&&(w.align=a)}))):(q={label:"Cols",name:"cols"},r={label:"Rows",name:"rows"}),d.settings.table_class_list&&(w["class"]&&(w["class"]=w["class"].replace(/\s*mce\-item\-table\s*/g,"")),s={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"table",classes:[a.value]})})})}),t={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:d.settings.table_appearance_options!==!1?[q,r,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[q,r,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},s]},d.settings.table_advtab!==!1?(m(v,w,p),d.windowManager.open({title:"Table properties",data:w,bodyType:"tabpanel",body:[{title:"General",type:"form",items:t},f(v)],onsubmit:j})):d.windowManager.open({title:"Table properties",data:w,body:t,onsubmit:j})},o.merge=function(a,b){d.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var c=this.toJSON();d.undoManager.transact(function(){a.merge(b,c.cols,c.rows)})}})},o.cell=function(){function b(a,b,c){(1===s.length||c)&&r.setAttrib(a,b,c)}function e(a,b,c){(1===s.length||c)&&r.setStyle(a,b,c)}function n(){l(r,this),p=a.extend(p,this.toJSON()),d.undoManager.transact(function(){c(s,function(a){b(a,"scope",p.scope),b(a,"style",p.style),b(a,"class",p["class"]),e(a,"width",h(p.width)),e(a,"height",h(p.height)),p.type&&a.nodeName.toLowerCase()!==p.type&&(a=r.rename(a,p.type)),1===s.length&&(i(a),j(a)),p.align&&d.formatter.apply("align"+p.align,{},a),p.valign&&d.formatter.apply("valign"+p.valign,{},a)}),d.focus()})}var o,p,q,r=d.dom,s=[];if(s=d.dom.select("td[data-mce-selected],th[data-mce-selected]"),o=d.dom.getParent(d.selection.getStart(),"td,th"),!s.length&&o&&s.push(o),o=o||s[0]){s.length>1?p={width:"",height:"",scope:"","class":"",align:"",style:"",type:o.nodeName.toLowerCase()}:(p={width:g(r.getStyle(o,"width")||r.getAttrib(o,"width")),height:g(r.getStyle(o,"height")||r.getAttrib(o,"height")),scope:r.getAttrib(o,"scope"),"class":r.getAttrib(o,"class")},p.type=o.nodeName.toLowerCase(),c("left center right".split(" "),function(a){d.formatter.matchNode(o,"align"+a)&&(p.align=a)}),c("top middle bottom".split(" "),function(a){d.formatter.matchNode(o,"valign"+a)&&(p.valign=a)}),m(r,p,o)),d.settings.table_cell_class_list&&(q={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_cell_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"td",classes:[a.value]})})})});var t={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},q]};d.settings.table_cell_advtab!==!1?d.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:p,body:[{title:"General",type:"form",items:t},f(r)],onsubmit:n}):d.windowManager.open({title:"Cell properties",data:p,body:t,onsubmit:n})}},o.row=function(){function b(a,b,c){(1===u.length||c)&&t.setAttrib(a,b,c)}function e(a,b,c){(1===u.length||c)&&t.setStyle(a,b,c)}function j(){var f,g,j;l(t,this),r=a.extend(r,this.toJSON()),d.undoManager.transact(function(){var a=r.type;c(u,function(c){b(c,"scope",r.scope),b(c,"style",r.style),b(c,"class",r["class"]),e(c,"height",h(r.height)),a!==c.parentNode.nodeName.toLowerCase()&&(f=t.getParent(c,"table"),g=c.parentNode,j=t.select(a,f)[0],j||(j=t.create(a),f.firstChild?"CAPTION"===f.firstChild.nodeName?t.insertAfter(j,f.firstChild):f.insertBefore(j,f.firstChild):f.appendChild(j)),j.appendChild(c),g.hasChildNodes()||t.remove(g)),1===u.length&&i(c),r.align&&d.formatter.apply("align"+r.align,{},c)}),d.focus()})}var n,o,p,q,r,s,t=d.dom,u=[];n=d.dom.getParent(d.selection.getStart(),"table"),o=d.dom.getParent(d.selection.getStart(),"td,th"),c(n.rows,function(a){c(a.cells,function(b){if(t.getAttrib(b,"data-mce-selected")||b==o)return u.push(a),!1})}),p=u[0],p&&(u.length>1?r={height:"",scope:"","class":"",align:"",type:p.parentNode.nodeName.toLowerCase()}:(r={height:g(t.getStyle(p,"height")||t.getAttrib(p,"height")),scope:t.getAttrib(p,"scope"),"class":t.getAttrib(p,"class")},r.type=p.parentNode.nodeName.toLowerCase(),c("left center right".split(" "),function(a){d.formatter.matchNode(p,"align"+a)&&(r.align=a)}),m(t,r,p)),d.settings.table_row_class_list&&(q={name:"class",type:"listbox",label:"Class",values:k(d.settings.table_row_class_list,function(a){a.value&&(a.textStyle=function(){return d.formatter.getCssText({block:"tr",classes:[a.value]})})})}),s={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},q]},d.settings.table_row_advtab!==!1?d.windowManager.open({title:"Row properties",data:r,bodyType:"tabpanel",body:[{title:"General",type:"form",items:s},f(t)],onsubmit:j}):d.windowManager.open({title:"Row properties",data:r,body:s,onsubmit:j}))}}}),g("9",["4","5"],function(a,b){var c;return function(d){function e(a,b){return{index:a,y:d.dom.getPos(b).y}}function f(a,b){return{index:a,y:d.dom.getPos(b).y+b.offsetHeight}}function g(a,b){return{index:a,x:d.dom.getPos(b).x}}function h(a,b){return{index:a,x:d.dom.getPos(b).x+b.offsetWidth}}function i(){var a=d.getBody().dir;return"rtl"===a}function j(){return d.inline}function k(){return j?d.getBody().ownerDocument.body:d.getBody()}function l(a,b){return i()?h(a,b):g(a,b)}function m(a,b){return i()?g(a,b):h(a,b)}function n(a,b){return o(a,"width")/o(b,"width")*100}function o(a,b){var c=d.dom.getStyle(a,b,!0),e=parseInt(c,10);return e}function p(a){var b=o(a,"width"),c=o(a.parentElement,"width");return b/c*100}function q(a,b){var c=o(a,"width");return b/c*100}function r(a,b){var c=o(a.parentElement,"width");return b/c*100}function s(a,b,c){for(var d=[],e=1;e<c.length;e++){var f=c[e].element;d.push(a(e-1,f))}var g=c[c.length-1];return d.push(b(c.length-1,g.element)),d}function t(){var b=d.dom.select("."+la,k());a.each(b,function(a){d.dom.remove(a)})}function u(a){t(),E(a)}function v(a,b,c,d,e,f,g,h){var i={"data-mce-bogus":"all","class":la+" "+a,unselectable:"on","data-mce-resize":!1,style:"cursor: "+b+"; margin: 0; padding: 0; position: absolute; left: "+c+"px; top: "+d+"px; height: "+e+"px; width: "+f+"px; "};return i[g]=h,i}function w(b,c,e){a.each(b,function(a){var b=e.x,f=a.y-ua/2,g=ua,h=c;d.dom.add(k(),"div",v(ma,na,b,f,g,h,oa,a.index))})}function x(b,c,e){a.each(b,function(a){var b=a.x-ua/2,f=e.y,g=c,h=ua;d.dom.add(k(),"div",v(qa,ra,b,f,g,h,sa,a.index))})}function y(b){return a.map(b.rows,function(b){var c=a.map(b.cells,function(a){var b=a.hasAttribute("rowspan")?parseInt(a.getAttribute("rowspan"),10):1,c=a.hasAttribute("colspan")?parseInt(a.getAttribute("colspan"),10):1;return{element:a,rowspan:b,colspan:c}});return{element:b,cells:c}})}function z(b){function c(a,b){return a+","+b}function d(a,b){return g[c(a,b)]}function e(){var b=[];return a.each(h,function(a){b=b.concat(a.cells)}),b}function f(){return h}var g={},h=[],i=0,j=0;return a.each(b,function(b,d){var e=[];a.each(b.cells,function(a){for(var b=0;void 0!==g[c(d,b)];)b++;for(var f={element:a.element,colspan:a.colspan,rowspan:a.rowspan,rowIndex:d,colIndex:b},h=0;h<a.colspan;h++)for(var k=0;k<a.rowspan;k++){var l=d+k,m=b+h;g[c(l,m)]=f,i=Math.max(i,l+1),j=Math.max(j,m+1)}e.push(f)}),h.push({element:b.element,cells:e})}),{grid:{maxRows:i,maxCols:j},getAt:d,getAllCells:e,getAllRows:f}}function A(a,b){for(var c=[],d=a;d<b;d++)c.push(d);return c}function B(a,b,c){for(var d,e=a(),f=0;f<e.length;f++)b(e[f])&&(d=e[f]);return d?d:c()}function C(b){var c=A(0,b.grid.maxCols),d=A(0,b.grid.maxRows);return a.map(c,function(a){function c(){for(var c=[],e=0;e<d.length;e++){var f=b.getAt(e,a);f&&f.colIndex===a&&c.push(f)}return c}function e(a){return 1===a.colspan}function f(){for(var c,e=0;e<d.length;e++)if(c=b.getAt(e,a))return c;return null}return B(c,e,f)})}function D(b){var c=A(0,b.grid.maxCols),d=A(0,b.grid.maxRows);return a.map(d,function(a){function d(){for(var d=[],e=0;e<c.length;e++){var f=b.getAt(a,e);f&&f.rowIndex===a&&d.push(f)}return d}function e(a){return 1===a.rowspan}function f(){return b.getAt(a,0)}return B(d,e,f)})}function E(a){var b=y(a),c=z(b),g=D(c),h=C(c),i=d.dom.getPos(a),j=g.length>0?s(e,f,g):[],k=h.length>0?s(l,m,h):[];w(j,a.offsetWidth,i),x(k,a.offsetHeight,i)}function F(a,b,c,d){if(b<0||b>=a.length-1)return"";var e=a[b];if(e)e={value:e,delta:0};else for(var f=a.slice(0,b).reverse(),g=0;g<f.length;g++)f[g]&&(e={value:f[g],delta:g+1});var h=a[b+1];if(h)h={value:h,delta:1};else for(var i=a.slice(b+1),j=0;j<i.length;j++)i[j]&&(h={value:i[j],delta:j+1});var k=h.delta-e.delta,l=Math.abs(h.value-e.value)/k;return c?l/o(d,"width")*100:l}function G(a,b){var c=d.dom.getStyle(a,b);return c||(c=d.dom.getAttrib(a,b)),c||(c=d.dom.getStyle(a,b,!0)),c}function H(a,b,c){var d=G(a,"width"),e=parseInt(d,10),f=b?n(a,c):o(a,"width");return(b&&!Q(d)||!b&&!R(d))&&(e=0),!isNaN(e)&&e>0?e:f}function I(b,c,d){for(var e=C(b),f=a.map(e,function(a){return l(a.colIndex,a.element).x}),g=[],h=0;h<e.length;h++){var i=e[h].element.hasAttribute("colspan")?parseInt(e[h].element.getAttribute("colspan"),10):1,j=i>1?F(f,h):H(e[h].element,c,d);j=j?j:va,g.push(j)}return g}function J(a){var b=G(a,"height"),c=parseInt(b,10);return Q(b)&&(c=0),!isNaN(c)&&c>0?c:o(a,"height")}function K(b){for(var c=D(b),d=a.map(c,function(a){return e(a.rowIndex,a.element).y}),f=[],g=0;g<c.length;g++){var h=c[g].element.hasAttribute("rowspan")?parseInt(c[g].element.getAttribute("rowspan"),10):1,i=h>1?F(d,g):J(c[g].element);i=i?i:wa,f.push(i)}return f}function L(b,c,d,e,f){function g(b){return a.map(b,function(){return 0})}function h(){var a;if(f)a=[100-l[0]];else{var b=Math.max(e,l[0]+d);a=[b-l[0]]}return a}function i(a,b){var c,f=g(l.slice(0,a)),h=g(l.slice(b+1));if(d>=0){var i=Math.max(e,l[b]-d);c=f.concat([d,i-l[b]]).concat(h)}else{var j=Math.max(e,l[a]+d),k=l[a]-j;c=f.concat([j-l[a],k]).concat(h)}return c}function j(a,b){var c,f=g(l.slice(0,b));if(d>=0)c=f.concat([d]);else{var h=Math.max(e,l[b]+d);c=f.concat([h-l[b]])}return c}var k,l=b.slice(0);return k=0===b.length?[]:1===b.length?h():0===c?i(0,1):c>0&&c<b.length-1?i(c,c+1):c===b.length-1?j(c-1,c):[]}function M(a,b,c){for(var d=0,e=a;e<b;e++)d+=c[e];return d}function N(b,c){var d=b.getAllCells();return a.map(d,function(a){var b=M(a.colIndex,a.colIndex+a.colspan,c);return{element:a.element,width:b,colspan:a.colspan}})}function O(b,c){var d=b.getAllCells();return a.map(d,function(a){var b=M(a.rowIndex,a.rowIndex+a.rowspan,c);return{element:a.element,height:b,rowspan:a.rowspan}})}function P(b,c){var d=b.getAllRows();return a.map(d,function(a,b){return{element:a.element,height:c[b]}})}function Q(a){return ya.test(a)}function R(a){return za.test(a)}function S(b,c,e){function f(b,c){a.each(b,function(a){d.dom.setStyle(a.element,"width",a.width+c),d.dom.setAttrib(a.element,"width",null)})}function g(){return e<k.grid.maxCols-1?p(b):p(b)+r(b,c)}function h(){return e<k.grid.maxCols-1?o(b,"width"):o(b,"width")+c}function i(a,c,f){e!=k.grid.maxCols-1&&f||(d.dom.setStyle(b,"width",a+c),d.dom.setAttrib(b,"width",null))}for(var j=y(b),k=z(j),l=Q(b.width)||Q(b.style.width),m=I(k,l,b),n=l?q(b,c):c,s=L(m,e,n,va,l,b),t=[],u=0;u<s.length;u++)t.push(s[u]+m[u]);var v=N(k,t),w=l?"%":"px",x=l?g():h();d.undoManager.transact(function(){f(v,w),i(x,w,l)})}function T(b,c,e){for(var f=y(b),g=z(f),h=K(g),i=[],j=0,k=0;k<h.length;k++)i.push(k===e?c+h[k]:h[k]),j+=j[k];var l=O(g,i),m=P(g,i);d.undoManager.transact(function(){a.each(m,function(a){d.dom.setStyle(a.element,"height",a.height+"px"),d.dom.setAttrib(a.element,"height",null)}),a.each(l,function(a){d.dom.setStyle(a.element,"height",a.height+"px"),d.dom.setAttrib(a.element,"height",null)}),d.dom.setStyle(b,"height",j+"px"),d.dom.setAttrib(b,"height",null)})}function U(){fa=setTimeout(function(){Y()},200)}function V(){clearTimeout(fa)}function W(){var a=document.createElement("div");return a.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),a.setAttribute("data-mce-bogus","all"),a}function X(a,b){d.dom.bind(a,"mouseup",function(){Y()}),d.dom.bind(a,"mousemove",function(a){V(),ga&&b(a)}),d.dom.bind(a,"mouseout",function(){U()})}function Y(){if(d.dom.remove(ha),ga){d.dom.removeClass(ia,xa),ga=!1;var a,b;if($(ia)){var e=parseInt(d.dom.getAttrib(ia,ta),10),f=d.dom.getPos(ia).x;a=parseInt(d.dom.getAttrib(ia,sa),10),b=i()?e-f:f-e,Math.abs(b)>=1&&S(c,b,a)}else if(_(ia)){var g=parseInt(d.dom.getAttrib(ia,pa),10),h=d.dom.getPos(ia).y;a=parseInt(d.dom.getAttrib(ia,oa),10),b=h-g,Math.abs(b)>=1&&T(c,b,a)}u(c),d.nodeChanged()}}function Z(a,b){ha=ha?ha:W(),ga=!0,d.dom.addClass(a,xa),ia=a,X(ha,b),d.dom.add(k(),ha)}function $(a){return d.dom.hasClass(a,qa)}function _(a){return d.dom.hasClass(a,ma)}function aa(a){ja=void 0!==ja?ja:a.clientX;var b=a.clientX-ja;ja=a.clientX;var c=d.dom.getPos(ia).x;d.dom.setStyle(ia,"left",c+b+"px")}function ba(a){ka=void 0!==ka?ka:a.clientY;var b=a.clientY-ka;ka=a.clientY;var c=d.dom.getPos(ia).y;d.dom.setStyle(ia,"top",c+b+"px")}function ca(a){ja=void 0,Z(a,aa)}function da(a){ka=void 0,Z(a,ba)}function ea(a){var b=a.target,e=d.getBody();if(d.$.contains(e,c)||c===e)if($(b)){a.preventDefault();var f=d.dom.getPos(b).x;d.dom.setAttrib(b,ta,f),ca(b)}else if(_(b)){a.preventDefault();var g=d.dom.getPos(b).y;d.dom.setAttrib(b,pa,g),da(b)}else t()}var fa,ga,ha,ia,ja,ka,la="mce-resize-bar",ma="mce-resize-bar-row",na="row-resize",oa="data-row",pa="data-initial-top",qa="mce-resize-bar-col",ra="col-resize",sa="data-col",ta="data-initial-left",ua=4,va=10,wa=10,xa="mce-resize-bar-dragging",ya=new RegExp(/(\d+(\.\d+)?%)/),za=new RegExp(/px|em/);
return d.on("init",function(){d.dom.bind(k(),"mousedown",ea)}),d.on("ObjectResized",function(b){var c=b.target;if("TABLE"===c.nodeName){var e=[];a.each(c.rows,function(b){a.each(b.cells,function(a){var b=d.dom.getStyle(a,"width",!0);e.push({cell:a,width:b})})}),a.each(e,function(a){d.dom.setStyle(a.cell,"width",a.width),d.dom.setAttrib(a.cell,"width",null)})}}),d.on("mouseover",function(a){if(!ga){var b=d.dom.getParent(a.target,"table");("TABLE"===a.target.nodeName||b)&&(c=b,u(b))}}),d.on("keydown",function(a){switch(a.keyCode){case b.LEFT:case b.RIGHT:case b.UP:case b.DOWN:t()}}),d.on("remove",function(){t(),d.dom.unbind(k(),"mousedown",ea)}),{adjustWidth:S,adjustHeight:T,clearBars:t,drawBars:E,determineDeltas:L,getTableGrid:z,getTableDetails:y,getWidths:I,getPixelHeights:K,isPercentageBasedSize:Q,isPixelBasedSize:R,recalculateWidths:N,recalculateCellHeights:O,recalculateRowHeights:P}}}),g("e",["b"],function(a){return a("tinymce.util.Delay")}),g("a",["5","e","2","4","c"],function(a,b,c,d,e){var f=d.each,g=e.getSpanVal;return function(h){function i(){function c(c){function d(a,b){var d=a?"previousSibling":"nextSibling",f=h.dom.getParent(b,"tr"),g=f[d];if(g)return r(h,b,g,a),c.preventDefault(),!0;var i=h.dom.getParent(f,"table"),l=f.parentNode,m=l.nodeName.toLowerCase();if("tbody"===m||m===(a?"tfoot":"thead")){var n=e(a,i,l,"tbody");if(null!==n)return j(a,n,b)}return k(a,f,d,i)}function e(a,b,c,d){var e=h.dom.select(">"+d,b),f=e.indexOf(c);if(a&&0===f||!a&&f===e.length-1)return i(a,b);if(f===-1){var g="thead"===c.tagName.toLowerCase()?0:e.length-1;return e[g]}return e[f+(a?-1:1)]}function i(a,b){var c=a?"thead":"tfoot",d=h.dom.select(">"+c,b);return 0!==d.length?d[0]:null}function j(a,b,d){var e=l(b,a);return e&&r(h,d,e,a),c.preventDefault(),!0}function k(a,b,e,f){var g=f[e];if(g)return m(g),!0;var i=h.dom.getParent(f,"td,th");if(i)return d(a,i,c);var j=l(b,!a);return m(j),c.preventDefault(),!1}function l(a,b){var c=a&&a[b?"lastChild":"firstChild"];return c&&"BR"===c.nodeName?h.dom.getParent(c,"td,th"):c}function m(a){h.selection.setCursorLocation(a,0)}function n(){return u==a.UP||u==a.DOWN}function o(a){var b=a.selection.getNode(),c=a.dom.getParent(b,"tr");return null!==c}function p(a){for(var b=0,c=a;c.previousSibling;)c=c.previousSibling,b+=g(c,"colspan");return b}function q(a,b){var c=0,d=0;return f(a.children,function(a,e){if(c+=g(a,"colspan"),d=e,c>b)return!1}),d}function r(a,b,c,d){var e=p(h.dom.getParent(b,"td,th")),f=q(c,e),g=c.childNodes[f],i=l(g,d);m(i||g)}function s(a){var b=h.selection.getNode(),c=h.dom.getParent(b,"td,th"),d=h.dom.getParent(a,"td,th");return c&&c!==d&&t(c,d)}function t(a,b){return h.dom.getParent(a,"TABLE")===h.dom.getParent(b,"TABLE")}var u=c.keyCode;if(n()&&o(h)){var v=h.selection.getNode();b.setEditorTimeout(h,function(){s(v)&&d(!c.shiftKey&&u===a.UP,v,c)},0)}}h.on("KeyDown",function(a){c(a)})}function j(){function a(a,b){var c,d=b.ownerDocument,e=d.createRange();return e.setStartBefore(b),e.setEnd(a.endContainer,a.endOffset),c=d.createElement("body"),c.appendChild(e.cloneContents()),0===c.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}h.on("KeyDown",function(b){var c,d,e=h.dom;37!=b.keyCode&&38!=b.keyCode||(c=h.selection.getRng(),d=e.getParent(c.startContainer,"table"),d&&h.getBody().firstChild==d&&a(c,d)&&(c=e.createRng(),c.setStartBefore(d),c.setEndBefore(d),h.selection.setRng(c),b.preventDefault()))})}function k(){h.on("KeyDown SetContent VisualAid",function(){var a;for(a=h.getBody().lastChild;a;a=a.previousSibling)if(3==a.nodeType){if(a.nodeValue.length>0)break}else if(1==a.nodeType&&("BR"==a.tagName||!a.getAttribute("data-mce-bogus")))break;a&&"TABLE"==a.nodeName&&(h.settings.forced_root_block?h.dom.add(h.getBody(),h.settings.forced_root_block,h.settings.forced_root_block_attrs,c.ie&&c.ie<10?"&nbsp;":'<br data-mce-bogus="1" />'):h.dom.add(h.getBody(),"br",{"data-mce-bogus":"1"}))}),h.on("PreProcess",function(a){var b=a.node.lastChild;b&&("BR"==b.nodeName||1==b.childNodes.length&&("BR"==b.firstChild.nodeName||"\xa0"==b.firstChild.nodeValue))&&b.previousSibling&&"TABLE"==b.previousSibling.nodeName&&h.dom.remove(b)})}function l(){function a(a,b,c,d){var e,f,g,h=3,i=a.dom.getParent(b.startContainer,"TABLE");return i&&(e=i.parentNode),f=b.startContainer.nodeType==h&&0===b.startOffset&&0===b.endOffset&&d&&("TR"==c.nodeName||c==e),g=("TD"==c.nodeName||"TH"==c.nodeName)&&!d,f||g}function b(){var b=h.selection.getRng(),c=h.selection.getNode(),d=h.dom.getParent(b.startContainer,"TD,TH");if(a(h,b,c,d)){d||(d=c);for(var e=d.lastChild;e.lastChild;)e=e.lastChild;3==e.nodeType&&(b.setEnd(e,e.data.length),h.selection.setRng(b))}}h.on("KeyDown",function(){b()}),h.on("MouseDown",function(a){2!=a.button&&b()})}function m(){function b(a){h.selection.select(a,!0),h.selection.collapse(!0)}function c(a){h.$(a).empty(),e.paddCell(a)}h.on("keydown",function(e){if((e.keyCode==a.DELETE||e.keyCode==a.BACKSPACE)&&!e.isDefaultPrevented()){var f,g,i,j;if(f=h.dom.getParent(h.selection.getStart(),"table")){if(g=h.dom.select("td,th",f),i=d.grep(g,function(a){return!!h.dom.getAttrib(a,"data-mce-selected")}),0===i.length)return j=h.dom.getParent(h.selection.getStart(),"td,th"),void(h.selection.isCollapsed()&&j&&h.dom.isEmpty(j)&&(e.preventDefault(),c(j),b(j)));e.preventDefault(),h.undoManager.transact(function(){g.length==i.length?h.execCommand("mceTableDelete"):(d.each(i,c),b(i[0]))})}}})}function n(){var b="\ufeff",c=function(a){return h.dom.isEmpty(a)||a.firstChild===a.lastChild&&f(a.firstChild)},d=function(a){return a&&"CAPTION"==a.nodeName&&"TABLE"==a.parentNode.nodeName},e=function(a,b){var c=b.firstChild;do if(c===a)return!0;while(c=c.firstChild);return!1},f=function(a){if(3===a.nodeType){if(a.data===b)return!0;a=a.parentNode}return 1===a.nodeType&&a.hasAttribute("data-mce-caret")},g=function(a){var b=h.selection.getRng();return!b.startOffset&&!b.startContainer.previousSibling&&e(b.startContainer,a)},i=function(a,c){var d;d=c?h.dom.create("p",{"data-mce-caret":"after","data-mce-bogus":"all"},'<br data-mce-bogus="1">'):a.ownerDocument.createTextNode(b),a.appendChild(d)},j=function(a,d){var e=a.lastChild,g=h.selection.getRng(),j=g.startContainer,k=g.startOffset;c(a)?(a.innerHTML=b,j=a.lastChild,k=0):f(e)||i(a,h.dom.isBlock(e)),h.selection.setCursorLocation(j,k)},k=function(a){var b=h.selection.getRng(),c=h.dom.createRng(),d=a.firstChild;b.commonAncestorContainer===a.parentNode&&e(b.startContainer,a)&&(c.setStart(a,0),1===d.nodeType?c.setEnd(a,a.childNodes.length):c.setEnd(d,d.nodeValue.length),h.selection.setRng(c))};h.on("keydown",function(b){if(!(b.keyCode!==a.DELETE&&b.keyCode!==a.BACKSPACE||b.isDefaultPrevented())){var e=h.dom.getParent(h.selection.getStart(),"caption");d(e)&&(h.selection.isCollapsed()?(j(e),(c(e)||b.keyCode===a.BACKSPACE&&g(e))&&b.preventDefault()):(k(e),h.undoManager.transact(function(){h.execCommand("Delete"),j(e)}),b.preventDefault()))}})}n(),m(),c.webkit&&(i(),l()),c.gecko&&(j(),k()),c.ie>9&&(j(),k())}}),g("0",["1","2","3","4","5","6","7","8","9","a"],function(a,b,c,d,e,f,g,h,i,j){function k(a){function c(b){return function(){a.execCommand(b)}}function d(c,d){var e,f,g,h;for(g='<table id="__mce"><tbody>',e=0;e<d;e++){for(g+="<tr>",f=0;f<c;f++)g+="<td>"+(b.ie&&b.ie<10?"&nbsp;":"<br>")+"</td>";g+="</tr>"}return g+="</tbody></table>",a.undoManager.transact(function(){a.insertContent(g),h=a.dom.get("__mce"),a.dom.setAttrib(h,"id",null),a.$("tr",h).each(function(b,c){a.fire("newrow",{node:c}),a.$("th,td",c).each(function(b,c){a.fire("newcell",{node:c})})}),a.dom.setAttribs(h,a.settings.table_default_attributes||{}),a.dom.setStyles(h,a.settings.table_default_styles||{})}),h}function k(b,c,d){function e(){var e,f,g,h={},i=0;f=a.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=f[0],e||(e=a.selection.getStart()),d&&f.length>0?(l(f,function(a){return h[a.parentNode.parentNode.nodeName]=1}),l(h,function(a){i+=a}),g=1!==i):g=!a.dom.getParent(e,c),b.disabled(g),a.selection.selectorChanged(c,function(a){b.disabled(!a)})}a.initialized?e():a.on("init",e)}function m(){k(this,"table")}function n(){k(this,"td,th")}function o(){k(this,"td,th",!0)}function p(){var a="";a='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var b=0;b<10;b++){a+="<tr>";for(var c=0;c<10;c++)a+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*b+c)+'" href="#" data-mce-x="'+c+'" data-mce-y="'+b+'"></a></td>';a+="</tr>"}return a+="</table>",a+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function q(b,c,d){var e,f,g,h,i,j=d.getEl().getElementsByTagName("table")[0],k=d.isRtl()||"tl-tr"==d.parent().rel;for(j.nextSibling.innerHTML=b+1+" x "+(c+1),k&&(b=9-b),f=0;f<10;f++)for(e=0;e<10;e++)h=j.rows[f].childNodes[e].firstChild,i=(k?e>=b:e<=b)&&f<=c,a.dom.toggleClass(h,"mce-active",i),i&&(g=h);return g.parentNode}function r(){a.addButton("tableprops",{title:"Table properties",onclick:z.tableProps,icon:"table"}),a.addButton("tabledelete",{title:"Delete table",onclick:c("mceTableDelete")}),a.addButton("tablecellprops",{title:"Cell properties",onclick:c("mceTableCellProps")}),a.addButton("tablemergecells",{title:"Merge cells",onclick:c("mceTableMergeCells")}),a.addButton("tablesplitcells",{title:"Split cell",onclick:c("mceTableSplitCells")}),a.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:c("mceTableInsertRowBefore")}),a.addButton("tableinsertrowafter",{title:"Insert row after",onclick:c("mceTableInsertRowAfter")}),a.addButton("tabledeleterow",{title:"Delete row",onclick:c("mceTableDeleteRow")}),a.addButton("tablerowprops",{title:"Row properties",onclick:c("mceTableRowProps")}),a.addButton("tablecutrow",{title:"Cut row",onclick:c("mceTableCutRow")}),a.addButton("tablecopyrow",{title:"Copy row",onclick:c("mceTableCopyRow")}),a.addButton("tablepasterowbefore",{title:"Paste row before",onclick:c("mceTablePasteRowBefore")}),a.addButton("tablepasterowafter",{title:"Paste row after",onclick:c("mceTablePasteRowAfter")}),a.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:c("mceTableInsertColBefore")}),a.addButton("tableinsertcolafter",{title:"Insert column after",onclick:c("mceTableInsertColAfter")}),a.addButton("tabledeletecol",{title:"Delete column",onclick:c("mceTableDeleteCol")})}function s(b){var c=a.dom.is(b,"table")&&a.getBody().contains(b);return c}function t(){var b=a.settings.table_toolbar;""!==b&&b!==!1&&(b||(b="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),a.addContextToolbar(s,b))}function u(){return w}function v(a){w=a}var w,x,y=this,z=new h(a);!a.settings.object_resizing||a.settings.table_resize_bars===!1||a.settings.object_resizing!==!0&&"table"!==a.settings.object_resizing||(x=i(a)),a.settings.table_grid===!1?a.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:z.table}):a.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(a){a.aria&&(this.parent().hideAll(),a.stopImmediatePropagation(),z.table())},onshow:function(){q(0,0,this.menu.items()[0])},onhide:function(){var b=this.menu.items()[0].getEl().getElementsByTagName("a");a.dom.removeClass(b,"mce-active"),a.dom.addClass(b[0],"mce-active")},menu:[{type:"container",html:p(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(a){var b,c,d=a.target;"A"==d.tagName.toUpperCase()&&(b=parseInt(d.getAttribute("data-mce-x"),10),c=parseInt(d.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(b=9-b),b===this.lastX&&c===this.lastY||(q(b,c,a.control),this.lastX=b,this.lastY=c))},onclick:function(b){var c=this;"A"==b.target.tagName.toUpperCase()&&(b.preventDefault(),b.stopPropagation(),c.parent().cancel(),a.undoManager.transact(function(){d(c.lastX+1,c.lastY+1)}),a.addVisual())}}]}),a.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:m,onclick:z.tableProps}),a.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:m,cmd:"mceTableDelete"}),a.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:c("mceTableCellProps"),onPostRender:n},{text:"Merge cells",onclick:c("mceTableMergeCells"),onPostRender:o},{text:"Split cell",onclick:c("mceTableSplitCells"),onPostRender:n}]}),a.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:c("mceTableInsertRowBefore"),onPostRender:n},{text:"Insert row after",onclick:c("mceTableInsertRowAfter"),onPostRender:n},{text:"Delete row",onclick:c("mceTableDeleteRow"),onPostRender:n},{text:"Row properties",onclick:c("mceTableRowProps"),onPostRender:n},{text:"-"},{text:"Cut row",onclick:c("mceTableCutRow"),onPostRender:n},{text:"Copy row",onclick:c("mceTableCopyRow"),onPostRender:n},{text:"Paste row before",onclick:c("mceTablePasteRowBefore"),onPostRender:n},{text:"Paste row after",onclick:c("mceTablePasteRowAfter"),onPostRender:n}]}),a.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:c("mceTableInsertColBefore"),onPostRender:n},{text:"Insert column after",onclick:c("mceTableInsertColAfter"),onPostRender:n},{text:"Delete column",onclick:c("mceTableDeleteCol"),onPostRender:n}]});var A=[];l("inserttable tableprops deletetable | cell row column".split(" "),function(b){"|"==b?A.push({text:"-"}):A.push(a.menuItems[b])}),a.addButton("table",{type:"menubutton",title:"Table",menu:A}),b.isIE||a.on("click",function(b){b=b.target,"TABLE"===b.nodeName&&(a.selection.select(b),a.nodeChanged())}),y.quirks=new j(a),a.on("Init",function(){y.cellSelection=new g(a,function(a){a&&x&&x.clearBars()}),y.resizeBars=x}),a.on("PreInit",function(){a.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(a,b){for(var c=a.length;c--;)a[c].attr(b,null)})}),l({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(b){var c;c=a.dom.getParent(a.selection.getStart(),"th,td"),a.dom.select("td[data-mce-selected],th[data-mce-selected]").length?b.merge():z.merge(b,c)},mceTableInsertRowBefore:function(a){a.insertRows(!0)},mceTableInsertRowAfter:function(a){a.insertRows()},mceTableInsertColBefore:function(a){a.insertCols(!0)},mceTableInsertColAfter:function(a){a.insertCols()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){w=a.cutRows()},mceTableCopyRow:function(a){w=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(w,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(w)},mceSplitColsBefore:function(a){a.splitCols(!0)},mceSplitColsAfter:function(a){a.splitCols(!1)},mceTableDelete:function(a){x&&x.clearBars(),a.deleteTable()}},function(b,c){a.addCommand(c,function(){var c=new f(a);c&&(b(c),a.execCommand("mceRepaint"),y.cellSelection.clear())})}),l({mceInsertTable:z.table,mceTableProps:function(){z.table(!0)},mceTableRowProps:z.row,mceTableCellProps:z.cell},function(b,c){a.addCommand(c,function(a,c){b(c)})}),r(),t(),a.settings.table_tab_navigation!==!1&&a.on("keydown",function(b){var c,d,g,h=a.selection.getStart();if(b.keyCode===e.TAB){if(a.dom.getParent(h,"LI,DT,DD"))return;c=a.dom.getParent(h,"th,td"),c&&(b.preventDefault(),d=new f(a),g=b.shiftKey?-1:1,a.undoManager.transact(function(){!d.moveRelIdx(c,g)&&g>0&&(d.insertRow(),d.refresh(),d.moveRelIdx(c,g))}))}}),y.insertTable=d,y.setClipboardRows=v,y.getClipboardRows=u}var l=d.each;return c.add("table",k),function(){}}),d("0")()}();!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("6",tinymce.util.Tools.resolve),g("1",["6"],function(a){return a("tinymce.PluginManager")}),g("2",[],function(){var a=function(a,b,c,d){return a.fire("PastePreProcess",{content:b,internal:c,wordContent:d})},b=function(a,b,c,d){return a.fire("PastePostProcess",{node:b,internal:c,wordContent:d})},c=function(a,b){return a.fire("PastePlainTextToggle",{state:b})};return{firePastePreProcess:a,firePastePostProcess:b,firePastePlainTextToggle:c}}),g("7",["6"],function(a){return a("tinymce.dom.RangeUtils")}),g("8",["6"],function(a){return a("tinymce.Env")}),g("9",["6"],function(a){return a("tinymce.util.Delay")}),g("a",["6"],function(a){return a("tinymce.util.Tools")}),g("b",["6"],function(a){return a("tinymce.util.VK")}),g("c",[],function(){var a="x-tinymce/html",b="<!-- "+a+" -->",c=function(a){return b+a},d=function(a){return a.replace(b,"")},e=function(a){return a.indexOf(b)!==-1};return{mark:c,unmark:d,isMarked:e,internalHtmlMime:function(){return a}}}),g("j",["6"],function(a){return a("tinymce.html.Entities")}),g("d",["a","j"],function(a,b){var c=function(a){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a)},d=function(a){return a.replace(/\r?\n/g,"<br>")},e=function(a,c){var d,e=[],f="<"+a;if("object"==typeof c){for(d in c)c.hasOwnProperty(d)&&e.push(d+'="'+b.encodeAllRaw(c[d])+'"');e.length&&(f+=" "+e.join(" "))}return f+">"},f=function(b,c,d){var f=b.split(/\n\n/),g=e(c,d),h="</"+c+">",i=a.map(f,function(a){return a.split(/\n/).join("<br />")}),j=function(a){return g+a+h};return 1===i.length?i[0]:a.map(i,j).join("")},g=function(a,b,c){return b?f(a,b,c):d(a)};return{isPlainText:c,convert:g,toBRs:d,toBlockElements:f}}),g("e",["a","8"],function(a,b){return function(c){var d,e="%MCEPASTEBIN%",f=function(){function a(a){var b,c,e,f=a.startContainer;if(b=a.getClientRects(),b.length)return b[0];if(a.collapsed&&1==f.nodeType){for(e=f.childNodes[d.startOffset];e&&3==e.nodeType&&!e.data.length;)e=e.nextSibling;if(e)return"BR"==e.tagName&&(c=h.doc.createTextNode("\ufeff"),e.parentNode.insertBefore(c,e),a=h.createRng(),a.setStartBefore(c),a.setEndAfter(c),b=a.getClientRects(),h.remove(c)),b.length?b[0]:void 0}}var f,g,h=c.dom,i=c.getBody(),j=c.dom.getViewPort(c.getWin()),k=j.y,l=20;if(d=c.selection.getRng(),c.inline&&(g=c.selection.getScrollContainer(),g&&g.scrollTop>0&&(k=g.scrollTop)),d.getClientRects){var m=a(d);if(m)l=k+(m.top-h.getPos(i).y);else{l=k;var n=d.startContainer;n&&(3==n.nodeType&&n.parentNode!=i&&(n=n.parentNode),1==n.nodeType&&(l=h.getPos(n,g||i).y))}}f=c.dom.add(c.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+l+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},e),(b.ie||b.gecko)&&h.setStyle(f,"left","rtl"==h.getStyle(i,"direction",!0)?65535:-65535),h.bind(f,"beforedeactivate focusin focusout",function(a){a.stopPropagation()}),f.focus(),c.selection.select(f,!0)},g=function(){if(h()){for(var a;a=c.dom.get("mcepastebin");)c.dom.remove(a),c.dom.unbind(a);d&&c.selection.setRng(d)}d=null},h=function(){return c.dom.get("mcepastebin")},i=function(){var b,d,e,f,g,h=function(a,b){a.appendChild(b),c.dom.remove(b,!0)};for(d=a.grep(c.getBody().childNodes,function(a){return"mcepastebin"===a.id}),b=d.shift(),a.each(d,function(a){h(b,a)}),f=c.dom.select("div[id=mcepastebin]",b),e=f.length-1;e>=0;e--)g=c.dom.create("div"),b.insertBefore(g,f[e]),h(g,f[e]);return b.innerHTML},j=function(){return d},k=function(a){return a===e},l=function(a){return a&&"mcepastebin"===a.id},m=function(){var a=h();return l(a)&&k(a.innerHTML)};return{create:f,remove:g,getEl:h,getHtml:i,getLastRng:j,isDefault:m,isDefaultContent:k}}}),g("k",["6"],function(a){return a("tinymce.html.DomParser")}),g("l",["6"],function(a){return a("tinymce.html.Schema")}),g("m",["6"],function(a){return a("tinymce.html.Serializer")}),g("n",["6"],function(a){return a("tinymce.html.Node")}),g("h",["a","k","l"],function(a,b,c){function d(b,c){return a.each(c,function(a){b=a.constructor==RegExp?b.replace(a,""):b.replace(a[0],a[1])}),b}function e(e){function f(a){var b=a.name,c=a;if("br"===b)return void(i+="\n");if(j[b]&&(i+=" "),k[b])return void(i+=" ");if(3==a.type&&(i+=a.value),!a.shortEnded&&(a=a.firstChild))do f(a);while(a=a.next);l[b]&&c.next&&(i+="\n","p"==b&&(i+="\n"))}var g=new c,h=new b({},g),i="",j=g.getShortEndedElements(),k=a.makeMap("script noscript style textarea video audio iframe object"," "),l=g.getBlockElements();return e=d(e,[/<!\[[^\]]+\]>/g]),f(h.parse(e)),i}function f(a){function b(a,b,c){return b||c?"\xa0":" "}return a=d(a,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,b],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function g(a){var b=0;return function(){return a+b++}}var h=function(){return navigator.userAgent.indexOf(" Edge/")!==-1};return{filter:d,innerText:e,trimHtml:f,createIdGenerator:g,isMsEdge:h}}),g("i",["a","k","l","m","n","h"],function(a,b,c,d,e,f){function g(a){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(a)||/class="OutlineElement/.test(a)||/id="?docs\-internal\-guid\-/.test(a)}function h(b){var c,d;return d=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],b=b.replace(/^[\u00a0 ]+/,""),a.each(d,function(a){if(a.test(b))return c=!0,!1}),c}function i(a){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(a)}function j(a){function b(a){var c="";if(3===a.type)return a.value;if(a=a.firstChild)do c+=b(a);while(a=a.next);return c}function c(a,b){if(3===a.type&&b.test(a.value))return a.value=a.value.replace(b,""),!1;if(a=a.firstChild)do if(!c(a,b))return!1;while(a=a.next);return!0}function d(a){if(a._listIgnore)return void a.remove();if(a=a.firstChild)do d(a);while(a=a.next)}function f(a,b,f){var h=a._listLevel||k;h!=k&&(h<k?g&&(g=g.parent.parent):(j=g,g=null)),g&&g.name==b?g.append(a):(j=j||g,g=new e(b,1),f>1&&g.attr("start",""+f),a.wrap(g)),a.name="li",h>k&&j&&j.lastChild.append(g),k=h,d(a),c(a,/^\u00a0+/),c(a,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),c(a,/^\u00a0+/)}for(var g,j,k=1,l=[],m=a.firstChild;"undefined"!=typeof m&&null!==m;)if(l.push(m),m=m.walk(),null!==m)for(;"undefined"!=typeof m&&m.parent!==a;)m=m.walk();for(var n=0;n<l.length;n++)if(a=l[n],"p"==a.name&&a.firstChild){var o=b(a);if(i(o)){f(a,"ul");continue}if(h(o)){var p=/([0-9]+)\./.exec(o),q=1;p&&(q=parseInt(p[1],10)),f(a,"ol",q);continue}if(a._listLevel){f(a,"ul",1);continue}g=null}else j=g,g=null}function k(b,c,d,f){var g,h={},i=b.dom.parseStyle(f);return a.each(i,function(a,e){switch(e){case"mso-list":g=/\w+ \w+([0-9]+)/i.exec(f),g&&(d._listLevel=parseInt(g[1],10)),/Ignore/i.test(a)&&d.firstChild&&(d._listIgnore=!0,d.firstChild._listIgnore=!0);break;case"horiz-align":e="text-align";break;case"vert-align":e="vertical-align";break;case"font-color":case"mso-foreground":e="color";break;case"mso-background":case"mso-highlight":e="background";break;case"font-weight":case"font-style":return void("normal"!=a&&(h[e]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void d.remove()}return 0===e.indexOf("mso-comment")?void d.remove():void(0!==e.indexOf("mso-")&&("all"==b.settings.paste_retain_style_properties||c&&c[e])&&(h[e]=a))}),/(bold)/i.test(h["font-weight"])&&(delete h["font-weight"],d.wrap(new e("b",1))),/(italic)/i.test(h["font-style"])&&(delete h["font-style"],d.wrap(new e("i",1))),h=b.dom.serializeStyle(h,d.name),h?h:null}var l=function(e,g){var h,i;h=e.settings.paste_retain_style_properties,h&&(i=a.makeMap(h.split(/[, ]/))),g=f.filter(g,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(a,b){return b.length>0?b.replace(/./," ").slice(Math.floor(b.length/2)).split("").join("\xa0"):""}]]);var l=e.settings.paste_word_valid_elements;l||(l="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var m=new c({valid_elements:l,valid_children:"-li[p]"});a.each(m.elements,function(a){a.attributes["class"]||(a.attributes["class"]={},a.attributesOrder.push("class")),a.attributes.style||(a.attributes.style={},a.attributesOrder.push("style"))});var n=new b({},m);n.addAttributeFilter("style",function(a){for(var b,c=a.length;c--;)b=a[c],b.attr("style",k(e,i,b,b.attr("style"))),"span"==b.name&&b.parent&&!b.attributes.length&&b.unwrap()}),n.addAttributeFilter("class",function(a){for(var b,c,d=a.length;d--;)b=a[d],c=b.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(c)&&b.remove(),b.attr("class",null)}),n.addNodeFilter("del",function(a){for(var b=a.length;b--;)a[b].remove()}),n.addNodeFilter("a",function(a){for(var b,c,d,e=a.length;e--;)if(b=a[e],c=b.attr("href"),d=b.attr("name"),c&&c.indexOf("#_msocom_")!=-1)b.remove();else if(c&&0===c.indexOf("file://")&&(c=c.split("#")[1],c&&(c="#"+c)),c||d){if(d&&!/^_?(?:toc|edn|ftn)/i.test(d)){b.unwrap();continue}b.attr({href:c,name:d})}else b.unwrap()});var o=n.parse(g);return e.settings.paste_convert_word_fake_lists!==!1&&j(o),g=new d({validate:e.settings.validate},m).serialize(o)},m=function(a,b){return a.settings.paste_enable_default_filters===!1?b:l(a,b)};return{preProcess:m,isWordContent:g}}),g("f",["2","i"],function(a,b){var c=function(a,b){return{content:a,cancelled:b}},d=function(b,d,e,f){var g=b.dom.create("div",{style:"display:none"},d),h=a.firePastePostProcess(b,g,e,f);return c(h.node.innerHTML,h.isDefaultPrevented())},e=function(b,e,f,g){var h=a.firePastePreProcess(b,e,f,g);return b.hasEventListeners("PastePostProcess")&&!h.isDefaultPrevented()?d(b,h.content,f,g):c(h.content,h.isDefaultPrevented())},f=function(a,c,d){var f=b.isWordContent(c),g=f?b.preProcess(a,c):c;return e(a,g,d,f)};return{process:f}}),g("g",["a"],function(a){var b=function(a){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(a)},c=function(a){return b(a)&&/.(gif|jpe?g|png)$/.test(a)},d=function(a,b,c){return a.undoManager.extra(function(){c(a,b)},function(){a.insertContent('<img src="'+b+'">')}),!0},e=function(a,b,c){return a.undoManager.extra(function(){c(a,b)},function(){a.execCommand("mceInsertLink",!1,b)}),!0},f=function(a,c,d){return!(a.selection.isCollapsed()!==!1||!b(c))&&e(a,c,d)},g=function(a,b,e){return!!c(b)&&d(a,b,e)},h=function(a,b){return a.insertContent(b,{merge:a.settings.paste_merge_formats!==!1,paste:!0}),!0},i=function(b,c){a.each([f,g,h],function(a){return a(b,c,h)!==!0})},j=function(a,b){a.settings.smart_paste===!1?h(a,b):i(a,b)};return{isImageUrl:c,isAbsoluteUrl:b,insertContent:j}}),g("3",["7","8","9","a","b","c","d","e","f","g","h"],function(a,b,c,d,e,f,g,h,i,j,k){return function(l){function m(a,b){var c=b?b:f.isMarked(a),d=i.process(l,f.unmark(a),c);d.cancelled===!1&&j.insertContent(l,d.content)}function n(a){a=l.dom.encode(a).replace(/\r\n/g,"\n"),a=g.convert(a,l.settings.forced_root_block,l.settings.forced_root_block_attrs),m(a,!1)}function o(a){var b={};if(a){if(a.getData){var c=a.getData("Text");c&&c.length>0&&c.indexOf(G)==-1&&(b["text/plain"]=c)}if(a.types)for(var d=0;d<a.types.length;d++){var e=a.types[d];try{b[e]=a.getData(e)}catch(a){b[e]=""}}}return b}function p(a){var b=o(a.clipboardData||l.getDoc().dataTransfer);return k.isMsEdge()?d.extend(b,{"text/html":""}):b}function q(a){return y(a,"text/html")||y(a,"text/plain")}function r(a){var b;return b=a.indexOf(","),b!==-1?a.substr(b+1):null}function s(a,b){return!a.images_dataimg_filter||a.images_dataimg_filter(b)}function t(a){var b=a.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return b?l.dom.encode(b[1]):null}function u(a,b,c){a&&(l.selection.setRng(a),a=null);var d=b.result,e=r(d),f=H(),g=l.settings.images_reuse_filename&&c.name?t(c.name):f,h=new Image;if(h.src=d,s(l.settings,h)){var i,j,k=l.editorUpload.blobCache;j=k.findFirst(function(a){return a.base64()===e}),j?i=j:(i=k.create(f,c,e,g),k.add(i)),m('<img src="'+i.blobUri()+'">',!1)}else m('<img src="'+d+'">',!1)}function v(a,b){function c(c){var d,e,f,g=!1;if(c)for(d=0;d<c.length;d++)if(e=c[d],/^image\/(jpeg|png|gif|bmp)$/.test(e.type)){var h=e.getAsFile?e.getAsFile():e;f=new FileReader,f.onload=u.bind(null,b,f,h),f.readAsDataURL(h),a.preventDefault(),g=!0}return g}var d=a.clipboardData||a.dataTransfer;if(l.settings.paste_data_images&&d)return c(d.items)||c(d.files)}function w(a){var b=a.clipboardData;return navigator.userAgent.indexOf("Android")!=-1&&b&&b.items&&0===b.items.length}function x(b){return a.getCaretRangeFromPoint(b.clientX,b.clientY,l.getDoc())}function y(a,b){return b in a&&a[b].length>0}function z(a){return e.metaKeyPressed(a)&&86==a.keyCode||a.shiftKey&&45==a.keyCode}function A(){function a(a,b,c,d){var e,h;return y(a,"text/html")?e=a["text/html"]:(e=F.getHtml(),d=d?d:f.isMarked(e),F.isDefaultContent(e)&&(c=!0)),e=k.trimHtml(e),F.remove(),h=d===!1&&g.isPlainText(e),e.length&&!h||(c=!0),c&&(e=y(a,"text/plain")&&h?a["text/plain"]:k.innerText(e)),F.isDefaultContent(e)?void(b||l.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(c?n(e):m(e,d))}function d(a){var b=a["text/plain"];return!!b&&0===b.indexOf("file://")}l.on("keydown",function(a){function c(a){z(a)&&!a.isDefaultPrevented()&&F.remove()}if(z(a)&&!a.isDefaultPrevented()){if(B=a.shiftKey&&86==a.keyCode,B&&b.webkit&&navigator.userAgent.indexOf("Version/")!=-1)return;if(a.stopImmediatePropagation(),D=(new Date).getTime(),b.ie&&B)return a.preventDefault(),void l.fire("paste",{ieFake:!0});F.remove(),F.create(),l.once("keyup",c),l.once("paste",function(){l.off("keyup",c)})}});var e=function(){return F.getLastRng()||l.selection.getRng()};l.on("paste",function(d){var g=(new Date).getTime(),h=p(d),i=(new Date).getTime()-g,j=(new Date).getTime()-D-i<1e3,k="text"==C.pasteFormat||B,m=y(h,f.internalHtmlMime());return B=!1,d.isDefaultPrevented()||w(d)?void F.remove():!q(h)&&v(d,e())?void F.remove():(j||d.preventDefault(),!b.ie||j&&!d.ieFake||y(h,"text/html")||(F.create(),l.dom.bind(F.getEl(),"paste",function(a){a.stopPropagation()}),l.getDoc().execCommand("Paste",!1,null),h["text/html"]=F.getHtml()),void(y(h,"text/html")?(d.preventDefault(),m||(m=f.isMarked(h["text/html"])),a(h,j,k,m)):c.setEditorTimeout(l,function(){a(h,j,k,m)},0)))}),l.on("dragstart dragend",function(a){E="dragstart"==a.type}),l.on("drop",function(a){var b,e;if(e=x(a),!a.isDefaultPrevented()&&!E){b=o(a.dataTransfer);var g=y(b,f.internalHtmlMime());if((q(b)&&!d(b)||!v(a,e))&&e&&l.settings.paste_filter_drop!==!1){var h=b["mce-internal"]||b["text/html"]||b["text/plain"];h&&(a.preventDefault(),c.setEditorTimeout(l,function(){l.undoManager.transact(function(){b["mce-internal"]&&l.execCommand("Delete"),l.selection.setRng(e),h=k.trimHtml(h),b["text/html"]?m(h,g):n(h)})}))}}}),l.on("dragover dragend",function(a){l.settings.paste_data_images&&a.preventDefault()})}var B,C=this,D=0,E=!1,F=new h(l),G="data:text/mce-internal,",H=k.createIdGenerator("mceclip");C.pasteHtml=m,C.pasteText=n,C.pasteImageData=v,l.on("preInit",function(){A(),l.parser.addNodeFilter("img",function(a,c,d){function e(a){return a.data&&a.data.paste===!0}function f(a){a.attr("data-mce-object")||j===b.transparentSrc||a.remove()}function g(a){return 0===a.indexOf("webkit-fake-url")}function h(a){return 0===a.indexOf("data:")}if(!l.settings.paste_data_images&&e(d))for(var i=a.length;i--;){var j=a[i].attributes.map.src;j&&(g(j)?f(a[i]):!l.settings.allow_html_data_urls&&h(j)&&f(a[i]))}})})}}),g("4",["8","c","h"],function(a,b,c){var d=function(){},e=function(b){return a.iOS===!1&&void 0!==b&&"function"==typeof b.setData&&c.isMsEdge()!==!0},f=function(a,c,d){if(!e(a))return!1;try{return a.clearData(),a.setData("text/html",c),a.setData("text/plain",d),a.setData(b.internalHtmlMime(),c),!0}catch(a){return!1}},g=function(a,b,c,d){f(a.clipboardData,b.html,b.text)?(a.preventDefault(),d()):c(b.html,d)},h=function(a){return function(c,d){var e=b.mark(c),f=a.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),g=a.dom.create("div",{contenteditable:"true"},e);a.dom.setStyles(f,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(g),a.dom.add(a.getBody(),f);var h=a.selection.getRng();g.focus();var i=a.dom.createRng();i.selectNodeContents(g),a.selection.setRng(i),setTimeout(function(){f.parentNode.removeChild(f),a.selection.setRng(h),d()},0)}},i=function(a){return{html:a.selection.getContent({contextual:!0}),text:a.selection.getContent({format:"text"})}},j=function(a){return function(b){a.selection.isCollapsed()===!1&&g(b,i(a),h(a),function(){setTimeout(function(){a.execCommand("Delete")},0)})}},k=function(a){return function(b){a.selection.isCollapsed()===!1&&g(b,i(a),h(a),d)}},l=function(a){a.on("cut",j(a)),a.on("copy",k(a))};return{register:l}}),g("5",["8","a","i","h"],function(a,b,c,d){function e(a,b){a.on("PastePreProcess",function(c){c.content=b(a,c.content,c.internal,c.wordContent)})}function f(a,b){a.on("PastePostProcess",function(c){b(a,c.node)})}function g(a,e){if(!c.isWordContent(e))return e;var f=[];b.each(a.schema.getBlockElements(),function(a,b){f.push(b)});var g=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+f.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=d.filter(e,[[g,"$1"]]),e=d.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function h(a,b,c,d){if(d||c)return b;var e=a.settings.paste_webkit_styles;if(a.settings.paste_remove_styles_if_webkit===!1||"all"==e)return b;if(e&&(e=e.split(/[, ]/)),e){var f=a.dom,g=a.selection.getNode();b=b.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(a,b,c,d){var h=f.parseStyle(f.decode(c),"span"),i={};if("none"===e)return b+d;for(var j=0;j<e.length;j++){var k=h[e[j]],l=f.getStyle(g,e[j],!0);/color/.test(e[j])&&(k=f.toHex(k),l=f.toHex(l)),l!=k&&(i[e[j]]=k)}return i=f.serializeStyle(i,"span"),i?b+' style="'+i+'"'+d:b+d})}else b=b.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return b=b.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(a,b,c,d){return b+' style="'+c+'"'+d})}function i(a,b){a.$("a",b).find("font,u").each(function(b,c){a.dom.remove(c,!0)})}var j=function(b){a.webkit&&e(b,h),a.ie&&(e(b,g),f(b,i))};return{setup:j}}),g("0",["1","2","3","4","5"],function(a,b,c,d,e){var f;return a.add("paste",function(g){function h(){return f||g.settings.paste_plaintext_inform===!1}function i(){if("text"==k.pasteFormat)k.pasteFormat="html",b.firePastePlainTextToggle(g,!1);else if(k.pasteFormat="text",b.firePastePlainTextToggle(g,!0),!h()){var a=g.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");g.notificationManager.open({text:a,type:"info"}),f=!0}g.focus()}function j(){var a=this;a.active("text"===k.pasteFormat),g.on("PastePlainTextToggle",function(b){a.active(b.state)})}var k,l=this,m=g.settings;return/(^|[ ,])powerpaste([, ]|$)/.test(m.plugins)&&a.get("powerpaste")?void("undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")):(l.clipboard=k=new c(g),l.quirks=e.setup(g),g.settings.paste_as_text&&(l.clipboard.pasteFormat="text"),m.paste_preprocess&&g.on("PastePreProcess",function(a){m.paste_preprocess.call(l,l,a)}),m.paste_postprocess&&g.on("PastePostProcess",function(a){m.paste_postprocess.call(l,l,a)}),g.addCommand("mceInsertClipboardContent",function(a,b){b.content&&l.clipboard.pasteHtml(b.content,b.internal),b.text&&l.clipboard.pasteText(b.text)}),g.settings.paste_block_drop&&g.on("dragend dragover draggesture dragdrop drop drag",function(a){a.preventDefault(),a.stopPropagation()}),g.settings.paste_data_images||g.on("drop",function(a){var b=a.dataTransfer;b&&b.files&&b.files.length>0&&a.preventDefault()}),g.addCommand("mceTogglePlainTextPaste",i),g.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:i,onPostRender:j}),g.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:k.pasteFormat,onclick:i,onPostRender:j}),void d.register(g))}),function(){}}),d("0")()}();/*
 Copyright  2008 David Lippman.

 Plugin format based on code that is:
 @copyright Copyright  2004-2008, Moxiecode Systems AB, All rights reserved.
*/
(function(){tinymce.PluginManager.requireLangPack("asciimath");tinymce.create("tinymce.plugins.AsciimathPlugin",{init:function(b,c){var d=this;b.addCommand("mceAsciimath",function(a){null==d.lastAMnode?(existing=b.selection.getContent(),-1==existing.indexOf("class=AM")&&(existing=existing.replace(/<([^>]*)>/g,""),existing=existing.replace(/&(m|n)dash;/g,"-"),existing=existing.replace(/&?nbsp;?/g," "),existing=existing.replace(/&(.*?);/g,"$1"),a&&(existing=a),entity="<span class=AMedit>`"+existing+
'<span id="removeme"></span>`</span>&nbsp;',tinymce.isIE&&b.focus(),b.selection.setContent(entity),b.selection.setCursorLocation(b.dom.get("removeme"),0),b.dom.remove("removeme"),d.justinserted=!0,b.nodeChanged(),d.justinserted=null)):a&&b.selection.setContent(" "+a+" ")});b.addCommand("mceAsciimathDlg",function(){"undefined"==typeof AMTcgiloc&&(AMTcgiloc="");b.windowManager.open({title:"Math Symbols",file:c+"/amcharmap.htm",width:720,height:380,inline:1},{plugin_url:c,AMTcgiloc:AMTcgiloc})});b.on("KeyDown",
function(a){if(13==a.keyCode||35==a.keyCode||40==a.keyCode){if(a=b.dom.getParent(b.selection.getNode(),"span.AMedit"))b.selection.select(a),b.selection.collapse(!1)}else if(46==a.keyCode||8==a.keyCode)node=b.selection.getNode(),(a=b.dom.getParent(node,"span.AM"))&&a.parentNode.removeChild(a)});b.on("KeyPress",function(a){"`"==String.fromCharCode(a.charCode||a.keyCode)&&(null==d.lastAMnode&&(existing=b.selection.getContent(),-1==existing.indexOf("class=AM")&&(existing=existing.replace(/<([^>]*)>/g,
""),existing=existing.replace(/&(m|n)dash;/g,"-"),existing=existing.replace(/&?nbsp;?/g," "),existing=existing.replace(/&(.*?);/g,"$1"),entity='<span class="AMedit">`'+existing+'<span id="removeme"></span>`</span>&nbsp;',tinymce.isIE&&b.focus(),b.selection.setContent(entity),b.selection.setCursorLocation(b.dom.get("removeme"),0),b.dom.remove("removeme"),d.justinserted=!0,b.nodeChanged(),d.justinserted=null)),a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=
!1))});b.addButton("asciimath",{tooltip:"Add New Math",cmd:"mceAsciimath",icon:"mathadd"});b.addButton("asciimathcharmap",{tooltip:"Math Symbols",cmd:"mceAsciimathDlg",icon:"math"});b.on("PastePostProcess",function(a){AMtags=b.dom.select("span.AM",a.node);for(var c=0;c<AMtags.length;c++)d.math2ascii(AMtags[c]);MJtags=b.dom.select("span[data-asciimath]",a.node);for(c=0;c<MJtags.length;c++)d.mathjax2ascii(MJtags[c])});b.on("PreProcess",function(a){if(a.get){AMtags=b.dom.select("span.AM",a.node);for(var c=
0;c<AMtags.length;c++)d.math2ascii(AMtags[c]);AMtags=b.dom.select("span.AMedit",a.node);for(c=0;c<AMtags.length;c++)a=AMtags[c].innerHTML,a="`"+a.replace(/\`/g,"")+"`",AMtags[c].innerHTML=a,AMtags[c].className="AM"}});b.on("LoadContent",function(a){AMtags=b.dom.select("span.AM");for(a=0;a<AMtags.length;a++)d.nodeToAM(AMtags[a]);d.loaded=!0});b.on("SetContent",function(a){if(d.loaded)for(AMtags=b.dom.select("span.AM"),a=0;a<AMtags.length;a++)AMtags[a].innerHTML.match(/(math|img)/)||d.nodeToAM(AMtags[a])});
b.on("BeforeSetContent",function(a){a.content=a.content.replace(/(<span[^>]+AM.*?<\/span>)</,"$1 <")});b.on("BeforeExecCommand",function(a){if(null!=d.lastAMnode){if("Superscript"==a.command||"Subscript"==a.command||"Bold"==a.command||"Subscript"==a.command||"mceToggleFormat"==a.command){a.preventDefault();return}if("mceShowCharmap"==a.command){a.preventDefault();b.execCommand("mceAsciimathDlg");return}}if("mceAsciimath"!=a.command&&"mceAsciimathDlg"!=a.command)for(AMtags=b.dom.select("span.AM"),
a=0;a<AMtags.length;a++)d.math2ascii(AMtags[a])});b.on("ExecCommand",function(a){if("mceAsciimath"!=a.command&&"mceAsciimathDlg"!=a.command){AMtags=b.dom.select("span.AM");for(a=0;a<AMtags.length;a++)AMtags[a].innerHTML.match(/(math|img)/)||(AMtags[a].innerHTML=AMtags[a].title,d.nodeToAM(AMtags[a]));AMimgs=b.dom.select("img.AMimg");for(a=0;a<AMimgs.length;a++)d.imgwrap(b,AMimgs[a])}});b.on("NodeChange",function(a){var c=!0;p=d.testAMclass(a.element)?a.element:b.dom.getParent(a.element,d.testAMclass);
if(null!=p){if(d.lastAMnode!=p){d.math2ascii(p);p.className="AMedit";null!=d.lastAMnode&&(d.nodeToAM(d.lastAMnode),d.lastAMnode.className="AM");if(null==d.justinserted&&p.parentNode.innerHTML.match(/<span[^>]*class="AMedit"[^<]*?<\/span>(\s*<br>)?\s*$/)){for(;"span"!=p.parentNode.lastChild.nodeName.toLowerCase();)p.parentNode.removeChild(p.parentNode.lastChild);p.parentNode.appendChild(b.dom.doc.createTextNode("\u00a0"))}if(null==d.justinserted&&p.parentNode.innerHTML.match(/^\s*<span[^>]*class="AMedit"/)){for(;"span"!=
p.parentNode.firstChild.nodeName.toLowerCase();)p.parentNode.removeChild(p.parentNode.firstChild);p.parentNode.insertBefore(b.dom.doc.createTextNode("\u00a0"),p.parentNode.firstChild)}null==d.justinserted&&b.selection.setCursorLocation(p,0);d.lastAMnode=p}c=!1}c&&null!=d.lastAMnode&&(d.lastAMnode.innerHTML.match(/`(&nbsp;|\s|\u00a0|&#160;)*`/)||d.lastAMnode.innerHTML.match(/^(&nbsp;|\s|\u00a0|&#160;)*$/)?(p=d.lastAMnode.parentNode,p.removeChild(d.lastAMnode)):(d.nodeToAM(d.lastAMnode),d.lastAMnode.className=
"AM"),d.lastAMnode=null)});b.on("Deactivate",function(a){null!=d.lastAMnode&&(d.lastAMnode.innerHTML.match(/`(&nbsp;|\s)*`/)||d.lastAMnode.innerHTML.match(/^(&nbsp;|\s|\u00a0|&#160;)*$/)?(p=d.lastAMnode.parentNode,p.removeChild(d.lastAMnode)):(d.nodeToAM(d.lastAMnode),d.lastAMnode.className="AM"),d.lastAMnode=null)})},getInfo:function(){return{longname:"Asciimath plugin",author:"David Lippman",authorurl:"http://dlippman.imathas.com",infourl:"",version:"4.0"}},math2ascii:function(b){var c=b.innerHTML;
-1==c.indexOf("`")&&(""!=b.title&&-1==b.title.indexOf("math")&&-1==b.title.indexOf("img")?c=b.title:-1==c.indexOf("title")?(c=c.replace(/.+alt=\"(.*?)\".+/g,"$1"),c=c.replace(/.+alt=\'(.*?)\'.+/g,"$1"),c=c.replace(/.+alt=([^>]*?)\s.*>.*/g,"$1"),c=c.replace(/.+alt=(.*?)>.*/g,"$1")):(c=c.replace(/.+title=\"(.*?)\".+/g,"$1"),c=c.replace(/.+title=\'(.*?)\'.+/g,"$1"),c=c.replace(/.+title=([^>]*?)\s.*>.*/g,"$1"),c=c.replace(/.+title=(.*?)>.*/g,"$1")),c=c.replace(/<span[^>]*>(.*?)<\/span>/,"$1"),c=c.replace(/<br\s*\/>/,
" "),c=c.replace(/>/g,"&gt;"),c=c.replace(/</g,"&lt;"),c="`"+c.replace(/\`/g,"")+"`",b.innerHTML=c)},mathjax2ascii:function(b){for(var c=b.getAttribute("data-asciimath"),d=b.attributes,a=d.length;a--;)b.removeAttribute(d[a].name);b.className="AM";b.title=c;b.innerHTML="`"+c+"`"},nodeToAM:function(b){var c=b.innerHTML.replace(/\`/g,"");c=c.replace(/<span[^>]*>(.*?)<\/span>/,"$1").replace(/<br\s*\/>/," ");if(tinymce.isIE){var d=document.createElement("span");d.className="AM";d.appendChild(AMTparseMath(c));
b.innerHTML=d.innerHTML;b.title=c}else c="`"+c+"`",b.innerHTML=c,AMprocessNode(b),b.title=c.replace(/\`/g,"")},imgwrap:function(b,c){p=b.dom.getParent(c,this.testAMclass);if(null==p){var d=document.createElement("span");d.className="AM";var a=c.parentNode.replaceChild(d,c);d.appendChild(a);p=d}},lastAMnode:null,loaded:!1,preventAMrender:!1,testAMclass:function(b){return"AM"==b.className||"AMedit"==b.className?!0:!1}});tinymce.PluginManager.add("asciimath",tinymce.plugins.AsciimathPlugin)})();
/*
 Copyright  2008 David Lippman.

 Plugin format based on code that is:
 @copyright Copyright  2004-2008, Moxiecode Systems AB, All rights reserved.
*/
(function(){tinymce.PluginManager.requireLangPack("asciisvg");tinymce.create("tinymce.plugins.AsciisvgPlugin",{init:function(a,d){var e=this;a.addCommand("mceAsciisvg",function(){el=a.selection.getNode();"IMG"!=el.nodeName||""==a.dom.getAttrib(el,"sscr")&&!a.dom.getAttrib(el,"src").match(/sscr=/)?(isnew=!0,sscr="-7.5,7.5,-5,5,1,1,1,1,1,300,200",elwidth=300,elheight=200,alignm="middle"):(sscr=a.dom.getAttrib(el,"sscr"),""==sscr&&(sscr=a.dom.getAttrib(el,"src"),sscr=decodeURIComponent(sscr.replace(/.*sscr=(.*)/,
"$1"))),isnew=!1,elwidth=parseInt(a.dom.getStyle(el,"width")),elheight=parseInt(a.dom.getStyle(el,"height")),alignm=a.dom.getStyle(el,"float"),"none"==alignm&&(alignm=a.dom.getStyle(el,"vertical-align")));a.windowManager.open({title:"Graph Editor",file:d+"/asciisvgdlg.htm",width:670,height:460,inline:1},{plugin_url:d,isnew:isnew,sscr:sscr,width:elwidth,height:elheight,alignm:alignm,AScgiloc:a.getParam("AScgiloc")})});a.addButton("asciisvg",{tooltip:"Add/Edit Graph",cmd:"mceAsciisvg",icon:"graph",
stateSelector:"img[data-asciisvg]"});a.on("PostProcess",function(a){if(a.get){var b=a.content.match(/<img[^>]*sscr[^>]*>/gi);if(null!=b)for(var c=0;c<b.length;c++)sscr=b[c].match(/sscr=\"/)?b[c].replace(/.*sscr=\"(.*?)\".*/,"$1"):b[c].replace(/.*sscr=(.*?)(\s|\").*/,"$1"),style=b[c].match(/style=\"/)?b[c].replace(/.*style=\"(.*?)\".*/,"$1"):"",rep='<embed type="image/svg+xml" style="'+style+'" sscr="'+decodeURIComponent(sscr)+'" />',a.content=a.content.replace(b[c],rep)}});a.on("BeforeSetContent",
function(d){var b=d.content.match(/<embed[^>]*sscr[^>]*>/gi);if(null!=b)for(var c=0;c<b.length;c++)sscr=b[c].match(/sscr=\"/)?b[c].replace(/.*sscr=\"(.*?)\".*/,"$1"):b[c].replace(/.*sscr=(.*?)\s.*/,"$1"),style=b[c].match(/style=\"/)?b[c].replace(/.*style=\"(.*?)\".*/,"$1"):"",rep='<img src="'+a.getParam("AScgiloc")+"?sscr="+encodeURIComponent(sscr)+'" style="'+style+'" data-sscr="'+decodeURIComponent(sscr)+'" data-asciisvg="1" data-mce-placeholder="1"/>',d.content=d.content.replace(b[c],rep)});a.on("ObjectResized",
function(d){var b=d.target;"IMG"==b.nodeName&&""!=a.dom.getAttrib(b,"data-sscr")&&setTimeout(function(){e.processresize(a,b)},50)})},getInfo:function(){return{longname:"Asciisvg plugin",author:"David Lippman",authorurl:"http://dlippman.imathas.com",infourl:"",version:"4.3"}},processresize:function(a,d){width=parseInt(d.style.width);height=parseInt(d.style.height);0<width&&0<height&&(sscra=decodeURIComponent(d.getAttribute("data-sscr")).split(","),sscra[9]=width,sscra[10]=height,sscr=sscra.join(","),
a.dom.setAttrib(d,"data-sscr",sscr),a.dom.setAttrib(d,"src",a.getParam("AScgiloc")+"?sscr="+encodeURIComponent(sscr)),a.dom.setStyle(d,"width",width+"px"),a.dom.setStyle(d,"height",height+"px"))}});tinymce.PluginManager.add("asciisvg",tinymce.plugins.AsciisvgPlugin)})();
tinymce.PluginManager.add("rollups",function(a,c){a.addButton("myEdit",{type:"menubutton",text:"Edit",icon:!1,menu:[a.menuItems.undo,a.menuItems.Redo,{text:"-"},a.menuItems.cut,a.menuItems.copy,a.menuItems.paste,a.menuItems.pastetext,,{text:"-"},a.menuItems.selectall,{text:"-"},a.menuItems.searchreplace]});a.addButton("myInsert",{type:"menubutton",text:"Insert",icon:!1,menu:[a.menuItems.media,a.menuItems.link,a.menuItems.image,a.menuItems.attach,a.menuItems.snippet,{text:"-"},a.menuItems.charmap,
a.menuItems.anchor,{icon:"hr",text:"Horizontal line",onclick:function(){a.execCommand("mceInsertContent",!1,"<hr />")}}]});var b=a.buttons.styleselect;b&&b.menu.items.push(a.menuItems.removeformat)});
!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("3",tinymce.util.Tools.resolve),g("1",["3"],function(a){return a("tinymce.PluginManager")}),g("2",["3"],function(a){return a("tinymce.util.Color")}),g("0",["1","2"],function(a,b){return a.add("colorpicker",function(a){function c(c,d){function e(a){var c=new b(a),d=c.toRgb();g.fromJSON({r:d.r,g:d.g,b:d.b,hex:c.toHex().substr(1)}),f(c.toHex())}function f(a){g.find("#preview")[0].getEl().style.background=a}var g=a.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:d,onchange:function(){var a=this.rgb();g&&(g.find("#r").value(a.r),g.find("#g").value(a.g),g.find("#b").value(a.b),g.find("#hex").value(this.value().substr(1)),f(this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var a,b,c=g.find("colorpicker")[0];return a=this.name(),b=this.value(),"hex"==a?(b="#"+b,e(b),void c.value(b)):(b={r:g.find("#r").value(),g:g.find("#g").value(),b:g.find("#b").value()},c.value(b),void e(b))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){c("#"+this.toJSON().hex)}});e(d)}a.settings.color_picker_callback||(a.settings.color_picker_callback=c)}),function(){}}),d("0")()}();(function(){var k={},e=function(a,c,b){if("string"!==typeof a)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+a;if(void 0===b)throw"no definition function for "+a;k[a]={deps:c,defn:b,instance:void 0}},q=function(a){var c=k[a];if(void 0===c)throw"module ["+a+"] was undefined";if(void 0===c.instance){for(var b=k[a],d=b.deps,f=b.defn,p=d.length,h=Array(p),l=0;l<p;++l)h[l]=q(d[l]);d=f.apply(null,h);if(void 0===d)throw"module ["+a+"] returned undefined";b.instance=d}return c.instance},
n=function(a,c){e(a,[],function(){return c})};n("global!Array",Array);n("global!Error",Error);e("ephox.katamari.api.Fun",["global!Array","global!Error"],function(a,c){var b=function(a){return function(){return a}},d=b(!1),f=b(!0);return{noop:function(){},compose:function(a,b){return function(){return a(b.apply(null,arguments))}},constant:b,identity:function(a){return a},tripleEquals:function(a,b){return a===b},curry:function(b){for(var f=new a(arguments.length-1),c=1;c<arguments.length;c++)f[c-1]=
arguments[c];return function(){for(var g=new a(arguments.length),c=0;c<g.length;c++)g[c]=arguments[c];g=f.concat(g);return b.apply(null,g)}},not:function(a){return function(){return!a.apply(null,arguments)}},die:function(a){return function(){throw new c(a);}},apply:function(a){return a()},call:function(a){a()},never:d,always:f}});n("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve);e("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.dom.DOMUtils")});
e("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.PluginManager")});e("tinymce.core.util.JSON",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.JSON")});e("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.Tools")});e("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(a){return a("tinymce.util.XHR")});e("tinymce.plugins.snippet.core.Snippets",["tinymce.core.util.Tools",
"tinymce.core.util.XHR"],function(a,c){return{createSnippetList:function(a,d){return function(){var b=a.snippets;"function"==typeof b?b(d):"string"==typeof b?c.send({url:b,success:function(a){d(JSON.parse(a))}}):d(b)}},insertSnippet:function(a,c,f){a.selection.getContent();a.execCommand("mceInsertContent",!1,f);a.addVisual()}}});e("tinymce.plugins.snippet.Plugin","ephox.katamari.api.Fun tinymce.core.dom.DOMUtils tinymce.core.PluginManager tinymce.core.util.JSON tinymce.core.util.Tools tinymce.core.util.XHR tinymce.plugins.snippet.core.Snippets".split(" "),
function(a,c,b,d,f,e,h){var l=function(a,c,b){if(-1==b.indexOf("<html>")){var g="";f.each(a.contentCSS,function(c){g+='<link type="text/css" rel="stylesheet" href="'+a.documentBaseURI.toAbsolute(c)+'">'});var d=a.settings.body_class||"";-1!=d.indexOf("=")&&(d=a.getParam("body_class","","hash"),d=d[a.id]||"");b="<!DOCTYPE html><html><head>"+g+'</head><body class="'+d+'">'+b+"</body></html>"}c=c.find("iframe")[0].getEl().contentWindow.document;c.open();c.write(b);c.close()};b.add("snippet",function(b){function d(a){var d=
[],e=[],g,m;if(a&&0!==a.length){f.each(a,function(a){d.push({selected:!d.length,text:a.text,value:{items:a.items}})});f.each(a[0].items,function(a){e.push({selected:!e.length,text:a.text,value:{content:a.content}})});var k=b.windowManager.open({title:"Insert Prewritten Snippet",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Group",items:{type:"listbox",label:"Group",name:"snippetgroup",values:d,onselect:function(a){a=
a.control.value();var b=[];f.each(a.items,function(a){b.push({text:a.text,value:{content:a.content}})});m.menu=null;m.state.data.menu=m.settings.values=b;m.value(b[0].value);k.find("listbox")[1].fire("select")}}},{type:"container",label:"Snippets",items:{type:"listbox",id:"snippet",label:"Snippets",name:"snippet",values:e,onselect:function(a){a=a.control.value();a.content&&(g=a.content,l(b,k,g))},onPostRender:function(){m=this}}}]},{type:"iframe",flex:1,border:1}],buttons:[{text:"Add / Edit Snippets",
onclick:function(){window.open(imasroot+"/course/editsnippets.php","_blank");tinymce.activeEditor.windowManager.close()}},{type:"spacer",flex:1},{text:"Insert",subtype:"primary",onclick:function(){h.insertSnippet(b,!1,g);tinymce.activeEditor.windowManager.close()}},{text:"Cancel",onclick:function(){tinymce.activeEditor.windowManager.close()}}],onsubmit:function(){h.insertSnippet(b,!1,g)},minWidth:Math.min(c.DOM.getViewPort().w,b.getParam("snippet_popup_width",600)),minHeight:Math.min(c.DOM.getViewPort().h,
b.getParam("snippet_popup_height",500))});k.find("listbox")[0].fire("select")}else a=b.translate("No Snippets defined."),a+='<br><a href="'+imasroot+'/course/editsnippets.php" target="_blank">',a+=b.translate("Create some")+"</a>",b.notificationManager.open({text:a,type:"info"})}b.addCommand("mceInsertSnippet",a.curry(h.insertSnippet,b));"undefined"!=typeof b.settings.snippets&&!1!==b.settings.snippets&&(b.addButton("snippet",{title:"Insert Prewritten Snippet",onclick:h.createSnippetList(b.settings,
d)}),b.addMenuItem("snippet",{text:"Prewritten Snippet",onclick:h.createSnippetList(b.settings,d),context:"insert",icon:"snippet"}))});return function(){}});q("tinymce.plugins.snippet.Plugin")()})();
!function(){var a={},b=function(b){for(var c=a[b],e=c.deps,f=c.defn,g=e.length,h=new Array(g),i=0;i<g;++i)h[i]=d(e[i]);var j=f.apply(null,h);if(void 0===j)throw"module ["+b+"] returned undefined";c.instance=j},c=function(b,c,d){if("string"!=typeof b)throw"module id must be a string";if(void 0===c)throw"no dependencies for "+b;if(void 0===d)throw"no definition function for "+b;a[b]={deps:c,defn:d,instance:void 0}},d=function(c){var d=a[c];if(void 0===d)throw"module ["+c+"] was undefined";return void 0===d.instance&&b(c),d.instance},e=function(a,b){for(var c=a.length,e=new Array(c),f=0;f<c;++f)e.push(d(a[f]));b.apply(null,b)},f={};f.bolt={module:{api:{define:c,require:e,demand:d}}};var g=c,h=function(a,b){g(a,[],function(){return b})};h("1",window),h("a",tinymce.util.Tools.resolve),g("2",["a"],function(a){return a("tinymce.AddOnManager")}),g("3",["a"],function(a){return a("tinymce.EditorManager")}),g("4",["a"],function(a){return a("tinymce.Env")}),g("5",["a"],function(a){return a("tinymce.ui.Api")}),g("b",["a"],function(a){return a("tinymce.dom.DOMUtils")}),g("c",["a"],function(a){return a("tinymce.ui.Factory")}),g("d",["a"],function(a){return a("tinymce.util.Tools")}),g("e",[],function(){var a=function(a,b){return function(){var c=a.find(b)[0];c&&c.focus(!0)}},b=function(b,c){b.shortcuts.add("Alt+F9","",a(c,"menubar")),b.shortcuts.add("Alt+F10,F10","",a(c,"toolbar")),b.shortcuts.add("Alt+F11","",a(c,"elementpath")),c.on("cancel",function(){b.focus()})};return{addKeys:b}}),g("f",["b"],function(a){var b=a.DOM,c=function(a,c,d){return function(){var e=a.getContentAreaContainer().querySelector("iframe").offsetWidth,f=Math.max(e-a.getDoc().documentElement.offsetWidth,0);b.setStyle(c,"right",f+"px"),d?b.setStyle(c,"top","-16px"):b.setStyle(c,"bottom","1px")}},d=function(a){return function(){b.hide(a)}},e=function(a,b,d){c(a,b,d)(),a.on("NodeChange ResizeEditor",c(a,b,d))},f=function(a,b,c){c.appendChild(b),e(a,b,!0)},g=function(a,b){a.getContainer().appendChild(b),e(a,b,!1)},h=function(a){a.on("SkinLoaded",function(){var c=b.create("div",{"class":"mce-branding-powered-by"}),e=a.getContainer().querySelector(".mce-statusbar");e?f(a,c,e):g(a,c),b.bind(c,"click",d(c))})},i=function(a){a.settings.branding!==!1&&h(a)};return{setup:i}}),g("n",["a"],function(a){return a("tinymce.util.Delay")}),g("o",["a"],function(a){return a("tinymce.geom.Rect")}),g("k",["d","c"],function(a,b){var c="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",d=function(c,d,e){var f,g=[];if(d)return a.each(d.split(/[ ,]/),function(a){var d,h=function(){var b=c.selection;a.settings.stateSelector&&b.selectorChanged(a.settings.stateSelector,function(b){a.active(b)},!0),a.settings.disabledStateSelector&&b.selectorChanged(a.settings.disabledStateSelector,function(b){a.disabled(b)})};"|"==a?f=null:(f||(f={type:"buttongroup",items:[]},g.push(f)),c.buttons[a]&&(d=a,a=c.buttons[d],"function"==typeof a&&(a=a()),a.type=a.type||"button",a.size=e,a=b.create(a),f.items.push(a),c.initialized?h():c.on("init",h)))}),{type:"toolbar",layout:"flow",items:g}},e=function(b,e){var f=[],g=b.settings,h=function(a){if(a)return f.push(d(b,a,e)),!0};if(a.isArray(g.toolbar)){if(0===g.toolbar.length)return;a.each(g.toolbar,function(a,b){g["toolbar"+(b+1)]=a}),delete g.toolbar}for(var i=1;i<10&&h(g["toolbar"+i]);i++);if(f.length||g.toolbar===!1||h(g.toolbar||c),f.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:f}};return{createToolbar:d,createToolbars:e}}),g("g",["b","d","n","c","o","k"],function(a,b,c,d,e,f){var g=a.DOM,h=function(a){return{left:a.x,top:a.y,width:a.w,height:a.h,right:a.x+a.w,bottom:a.y+a.h}},i=function(a){b.each(a.contextToolbars,function(a){a.panel&&a.panel.hide()})},j=function(a,b){a.moveTo(b.left,b.top)},k=function(a,c,d){c=c?c.substr(0,2):"",b.each({t:"down",b:"up"},function(b,e){a.classes.toggle("arrow-"+b,d(e,c.substr(0,1)))}),b.each({l:"left",r:"right"},function(b,e){a.classes.toggle("arrow-"+b,d(e,c.substr(1,1)))})},l=function(a,b,c,d,e,f){return f=h({x:b,y:c,w:f.w,h:f.h}),a&&(f=a({elementRect:h(d),contentAreaRect:h(e),panelRect:f})),f},m=function(a){var h,m=a.settings,n=function(){return a.contextToolbars||[]},o=function(b){var c,d,e;return c=g.getPos(a.getContentAreaContainer()),d=a.dom.getRect(b),e=a.dom.getRoot(),"BODY"===e.nodeName&&(d.x-=e.ownerDocument.documentElement.scrollLeft||e.scrollLeft,d.y-=e.ownerDocument.documentElement.scrollTop||e.scrollTop),d.x+=c.x,d.y+=c.y,d},p=function(b,c){var d,f,h,n,p,q,r,s,t=m.inline_toolbar_position_handler;if(!a.removed){if(!b||!b.toolbar.panel)return void i(a);r=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],p=b.toolbar.panel,c&&p.show(),h=o(b.element),f=g.getRect(p.getEl()),n=g.getRect(a.getContentAreaContainer()||a.getBody()),s=25,"inline"!==g.getStyle(b.element,"display",!0)&&(h.w=b.element.clientWidth,h.h=b.element.clientHeight),a.inline||(n.w=a.getDoc().documentElement.offsetWidth),a.selection.controlSelection.isResizable(b.element)&&h.w<s&&(h=e.inflate(h,0,8)),d=e.findBestRelativePosition(f,h,n,r),h=e.clamp(h,n),d?(q=e.relativePosition(f,h,d),j(p,l(t,q.x,q.y,h,n,f))):(n.h+=f.h,h=e.intersect(n,h),h?(d=e.findBestRelativePosition(f,h,n,["bc-tc","bl-tl","br-tr"]),d?(q=e.relativePosition(f,h,d),j(p,l(t,q.x,q.y,h,n,f))):j(p,l(t,h.x,h.y,h,n,f))):p.hide()),k(p,d,function(a,b){return a===b})}},q=function(b){return function(){var d=function(){a.selection&&p(u(a.selection.getNode()),b)};c.requestAnimationFrame(d)}},r=function(){h||(h=a.selection.getScrollContainer()||a.getWin(),g.bind(h,"scroll",q(!0)),a.on("remove",function(){g.unbind(h,"scroll")}))},s=function(b){var c;return b.toolbar.panel?(b.toolbar.panel.show(),void p(b)):(r(),c=d.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:f.createToolbar(a,b.toolbar.items),oncancel:function(){a.focus()}}),b.toolbar.panel=c,c.renderTo(document.body).reflow(),void p(b))},t=function(){b.each(n(),function(a){a.panel&&a.panel.hide()})},u=function(b){var c,d,e,f=n();for(e=a.$(b).parents().add(b),c=e.length-1;c>=0;c--)for(d=f.length-1;d>=0;d--)if(f[d].predicate(e[c]))return{toolbar:f[d],element:e[c]};return null};a.on("click keyup setContent ObjectResized",function(b){("setcontent"!==b.type||b.selection)&&c.setEditorTimeout(a,function(){var b;b=u(a.selection.getNode()),b?(t(),s(b)):t()})}),a.on("blur hide contextmenu",t),a.on("ObjectResizeStart",function(){var b=u(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.hide()}),a.on("ResizeEditor ResizeWindow",q(!0)),a.on("nodeChange",q(!1)),a.on("remove",function(){b.each(n(),function(a){a.panel&&a.panel.remove()}),a.contextToolbars={}}),a.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var b=u(a.selection.getNode());b&&b.toolbar.panel&&b.toolbar.panel.items()[0].focus()})};return{addContextualToolbars:m}}),g("h",["d"],function(a){var b={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},c=function(a,b){var c;return"|"==b?{text:"|"}:c=a[b]},d=function(d,e,f){var g,h,i,j,k;if(k=a.makeMap((e.removed_menuitems||"").split(/[ ,]/)),e.menu?(h=e.menu[f],j=!0):h=b[f],h){g={text:h.title},i=[],a.each((h.items||"").split(/[ ,]/),function(a){var b=c(d,a);b&&!k[a]&&i.push(c(d,a))}),j||a.each(d,function(a){a.context==f&&("before"==a.separator&&i.push({text:"|"}),a.prependToContext?i.unshift(a):i.push(a),"after"==a.separator&&i.push({text:"|"}))});for(var l=0;l<i.length;l++)"|"==i[l].text&&(0!==l&&l!=i.length-1||i.splice(l,1));if(g.menu=i,!g.menu.length)return null}return g},e=function(a){var c,e=[],f=a.settings,g=[];if(f.menu)for(c in f.menu)g.push(c);else for(c in b)g.push(c);for(var h="string"==typeof f.menubar?f.menubar.split(/[ ,]/):g,i=0;i<h.length;i++){var j=h[i];j=d(a.menuItems,a.settings,j),j&&e.push(j)}return e};return{createMenuButtons:e}}),g("9",["b"],function(a){var b=a.DOM,c=function(a){return{width:a.clientWidth,height:a.clientHeight}},d=function(a,d,e){var f,g,h,i,j=a.settings;f=a.getContainer(),g=a.getContentAreaContainer().firstChild,h=c(f),i=c(g),null!==d&&(d=Math.max(j.min_width||100,d),d=Math.min(j.max_width||65535,d),b.setStyle(f,"width",d+(h.width-i.width)),b.setStyle(g,"width",d)),e=Math.max(j.min_height||100,e),e=Math.min(j.max_height||65535,e),b.setStyle(g,"height",e),a.fire("ResizeEditor")},e=function(a,b,c){var e=a.getContentAreaContainer();d(a,e.clientWidth+b,e.clientHeight+c)};return{resizeTo:d,resizeBy:e}}),g("i",["d","c","4"],function(a,b,c){var d=function(a){return{element:function(){return a}}},e=function(a,b,c){var e=a.settings[c];e&&e(d(b.getEl("body")))},f=function(b,c,d){a.each(d,function(a){var d=c.items().filter("#"+a.name)[0];d&&d.visible()&&a.name!==b&&(e(a,d,"onhide"),d.visible(!1))})},g=function(a){a.items().each(function(a){a.active(!1)})},h=function(b,c){return a.grep(b,function(a){return a.name===c})[0]},i=function(a,c,d){return function(i){var j=i.control,k=j.parents().filter("panel")[0],l=k.find("#"+c)[0],m=h(d,c);f(c,k,d),g(j.parent()),l&&l.visible()?(e(m,l,"onhide"),l.hide(),j.active(!1)):(l?(l.show(),e(m,l,"onshow")):(l=b.create({type:"container",name:c,layout:"stack",classes:"sidebar-panel",html:""}),k.prepend(l),e(m,l,"onrender"),e(m,l,"onshow")),j.active(!0)),a.fire("ResizeEditor")}},j=function(){return!c.ie||c.ie>=11},k=function(a){return!(!j()||!a.sidebars)&&a.sidebars.length>0},l=function(b){var c=a.map(b.sidebars,function(a){var c=a.settings;return{type:"button",icon:c.icon,image:c.image,tooltip:c.tooltip,onclick:i(b,a.name,b.sidebars)}});return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:c}]}};return{hasSidebar:k,createSidebar:l}}),g("j",[],function(){var a=function(a){var b=function(){a._skinLoaded=!0,a.fire("SkinLoaded")};return function(){a.initialized?b():a.on("init",b)}};return{fireSkinLoaded:a}}),g("6",["b","c","d","e","f","g","h","9","i","j","k"],function(a,b,c,d,e,f,g,h,i,j,k){var l=a.DOM,m=function(a){return function(b){a.find("*").disabled("readonly"===b.mode)}},n=function(a){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:a,html:""}},o=function(a){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[n("0"),i.createSidebar(a)]}},p=function(a,c,p){var q,r,s,t=a.settings;return p.skinUiCss&&l.styleSheetLoader.load(p.skinUiCss,j.fireSkinLoaded(a)),q=c.panel=b.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[t.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:g.createMenuButtons(a)},k.createToolbars(a,t.toolbar_items_size),i.hasSidebar(a)?o(a):n("1 0 0 0")]}),t.resize!==!1&&(r={type:"resizehandle",direction:t.resize,onResizeStart:function(){var b=a.getContentAreaContainer().firstChild;s={width:b.clientWidth,height:b.clientHeight}},onResize:function(b){"both"===t.resize?h.resizeTo(a,s.width+b.deltaX,s.height+b.deltaY):h.resizeTo(a,null,s.height+b.deltaY)}}),t.statusbar!==!1&&q.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:a},r]}),a.fire("BeforeRenderUI"),a.on("SwitchMode",m(q)),q.renderBefore(p.targetNode).reflow(),t.readonly&&a.setMode("readonly"),p.width&&l.setStyle(q.getEl(),"width",p.width),a.on("remove",function(){q.remove(),q=null}),d.addKeys(a,q),f.addContextualToolbars(a),e.setup(a),{iframeContainer:q.find("#iframe")[0].getEl(),editorContainer:q.getEl()}};return{render:p}}),g("l",["a"],function(a){return a("tinymce.ui.FloatPanel")}),g("7",["d","c","b","l","k","h","g","e","j"],function(a,b,c,d,e,f,g,h,i){var j=function(a,j,k){var l,m,n=a.settings,o=c.DOM;n.fixed_toolbar_container&&(m=o.select(n.fixed_toolbar_container)[0]);var p=function(){if(l&&l.moveRel&&l.visible()&&!l._fixed){var b=a.selection.getScrollContainer(),c=a.getBody(),d=0,e=0;if(b){var f=o.getPos(c),g=o.getPos(b);d=Math.max(0,g.x-f.x),e=Math.max(0,g.y-f.y)}l.fixed(!1).moveRel(c,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(d,e)}},q=function(){l&&(l.show(),p(),o.addClass(a.getBody(),"mce-edit-focus"))},r=function(){l&&(l.hide(),d.hideAll(),o.removeClass(a.getBody(),"mce-edit-focus"))},s=function(){return l?void(l.visible()||q()):(l=j.panel=b.create({type:m?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!m,border:1,items:[n.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:f.createMenuButtons(a)},e.createToolbars(a,n.toolbar_items_size)]}),a.fire("BeforeRenderUI"),l.renderTo(m||document.body).reflow(),h.addKeys(a,l),q(),g.addContextualToolbars(a),a.on("nodeChange",p),a.on("activate",q),a.on("deactivate",r),void a.nodeChanged())};return n.content_editable=!0,a.on("focus",function(){k.skinUiCss?o.styleSheetLoader.load(k.skinUiCss,s,s):s()}),a.on("blur hide",r),a.on("remove",function(){l&&(l.remove(),l=null)}),k.skinUiCss&&o.styleSheetLoader.load(k.skinUiCss,i.fireSkinLoaded(a)),{}};return{render:j}}),g("m",["a"],function(a){return a("tinymce.ui.Throbber")}),g("8",["m"],function(a){var b=function(b,c){var d;b.on("ProgressState",function(b){d=d||new a(c.panel.getEl("body")),b.state?d.show(b.time):d.hide()})};return{setup:b}}),g("0",["1","2","3","4","5","6","7","8","9"],function(a,b,c,d,e,f,g,h,i){var j=b.ThemeManager;e.appendTo(a.tinymce?a.tinymce:{});var k=function(a,b,d){var e=a.settings,i=e.skin!==!1&&(e.skin||"lightgray");if(i){var j=e.skin_url;j=j?a.documentBaseURI.toAbsolute(j):c.baseURL+"/skins/"+i,d.skinUiCss=j+"/skin.min.css",a.contentCSS.push(j+"/content"+(a.inline?".inline":"")+".min.css")}return h.setup(a,b),e.inline?g.render(a,b,d):f.render(a,b,d)};return j.add("modern",function(a){return{renderUI:function(b){return k(a,this,b)},resizeTo:function(b,c){return i.resizeTo(a,b,c)},resizeBy:function(b,c){return i.resizeBy(a,b,c)}}}),function(){}}),d("0")()}();tinymce.each("tinymce,plugins/lists/plugin,plugins/advlist/plugin,plugins/attach/plugin,plugins/autolink/plugin,plugins/image/plugin,plugins/charmap/plugin,plugins/anchor/plugin,plugins/searchreplace/plugin,plugins/code/plugin,plugins/link/plugin,plugins/textcolor/plugin,plugins/media/plugin,plugins/table/plugin,plugins/paste/plugin,plugins/asciimath/plugin,plugins/asciisvg/plugin,plugins/rollups/plugin,plugins/colorpicker/plugin,plugins/snippet/plugin,themes/modern/theme".split(","),function(f){tinymce.ScriptLoader.markDone(tinyMCE.baseURL+"/"+f+".js");});